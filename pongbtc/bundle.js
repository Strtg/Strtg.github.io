!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=199)}([function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.7.0",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var n=r(0);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(4);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(5);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return z(o).default}});var s=r(30);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return z(s).default}});var a=r(77);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return z(a).default}});var u=r(15);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return z(u).default}});var h=r(75);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return z(h).default}});var l=r(76);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return z(l).default}});var c=r(28);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return z(c).default}});var f=r(27);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return z(f).default}});var d=r(163);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return z(d).default}});var p=r(23);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return z(p).default}});var v=r(160);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return z(v).default}});var y=r(144);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return z(y).default}});var g=r(62);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return z(g).default}});var _=r(61);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return z(_).default}});var m=r(142);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return z(m).default}});var b=r(60);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return z(b).default}});var x=r(140);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return z(x).default}});var T=r(133);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return z(T).default}});var E=r(132);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return z(E).default}});var w=r(7);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return z(w).default}});var O=r(64);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return z(O).default}});var S=r(9);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return z(S).default}});var M=r(24);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return z(M).default}});var P=r(69);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return z(P).default}});var C=r(72);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return z(C).default}});var A=r(71);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return z(A).default}});var R=r(68);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return z(R).default}});var I=r(12);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return z(I).default}});var D=r(13);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return z(D).default}});var L=r(19);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return z(L).default}});var N=r(17);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return z(N).default}});var k=r(63);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z(k).default}});var F=r(66);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return z(F).default}});var B=r(65);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return z(B).default}});var j=r(58);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return z(j).default}});var U=r(57);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(r(2)),H=V(r(25)),W=z(r(3)),G=z(r(14)),Y=z(r(18));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=W.default,e.utils=X,e.ticker=H,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++d},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]};return},e.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){p=!0},e.sayHello=function(t){if(p)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");p=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in v)v[t].destroy();for(t in y)y[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in v)delete v[t];for(t in y)delete y[t]},e.correctBlendMode=function(t,e){return g[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(0),i=f(r(3)),o=f(r(8)),s=f(r(175)),a=c(r(174)),u=c(r(29)),h=f(r(173)),l=f(r(172));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var d=0,p=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a;var v=e.TextureCache=Object.create(null),y=e.BaseTextureCache=Object.create(null);var g=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(177)),i=o(r(176));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(34);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=r(88);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=r(33);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(87);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(187);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(186);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(185);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(32);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(184);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){var n={createContext:r(183),setVertexAttribArrays:r(86),GLBuffer:r(182),GLFramebuffer:r(181),GLShader:r(180),GLTexture:r(85),VertexArrayObject:r(179),shader:r(178)};void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var h=[];for(u=a;u<i.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(157))},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(9)),o=c(r(72)),s=c(r(71)),a=c(r(8)),u=r(4),h=r(2),l=c(r(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,n||(a.noFrame=!0,n=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=n,a.trim=o,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=i||n,a._rotate=Number(s||0),!0===s)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(n=new u.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=n):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,o){var s=h.TextureCache[t];return s||(s=new e(i.default.fromImage(t,r,n,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(o.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(o.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,r,n){var o=new i.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(i.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var n=new s(e,r||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.once=function(t,e,r){var n=new s(e,r||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=u(r(3)),o=u(r(8)),s=u(r(74)),a=u(r(26));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||i.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=i.default.MIPMAP_TEXTURES,a.wrapMode=i.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,n.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,n.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,n.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,n.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,n.uid)(),s.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,i,o){var a=n.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,i)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,i){if("string"==typeof t)return e.fromImage(t,void 0,r,i);if(t instanceof HTMLImageElement){var o=t.src,s=n.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,i&&(s.sourceScale=i),s.resolution=(0,n.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),n.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=n.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete n.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(7),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=new o.Polygon,l=function(t){function e(r,n,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||a.default.EMPTY,h.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=s||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.blendMode=o.BLEND_MODES.NORMAL,h.canvasPadding=o.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new o.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var r=this.vertices,n=h.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var l=2*i[a],c=2*i[a+1],f=2*i[a+2];if(n[0]=r[l],n[1]=r[l+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],h.contains(u.x,u.y))return!0}return!1},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";var n=r(108).default,i=r(21).default,o=r(42),s=r(41);n.Resource=i,n.async=o,n.base64=s,t.exports=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(r,n,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,a(n,u||s.default.PRECISION_VERTEX),a(i,u||s.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(70)),i=l(r(162)),o=l(r(68)),s=l(r(161)),a=r(2),u=r(0),h=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new i.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(n.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(2),s=r(77);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,m=v[2]*y,b=r[0],x=r[1],T=r[2],E=r[3],w=0,O=0,S=-(x-E),M=b-T,P=0,C=0,A=0,R=0,I=Math.sqrt(S*S+M*M);S/=I,M/=I,S*=p,M*=p,h.push(b-S,x-M,g,_,m,y),h.push(b+S,x+M,g,_,m,y);for(var D=1;D<c-1;++D){b=r[2*(D-1)],x=r[2*(D-1)+1],T=r[2*D],E=r[2*D+1],w=r[2*(D+1)],O=r[2*(D+1)+1],S=-(x-E),M=b-T,I=Math.sqrt(S*S+M*M),S/=I,M/=I,S*=p,M*=p,P=-(E-O),C=T-w,I=Math.sqrt(P*P+C*C),P/=I,C/=I;var L=-M+x-(-M+E),N=-S+T-(-S+b),k=(-S+b)*(-M+E)-(-S+T)*(-M+x),F=-(C*=p)+O-(-C+E),B=-(P*=p)+T-(-P+w),j=(-P+w)*(-C+E)-(-P+T)*(-C+O),U=L*B-F*N;if(Math.abs(U)<.1)U+=10.1,h.push(T-S,E-M,g,_,m,y),h.push(T+S,E+M,g,_,m,y);else{var X=(N*j-B*k)/U,H=(F*k-L*j)/U,W=(X-T)*(X-T)+(H-E)*(H-E);W>196*p*p?(A=S-P,R=M-C,I=Math.sqrt(A*A+R*R),A/=I,R/=I,A*=p,R*=p,h.push(T-A,E-R),h.push(g,_,m,y),h.push(T+A,E+R),h.push(g,_,m,y),h.push(T-A,E-R),h.push(g,_,m,y),f++):(h.push(X,H),h.push(g,_,m,y),h.push(T-(X-T),E-(H-E)),h.push(g,_,m,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],E=r[2*(c-1)+1],S=-(x-E),M=b-T,I=Math.sqrt(S*S+M*M),S/=I,M/=I,S*=p,M*=p,h.push(T-S,E-M),h.push(g,_,m,y),h.push(T+S,E+M),h.push(g,_,m,y),l.push(d);for(var G=0;G<f;++G)l.push(d++);l.push(d-1)}(t,e)};var n=r(4),i=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(4),o=r(0),s=r(3),a=(n=s)&&n.__esModule?n:{default:n},u=r(5);var h=function(){function t(e,r,n,s,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=h||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==s?s:a.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=_(r(70)),i=_(r(159)),o=_(r(156)),s=_(r(155)),a=_(r(17)),u=_(r(19)),h=_(r(153)),l=_(r(9)),c=_(r(152)),f=_(r(151)),d=_(r(149)),p=_(r(148)),v=r(2),y=_(r(5)),g=r(0);function _(t){return t&&t.__esModule?t:{default:t}}var m=0,b=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new i.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=m++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(n.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(37),s=(n=o)&&n.__esModule?n:{default:n};var a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=s(r(43)),o=s(r(44));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(2),o=r(67);var s={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var a=(0,i.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;n.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=o)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(69));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof n.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],i=null,r=new n.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,i,o){return new e(new n.default(t,r,i,o))},e}(i(r(7)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var n,i=r(165),o=(n=i)&&n.__esModule?n:{default:n};var s=new o.default;s.autoStart=!0,s.destroy=function(){},e.shared=s,e.Ticker=o.default},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(4),o=r(2),s=r(0),a=h(r(7)),u=h(r(15));function h(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||a.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(a.default.fromImage(t,r,n))},n(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,r){var n,i,o,s,a,u,h,l,c,f,d,p,v,y,g,_,m,b,x,T,E,w;s=this,a=/iPhone/i,u=/iPod/i,h=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,v=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),T=function(t,e){return t.test(e)},E=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:T(a,e),ipod:T(u,e),tablet:!T(a,e)&&T(h,e),device:T(a,e)||T(u,e)||T(h,e)},this.amazon={phone:T(f,e),tablet:!T(f,e)&&T(d,e),device:T(f,e)||T(d,e)},this.android={phone:T(f,e)||T(l,e),tablet:!T(f,e)&&!T(l,e)&&(T(d,e)||T(c,e)),device:T(f,e)||T(d,e)||T(l,e)||T(c,e)},this.windows={phone:T(p,e),tablet:T(v,e),device:T(p,e)||T(v,e)},this.other={blackberry:T(y,e),blackberry10:T(g,e),opera:T(_,e),firefox:T(b,e),chrome:T(m,e),device:T(y,e)||T(g,e)||T(_,e)||T(b,e)||T(m,e)},this.seven_inch=T(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},w=function(){var t=new E;return t.Class=E,t},void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=E:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=w():(i=[],n=s.isMobile=w(),void 0===(o="function"==typeof n?n.apply(e,i):n)||(t.exports=o))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*r+c,f=(y=s*n+u*r+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*e+h*i+c,f=(y=s*e+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*i+c,f=(y=s*n+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],_=o*y+a*g+h,m=u*g+s*y+l;c=_<c?_:c,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();e.default=i},function(t,e){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var s=i[o];r[t[s]]=n[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(34),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){var h=Math.sin(s),l=Math.cos(s),c=Math.cos(u),f=Math.sin(u),d=-Math.sin(a),p=Math.cos(a),v=l*i,y=h*i,g=-h*o,_=l*o;return this.a=c*v+f*g,this.b=c*y+f*_,this.c=d*v+p*g,this.d=d*y+p*_,this.tx=t+(r*v+n*g),this.ty=e+(r*y+n*_),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e);return Math.abs(o+s)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={BG_COLOR:4352,WORLD_WIDTH:600,WORLD_HEIGHT:400,BALL_WIDTH:19,BALL_HEIGHT:19,PADDLE_WIDTH:101,PADDLE_HEIGHT:19,PADDLE_1_POSITION:{X:300,Y:20},PADDLE_2_POSITION:{X:300,Y:380},BALL_POSITION:{X:300,Y:200}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(10),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=i||10,s.drawMode=o.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),n.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,m=(v+1)*this.verticesX+p+1;i.push(y,g,_),i.push(g,m,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(11),o=r(7),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(r,o,n,function(r){if(r.error)e(r.error);else{var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},e.getResourcePath=u;var n,i=r(11),o=r(73),s=(n=o)&&n.__esModule?n:{default:n},a=r(1);function u(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,i(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===o.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":n.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(i.utils.TextureCache[s])a(t,i.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",s,u,function(r){a(t,r.texture),e()})}}else e();else e()}};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(6)),i=r(1),o=r(11),s=r(55);function a(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype._copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=t.buttons,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype._reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(53)),s=u(r(52)),a=u(r(51));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(53)),s=u(r(52)),a=u(r(51));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(125);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=r(124);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=r(123);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(122);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(121),r(120),r(119)},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&n.isWebGLSupported())return new o.default(t,e,r);return new i.default(t,e,r)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(14)),o=s(r(18));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(57),o=h(r(15)),s=r(25),a=h(r(3)),u=r(0);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,n,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){var e=this._ticker;this.ticker=null,e.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,_=i(t,0,g,r,!0),m=[];if(!_)return m;if(y&&(_=function(t,e,r,n){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,(l=i(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,_,r)),t.length>80*r){n=u=t[0],a=h=t[1];for(var b=r;b<g;b+=r)l=t[b],d=t[b+1],l<n&&(n=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-n,h-a))?1/v:0}return s(_,m,r,n,a,v),m}function i(t,e,r,n,i){var o,s;if(i===O(t,e,r,n)>0)for(o=e;o<r;o+=n)s=T(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=T(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(E(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(E(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1)}(i)}(t,n,i,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),E(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,n,i,c,2):2===f&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(h,l,e,r,n),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!_(i,o)&&m(i,n,n.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),E(n),E(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=x(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&v(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&b(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=x(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&m(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,r,n){return!!(_(t,e)&&_(r,n)||_(t,n)&&_(r,e))||g(t,e,r)>0!=g(t,e,n)>0&&g(r,n,t)>0!=g(r,n,e)>0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new w(t.i,t.x,t.y),n=new w(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function T(t,e,r,n){var i=new w(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(O(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(O(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=n||r.wordWrap;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i="",o=e.charAt(0),s=e.split("\n"),a=r.wordWrapWidth,u={},h=0;h<s.length;h++){for(var l=a,c=s[h].split(" "),f=0;f<c.length;f++){var d=n.measureText(c[f]).width;if(r.breakWords&&d>a)for(var p=c[f].split(""),v=0;v<p.length;v++){var y=p[v],g=u[y];void 0===g&&(g=n.measureText(y).width,u[y]=g),g>l?(i+="\n"+y,l=a-g):(0===v&&(f>0||" "===o)&&(i+=" "),i+=y,l-=g)}else{var _=d+n.measureText(" ").width;0===f||_>l?(f>0&&(i+="\n"),i+=c[f],l=a-d):(l-=_,i+=" "+c[f])}}h<s.length-1&&(i+="\n")}return i},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u=i.getImageData(0,0,o,a).data,h=u.length,l=4*o,c=0,f=0,d=!1;for(c=0;c<s;++c){for(var p=0;p<l;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=l}for(r.ascent=s-c,f=h-l,d=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=l}return r.descent=c-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t}();e.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),l(this,e,e)}return t.prototype.clone=function(){var e={};return l(e,this,s),new t(e)},t.prototype.reset=function(){l(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function l(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(22));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(33),s=(n=o)&&n.__esModule?n:{default:n};var a=new s.default,u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(158)),o=r(2),s=r(0),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,n){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(65)),i=r(4),o=(r(6),s(r(64)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(n.default);e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(9)),i=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||i.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(4),s=r(0),a=c(r(3)),u=c(r(15)),h=c(r(24)),l=c(r(8));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,n,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:h||a.default.RENDER_OPTIONS.height},l)),n=Object.assign({},a.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||a.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=h.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,i,!1,f,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(87),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=h(r(9)),o=r(2),s=r(25),a=r(0),u=h(r(74));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var n=o.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),i.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,r,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var s=0;s<t.length;++s)i.appendChild(c(t[s].src||t[s],t[s].mime));else i.appendChild(c(o,t.mime));return i.load(),e.fromVideo(i,r)},n(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";var n=r(171),i=r(169);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=m(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(168);function m(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var m=t=h.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(m);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,m=m.substr(x.length)}if(r||x||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===m.substr(0,2);!E||x&&y[x]||(m=m.substr(2),this.slashes=!0)}if(!y[x]&&(E||x&&!g[x])){for(var w,O,S=-1,M=0;M<f.length;M++){-1!==(P=m.indexOf(f[M]))&&(-1===S||P<S)&&(S=P)}-1!==(O=-1===S?m.lastIndexOf("@"):m.lastIndexOf("@",S))&&(w=m.slice(0,O),m=m.slice(O+1),this.auth=decodeURIComponent(w)),S=-1;for(M=0;M<c.length;M++){var P;-1!==(P=m.indexOf(c[M]))&&(-1===S||P<S)&&(S=P)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),R=(M=0,A.length);M<R;M++){var I=A[M];if(I&&!I.match(d)){for(var D="",L=0,N=I.length;L<N;L++)I.charCodeAt(L)>127?D+="x":D+=I[L];if(!D.match(d)){var k=A.slice(0,M),F=A.slice(M+1),B=I.match(p);B&&(k.push(B[1]),F.unshift(B[2])),F.length&&(m="/"+F.join(".")+m),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var j=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+j,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[T])for(M=0,R=l.length;M<R;M++){var X=l[M];if(-1!==m.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),m=m.split(X).join(H)}}var W=m.indexOf("#");-1!==W&&(this.hash=m.substr(W),m=m.slice(0,W));var G=m.indexOf("?");if(-1!==G?(this.search=m.substr(G),this.query=m.substr(G+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,G)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var Y=this.search||"";this.path=j+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||m||r.host&&t.pathname,T=x,E=r.pathname&&r.pathname.split("/")||[],w=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===E[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(w)r.hostname=r.host=E.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=E.slice(-1)[0],S=(r.host||t.host||E.length>1)&&("."===O||".."===O)||""===O,M=0,P=E.length;P>=0;P--)"."===(O=E[P])?E.splice(P,1):".."===O?(E.splice(P,1),M++):M&&(E.splice(P,1),M--);if(!x&&!T)for(;M--;M)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var C,A=""===E[0]||E[0]&&"/"===E[0].charAt(0);w&&(r.hostname=r.host=A?"":E.length?E.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&E.length)&&!A&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a"));s.href=t;var r=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var n,i=r(73),o=(n=i)&&n.__esModule?n:{default:n};var s=void 0},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(28);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(28);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(8)),o=r(0),s=c(r(3)),a=c(r(76)),u=c(r(75)),h=c(r(30)),l=r(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e){var r=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},i={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?n[e.type](this.gl,o,r):i[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,e){var n={data:{}};n.gl=t;for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a],h=u.split("."),l=h[h.length-1],c=s(h,n),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return n}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e,r){var n=r(31),i=r(80);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var n=r(31),i=r(82),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(33),o=(n=i)&&n.__esModule?n:{default:n};var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=f(s[t]*s[r]+u[t]*a[r]),i=f(a[t]*s[r]+h[t]*a[r]),d=f(s[t]*u[r]+u[t]*h[r]),p=f(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===i&&u[v]===d&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(36),o=(n=i)&&n.__esModule?n:{default:n};var s={bodies:{1:{width:o.default.PADDLE_WIDTH,height:o.default.PADDLE_HEIGHT},2:{width:o.default.PADDLE_WIDTH,height:o.default.PADDLE_HEIGHT},3:{width:o.default.BALL_WIDTH,height:o.default.BALL_HEIGHT}},positions:{1:{x:o.default.PADDLE_1_POSITION.X,y:o.default.PADDLE_1_POSITION.Y},2:{x:o.default.PADDLE_2_POSITION.X,y:o.default.PADDLE_2_POSITION.Y},3:{x:o.default.BALL_POSITION.X,y:o.default.BALL_POSITION.Y}}};e.default=s},function(t,e,r){t.exports=r.p+"209a6d164a4b34b51f698b80e5effb11.png"},function(t,e,r){t.exports=r.p+"e0ddd4d1cbd6f77b772ba2e8953de384.png"},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20);var s=16,a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=s,n.canvas.height=s,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(((n=o)&&n.__esModule?n:{default:n}).default);function u(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=a,i.CanvasRenderer.registerPlugin("prepare",a)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20);var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(h),n.registerUploadHook(a),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=o)&&n.__esModule?n:{default:n}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=s,i.WebGLRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(94);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=r(93);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=r(20);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(37);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(92);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(22));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(12);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(97)),o=a(r(96)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=0,f=0;c<s;c+=i,f+=1){var d=s-c;if(d>i&&(d=i),f>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var p=a[f];p.uploadDynamic(e,c,d),t._bufferToUpdate===f&&(p.uploadStatic(e,c,d),t._bufferToUpdate=f+1),o.bindVao(p.vao),p.vao.draw(h.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,s=t._properties,a=0;a<n;a+=i)r.push(new o.default(e,this.properties,s,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new o.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferToUpdate=0,a.interactiveChildren=!1,a.blendMode=i.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(99);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(98);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(10);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;i=-((r=a<t.length-1?t[a+1]:u).x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(38);var s=10,a=function(t){function e(r,n,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth=void 0!==n?n:s,u.rightWidth=void 0!==o?o:s,u.topHeight=void 0!==i?i:s,u.bottomHeight=void 0!==a?a:s,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width*i.resolution,a=i.height*i.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=h[s]-h[i],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(((n=o)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(10),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,p=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height,g=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var m=s[e],b=s[r],x=s[n],T=s[e+1],E=s[r+1],w=s[n+1],O=t.canvasPadding/this.renderer.resolution;if(O>0){var S=O/Math.abs(t.worldTransform.a),M=O/Math.abs(t.worldTransform.d),P=(m+b+x)/3,C=(T+E+w)/3,A=m-P,R=T-C,I=Math.sqrt(A*A+R*R);m=P+A/I*(I+S),T=C+R/I*(I+M),R=E-C,b=P+(A=b-P)/(I=Math.sqrt(A*A+R*R))*(I+S),E=C+R/I*(I+M),R=w-C,x=P+(A=x-P)/(I=Math.sqrt(A*A+R*R))*(I+S),w=C+R/I*(I+M)}i.save(),i.beginPath(),i.moveTo(m,T),i.lineTo(b,E),i.lineTo(x,w),i.closePath(),i.clip();var D=f*y+v*p+d*g-y*p-v*d-f*g,L=m*y+v*x+b*g-y*x-v*b-m*g,N=f*b+m*p+d*x-b*p-m*d-f*x,k=f*y*x+v*b*p+m*d*g-m*y*p-v*d*x-f*b*g,F=T*y+v*w+E*g-y*w-v*E-T*g,B=f*E+T*p+d*w-E*p-T*d-f*w,j=f*y*w+v*E*p+T*d*g-T*y*p-v*d*w-f*E*g;i.transform(L/D,F/D,N/D,B/D,k/D,j/D),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(5)),o=s(r(10));r(6);function s(t){return t&&t.__esModule?t:{default:t}}var a=n.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),u.vertexBuffer.upload(t.vertices),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(n.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(10);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(n).default}});var i=r(104);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(i).default}});var o=r(103);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(38);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(102);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(101);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(u=a.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===r?"undefined":n(r)))return r.v}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var i=s(r(21)),o=s(r(41));function s(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(11)),i=r(106),o=h(r(8)),s=h(r(39)),a=h(r(40)),u=h(r(45));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));o.default.call(i);for(var s=0;s<e._pixiMiddleware.length;++s)i.use(e._pixiMiddleware[s]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(n.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[i.blobMiddlewareFactory,s.default,a.default,u.default];var f=n.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=h(r(44)),s=h(r(43)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(42)),u=h(r(21));function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":n(t))&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(45);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(40);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(39);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(11);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(58)),u=h(r(107));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=l(r(49)),s=l(r(48)),a=l(r(47)),u=l(r(8)),h=l(r(46));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},a.renderer=r,a.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,a.interactionFrequency=n.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new i.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,n,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new a.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType;if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button,h=a.default.FLAGS,l=u?h.RIGHT_DOWN:h.LEFT_DOWN,c=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new a.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r._copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e._reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(49);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}});var i=r(110);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=r(46);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(47);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(48);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=a(r(54)),s=a(r(50));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,n,a,u),h.blurYFilter=new s.default(r,n,a,u),h.padding=0,h.resolution=a||i.settings.RESOLUTION,h.quality=n||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new i.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(117);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=r(116);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=r(115);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(114);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(54);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(50);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(113);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(112);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(7)),o=a(r(9)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=n.DisplayObject,h=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=n.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new n.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=n.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(88)),s=r(2),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new i.Point,o=[],s=[],a=null,u=0,h=0,l=0,c=-1,f=0,d=0,p=0,v=0;v<this.text.length;v++){var y=this.text.charCodeAt(v);if(/(\s)/.test(this.text.charAt(v))&&(c=v,f=u),/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))s.push(u),h=Math.max(h,u),l++,n.x=0,n.y+=t.lineHeight,a=null;else if(-1!==c&&this._maxWidth>0&&n.x*r>this._maxWidth)i.utils.removeItems(o,c-d,v-c),v=c,c=-1,++d,s.push(f),h=Math.max(h,f),l++,n.x=0,n.y+=t.lineHeight,a=null;else{var g=t.chars[y];g&&(a&&g.kerning[a]&&(n.x+=g.kerning[a]),o.push({texture:g.texture,line:l,charCode:y,position:new i.Point(n.x+g.xOffset,n.y+g.yOffset)}),u=n.x+(g.texture.width+g.xOffset),n.x+=g.xAdvance,p=Math.max(p,g.yOffset+g.texture.height),a=y)}}s.push(u),h=Math.max(h,u);for(var _=[],m=0;m<=l;m++){var b=0;"right"===this._font.align?b=h-s[m]:"center"===this._font.align&&(b=(h-s[m])/2),_.push(b)}for(var x=o.length,T=this.tint,E=0;E<x;E++){var w=this._glyphs[E];w?w.texture=o[E].texture:(w=new i.Sprite(o[E].texture),this._glyphs.push(w)),w.position.x=(o[E].position.x+_[o[E].line])*r,w.position.y=o[E].position.y*r,w.scale.x=w.scale.y=r,w.tint=T,w.parent||this.addChild(w)}for(var O=x;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=h*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<x;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page")[0].getAttribute("file"),l=(0,s.getResolutionOfUrl)(h,a.default.RESOLUTION);n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,n.chars={};for(var c=t.getElementsByTagName("char"),f=0;f<c.length;f++){var d=c[f],p=parseInt(d.getAttribute("id"),10),v=new i.Rectangle(parseInt(d.getAttribute("x"),10)/l+r.frame.x/l,parseInt(d.getAttribute("y"),10)/l+r.frame.y/l,parseInt(d.getAttribute("width"),10)/l,parseInt(d.getAttribute("height"),10)/l);n.chars[p]={xOffset:parseInt(d.getAttribute("xoffset"),10)/l,yOffset:parseInt(d.getAttribute("yoffset"),10)/l,xAdvance:parseInt(d.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(r.baseTexture,v)}}for(var y=t.getElementsByTagName("kerning"),g=0;g<y.length;g++){var _=y[g],m=parseInt(_.getAttribute("first"),10)/l,b=parseInt(_.getAttribute("second"),10)/l,x=parseInt(_.getAttribute("amount"),10)/l;n.chars[b]&&(n.chars[b].kerning[m]=x)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=r(0);r(6);var o=new n.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);e.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(23),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,s=e.baseTexture,u=s.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=a.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(s.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(h,l),r.fillRect(-h+f,-l+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(r.translate(h+f,l+d),r.fillRect(-h,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,n=-e*this.anchor._x;if(u.x>=n&&u.x<n+e){var i=-r*this.anchor._y;if(u.y>=i&&u.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(o.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,s){return new e(o.Texture.fromImage(t,i,s),r,n)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new n.CanvasRenderTarget(u,h),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof n.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=i).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new n.CanvasRenderTarget(l,c);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=i).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(127);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(126);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(29)),o=s(r(56));function s(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*r+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,n.WebGLRenderer.registerPlugin("accessibility",c),n.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(56);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(129);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";function n(t){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e)))}e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,i=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}});i&&Object.defineProperties(i,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,i){this.legacyRenderer.render(t,this,r,e,!i),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){r=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(2);var s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new i.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,h,f,l,a.rotated?2:0),i.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(14),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*h.width,p=2*h.height,v=h.x-d/2,y=h.y-p/2;r.beginPath();var g=d/2*.5522848,_=p/2*.5522848,m=v+d,b=y+p,x=v+d/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-_,x-g,y,x,y),r.bezierCurveTo(x+g,y,m,T-_,m,T),r.bezierCurveTo(m,T+_,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+_,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var E=h.x,w=h.y,O=h.width,S=h.height,M=h.radius,P=Math.min(O,S)/2|0;M=M>P?P:M,r.beginPath(),r.moveTo(E,w+M),r.lineTo(E,w+S-M),r.quadraticCurveTo(E,w+S,E+M,w+S),r.lineTo(E+O-M,w+S),r.quadraticCurveTo(E+O,w+S,E+O,w+S-M),r.lineTo(E+O,w+M),r.quadraticCurveTo(E+O,w,E+O-M,w),r.lineTo(E+M,w),r.quadraticCurveTo(E,w,E,w+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,o.default.registerPlugin("graphics",a)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),f=2*Math.PI/c;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(i,u,v,y,g,p),_.push(i+Math.sin(f*x)*h,u+Math.cos(f*x)*l,v,y,g,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var E=0;E<c+1;E++)t.points.push(i+Math.sin(f*E)*h,u+Math.cos(f*E)*l);(0,o.default)(t,e,r),t.points=T}};var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n},s=r(0),a=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a,h+f),u(a,h+c-f,a,h+c,a+f,h+c,d),u(a+l-f,h+c,a+l,h+c,a+l,h+c-f,d),u(a+l,h+f,a+l,h,a+l-f,h,d),u(a+f,h,a,h,a,h+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,n.default)(d,null,2),E=0,w=T.length;E<w;E+=3)b.push(T[E]+x),b.push(T[E]+x),b.push(T[E+1]+x),b.push(T[E+2]+x),b.push(T[E+2]+x);for(var O=0,S=d.length;O<S;O++)m.push(d[O],d[++O],y,g,_,v)}if(t.lineWidth){var M=t.points;t.points=d,(0,i.default)(t,e,r),t.points=M}};var n=s(r(59)),i=s(r(16)),o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,n,v),l=a(r,i,v),c=a(n,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(i,a),v.push(f,d,p,c),v.push(i+u,a),v.push(f,d,p,c),v.push(i,a+h),v.push(f,d,p,c),v.push(i+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=_}};var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n},s=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=(0,o.default)(s,a,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var T=0;T<d;T++)c.push(s[2*T],s[2*T+1],y,g,_,v)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(16)),i=r(2),o=s(r(59));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(12);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=r(0),o=d(r(19)),s=d(r(18)),a=d(r(139)),u=d(r(138)),h=d(r(137)),l=d(r(136)),c=d(r(135)),f=d(r(134));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(i=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===i.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===i.SHAPES.RECT?(0,l.default)(u,o,s):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],h=0,l=0,c=0,f=0,d=0;u.push(t,e);for(var p=1,v=0;p<=20;++p)c=(l=(h=1-(v=p/20))*h)*h,d=(f=v*v)*v,u.push(c*t+3*l*v*r+3*h*f*i+d*s,c*e+3*l*v*n+3*h*f*o+d*a);return u}},function(t,e,r){"use strict";e.__esModule=!0;var n=p(r(15)),i=p(r(24)),o=p(r(7)),s=p(r(60)),a=p(r(27)),u=r(4),h=r(2),l=r(0),c=p(r(30)),f=p(r(141)),d=p(r(14));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,_=new Float32Array(4),m=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new c.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new u.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,s=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],u=i[i.length-1],h=1;h<=20;++h){var l=h/20;o=a+(t-a)*l,s=u+(e-u)*l,i.push(o+(t+(r-t)*l-o)*l,s+(e+(n-e)*l-s)*l)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,f.default)(a,u,t,e,r,n,i,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=i*Math.sqrt(f)/c,y=i*Math.sqrt(d)/c,g=v*p/f,_=y*p/d,m=v*l+y*u,b=v*h+y*a,x=u*(y+g),T=a*(y+g),E=l*(v+_),w=h*(v+_),O=Math.atan2(T-b,x-m),S=Math.atan2(w-b,E-m);this.arc(m+t,b+e,i,O,S,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=l.PI_2:o&&n<=i&&(n+=l.PI_2);var s=i-n,a=40*Math.ceil(Math.abs(s)/l.PI_2);if(0===s)return this;var u=t+Math.cos(n)*r,h=e+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===h||c.push(u,h):(this.moveTo(u,h),c=this.currentPath.shape.points);for(var f=s/(2*a),d=2*f,p=Math.cos(f),v=Math.sin(f),y=a-1,g=y%1/y,_=0;_<=y;++_){var m=f+n+d*(_+g*_),b=Math.cos(m),x=-Math.sin(m);c.push((p*b+v*x)*r+t,(p*-x+v*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=_,i=m;(0,h.hex2rgb)(this.graphicsData[0].fillColor,n),(0,h.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,h.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(g.x,g.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){if(n.holes[i].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth;if(i=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=i.x-d/2,s=i.y-d/2,a=i.width+d,u=i.height+d,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+d/2,u=i.radius+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+d/2,u=i.height+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,v=0,y=0,g=0,_=0,m=0,b=0,x=0,T=0,E=0;E+2<p.length;E+=2)o=p[E],s=p[E+1],v=p[E+2],y=p[E+3],g=Math.abs(v-o),_=Math.abs(y-s),u=d,(a=Math.sqrt(g*g+_*_))<1e-9||(b=(u/a*g+_)/2,T=(y+s)/2,t=(x=(v+o)/2)-(m=(u/a*_+g)/2)<t?x-m:t,e=x+m>e?x+m:e,r=T-b<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var w=this.boundsPadding;this._localBounds.minX=t-w,this._localBounds.maxX=e+w,this._localBounds.minY=r-w,this._localBounds.maxY=n+w},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,n,!0,y);var s=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(n.default);e.default=b,b._SPRITE_TEXTURE=null},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=void 0,u=void 0,h=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%e,h=~~(a/4/e),null===s.top&&(s.top=h),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=h:s.bottom<h&&(s.bottom=h));e=s.right-s.left,r=s.bottom-s.top+1;var l=n.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:l}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=d(r(27)),o=d(r(7)),s=r(4),a=r(2),u=r(0),h=d(r(3)),l=d(r(62)),c=d(r(61)),f=d(r(143));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var a=o.default.fromCanvas(i,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((i+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((o+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],n?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+i;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(h.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/n,r.addColorStop(o,h[p]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=h.length+1,i=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:i/n,r.addColorStop(o,h[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=o.default.createContext(n)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=s.replace(/%forloop%/gi,a(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),i=[],a=0;a<e;a++)i[a]=a;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=r(12),o=(n=i)&&n.__esModule?n:{default:n};r(6);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(150),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(0),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(0),s=r(17),a=(n=s)&&n.__esModule?n:{default:n},u=r(2);var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new i.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(t),n[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(13)),i=l(r(17)),o=l(r(63)),s=r(4),a=l(r(12)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(154)),h=l(r(26));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function t(){c(this,t),this.renderTarget=null,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[],this.target=null,this.resolution=1},d=function(t){function e(r){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new f);var s=e[0].resolution,a=0|e[0].padding,u=t.filterArea||t.getBounds(!0),h=o.sourceFrame,l=o.destinationFrame;h.x=(u.x*s|0)/s,h.y=(u.y*s|0)/s,h.width=(u.width*s|0)/s,h.height=(u.height*s|0)/s,n.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(n.stack[0].destinationFrame),h.pad(a),l.width=h.width,l.height=h.height;var c=this.getPotRenderTarget(r.gl,h.width,h.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=c,c.setFrame(l,h),r.bindRenderTarget(c),c.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters,n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var o=(65535&(e=h.default.nextPow2(e*n)))<<16|65535&(r=h.default.nextPow2(r*n));this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=(65535&t.size.width*t.resolution)<<16|65535&t.size.height*t.resolution;this.pool[e].push(t)},e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=s},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=s(t),i=s(e);return Object.assign(n,i)};var n,i=r(5);var o=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function s(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<i.length;s++){var a=i[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(l=(n=l.split(/\[|]/))[0],c*=Number(n[1])),l.match(e)||(r[l]={value:o(h,c),name:l,type:h})}}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(13)),i=o(r(66));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=d(r(19)),i=d(r(18)),o=d(r(22)),s=d(r(147)),a=d(r(146)),u=d(r(145)),h=d(r(3)),l=r(2),c=d(r(5)),f=d(r(26));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=h.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=f.default.nextPow2(n.size);i*=2)n.buffers.push(new u.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),n=f.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,_=0,m=void 0,b=void 0,x=1,T=0,E=s[0],w=void 0,O=void 0,S=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];E.textureCount=0,E.start=0,E.blend=S,p++;var M=void 0;for(M=0;M<e;++M){var P=y[M];P._enabled!==p?(d[M]=P,P._virtalBoundId=M,P._enabled=p):d[M]=this.renderer.emptyTextures[M]}for(p++,M=0;M<this.currentIndex;++M){var C=o[M];m=C._texture.baseTexture;var A=l.premultiplyBlendMode[Number(m.premultipliedAlpha)][C.blendMode];if(S!==A&&(S=A,b=null,T=e,p++),b!==m&&(b=m,m._enabled!==p)){if(T===e&&(p++,E.size=M-E.start,T=0,(E=s[x++]).blend=S,E.textureCount=0,E.start=M),m.touched=g,-1===m._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,m._virtalBoundId=I,d[I]=m;break}}m._enabled=p,E.textureCount++,E.ids[T]=m._virtalBoundId,E.textures[T++]=m}if(w=C.vertexData,O=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[_]=(w[0]*L|0)/L,a[_+1]=(w[1]*L|0)/L,a[_+5]=(w[2]*L|0)/L,a[_+6]=(w[3]*L|0)/L,a[_+10]=(w[4]*L|0)/L,a[_+11]=(w[5]*L|0)/L,a[_+15]=(w[6]*L|0)/L,a[_+16]=(w[7]*L|0)/L}else a[_]=w[0],a[_+1]=w[1],a[_+5]=w[2],a[_+6]=w[3],a[_+10]=w[4],a[_+11]=w[5],a[_+15]=w[6],a[_+16]=w[7];u[_+2]=O[0],u[_+7]=O[1],u[_+12]=O[2],u[_+17]=O[3];var N=Math.min(C.worldAlpha,1),k=N<1&&m.premultipliedAlpha?(0,l.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=k,a[_+4]=a[_+9]=a[_+14]=a[_+19]=m._virtalBoundId,_+=20}if(E.size=M-E.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,B=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(B,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(B,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&j.addAttribute(B,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(M=0;M<e;++M)y[M]._virtalBoundId=-1;for(M=0;M<x;++M){for(var U=s[M],X=U.textureCount,H=0;H<X;H++)b=U.textures[H],y[U.ids[H]]!==b&&this.renderer.bindTexture(b,U.ids[H],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(n.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(0),o=r(67),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,f=s.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,y=f+l,g=c+h/2,_=f+l/2;e.moveTo(c,_),e.bezierCurveTo(c,_-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-p,v,_),e.bezierCurveTo(v,_+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,c,_+p,c,_),e.closePath()}else if(o.type===n.SHAPES.RREC){var m=s.x,b=s.y,x=s.width,T=s.height,E=s.radius,w=Math.min(x,T)/2|0;E=E>w?w:E,e.moveTo(m,b+E),e.lineTo(m,b+T-E),e.quadraticCurveTo(m,b+T,m+E,b+T),e.lineTo(m+x-E,b+T),e.quadraticCurveTo(m+x,b+T,m+x,b+T-E),e.lineTo(m+x,b+E),e.quadraticCurveTo(m+x,b,m+x-E,b),e.lineTo(m+E,b),e.quadraticCurveTo(m,b,m,b+E),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=a(r(14)),i=r(0),o=r(4),s=a(r(23));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=n/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,n.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=a(r(3)),o=r(0),s=a(r(164));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(167),e.encode=e.stringify=r(166)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t,n){var i;!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,T=Math.floor,E=String.fromCharCode;function w(t){throw new RangeError(b[t])}function O(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function S(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+O((t=t.replace(m,".")).split("."),e).join(".")}function M(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function P(t){return O(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var n=0;for(t=r?T(t/d):t>>1,t+=T(t/e);t>x*c>>1;n+=h)t=T(t/x);return T(n+(x+1)*t/(t+f))}function R(t){var e,r,n,i,o,s,a,f,d,g,_,m=[],b=t.length,x=0,E=v,O=p;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&w("not-basic"),m.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=x,s=1,a=h;i>=b&&w("invalid-input"),((f=(_=t.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h)>=h||f>T((u-x)/s))&&w("overflow"),x+=f*s,!(f<(d=a<=O?l:a>=O+c?c:a-O));a+=h)s>T(u/(g=h-d))&&w("overflow"),s*=g;O=A(x-o,e=m.length+1,0==o),T(x/e)>u-E&&w("overflow"),E+=T(x/e),x%=e,m.splice(x++,0,E)}return P(m)}function I(t){var e,r,n,i,o,s,a,f,d,g,_,m,b,x,O,S=[];for(m=(t=M(t)).length,e=v,r=0,o=p,s=0;s<m;++s)(_=t[s])<128&&S.push(E(_));for(n=i=S.length,i&&S.push(y);n<m;){for(a=u,s=0;s<m;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(b=n+1))&&w("overflow"),r+=(a-e)*b,e=a,s=0;s<m;++s)if((_=t[s])<e&&++r>u&&w("overflow"),_==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)O=f-g,x=h-g,S.push(E(C(g+O%x,0))),f=T(O/x);S.push(E(C(f,0))),o=A(r,b,n==i),r=0,++n}++r,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:M,encode:P},decode:R,encode:I,toASCII:function(t){return S(t,function(t){return _.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return S(t,function(t){return g.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(170)(t),r(35))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(0)},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var n,i=r(29),o=(n=i)&&n.__esModule?n:{default:n}},function(t,e,r){t.exports={compileProgram:r(84),defaultValue:r(80),extractAttributes:r(83),extractUniforms:r(81),generateUniformAccessObject:r(78),setPrecision:r(79),mapSize:r(82),mapType:r(31)}},function(t,e,r){var n=r(86);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){var n=r(84),i=r(83),o=r(81),s=r(79),a=r(78),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var n=r(85),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(34),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var i=[],a=0,u=r.length;a<u;a++)i.push(r[a].x,r[a].y);r=i}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(32),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(32),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(35))},function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))i.call(r,h)&&(a[h]=r[h]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";var n,i=r(190),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";r(191),r(189),r(188),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var n=r(192);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(1);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,s=r(131),a=(o=s)&&o.__esModule?o:{default:o},u=g(r(130)),h=g(r(128)),l=g(r(55)),c=g(r(118)),f=g(r(111)),d=g(r(109)),p=g(r(105)),v=g(r(100)),y=g(r(95));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.utils.mixins.performMixins();var _=d.shared||null;e.accessibility=u,e.extract=h,e.extras=l,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=y,e.loader=_,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,r(35))},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){var n,i,o={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,h=0,l=[],c=r(194);function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(_(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(_(n.parts[s],e));o[n.id]={id:n.id,refs:1,parts:a}}}}function d(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function p(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function y(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),p(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function _(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=h++;r=u||(u=y(e)),n=x.bind(null,r,s,!1),i=x.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=c(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,e),i=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=y(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){v(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=d(t,e);return f(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var s=r[i];(a=o[s.id]).refs--,n.push(a)}t&&f(d(t,e),e);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function x(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var s;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(t,e,r){(t.exports=r(196)(!1)).push([t.i,"body {\r\n  background-color: grey;\r\n}\r\n",""])},function(t,e,r){var n=r(197);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(195)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";r(198);var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(193)),i=u(r(91)),o=u(r(90)),s=u(r(36)),a=u(r(89));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){console.log("loading: "+e.url),console.log("progress: "+t.progress+"%")}function l(){var t={width:s.default.WORLD_WIDTH,height:s.default.WORLD_HEIGHT,backgroundColor:s.default.BG_COLOR},e=a.default.bodies,r=a.default.positions,i=new n.Application(t);document.getElementById("game_container").appendChild(i.view),Object.keys(e).forEach(function(t){var o=new n.Sprite(n.loader.resources.lolpixels.texture);o.x=r[t].x,o.y=r[t].y,o.width=e[t].width,o.height=e[t].height,o.anchor=new n.ObservablePoint(null,null,.5,.5),i.stage.addChild(o)}),i.stage.addChild(new n.Sprite(n.loader.resources.skull.texture))}window.addEventListener("load",function(){n.loader.add("lolpixels",o.default).add("skull",i.default).on("progress",h).load(l)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvTWVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9TaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkTGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9CYXNlUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaXQtdHdpZGRsZS90d2lkZGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0JvdW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvbWFwVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9SZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9NYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9Qb2ludC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvbGltaXRlcnMvQ291bnRMaW1pdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL1BsYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL3RleHR1cmVQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvc3ByaXRlc2hlZXRQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvYjY0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wYXJzZS11cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL2JpdG1hcEZvbnRQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL2ludGVyYWN0aXZlVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25EYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvQmx1cllGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZXRNYXhCbHVyS2VybmVsU2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvQmx1clhGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9hY2Nlc3NpYmxlVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2F1dG9EZXRlY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9BcHBsaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dE1ldHJpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0U3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvU3lzdGVtUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZVV2cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvRGlzcGxheU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9zZXRQcmVjaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2RlZmF1bHRWYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9tYXBTaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9leHRyYWN0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvY29tcGlsZVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NldFZlcnRleEF0dHJpYkFycmF5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL0dyb3VwRDguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9PYnNlcnZhYmxlUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvbHBpeGVscy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NrdWxsLnBuZyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9saW1pdGVycy9UaW1lTGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9jYW52YXMvQ2FudmFzUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS93ZWJnbC9XZWJHTFByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy93ZWJnbC9QYXJ0aWNsZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL1BhcnRpY2xlQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvUm9wZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9OaW5lU2xpY2VQbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL3dlYmdsL01lc2hSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL0xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9hbHBoYS9BbHBoYUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ub2lzZS9Ob2lzZUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9meGFhL0ZYQUFGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9nZXRHbG9iYWxQb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2dldENoaWxkQnlOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvY2FjaGVBc0JpdG1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0JpdG1hcFRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL1RpbGluZ1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0FuaW1hdGVkU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L2NhbnZhcy9DYW52YXNFeHRyYWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L3dlYmdsL1dlYkdMRXh0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZGVwcmVjYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvU3ByaXRlc2hlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRDaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUG9seS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9zaGFkZXJzL1ByaW1pdGl2ZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9XZWJHTEdyYXBoaWNzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3V0aWxzL2JlemllckN1cnZlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvdHJpbUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0L1RleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9CYXRjaEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL3ZhbGlkYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1RleHR1cmVNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL0ZpbHRlck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvZXh0cmFjdFVuaWZvcm1zRnJvbVNyYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvTWFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNNYXNrTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNTcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90aWNrZXIvVGlja2VyTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL1RpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVtb3ZlLWFycmF5LWl0ZW1zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL3BsdWdpblRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL1ZlcnRleEFycmF5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMRnJhbWVidWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvY3JlYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1BvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvRWxsaXBzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL01hdGguc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9PYmplY3QuYXNzaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzPzAyYWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJWRVJTSU9OIiwiUElfMiIsIk1hdGgiLCJQSSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwiUkVOREVSRVJfVFlQRSIsIlVOS05PV04iLCJXRUJHTCIsIkNBTlZBUyIsIkJMRU5EX01PREVTIiwiTk9STUFMIiwiQUREIiwiTVVMVElQTFkiLCJTQ1JFRU4iLCJPVkVSTEFZIiwiREFSS0VOIiwiTElHSFRFTiIsIkNPTE9SX0RPREdFIiwiQ09MT1JfQlVSTiIsIkhBUkRfTElHSFQiLCJTT0ZUX0xJR0hUIiwiRElGRkVSRU5DRSIsIkVYQ0xVU0lPTiIsIkhVRSIsIlNBVFVSQVRJT04iLCJDT0xPUiIsIkxVTUlOT1NJVFkiLCJOT1JNQUxfTlBNIiwiQUREX05QTSIsIlNDUkVFTl9OUE0iLCJEUkFXX01PREVTIiwiUE9JTlRTIiwiTElORVMiLCJMSU5FX0xPT1AiLCJMSU5FX1NUUklQIiwiVFJJQU5HTEVTIiwiVFJJQU5HTEVfU1RSSVAiLCJUUklBTkdMRV9GQU4iLCJTQ0FMRV9NT0RFUyIsIkxJTkVBUiIsIk5FQVJFU1QiLCJXUkFQX01PREVTIiwiQ0xBTVAiLCJSRVBFQVQiLCJNSVJST1JFRF9SRVBFQVQiLCJHQ19NT0RFUyIsIkFVVE8iLCJNQU5VQUwiLCJVUkxfRklMRV9FWFRFTlNJT04iLCJEQVRBX1VSSSIsIlNWR19TSVpFIiwiU0hBUEVTIiwiUE9MWSIsIlJFQ1QiLCJDSVJDIiwiRUxJUCIsIlJSRUMiLCJQUkVDSVNJT04iLCJMT1ciLCJNRURJVU0iLCJISUdIIiwiVFJBTlNGT1JNX01PREUiLCJTVEFUSUMiLCJEWU5BTUlDIiwiVEVYVF9HUkFESUVOVCIsIkxJTkVBUl9WRVJUSUNBTCIsIkxJTkVBUl9IT1JJWk9OVEFMIiwiVVBEQVRFX1BSSU9SSVRZIiwiSU5URVJBQ1RJT04iLCJVVElMSVRZIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiQXBwbGljYXRpb24iLCJGaWx0ZXIiLCJTcHJpdGVNYXNrRmlsdGVyIiwiUXVhZCIsIlJlbmRlclRhcmdldCIsIk9iamVjdFJlbmRlcmVyIiwiV2ViR0xNYW5hZ2VyIiwiU2hhZGVyIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwiVGV4dHVyZVV2cyIsIlZpZGVvQmFzZVRleHR1cmUiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJCYXNlVGV4dHVyZSIsIlRleHR1cmVNYXRyaXgiLCJUZXh0dXJlIiwiU3ByaXRlc2hlZXQiLCJDYW52YXNHcmFwaGljc1JlbmRlcmVyIiwiR3JhcGhpY3NSZW5kZXJlciIsIkdyYXBoaWNzRGF0YSIsIkdyYXBoaWNzIiwiVGV4dE1ldHJpY3MiLCJUZXh0U3R5bGUiLCJUZXh0IiwiU3ByaXRlUmVuZGVyZXIiLCJDYW52YXNUaW50ZXIiLCJDYW52YXNTcHJpdGVSZW5kZXJlciIsIlNwcml0ZSIsIlRyYW5zZm9ybUJhc2UiLCJUcmFuc2Zvcm1TdGF0aWMiLCJUcmFuc2Zvcm0iLCJDb250YWluZXIiLCJEaXNwbGF5T2JqZWN0IiwiQm91bmRzIiwiZ2xDb3JlIiwiV2ViR0xSZW5kZXJlciIsIkNhbnZhc1JlbmRlcmVyIiwidGlja2VyIiwidXRpbHMiLCJzZXR0aW5ncyIsInVuZGVmaW5lZCIsIl9jb25zdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiX21hdGgiLCJfcGl4aUdsQ29yZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJkZWZhdWx0IiwiX0JvdW5kcyIsIl9EaXNwbGF5T2JqZWN0IiwiX0NvbnRhaW5lciIsIl9UcmFuc2Zvcm0iLCJfVHJhbnNmb3JtU3RhdGljIiwiX1RyYW5zZm9ybUJhc2UiLCJfU3ByaXRlIiwiX0NhbnZhc1Nwcml0ZVJlbmRlcmVyIiwiX0NhbnZhc1RpbnRlciIsIl9TcHJpdGVSZW5kZXJlciIsIl9UZXh0IiwiX1RleHRTdHlsZSIsIl9UZXh0TWV0cmljcyIsIl9HcmFwaGljcyIsIl9HcmFwaGljc0RhdGEiLCJfR3JhcGhpY3NSZW5kZXJlciIsIl9DYW52YXNHcmFwaGljc1JlbmRlcmVyIiwiX1Nwcml0ZXNoZWV0IiwiX1RleHR1cmUiLCJfVGV4dHVyZU1hdHJpeCIsIl9CYXNlVGV4dHVyZSIsIl9SZW5kZXJUZXh0dXJlIiwiX0Jhc2VSZW5kZXJUZXh0dXJlIiwiX1ZpZGVvQmFzZVRleHR1cmUiLCJfVGV4dHVyZVV2cyIsIl9DYW52YXNSZW5kZXJUYXJnZXQiLCJfU2hhZGVyIiwiX1dlYkdMTWFuYWdlciIsIl9PYmplY3RSZW5kZXJlciIsIl9SZW5kZXJUYXJnZXQiLCJfUXVhZCIsIl9TcHJpdGVNYXNrRmlsdGVyIiwiX0ZpbHRlciIsIl9BcHBsaWNhdGlvbiIsIl9hdXRvRGV0ZWN0UmVuZGVyZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9zZXR0aW5nczIiLCJfQ2FudmFzUmVuZGVyZXIyIiwiX1dlYkdMUmVuZGVyZXIyIiwib2JqIiwibmV3T2JqIiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwibWl4aW5zIiwicGx1Z2luVGFyZ2V0IiwiRXZlbnRFbWl0dGVyIiwicmVtb3ZlSXRlbXMiLCJpc01vYmlsZSIsInVpZCIsIm5leHRVaWQiLCJoZXgycmdiIiwiaGV4Iiwib3V0IiwiaGV4MnN0cmluZyIsInRvU3RyaW5nIiwic3Vic3RyIiwibGVuZ3RoIiwicmdiMmhleCIsInJnYiIsImdldFJlc29sdXRpb25PZlVybCIsInVybCIsImRlZmF1bHRWYWx1ZSIsInJlc29sdXRpb24iLCJSRVRJTkFfUFJFRklYIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJkZWNvbXBvc2VEYXRhVXJpIiwiZGF0YVVyaSIsImRhdGFVcmlNYXRjaCIsIm1lZGlhVHlwZSIsInRvTG93ZXJDYXNlIiwic3ViVHlwZSIsImVuY29kaW5nIiwiZGF0YSIsImdldFVybEZpbGVFeHRlbnNpb24iLCJleHRlbnNpb24iLCJnZXRTdmdTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwic2l6ZSIsInJvdW5kIiwic2tpcEhlbGxvIiwic2FpZEhlbGxvIiwic2F5SGVsbG8iLCJ0eXBlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImFyZ3MiLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIiwiYXBwbHkiLCJpc1dlYkdMU3VwcG9ydGVkIiwiY29udGV4dE9wdGlvbnMiLCJzdGVuY2lsIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdsIiwiZ2V0Q29udGV4dCIsInN1Y2Nlc3MiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImxvc2VDb250ZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiZSIsInNpZ24iLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiZGVzdHJveSIsImNsZWFyVGV4dHVyZUNhY2hlIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiYWxwaGEiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVJnYmEiLCJwcmVtdWx0aXBseSIsIkZsb2F0MzJBcnJheSIsInByZW11bHRpcGx5VGludFRvUmdiYSIsIl9ldmVudGVtaXR0ZXIyIiwiX3BsdWdpblRhcmdldDIiLCJfcmVtb3ZlQXJyYXlJdGVtczIiLCJfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyIiwiY3JlYXRlIiwiX21heFJlY29tbWVuZGVkVGV4dHVyZXMyIiwiX2NhblVwbG9hZFNhbWVCdWZmZXIyIiwiVEFSR0VUX0ZQTVMiLCJNSVBNQVBfVEVYVFVSRVMiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvUmVzaXplIiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInJvdW5kUGl4ZWxzIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJNRVNIX0NBTlZBU19QQURESU5HIiwiX1BvaW50IiwiX09ic2VydmFibGVQb2ludCIsIl9NYXRyaXgiLCJfR3JvdXBEIiwiX0NpcmNsZSIsIl9FbGxpcHNlIiwiX1BvbHlnb24iLCJfUmVjdGFuZ2xlIiwiX1JvdW5kZWRSZWN0YW5nbGUiLCJjcmVhdGVDb250ZXh0Iiwic2V0VmVydGV4QXR0cmliQXJyYXlzIiwiR0xCdWZmZXIiLCJHTEZyYW1lYnVmZmVyIiwiR0xTaGFkZXIiLCJHTFRleHR1cmUiLCJWZXJ0ZXhBcnJheU9iamVjdCIsInNoYWRlciIsIlBJWEkiLCJwcm9jZXNzIiwibm9ybWFsaXplQXJyYXkiLCJwYXJ0cyIsImFsbG93QWJvdmVSb290IiwidXAiLCJsYXN0Iiwic3BsaWNlIiwidW5zaGlmdCIsInNwbGl0UGF0aFJlIiwic3BsaXRQYXRoIiwiZmlsZW5hbWUiLCJzbGljZSIsImZpbHRlciIsInhzIiwiZiIsInJlcyIsInB1c2giLCJyZXNvbHZlIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsImFyZ3VtZW50cyIsInBhdGgiLCJjd2QiLCJUeXBlRXJyb3IiLCJjaGFyQXQiLCJzcGxpdCIsImpvaW4iLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInBhdGhzIiwiQXJyYXkiLCJpbmRleCIsInJlbGF0aXZlIiwiZnJvbSIsInRvIiwidHJpbSIsImFyciIsInN0YXJ0IiwiZW5kIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsIm1pbiIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwiY29uY2F0Iiwic2VwIiwiZGVsaW1pdGVyIiwiZGlybmFtZSIsInJlc3VsdCIsInJvb3QiLCJkaXIiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLCJzdHIiLCJsZW4iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9CYXNlVGV4dHVyZTIiLCJfVmlkZW9CYXNlVGV4dHVyZTIiLCJfVGV4dHVyZVV2czIiLCJfdXRpbHMiLCJfRXZlbnRFbWl0dGVyIiwiYmFzZVRleHR1cmUiLCJmcmFtZSIsIm9yaWciLCJyb3RhdGUiLCJpbnN0YW5jZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGhpcyIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwibm9GcmFtZSIsIlJlY3RhbmdsZSIsIl9mcmFtZSIsInZhbGlkIiwicmVxdWlyZXNVcGRhdGUiLCJfdXZzIiwiX3JvdGF0ZSIsIk51bWJlciIsIkVycm9yIiwiaGFzTG9hZGVkIiwib24iLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsIm9uY2UiLCJvbkJhc2VUZXh0dXJlTG9hZGVkIiwiX3VwZGF0ZUlEIiwidHJhbnNmb3JtIiwidGV4dHVyZUNhY2hlSWRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInVwZGF0ZSIsImVtaXQiLCJkZXN0cm95QmFzZSIsImltYWdlVXJsIiwicmVtb3ZlRnJvbUNhY2hlIiwib2ZmIiwiY2xvbmUiLCJfdXBkYXRlVXZzIiwic2V0IiwiZnJvbUltYWdlIiwiY3Jvc3NvcmlnaW4iLCJzY2FsZU1vZGUiLCJzb3VyY2VTY2FsZSIsInRleHR1cmUiLCJhZGRUb0NhY2hlIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21DYW52YXMiLCJvcmlnaW4iLCJmcm9tVmlkZW8iLCJ2aWRlbyIsImZyb21WaWRlb1VybCIsInZpZGVvVXJsIiwiZnJvbVVybCIsInNvdXJjZSIsIm1hdGNoIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxDYW52YXNFbGVtZW50IiwiSFRNTFZpZGVvRWxlbWVudCIsImZyb21Mb2FkZXIiLCJpZCIsIndhcm4iLCJ0ZXh0dXJlRnJvbUNhY2hlIiwieCIsInkiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiRU1QVFkiLCJXSElURSIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiZXZlbnQiLCJleGlzdHMiLCJldnQiLCJhdmFpbGFibGUiLCJlZSIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJyZW1vdmVMaXN0ZW5lciIsImoiLCJsaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImFkZExpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwicHJlZml4ZWQiLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yIiwiX2JpdFR3aWRkbGUyIiwidG91Y2hlZCIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJpc0xvYWRpbmciLCJvcmlnU291cmNlIiwiaW1hZ2VUeXBlIiwicHJlbXVsdGlwbGllZEFscGhhIiwiaXNQb3dlck9mVHdvIiwibWlwbWFwIiwid3JhcE1vZGUiLCJfZ2xUZXh0dXJlcyIsIl9lbmFibGVkIiwiX3ZpcnRhbEJvdW5kSWQiLCJfZGVzdHJveWVkIiwibG9hZFNvdXJjZSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJfdXBkYXRlRGltZW5zaW9ucyIsImlzUG93MiIsIndhc0xvYWRpbmciLCJvbmxvYWQiLCJvbmVycm9yIiwiZmlyc3RTb3VyY2VMb2FkZWQiLCJzcmMiLCJjb21wbGV0ZSIsIl91cGRhdGVJbWFnZVR5cGUiLCJfbG9hZFN2Z1NvdXJjZSIsIl9zb3VyY2VMb2FkZWQiLCJzY29wZSIsImZpcnN0U3ViVHlwZSIsIl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpIiwiX2xvYWRTdmdTb3VyY2VVc2luZ1hociIsImF0b2IiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nIiwiX3RoaXMyIiwic3ZnWGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWFkeVN0YXRlIiwiRE9ORSIsInN0YXR1cyIsInJlc3BvbnNlIiwib3BlbiIsInNlbmQiLCJzdmdTaXplIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJfcGl4aUlkIiwiZHJhd0ltYWdlIiwiaXNDb2Nvb25KUyIsImRpc3Bvc2UiLCJ1cGRhdGVTb3VyY2VJbWFnZSIsIm5ld1NyYyIsImltYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiY29yZSIsIl9UZXh0dXJlMiIsInRlbXBQb2ludCIsIlBvaW50IiwidGVtcFBvbHlnb24iLCJQb2x5Z29uIiwiTWVzaCIsIl9jb3JlJENvbnRhaW5lciIsInZlcnRpY2VzIiwidXZzIiwiaW5kaWNlcyIsImRyYXdNb2RlIiwiX3RleHR1cmUiLCJVaW50MTZBcnJheSIsImRpcnR5IiwiaW5kZXhEaXJ0eSIsImNhbnZhc1BhZGRpbmciLCJUUklBTkdMRV9NRVNIIiwidGludFJnYiIsIl9nbERhdGFzIiwiX3V2VHJhbnNmb3JtIiwidXBsb2FkVXZUcmFuc2Zvcm0iLCJwbHVnaW5OYW1lIiwiX3JlbmRlcldlYkdMIiwicmVuZGVyZXIiLCJyZWZyZXNoIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJwbHVnaW5zIiwicmVuZGVyIiwiX3JlbmRlckNhbnZhcyIsIl9vblRleHR1cmVVcGRhdGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwiX3JlZnJlc2giLCJfY2FsY3VsYXRlQm91bmRzIiwiX2JvdW5kcyIsImFkZFZlcnRpY2VzIiwiY29udGFpbnNQb2ludCIsInBvaW50IiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJ3b3JsZFRyYW5zZm9ybSIsImFwcGx5SW52ZXJzZSIsInBvaW50cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJMb2FkZXIiLCJSZXNvdXJjZSIsImFzeW5jIiwiYjY0IiwiYmFzZTY0IiwiX3NldHRpbmdzIiwiY2hlY2tQcmVjaXNpb24iLCJkZWYiLCJzdWJzdHJpbmciLCJjb3B5IiwiX0dMU2hhZGVyIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJwcmVjaXNpb24iLCJvbkNvbnRleHRDaGFuZ2UiLCJfU3lzdGVtUmVuZGVyZXIzIiwiX0NhbnZhc01hc2tNYW5hZ2VyMiIsIl9DYW52YXNSZW5kZXJUYXJnZXQyIiwiX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyIiwiX1N5c3RlbVJlbmRlcmVyIiwib3B0aW9ucyIsImFyZzIiLCJhcmczIiwicm9vdENvbnRleHQiLCJtYXNrTWFuYWdlciIsInNtb290aFByb3BlcnR5IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwib0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW5pdFBsdWdpbnMiLCJibGVuZE1vZGVzIiwiX2FjdGl2ZUJsZW5kTW9kZSIsInJlbmRlcmluZ1RvU2NyZWVuIiwicmVzaXplIiwiZGlzcGxheU9iamVjdCIsInJlbmRlclRleHR1cmUiLCJjbGVhciIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJyb290UmVzb2x1dGlvbiIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiY2FjaGVQYXJlbnQiLCJwYXJlbnQiLCJ0ZW1wV3QiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfd29ybGRJRCIsImlkZW50aXR5IiwidXBkYXRlVHJhbnNmb3JtIiwic2F2ZSIsInNldFRyYW5zZm9ybSIsImdsb2JhbEFscGhhIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic2NyZWVuY2FudmFzIiwiY2xlYXJSZWN0IiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRlbXBDb250ZXh0IiwicmVuZGVyQ2FudmFzIiwicmVzdG9yZSIsImNsZWFyQ29sb3IiLCJzZXRCbGVuZE1vZGUiLCJyZW1vdmVWaWV3IiwiZGVzdHJveVBsdWdpbnMiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImludmFsaWRhdGVCbGVuZE1vZGUiLCJtaXhpbiIsIl9EaXNwbGF5T2JqZWN0MiIsImNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImFkZENoaWxkIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJyZW1vdmVDaGlsZCIsIl9wYXJlbnRJRCIsIl9ib3VuZHNJRCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJiZWdpbiIsInJhbmdlIiwicmVtb3ZlZCIsIl9pIiwiUmFuZ2VFcnJvciIsIndvcmxkQWxwaGEiLCJ2aXNpYmxlIiwiY2FsY3VsYXRlQm91bmRzIiwicmVuZGVyYWJsZSIsIl9tYXNrIiwiYWRkQm91bmRzTWFzayIsImZpbHRlckFyZWEiLCJhZGRCb3VuZHNBcmVhIiwiYWRkQm91bmRzIiwiX2xhc3RCb3VuZHNJRCIsInJlbmRlcldlYkdMIiwiX2ZpbHRlcnMiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiZmx1c2giLCJmaWx0ZXJzIiwibWFzayIsIl9lbmFibGVkRmlsdGVycyIsImVuYWJsZWQiLCJmaWx0ZXJNYW5hZ2VyIiwicHVzaEZpbHRlciIsInB1c2hNYXNrIiwiX2kyIiwicG9wTWFzayIsInBvcEZpbHRlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwic2NhbGUiLCJnZXRMb2NhbEJvdW5kcyIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJncmFwaGljc0RhdGEiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsIm5hdGl2ZUxpbmVzIiwidmVydHMiLCJjb2xvciIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImciLCJiIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwiYnVpbGROYXRpdmVMaW5lIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsInBvcCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwibGluZVdpZHRoIiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJzcXJ0IiwiYjEiLCJjMSIsImIyIiwiYzIiLCJkZW5vbSIsImFicyIsInB4IiwicHkiLCJwZGlzdCIsImJ1aWxkTGluZSIsImZyYW1lQnVmZmVyIiwicHJvamVjdGlvbk1hdHJpeCIsIk1hdHJpeCIsImRlZmF1bHRGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJzb3VyY2VGcmFtZSIsInN0ZW5jaWxCdWZmZXIiLCJzdGVuY2lsTWFza1N0YWNrIiwiZmlsdGVyRGF0YSIsImZyYW1lYnVmZmVyIiwiY3JlYXRlUkdCQSIsImVuYWJsZU5lYXJlc3RTY2FsaW5nIiwiZW5hYmxlTGluZWFyU2NhbGluZyIsInNldEZyYW1lIiwiY2MiLCJhdHRhY2hTdGVuY2lsQnVmZmVyIiwiZW5hYmxlU3RlbmNpbCIsImFjdGl2YXRlIiwiYmluZCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJhcHBlbmQiLCJlbmFibGUiLCJTQ0lTU09SX1RFU1QiLCJzY2lzc29yIiwiZGlzYWJsZSIsInZpZXdwb3J0IiwicG0iLCJhIiwidHgiLCJ0eSIsInByb2plY3Rpb25GcmFtZSIsIl9NYXNrTWFuYWdlcjIiLCJfU3RlbmNpbE1hbmFnZXIyIiwiX0ZpbHRlck1hbmFnZXIyIiwiX1JlbmRlclRhcmdldDIiLCJfT2JqZWN0UmVuZGVyZXIyIiwiX1RleHR1cmVNYW5hZ2VyMiIsIl9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIiLCJfV2ViR0xTdGF0ZTIiLCJfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyIiwiX3ZhbGlkYXRlQ29udGV4dDIiLCJfcGl4aUdsQ29yZTIiLCJDT05URVhUX1VJRCIsIkZPUkNFX05BVElWRSIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jb250ZXh0T3B0aW9ucyIsInBvd2VyUHJlZmVyZW5jZSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwic3RlbmNpbE1hbmFnZXIiLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwidGV4dHVyZU1hbmFnZXIiLCJzdGF0ZSIsImJvdW5kVGV4dHVyZXMiLCJfYWN0aXZlU2hhZGVyIiwiX2FjdGl2ZVZhbyIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJfaW5pdENvbnRleHQiLCJkcmF3TW9kZXMiLCJfbmV4dFRleHR1cmVMb2NhdGlvbiIsImlzQ29udGV4dExvc3QiLCJyZXN0b3JlQ29udGV4dCIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwidGV4dHVyZUdDIiwicmVzZXRUb0RlZmF1bHQiLCJyb290UmVuZGVyVGFyZ2V0IiwiYmluZFJlbmRlclRhcmdldCIsImVtcHR5R0xUZXh0dXJlIiwiZnJvbURhdGEiLCJ0ZW1wT2JqIiwiZW1wdHkiLCJiaW5kVGV4dHVyZSIsInNjcmVlbiIsImJpbmRSZW5kZXJUZXh0dXJlIiwib2JqZWN0UmVuZGVyZXIiLCJzdG9wIiwidW5pZm9ybXMiLCJ0b0FycmF5IiwibWF0cml4IiwiY2xlYXJSZW5kZXJUZXh0dXJlIiwicmVuZGVyVGFyZ2V0IiwiX2dsUmVuZGVyVGFyZ2V0cyIsInVwZGF0ZVRleHR1cmUiLCJ1bmJpbmRUZXh0dXJlIiwic2V0TWFza1N0YWNrIiwiYmluZFNoYWRlciIsImF1dG9Qcm9qZWN0IiwibG9jYXRpb24iLCJmb3JjZUxvY2F0aW9uIiwiY291bnQiLCJnbFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJURVhUVVJFXzJEIiwiY3JlYXRlVmFvIiwiYXR0cmliU3RhdGUiLCJiaW5kVmFvIiwidmFvIiwidW5iaW5kIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUFsbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1c2VQcm9ncmFtIiwiX1dlYkdMTWFuYWdlcjIiLCJfQ291bnRMaW1pdGVyIiwiX0NvdW50TGltaXRlcjIiLCJTaGFyZWRUaWNrZXIiLCJzaGFyZWQiLCJVUExPQURTX1BFUl9GUkFNRSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJxdWV1ZSIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsInVwbG9hZCIsIml0ZW0iLCJkb25lIiwiYWRkIiwiYWRkT25jZSIsInRpY2siLCJzZXRUaW1lb3V0IiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsInVwbG9hZGVkIiwic2hpZnQiLCJfbGVuIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJyZW1vdmUiLCJfdGV4dHVyZXMiLCJoZWxwZXIiLCJ1cGRhdGVUZXh0IiwiZm9udCIsInRvRm9udFN0cmluZyIsIm1lYXN1cmVGb250Iiwic3R5bGUiLCJfcGFyc2VVcmkyIiwiX21pbmlTaWduYWxzMiIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwidGVtcEFuY2hvciIsIl9ub29wIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsImVycm9yIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX29uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwiX2JvdW5kWGRyT25UaW1lb3V0IiwiX3hkck9uVGltZW91dCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiaXNDb21wbGV0ZSIsIkNPTVBMRVRFIiwiTE9BRElORyIsImRpc3BhdGNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImxvYWQiLCJjYiIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsImZsYWciLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQXJyYXkiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsImFwcGVuZENoaWxkIiwiX2NyZWF0ZVNvdXJjZSIsIl9taW1lVHlwZXMiLCJfZGV0ZXJtaW5lWGhyVHlwZSIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInRpbWVvdXQiLCJtaW1lIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzVGV4dCIsInRleHQiLCJyZXNwb25zZVRleHQiLCJCVUZGRVIiLCJwYXJzZSIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRpdiIsImlubmVySFRNTCIsIlhNTCIsInJlc3BvbnNlVVJMIiwibG9jIiwiaHJlZiIsInNhbWVQb3J0Iiwic3RyaWN0TW9kZSIsInBvcnQiLCJwcm90b2NvbCIsImhvc3QiLCJob3N0bmFtZSIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwibGFzdEluZGV4T2YiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJtYXAiLCJ2YWwiLCJyZXBsYWNlIiwiTk9ORSIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsInN2ZyIsInN2Zyt4bWwiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsInRvdGFsSW5kaWNlcyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzIiwiZ2V0VGludGVkVGV4dHVyZSIsInNwcml0ZSIsInN0cmluZ0NvbG9yIiwicm91bmRDb2xvciIsInRpbnRDYWNoZSIsImNhY2hlZFRleHR1cmUiLCJ0aW50SWQiLCJ0aW50TWV0aG9kIiwiY29udmVydFRpbnRUb0ltYWdlIiwidGludEltYWdlIiwidG9EYXRhVVJMIiwidGludFdpdGhNdWx0aXBseSIsImNyb3AiLCJjZWlsIiwidGludFdpdGhPdmVybGF5IiwidGludFdpdGhQZXJQaXhlbCIsInJnYlZhbHVlcyIsInBpeGVsRGF0YSIsImdldEltYWdlRGF0YSIsInBpeGVscyIsInB1dEltYWdlRGF0YSIsImNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWwiLCJjYW5Vc2VNdWx0aXBseSIsIl9CYXNlUmVuZGVyVGV4dHVyZTIiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSIsIlRpY2tlciIsIl9UaWNrZXIiLCJfVGlja2VyMiIsImF1dG9TdGFydCIsImNvdW50VHJhaWxpbmdaZXJvcyIsInYiLCJJTlRfQklUUyIsIklOVF9NQVgiLCJJTlRfTUlOIiwibWF4IiwibG9nMiIsImxvZzEwIiwicG9wQ291bnQiLCJuZXh0UG93MiIsInByZXZQb3cyIiwicGFyaXR5IiwiUkVWRVJTRV9UQUJMRSIsInRhYiIsInJldmVyc2UiLCJpbnRlcmxlYXZlMiIsImRlaW50ZXJsZWF2ZTIiLCJpbnRlcmxlYXZlMyIsInoiLCJkZWludGVybGVhdmUzIiwibmV4dENvbWJpbmF0aW9uIiwidCIsIl9Db250YWluZXIzIiwiX2FuY2hvciIsIk9ic2VydmFibGVQb2ludCIsIl9vbkFuY2hvclVwZGF0ZSIsIl90aW50IiwiX3RpbnRSR0IiLCJjYWNoZWRUaW50IiwidmVydGV4RGF0YSIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybUlEIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsImNhbGN1bGF0ZVZlcnRpY2VzIiwid3QiLCJhbmNob3IiLCJ3MCIsIncxIiwiaDAiLCJoMSIsIl94IiwiX3kiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJhZGRRdWFkIiwicmVjdCIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJfbG9jYWxCb3VuZHNSZWN0IiwiZ2V0UmVjdGFuZ2xlIiwieDEiLCJ5MSIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsImltYWdlSWQiLCJsb2NhbFRyYW5zZm9ybSIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJsdCIsInVwZGF0ZVdvcmxkVHJhbnNmb3JtIiwiSURFTlRJVFkiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJnbG9iYWwiLCJhcHBsZV9waG9uZSIsImFwcGxlX2lwb2QiLCJhcHBsZV90YWJsZXQiLCJhbmRyb2lkX3Bob25lIiwiYW5kcm9pZF90YWJsZXQiLCJhbWF6b25fcGhvbmUiLCJhbWF6b25fdGFibGV0Iiwid2luZG93c19waG9uZSIsIndpbmRvd3NfdGFibGV0Iiwib3RoZXJfYmxhY2tiZXJyeSIsIm90aGVyX2JsYWNrYmVycnlfMTAiLCJvdGhlcl9vcGVyYSIsIm90aGVyX2Nocm9tZSIsIm90aGVyX2ZpcmVmb3giLCJzZXZlbl9pbmNoIiwiSXNNb2JpbGVDbGFzcyIsImluc3RhbnRpYXRlIiwiUmVnRXhwIiwicmVnZXgiLCJ0ZXN0IiwidWEiLCJ0bXAiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiSU0iLCJDbGFzcyIsIkluZmluaXR5IiwiaXNFbXB0eSIsInVwZGF0ZUlEIiwiYWRkUG9pbnQiLCJhZGRGcmFtZSIsIngwIiwieTAiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsInJhd1giLCJyYXdZIiwiYm91bmRzIiwiX21pblgiLCJfbWluWSIsIl9tYXhYIiwiX21heFkiLCJhcmVhIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVQiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsInR5cGVOYW1lcyIsInRuIiwicmVjdGFuZ2xlIiwicGFkIiwicGFkZGluZ1giLCJwYWRkaW5nWSIsImZpdCIsImVubGFyZ2UiLCJ4MiIsInkyIiwiX1BvaW50MiIsImFycmF5IiwiZnJvbUFycmF5IiwidHJhbnNwb3NlIiwicG9zIiwibmV3UG9zIiwidHJhbnNsYXRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJ0eDEiLCJkMSIsInBpdm90WCIsInBpdm90WSIsInNjYWxlWCIsInNjYWxlWSIsInJvdGF0aW9uIiwic2tld1giLCJza2V3WSIsInNyIiwiY3IiLCJjeSIsInN5IiwibnN4IiwiY3giLCJwcmVwZW5kIiwiZGVjb21wb3NlIiwiYXRhbjIiLCJza2V3IiwicG9zaXRpb24iLCJpbnZlcnQiLCJlcXVhbHMiLCJGdW5jdGlvbiIsImV2YWwiLCJCR19DT0xPUiIsIldPUkxEX1dJRFRIIiwiV09STERfSEVJR0hUIiwiQkFMTF9XSURUSCIsIkJBTExfSEVJR0hUIiwiUEFERExFX1dJRFRIIiwiUEFERExFX0hFSUdIVCIsIlBBRERMRV8xX1BPU0lUSU9OIiwiWCIsIlkiLCJQQURETEVfMl9QT1NJVElPTiIsIkJBTExfUE9TSVRJT04iLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiX01lc2gyIiwiX01lc2gzIiwiUGxhbmUiLCJfTWVzaCIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsIl9yZWFkeSIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiY29sb3JzIiwicmVzb3VyY2UiLCJuZXh0IiwiX3Jlc291cmNlTG9hZGVyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJmcmFtZXMiLCJyZXNvdXJjZXMiLCJsb2FkT3B0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJwYXJlbnRSZXNvdXJjZSIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsImJhc2VVcmwiLCJzcHJpdGVzaGVldCIsIl9jb3JlIiwidGV4dHVyZXMiLCJfdXJsIiwiX3VybDIiLCJtZXRhIiwiZW5jb2RlQmluYXJ5IiwiaW5wdXQiLCJvdXRwdXQiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiY2hhckNvZGVBdCIsInBhZGRpbmdCeXRlcyIsIl9qbngiLCJfa2V5U3RyIiwib25seU9uY2UiLCJjYWxsRm4iLCJlYWNoU2VyaWVzIiwiaXRlcmF0b3IiLCJjYWxsYmFjayIsImRlZmVyTmV4dCIsImVyciIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsInEiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImJ1ZmZlciIsImRyYWluIiwic3RhcnRlZCIsInBhdXNlZCIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsIl9uZXh0IiwicnVubmluZyIsImlkbGUiLCJwYXVzZSIsInJlc3VtZSIsInciLCJpbnNlcnRBdEZyb250Iiwib3B0cyIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRBdHRyaWJ1dGUiLCJ4bWxVcmwiLCJ0ZXh0dXJlVXJsIiwiX2V4dHJhcyIsImJpdG1hcEZvbnQiLCJCaXRtYXBUZXh0IiwicmVnaXN0ZXJGb250IiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwiaGl0QXJlYSIsImJ1dHRvbk1vZGUiLCJjdXJzb3IiLCJ0cmFja2VkUG9pbnRlcnMiLCJfdHJhY2tlZFBvaW50ZXJzIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJwb2ludGVySWQiLCJfcG9pbnRlcklkIiwiRkxBR1MiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJfcmVzZXQiLCJJbnRlcmFjdGlvbkRhdGEiLCJvcmlnaW5hbEV2ZW50IiwiaWRlbnRpZmllciIsImlzUHJpbWFyeSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJfY29weUV2ZW50IiwiX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyIiwiX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyIiwiX2dldE1heEJsdXJLZXJuZWxTaXplMiIsIkJsdXJZRmlsdGVyIiwiX2NvcmUkRmlsdGVyIiwic3RyZW5ndGgiLCJxdWFsaXR5Iiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJmcmFnU3JjIiwiX3F1YWxpdHkiLCJmaXJzdFJ1biIsInBhc3NlcyIsImFwcGx5RmlsdGVyIiwiZ2V0UmVuZGVyVGFyZ2V0IiwiZmxpcCIsImZsb3AiLCJ0ZW1wIiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwicGFkZGluZyIsIm1heFZhcnlpbmdzIiwiTUFYX1ZBUllJTkdfVkVDVE9SUyIsImtlcm5lbCIsIkdBVVNTSUFOX1ZBTFVFUyIsImhhbGZMZW5ndGgiLCJmcmFnU291cmNlIiwiZnJhZ1RlbXBsYXRlIiwiYmx1ckxvb3AiLCJibHVyIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwidmVydFNvdXJjZSIsInZlcnRUZW1wbGF0ZSIsInRlbXBsYXRlIiwiQmx1clhGaWx0ZXIiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsIlRpbGluZ1Nwcml0ZSIsIkFuaW1hdGVkU3ByaXRlIiwiX0FuaW1hdGVkU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZSIsIl9UaWxpbmdTcHJpdGVSZW5kZXJlciIsIl9CaXRtYXBUZXh0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYXJnMSIsImZvcmNlQ2FudmFzIiwiX0NvbnRhaW5lcjIiLCJfdGlja2VyIiwiYXJnNCIsImFyZzUiLCJhc3NpZ24iLCJzaGFyZWRUaWNrZXIiLCJfb3B0aW9ucyIsInNoYXJlZExvYWRlciIsInN0YWdlIiwib2xkVGlja2VyIiwiZWFyY3V0IiwiaG9sZUluZGljZXMiLCJkaW0iLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJsaXN0Iiwic3RlaW5lciIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiZWFyY3V0TGlua2VkIiwiY2xvY2t3aXNlIiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJwcmV2IiwiZWFyIiwicGFzcyIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJoeCIsImh5IiwicXgiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJhbiIsImJwIiwic3VtIiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsImZpbGxDb2xvciIsImZpbGxBbHBoYSIsImZpbGwiLCJzaGFwZSIsIl9saW5lVGludCIsIl9maWxsVGludCIsImFkZEhvbGUiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJsaW5lSGVpZ2h0IiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIndvcmRXcmFwIiwiX2NhbnZhcyIsImxldHRlclNwYWNpbmciLCJzdHJva2VUaGlja25lc3MiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZm9udFNpemUiLCJsZWFkaW5nIiwiZmlyc3RDaGFyIiwid29yZFdyYXBXaWR0aCIsImNoYXJhY3RlckNhY2hlIiwic3BhY2VMZWZ0Iiwid29yZHMiLCJ3b3JkV2lkdGgiLCJicmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlciIsImNoYXJhY3RlcldpZHRoIiwid29yZFdpZHRoV2l0aFNwYWNlIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwiYmFzZWxpbmUiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImxpbmUiLCJpZHgiLCJhc2NlbnQiLCJfaiIsImRlc2NlbnQiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZmlsbEdyYWRpZW50VHlwZSIsImZpbGxHcmFkaWVudFN0b3BzIiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsInN0cm9rZSIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJjbG9uZWRQcm9wZXJ0aWVzIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsInByb3AiLCJfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiIsImludGVybGVhdmVkIiwidmVydGV4QnVmZmVyIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwiU1RBVElDX0RSQVciLCJpbmRleEJ1ZmZlciIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5pdFZhbyIsImFkZEluZGV4IiwiYWRkQXR0cmlidXRlIiwiYXR0cmlidXRlcyIsImFWZXJ0ZXhQb3NpdGlvbiIsImFUZXh0dXJlQ29vcmQiLCJ0YXJnZXRUZXh0dXJlRnJhbWUiLCJkZWxldGVCdWZmZXIiLCJfTWF0cml4MiIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJfbGFzdFRleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwibWF0IiwieDMiLCJ5MyIsInRleEJhc2UiLCJtYXJnaW4iLCJvZmZzZXQiLCJfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIiLCJTT1VSQ0VfS0VZX01BUCIsImRlZmF1bHRWZXJ0ZXhTcmMiLCJkZWZhdWx0RnJhZ21lbnRTcmMiLCJfYmxlbmRNb2RlIiwidW5pZm9ybURhdGEiLCJnbFNoYWRlcnMiLCJnbFNoYWRlcktleSIsImF1dG9GaXQiLCJjdXJyZW50U3RhdGUiLCJfRmlsdGVyMyIsIl9UZXh0dXJlTWF0cml4MiIsIm1hc2tNYXRyaXgiLCJtYXNrU3ByaXRlIiwib3RoZXJNYXRyaXgiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJtYXNrQ2xhbXAiLCJjcmVhdGVDb2xvcmVkQ2FudmFzIiwibWFnZW50YSIsInllbGxvdyIsImltYWdlRGF0YSIsIl9CYXNlVGV4dHVyZTMiLCJfUmVuZGVyVGV4dHVyZTIiLCJ0ZW1wTWF0cml4IiwiU3lzdGVtUmVuZGVyZXIiLCJzeXN0ZW0iLCJfYmFja2dyb3VuZENvbG9yIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicGFyZW50Tm9kZSIsIl9Hcm91cEQyIiwidXZzVWludDMyIiwiVWludDMyQXJyYXkiLCJiYXNlRnJhbWUiLCJ0dyIsInRoIiwidzIiLCJoMiIsImNYIiwiY1kiLCJOVyIsInVYIiwidVkiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiYXV0b1BsYXkiLCJfb25DYW5QbGF5IiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfX2xvYWRlZCIsIl9pc1NvdXJjZVJlYWR5IiwiX2lzU291cmNlUGxheWluZyIsImN1cnJlbnRUaW1lIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInZpZGVvU3JjIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlU291cmNlIiwiZnJvbVVybHMiLCJwdW55Y29kZSIsInV0aWwiLCJVcmwiLCJzbGFzaGVzIiwiYXV0aCIsImhhc2giLCJzZWFyY2giLCJxdWVyeSIsInBhdGhuYW1lIiwidXJsUGFyc2UiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0IiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiamF2YXNjcmlwdCIsImphdmFzY3JpcHQ6IiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImdvcGhlciIsImZpbGUiLCJodHRwOiIsImh0dHBzOiIsImZ0cDoiLCJnb3BoZXI6IiwiZmlsZToiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwidSIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInJlc3QiLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwiayIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidG9BU0NJSSIsImgiLCJhZSIsImVzYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImVzY2FwZSIsInFtIiwic3RyaW5naWZ5IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsIl91cmwzIiwiX1RyYW5zZm9ybUJhc2UyIiwidXBkYXRlU2tldyIsInBpdm90IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5Iiwic2V0RnJvbU1hdHJpeCIsIm9uQ2hhbmdlIiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfVHJhbnNmb3JtU3RhdGljMiIsIl9UcmFuc2Zvcm0yIiwiX0JvdW5kczIiLCJUcmFuc2Zvcm1DbGFzcyIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiX2JvdW5kc1JlY3QiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiX2N1cnJlbnRCb3VuZHMiLCJpc01hc2siLCJnZW5lcmF0ZUdldHRlciIsIkdMU0xfU0lOR0xFX1NFVFRFUlMiLCJmbG9hdCIsInVuaWZvcm0xZiIsInZlYzIiLCJ1bmlmb3JtMmYiLCJ2ZWMzIiwidW5pZm9ybTNmIiwidmVjNCIsInVuaWZvcm00ZiIsImludCIsInVuaWZvcm0xaSIsIml2ZWMyIiwidW5pZm9ybTJpIiwiaXZlYzMiLCJ1bmlmb3JtM2kiLCJpdmVjNCIsInVuaWZvcm00aSIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwidW5pZm9ybU1hdHJpeDJmdiIsIm1hdDMiLCJ1bmlmb3JtTWF0cml4M2Z2IiwibWF0NCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJzYW1wbGVyMkQiLCJHTFNMX0FSUkFZX1NFVFRFUlMiLCJ1bmlmb3JtMWZ2IiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpdiIsInVuaWZvcm0yaXYiLCJ1bmlmb3JtM2l2IiwidW5pZm9ybTRpdiIsImdlbmVyYXRlU2V0dGVyIiwidW5pZm9ybSIsImdldFVuaWZvcm1Hcm91cCIsIm5hbWVUb2tlbnMiLCJjdXIiLCJ1bmlmb3JtS2V5cyIsImZ1bGxOYW1lIiwidW5pZm9ybUdyb3VwIiwiYm9vbGVhbkFycmF5IiwiSW50MzJBcnJheSIsIm1hcFR5cGUiLCJwcm9ncmFtIiwidG90YWxVbmlmb3JtcyIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiR0xTTF9UT19TSVpFIiwibWFwU2l6ZSIsInBvaW50ZXIiLCJub3JtYWxpemVkIiwic3RyaWRlIiwidmVydGV4QXR0cmliUG9pbnRlciIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlVGV4dHVyZSIsInByZW11bHRpcGx5QWxwaGEiLCJSR0JBIiwiVU5TSUdORURfQllURSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJ0ZXhJbWFnZTJEIiwidGV4U3ViSW1hZ2UyRCIsIkZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSIsInVwbG9hZERhdGEiLCJtaW5GaWx0ZXIiLCJsaW5lYXIiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJORUFSRVNUX01JUE1BUF9ORUFSRVNUIiwibWFnRmlsdGVyIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiZW5hYmxlTWlwbWFwIiwiZ2VuZXJhdGVNaXBtYXAiLCJlbmFibGVXcmFwQ2xhbXAiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsImVuYWJsZVdyYXBSZXBlYXQiLCJlbmFibGVXcmFwTWlycm9yUmVwZWF0IiwiZGVsZXRlVGV4dHVyZSIsImZyb21Tb3VyY2UiLCJhdHRyaWJzIiwidGVtcEF0dHJpYlN0YXRlIiwiYXR0cmlidXRlIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJhdHRyaWIiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRlbXBNYXRyaWNlcyIsIm11bCIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImluaXQiLCJHcm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiaW5kIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIl9jb25maWciLCJDb21wb25lbnRzIiwiYm9kaWVzIiwiMSIsIl9jb25maWcyIiwiMiIsIjMiLCJwb3NpdGlvbnMiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJEYXRlIiwibm93IiwiX0Jhc2VQcmVwYXJlMiIsIkNBTlZBU19TVEFSVF9TSVpFIiwiQ2FudmFzUHJlcGFyZSIsIl9CYXNlUHJlcGFyZSIsImN0eCIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInByZXBhcmUiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJyZWdpc3RlclBsdWdpbiIsIldlYkdMUHJlcGFyZSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEdyYXBoaWNzIiwiY2xlYXJEaXJ0eSIsIl93ZWJHTCIsImdyYXBoaWNzIiwidXBkYXRlR3JhcGhpY3MiLCJfV2ViR0xQcmVwYXJlIiwiX0NhbnZhc1ByZXBhcmUiLCJfVGltZUxpbWl0ZXIiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwidXBsb2FkRnVuY3Rpb24iLCJ1bnNpZ25lZEJ5dGUiLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsImR5bkJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiU1RSRUFNX0RSQVciLCJzdGF0aWNPZmZzZXQiLCJfcHJvcGVydHkiLCJzdGF0QnVmZmVyIiwiX3Byb3BlcnR5MiIsIl9pMyIsIl9wcm9wZXJ0eTMiLCJ1cGxvYWREeW5hbWljIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIl9TaGFkZXIyIiwiUGFydGljbGVTaGFkZXIiLCJfUGFydGljbGVTaGFkZXIyIiwiX1BhcnRpY2xlQnVmZmVyMiIsIlBhcnRpY2xlUmVuZGVyZXIiLCJfY29yZSRPYmplY3RSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwiYVBvc2l0aW9uQ29vcmQiLCJ1cGxvYWRQb3NpdGlvbiIsImFSb3RhdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwiYUNvbG9yIiwidXBsb2FkVGludCIsIm1heFNpemUiLCJfbWF4U2l6ZSIsImJhdGNoU2l6ZSIsIl9iYXRjaFNpemUiLCJ0b3RhbENoaWxkcmVuIiwiYnVmZmVycyIsIl9nbEJ1ZmZlcnMiLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1U2FtcGxlciIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJfYnVmZmVyVG9VcGRhdGUiLCJkcmF3IiwiX3Byb3BlcnRpZXMiLCJzeCIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiYXJnYiIsIlBhcnRpY2xlQ29udGFpbmVyIiwic2V0UHJvcGVydGllcyIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiYnVmZmVySW5kZXgiLCJmbG9vciIsImlzUm90YXRlZCIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsImZpbmFsV2lkdGgiLCJmaW5hbEhlaWdodCIsImNoaWxkVHJhbnNmb3JtIiwiX2J1ZmZlcnMiLCJfUGFydGljbGVDb250YWluZXIiLCJfUGFydGljbGVSZW5kZXJlciIsIlJvcGUiLCJyZWZyZXNoVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicmF0aW8iLCJwZXJwTGVuZ3RoIiwibnVtIiwiX1BsYW5lMiIsIkRFRkFVTFRfQk9SREVSX1NJWkUiLCJOaW5lU2xpY2VQbGFuZSIsIl9QbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsInVwZGF0ZVZlcnRpY2FsVmVydGljZXMiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJiYXNlIiwidGV4dHVyZVNvdXJjZSIsImRyYXdTZWdtZW50Iiwic3ciLCJzaCIsImR3IiwiZGgiLCJfdXZ3IiwiX3V2aCIsIk1lc2hTcHJpdGVSZW5kZXJlciIsIm1lc2giLCJfcmVuZGVyVHJpYW5nbGVNZXNoIiwiX3JlbmRlclRyaWFuZ2xlcyIsIl9yZW5kZXJEcmF3VHJpYW5nbGUiLCJpbmRleDAiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwidTAiLCJ1MSIsInUyIiwidjAiLCJ2MSIsInYyIiwidXQiLCJjZW50ZXJYIiwiY2VudGVyWSIsIm5vcm1YIiwibm9ybVkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJjbGlwIiwiZGVsdGEiLCJkZWx0YUEiLCJkZWx0YUIiLCJkZWx0YUMiLCJkZWx0YUQiLCJkZWx0YUUiLCJkZWx0YUYiLCJyZW5kZXJNZXNoRmxhdCIsIm1hdHJpeElkZW50aXR5IiwiTWVzaFJlbmRlcmVyIiwiZ2xEYXRhIiwidXZCdWZmZXIiLCJ1VHJhbnNmb3JtIiwidHJhbnNsYXRpb25NYXRyaXgiLCJfTWVzaFJlbmRlcmVyIiwiX0NhbnZhc01lc2hSZW5kZXJlciIsIl9OaW5lU2xpY2VQbGFuZSIsIl9Sb3BlIiwiX3R5cGVvZiIsIlN5bWJvbCIsImJsb2JNaWRkbGV3YXJlRmFjdG9yeSIsIl9SZXNvdXJjZTIiLCJCbG9iIiwiX3JldCIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsIl9iMiIsIlVSTCIsIndlYmtpdFVSTCIsIl9yZXNvdXJjZUxvYWRlcjIiLCJfYmxvYiIsIl90ZXh0dXJlUGFyc2VyMiIsIl9zcHJpdGVzaGVldFBhcnNlcjIiLCJfYml0bWFwRm9udFBhcnNlcjIiLCJfUmVzb3VyY2VMb2FkZXIiLCJfcGl4aU1pZGRsZXdhcmUiLCJ1c2UiLCJvbkVycm9yIiwib25Mb2FkIiwiYWRkUGl4aU1pZGRsZXdhcmUiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwicHJlIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiZGVxdWV1ZSIsIl9vbkxvYWQiLCJfdGhpczMiLCJ0ZXh0dXJlUGFyc2VyIiwic3ByaXRlc2hlZXRQYXJzZXIiLCJwYXJzZUJpdG1hcEZvbnREYXRhIiwiYml0bWFwRm9udFBhcnNlciIsIl9iaXRtYXBGb250UGFyc2VyIiwiX3Nwcml0ZXNoZWV0UGFyc2VyIiwiX3RleHR1cmVQYXJzZXIiLCJfQXBwbGljYXRpb24yIiwiX2xvYWRlcjIiLCJBcHBQcm90b3R5cGUiLCJfbG9hZGVyIiwiX3BhcmVudERlc3Ryb3kiLCJfSW50ZXJhY3Rpb25EYXRhMiIsIl9JbnRlcmFjdGlvbkV2ZW50MiIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIiLCJfaW50ZXJhY3RpdmVUYXJnZXQyIiwiZGVsYXlNaXhpbiIsIk1PVVNFX1BPSU5URVJfSUQiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImV2ZW50RGF0YSIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsImN1cnJlbnRDdXJzb3JNb2RlIiwiX3RlbXBQb2ludCIsInNldFRhcmdldEVsZW1lbnQiLCJoaXRUZXN0IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJlbGVtZW50IiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsImRlbHRhVGltZSIsIl9kZWx0YVRpbWUiLCJkaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25FdmVudCIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJtb2RlIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50U3RyaW5nIiwibWFwUG9zaXRpb25Ub1BvaW50IiwicGFyZW50RWxlbWVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwibGVmdCIsInRvcCIsImZ1bmMiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNoaWxkSGl0Iiwibm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInJpZ2h0RG93biIsImxlZnREb3duIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNEb3duIiwib3ZlciIsIm5vbmUiLCJpc01vdXNlIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJfSW50ZXJhY3Rpb25EYXRhIiwiX0ludGVyYWN0aW9uTWFuYWdlciIsIl9pbnRlcmFjdGl2ZVRhcmdldCIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9JbnRlcmFjdGlvbkV2ZW50IiwiQWxwaGFGaWx0ZXIiLCJ1QWxwaGEiLCJDb2xvck1hdHJpeEZpbHRlciIsIl9sb2FkTWF0cml4IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiYnJpZ2h0bmVzcyIsIm11bHRpcGx5IiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIl9CbHVyWEZpbHRlcjIiLCJfQmx1cllGaWx0ZXIyIiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIkZYQUFGaWx0ZXIiLCJfRlhBQUZpbHRlciIsIl9Ob2lzZUZpbHRlciIsIl9EaXNwbGFjZW1lbnRGaWx0ZXIiLCJfQmx1ckZpbHRlciIsIl9CbHVyWEZpbHRlciIsIl9CbHVyWUZpbHRlciIsIl9Db2xvck1hdHJpeEZpbHRlciIsIl9BbHBoYUZpbHRlciIsImdldEdsb2JhbFBvc2l0aW9uIiwiZ2V0Q2hpbGRCeU5hbWUiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXJXZWJHTCIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZFdlYkdMIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJzdGFjayIsImZpbHRlclN0YWNrIiwiY2FjaGVkU3ByaXRlIiwiX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyIsIl9nZXRDYWNoZWRMb2NhbEJvdW5kcyIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyIsIl9PYnNlcnZhYmxlUG9pbnQyIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2dseXBocyIsIl9mb250IiwiX3RleHQiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsImZvbnRzIiwiY2hhcnMiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdFNwYWNlIiwibGFzdFNwYWNlV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJDb2RlIiwiY2hhckRhdGEiLCJrZXJuaW5nIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwiX2k0IiwidmFsaWRhdGUiLCJpbmZvIiwiY29tbW9uIiwiZmlsZU5hbWUiLCJwYXJzZUludCIsImxldHRlcnMiLCJsZXR0ZXIiLCJ0ZXh0dXJlUmVjdCIsImtlcm5pbmdzIiwiX2k1IiwiZmlyc3QiLCJzZWNvbmQiLCJzaW1wbGVTaGFkZXIiLCJxdWFkIiwidHMiLCJ1dlJlc3BlY3RBbmNob3IiLCJiYXNlVGV4IiwidGlsZVRyYW5zZm9ybSIsInV2IiwidXZUcmFuc2Zvcm0iLCJpc1NpbXBsZSIsIkgiLCJ1TWFwQ29vcmQiLCJfQ2FudmFzVGludGVyMiIsIl9jb3JlJFNwcml0ZSIsIl9jYW52YXNQYXR0ZXJuIiwiYmFzZVRleHR1cmVSZXNvbHV0aW9uIiwibW9kWCIsInRpbGVQb3NpdGlvbiIsInRpbGVTY2FsZSIsIm1vZFkiLCJ0ZW1wQ2FudmFzIiwidGludGVkVGV4dHVyZSIsImNyZWF0ZVBhdHRlcm4iLCJhbmNob3JYIiwiYW5jaG9yWSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwicGxheWluZyIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJ0aW1lIiwiVEVNUF9SRUNUIiwiQ2FudmFzRXh0cmFjdCIsImV4dHJhY3QiLCJjYW52YXNCdWZmZXIiLCJjYW52YXNEYXRhIiwiV2ViR0xFeHRyYWN0IiwidGV4dHVyZUJ1ZmZlciIsImZsaXBZIiwiZ2VuZXJhdGVkIiwid2ViZ2xQaXhlbHMiLCJVaW50OEFycmF5IiwicmVhZFBpeGVscyIsIl9XZWJHTEV4dHJhY3QiLCJfQ2FudmFzRXh0cmFjdCIsIl9pc21vYmlsZWpzMiIsIl9hY2Nlc3NpYmxlVGFyZ2V0MiIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiRElWX1RPVUNIX1pJTkRFWCIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiY3JlYXRlVG91Y2hIb29rIiwiekluZGV4IiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2FiaWxsaXR5IiwiaG9va0RpdiIsIkRJVl9IT09LX1NJWkUiLCJESVZfSE9PS19QT1NfWCIsIkRJVl9IT09LX1BPU19ZIiwidGl0bGUiLCJib2R5IiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiY2FwSGl0QXJlYSIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwiaW50ZXJhY3Rpb24iLCJrZXlDb2RlIiwiX2FjY2Vzc2libGVUYXJnZXQiLCJfQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJtc2ciLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwicGFydGljbGVzIiwiZXh0cmFzIiwibG9hZGVycyIsIlNwcml0ZUJhdGNoIiwiQXNzZXRMb2FkZXIiLCJTdGFnZSIsIkRpc3BsYXlPYmplY3RDb250YWluZXIiLCJTdHJpcCIsIk1vdmllQ2xpcCIsInNjYWxlTW9kZXMiLCJtYXRoIiwiQWJzdHJhY3RGaWx0ZXIiLCJUcmFuc2Zvcm1NYW51YWwiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiZGVmYXVsdHMiLCJfbG9vcCIsImRlcHJlY2F0aW9uIiwiVGV4dHVyZVRyYW5zZm9ybSIsImdlbmVyYXRlQ2FudmFzVGV4dHVyZSIsImlzU3dhcFdpZHRoSGVpZ2h0IiwiZ2V0SW1hZ2UiLCJnZXRCYXNlNjQiLCJnZXRDYW52YXMiLCJnZXRQaXhlbHMiLCJzZXRUZXh0dXJlIiwic2V0VGV4dCIsImNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzIiwiZm9udFByb3BlcnRpZXNDYWNoZSIsImZvbnRQcm9wZXJ0aWVzQ2FudmFzIiwiZm9udFByb3BlcnRpZXNDb250ZXh0Iiwic2V0U3R5bGUiLCJkZXRlcm1pbmVGb250UHJvcGVydGllcyIsImdldEZvbnRTdHlsZSIsInNwbGl0cyIsImZvbnRTaXplSW5kZXgiLCJhZGRUZXh0dXJlVG9DYWNoZSIsInJlbW92ZVRleHR1cmVGcm9tQ2FjaGUiLCJWb2lkRmlsdGVyIiwidXVpZCIsImNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJyZWdpc3RlciIsIk5hTiIsIndlYmdsIiwiaXNKc29uIiwiaXNYbWwiLCJpc0ltYWdlIiwiaXNBdWRpbyIsImlzVmlkZW8iLCJiZWZvcmUiLCJhZnRlciIsImludGVyYWN0aXZlVGFyZ2V0IiwiXyIsInJlc29sdXRpb25GaWxlbmFtZSIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIkJBVENIX1NJWkUiLCJfcHJvY2Vzc0ZyYW1lcyIsIl9wYXJzZUNvbXBsZXRlIiwiX25leHRCYXRjaCIsImluaXRpYWxGcmFtZUluZGV4IiwiZnJhbWVJbmRleCIsIm1heEZyYW1lcyIsInNvdXJjZVNpemUiLCJ0cmltbWVkIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJfQ2FudmFzUmVuZGVyZXIiLCJfcHJldlRpbnQiLCJ1cGRhdGVHcmFwaGljc1RpbnQiLCJyZW5kZXJQb2x5Z29uIiwiY2xvc2VkIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiYXJjIiwicmFkaXVzIiwib3giLCJveSIsInhlIiwieWUiLCJ4bSIsInltIiwiYmV6aWVyQ3VydmVUbyIsInJ4IiwicnkiLCJtYXhSYWRpdXMiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwidGludFIiLCJ0aW50RyIsInRpbnRCIiwiY2xvc2UiLCJjaXJjbGVEYXRhIiwidG90YWxTZWdzIiwic2VnIiwidmVjUG9zIiwidGVtcFBvaW50cyIsIl9idWlsZExpbmUyIiwiX2J1aWxkTGluZSIsInJyZWN0RGF0YSIsInJlY1BvaW50cyIsInF1YWRyYXRpY0JlemllckN1cnZlIiwiX2VhcmN1dDIiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwicmVjdERhdGEiLCJ2ZXJ0UG9zIiwiaG9sZUFycmF5IiwiUHJpbWl0aXZlU2hhZGVyIiwiV2ViR0xHcmFwaGljc0RhdGEiLCJhdHRyaWJzU3RhdGUiLCJnbFBvaW50cyIsImdsSW5kaWNlcyIsIl9PYmplY3RSZW5kZXJlcjMiLCJfV2ViR0xHcmFwaGljc0RhdGEyIiwiX1ByaW1pdGl2ZVNoYWRlcjIiLCJfYnVpbGRQb2x5MiIsIl9idWlsZFJlY3RhbmdsZTIiLCJfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiIsIl9idWlsZENpcmNsZTIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwid2ViR0wiLCJzaGFkZXJUZW1wIiwiZHJhd0FycmF5cyIsImxhc3RJbmRleCIsImdldFdlYkdMRGF0YSIsImNwWDIiLCJjcFkyIiwiZHQiLCJkdDIiLCJkdDMiLCJ0MiIsInQzIiwiX0dyYXBoaWNzRGF0YTIiLCJfU3ByaXRlMiIsIl9iZXppZXJDdXJ2ZVRvMyIsImNhbnZhc1JlbmRlcmVyIiwidGVtcENvbG9yMSIsInRlbXBDb2xvcjIiLCJjdXJyZW50UGF0aCIsImJvdW5kc1BhZGRpbmciLCJfbG9jYWxCb3VuZHMiLCJmYXN0UmVjdERpcnR5IiwiYm91bmRzRGlydHkiLCJjYWNoZWRTcHJpdGVEaXJ0eSIsIl9zcHJpdGVSZWN0IiwiX2Zhc3RSZWN0IiwidXBkYXRlTG9jYWxCb3VuZHMiLCJsaW5lU3R5bGUiLCJkcmF3U2hhcGUiLCJhcmNUbyIsIm1tIiwiZGQiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJzZWdzIiwic3RhcnRYIiwic3RhcnRZIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsImJlZ2luRmlsbCIsImZpbGxpbmciLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJSb3VuZGVkUmVjdGFuZ2xlIiwiZHJhd0NpcmNsZSIsIkNpcmNsZSIsImRyYXdFbGxpcHNlIiwiRWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJpbm5lclJhZGl1cyIsInBvbHlnb24iLCJpc0Zhc3RSZWN0IiwiX3JlbmRlclNwcml0ZVJlY3QiLCJ0MSIsImxiIiwicnciLCJyaCIsIl93ZWJnbCIsIl9TUFJJVEVfVEVYVFVSRSIsImJvdW5kIiwicmlnaHQiLCJib3R0b20iLCJfU3ByaXRlMyIsIl9UZXh0U3R5bGUyIiwiX1RleHRNZXRyaWNzMiIsIl90cmltQ2FudmFzMiIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwibG9jYWxTdHlsZUlEIiwicmVzcGVjdERpcnR5IiwibWVhc3VyZWQiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciIsInhTaGFkb3dPZmZzZXQiLCJ5U2hhZG93T2Zmc2V0IiwiZHJhd0xldHRlclNwYWNpbmciLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJpc1N0cm9rZSIsIlN0cmluZyIsImN1cnJlbnRQb3NpdGlvbiIsImN1cnJlbnQiLCJzdHJva2VUZXh0IiwiX29uU3R5bGVDaGFuZ2UiLCJncmFkaWVudCIsInRvdGFsSXRlcmF0aW9ucyIsImN1cnJlbnRJdGVyYXRpb24iLCJsZW5ndGhQbHVzMSIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiQnVmZmVyIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3IiwibWF4SWZzIiwiY3JlYXRlVGVtcENvbnRleHQiLCJ0aW55Q2FudmFzIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJnZW5lcmF0ZVNhbXBsZVNyYyIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJEU1RfQ09MT1IiLCJPTkVfTUlOVVNfU1JDX0NPTE9SIiwiU1JDX0FMUEhBIiwiX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsIl9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyIiwiV2ViR0xTdGF0ZSIsImFjdGl2ZVN0YXRlIiwiZGVmYXVsdFN0YXRlIiwic3RhY2tJbmRleCIsIm1heEF0dHJpYnMiLCJNQVhfVkVSVEVYX0FUVFJJQlMiLCJuYXRpdmVWYW9FeHRlbnNpb24iLCJzZXRTdGF0ZSIsInNldEJsZW5kIiwic2V0RGVwdGhUZXN0Iiwic2V0RnJvbnRGYWNlIiwic2V0Q3VsbEZhY2UiLCJCTEVORCIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInJlc2V0QXR0cmlidXRlcyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR2FyYmFnZUNvbGxlY3RvciIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsInJ1biIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwiX21hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsIlRleHR1cmVNYW5hZ2VyIiwiZ2V0VGV4dHVyZSIsImlzUmVuZGVyVGV4dHVyZSIsInNraXBSZW1vdmUiLCJnbFRleHR1cmVzIiwiZ2xSZW5kZXJUYXJnZXRzIiwiY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJ0ZXh0dXJlU2l6ZSIsIm1hcHBlZE1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIlRFTVBfTUFUUklYIiwiX1dlYkdMTWFuYWdlcjMiLCJfUXVhZDIiLCJmaWx0ZXJUcmFuc2Zvcm1zIiwiRmlsdGVyU3RhdGUiLCJGaWx0ZXJNYW5hZ2VyIiwic2hhZGVyQ2FjaGUiLCJtYW5hZ2VkRmlsdGVycyIsImZpbHRlclN0YXRlIiwidGFyZ2V0Qm91bmRzIiwiZ2V0UG90UmVuZGVyVGFyZ2V0IiwibGFzdFN0YXRlIiwiZnJlZVBvdFJlbmRlclRhcmdldCIsInNjaXNzb3JSZW5kZXJUYXJnZXQiLCJwdXNoU2Npc3Nvck1hc2siLCJzY2lzc29yRGF0YSIsInN5bmNVbmlmb3JtcyIsInRleHR1cmVDb3VudCIsImZpbHRlckNsYW1wIiwiY29udGV4dExvc3QiLCJlbXB0eVBvb2wiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlN0ZW5jaWxNYW5hZ2VyIiwiU1RFTkNJTF9URVNUIiwicHVzaFN0ZW5jaWwiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiX3VzZUN1cnJlbnQiLCJwb3BTdGVuY2lsIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsInN0ZW5jaWxTdGFjayIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJuZXh0VGljayIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjaGRpciIsInVtYXNrIiwidmVydFVuaWZvcm1zIiwiZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyIsImZyYWdVbmlmb3JtcyIsInN0cmluZyIsIm1hc2tSZWdleCIsIm5hbWVTcGxpdCIsInNwbGl0TGluZSIsIl9TcHJpdGVNYXNrRmlsdGVyMiIsIk1hc2tNYW5hZ2VyIiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJhbHBoYU1hc2tJbmRleCIsIm1hc2tEYXRhIiwicHVzaFNwcml0ZU1hc2siLCJyb3QiLCJwdXNoU3RlbmNpbE1hc2siLCJwb3BTcHJpdGVNYXNrIiwicG9wU2Npc3Nvck1hc2siLCJwb3BTdGVuY2lsTWFzayIsImFscGhhTWFza0ZpbHRlciIsIl9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjIiLCJfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMiIsIl9CYXRjaEJ1ZmZlcjIiLCJUSUNLIiwiVEVYVFVSRV9USUNLIiwidmVydFNpemUiLCJ2ZXJ0Qnl0ZVNpemUiLCJncm91cHMiLCJpZHMiLCJibGVuZCIsInNwcml0ZXMiLCJ2ZXJ0ZXhCdWZmZXJzIiwidmFvcyIsInZhb01heCIsInZlcnRleENvdW50Iiwib25QcmVyZW5kZXIiLCJNQVhfVEVYVFVSRVMiLCJhdHRycyIsIlVOU0lHTkVEX1NIT1JUIiwiYVRleHR1cmVJZCIsImN1cnJlbnRCbGVuZE1vZGUiLCJucDIiLCJyZW5kZXJlckJvdW5kVGV4dHVyZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiZ3JvdXBDb3VudCIsImN1cnJlbnRHcm91cCIsImJ0Iiwic3ByaXRlQmxlbmRNb2RlIiwidEluZGV4IiwiZ3JvdXAiLCJncm91cFRleHR1cmVDb3VudCIsImRyYXdFbGVtZW50cyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiIsIkNhbnZhc01hc2tNYW5hZ2VyIiwicmVuZGVyR3JhcGhpY3NTaGFwZSIsImNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtIiwic21vb3RoaW5nRW5hYmxlZCIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJfVGlja2VyTGlzdGVuZXIyIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJlbGFwc2VkTVMiLCJsYXN0VGltZSIsInNwZWVkIiwiX3RpY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJoZWFkIiwiZnBzIiwibWluRlBNUyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwiZXEiLCJvYmplY3RLZXlzIiwia3MiLCJxcyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImRlY29kZSIsImVuY29kZSIsImFyZyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsInRNaW4iLCJ0TWF4IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJmcm9tQ2hhckNvZGUiLCJtYXBEb21haW4iLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiYWRhcHQiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ1Y3MyIiwidG9Vbmljb2RlIiwibnBtIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInBlcmZvcm1NaXhpbnMiLCJfX3BsdWdpbnMiLCJjdG9yIiwicGxhdGZvcm0iLCJfaXNtb2JpbGVqcyIsImNvbXBpbGVQcm9ncmFtIiwiZXh0cmFjdEF0dHJpYnV0ZXMiLCJleHRyYWN0VW5pZm9ybXMiLCJnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QiLCJzZXRQcmVjaXNpb24iLCJuYXRpdmVTdGF0ZSIsIm5hdGl2ZVZhbyIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwibGFzdEJ1ZmZlciIsImdldFNpemUiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsIkZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJlbmFibGVUZXh0dXJlIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJGUkFNRUJVRkZFUiIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwiYmluZFJlbmRlcmJ1ZmZlciIsIlJFTkRFUkJVRkZFUiIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImJpbmRGcmFtZWJ1ZmZlciIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZmJvIiwiY3JlYXRlRmxvYXQzMiIsIkVNUFRZX0FSUkFZX0JVRkZFUiIsImRyYXdUeXBlIiwiY3JlYXRlQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZG9udEJpbmQiLCJieXRlTGVuZ3RoIiwiYnVmZmVyU3ViRGF0YSIsImJ1ZmZlckRhdGEiLCJiaW5kQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJyYWRpdXMyIiwiX2tleSIsImlsIiwieGkiLCJ5aSIsInhqIiwieWoiLCJfUmVjdGFuZ2xlMiIsIm5vcm14Iiwibm9ybXkiLCJyMiIsImlzTmFOIiwiZ2V0VGltZSIsInN0YXJ0VGltZSIsInZlbmRvcnMiLCJkZWxheSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRlc3QxIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwidGVzdDMiLCJzaG91bGRVc2VOYXRpdmUiLCJzeW1ib2xzIiwidG9PYmplY3QiLCJfb2JqZWN0QXNzaWduIiwiX29iamVjdEFzc2lnbjIiLCJsb2FkZXIiLCJhY2Nlc3NpYmlsaXR5IiwiX3BvbHlmaWxsIiwiX2RlcHJlY2F0aW9uIiwiX2RlcHJlY2F0aW9uMiIsImNzcyIsImN1cnJlbnREaXIiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhZGRBdHRycyIsImVsIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJidG9hIiwibGluayIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsIm9sZFNyYyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwibG9hZFByb2dyZXNzSGFuZGxlciIsImFmdGVyUmVzb3VyY2VzTG9hZCIsInJlbmRlcmVyX29wdGlvbnMiLCJib2R5X2NvbXBvbmVudHMiLCJfY29tcG9uZW50czIiLCJwb3NpdGlvbl9jb21wb25lbnRzIiwiYXBwIiwiZ2V0RWxlbWVudEJ5SWQiLCJsb2xwaXhlbHMiLCJza3VsbCIsIl9sb2xwaXhlbHMyIiwiX3NrdWxsMiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxT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QUE3RCxFQUFBLElBQ0F4aUIsRUFBQSxHQUFBcW1CLEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FHQXJtQixFQUFBLEdBQUFxbUIsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsR0FBQXFtQixFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQ0F4aUIsRUFBQSxHQUFBcW1CLEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFDQXhpQixFQUFBLEdBQUFxbUIsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsR0FBQXFtQixFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBR0FybUIsRUFBQSxJQUFBcW1CLEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFDQXhpQixFQUFBLElBQUFxbUIsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsSUFBQXFtQixFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLElBQUE2RCxFQUFBLElBQUE3RCxFQUFBLElBQ0F4aUIsRUFBQSxJQUFBcW1CLEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFDQXhpQixFQUFBLElBQUFxbUIsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxJQUdBcm1CLEVBQUEsSUFBQXFtQixFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLElBQUE2RCxFQUFBLElBQUE3RCxFQUFBLElBQ0F4aUIsRUFBQSxJQUFBcW1CLEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFDQXhpQixFQUFBLElBQUFxbUIsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsSUFBQXFtQixFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLElBQUE2RCxFQUFBLElBQUE3RCxFQUFBLElBQ0F4aUIsRUFBQSxJQUFBcW1CLEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFBQTZELEVBQUEsSUFBQTdE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LEVBQUtvMkYsT0FBT3IyRCxVQUFVMDdELE1BQU1sMEYsVUFJakUvTSxPQUFPbWxCLGlCQUFpQixPQXZDeEIsV0FDRTNmLEVBQUtvMkYsT0FBTzl3RSxJQUFJLFlBQWhCbzJFLEVBQUE3bUcsU0FDQ3l3QixJQUFJLFFBRExxMkUsRUFBQTltRyxTQUVDZ1IsR0FBRyxXQUFZbTFGLEdBQ2ZqeEUsS0FBS2t4RSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE5OSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSBleHBvcnRzLlZFUlNJT04gPSAnNC43LjAnO1xuXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUElfMiA9IGV4cG9ydHMuUElfMiA9IE1hdGguUEkgKiAyO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUkFEX1RPX0RFRyA9IGV4cG9ydHMuUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBERUdfVE9fUkFEID0gZXhwb3J0cy5ERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRSA9IGV4cG9ydHMuUkVOREVSRVJfVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgV0VCR0w6IDEsXG4gIENBTlZBUzogMlxufTtcblxuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqL1xudmFyIEJMRU5EX01PREVTID0gZXhwb3J0cy5CTEVORF9NT0RFUyA9IHtcbiAgTk9STUFMOiAwLFxuICBBREQ6IDEsXG4gIE1VTFRJUExZOiAyLFxuICBTQ1JFRU46IDMsXG4gIE9WRVJMQVk6IDQsXG4gIERBUktFTjogNSxcbiAgTElHSFRFTjogNixcbiAgQ09MT1JfRE9ER0U6IDcsXG4gIENPTE9SX0JVUk46IDgsXG4gIEhBUkRfTElHSFQ6IDksXG4gIFNPRlRfTElHSFQ6IDEwLFxuICBESUZGRVJFTkNFOiAxMSxcbiAgRVhDTFVTSU9OOiAxMixcbiAgSFVFOiAxMyxcbiAgU0FUVVJBVElPTjogMTQsXG4gIENPTE9SOiAxNSxcbiAgTFVNSU5PU0lUWTogMTYsXG4gIE5PUk1BTF9OUE06IDE3LFxuICBBRERfTlBNOiAxOCxcbiAgU0NSRUVOX05QTTogMTlcbn07XG5cbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRFJBV19NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUyA9IGV4cG9ydHMuRFJBV19NT0RFUyA9IHtcbiAgUE9JTlRTOiAwLFxuICBMSU5FUzogMSxcbiAgTElORV9MT09QOiAyLFxuICBMSU5FX1NUUklQOiAzLFxuICBUUklBTkdMRVM6IDQsXG4gIFRSSUFOR0xFX1NUUklQOiA1LFxuICBUUklBTkdMRV9GQU46IDZcbn07XG5cbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTID0gZXhwb3J0cy5TQ0FMRV9NT0RFUyA9IHtcbiAgTElORUFSOiAwLFxuICBORUFSRVNUOiAxXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgQ0xBTVAgb3IgUkVQRUFULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIElmIHRoZSB0ZXh0dXJlIGlzIG5vbiBwb3dlciBvZiB0d28gdGhlbiBjbGFtcCB3aWxsIGJlIHVzZWQgcmVnYXJkbGVzcyBhcyB3ZWJHTCBjYW5cbiAqIG9ubHkgdXNlIFJFUEVBVCBpZiB0aGUgdGV4dHVyZSBpcyBwbzIuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBXUkFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEFNUCAtIFRoZSB0ZXh0dXJlcyB1dnMgYXJlIGNsYW1wZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUlSUk9SRURfUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdCB3aXRoIG1pcnJvcmluZ1xuICovXG52YXIgV1JBUF9NT0RFUyA9IGV4cG9ydHMuV1JBUF9NT0RFUyA9IHtcbiAgQ0xBTVA6IDAsXG4gIFJFUEVBVDogMSxcbiAgTUlSUk9SRURfUkVQRUFUOiAyXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVMgPSBleHBvcnRzLkdDX01PREVTID0ge1xuICBBVVRPOiAwLFxuICBNQU5VQUw6IDFcbn07XG5cbi8qKlxuICogUmVnZXhwIGZvciBpbWFnZSB0eXBlIGJ5IGV4dGVuc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UmVnRXhwfHN0cmluZ31cbiAqIEBleGFtcGxlIGBpbWFnZS5wbmdgXG4gKi9cbnZhciBVUkxfRklMRV9FWFRFTlNJT04gPSBleHBvcnRzLlVSTF9GSUxFX0VYVEVOU0lPTiA9IC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gZXhwb3J0cy5EQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjsoY2hhcnNldD1bXFx3LV0rfGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogUmVnZXhwIGZvciBTVkcgc2l6ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNWR19TSVpFXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gKi9cbnZhciBTVkdfU0laRSA9IGV4cG9ydHMuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGlkZW50aWZ5IHNoYXBlcywgbWFpbmx5IHRvIHByZXZlbnQgYGluc3RhbmNlb2ZgIGNhbGxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU0hBUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICovXG52YXIgU0hBUEVTID0gZXhwb3J0cy5TSEFQRVMgPSB7XG4gIFBPTFk6IDAsXG4gIFJFQ1Q6IDEsXG4gIENJUkM6IDIsXG4gIEVMSVA6IDMsXG4gIFJSRUM6IDRcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTiA9IGV4cG9ydHMuUFJFQ0lTSU9OID0ge1xuICBMT1c6ICdsb3dwJyxcbiAgTUVESVVNOiAnbWVkaXVtcCcsXG4gIEhJR0g6ICdoaWdocCdcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFlOQU1JQ1xuICovXG52YXIgVFJBTlNGT1JNX01PREUgPSBleHBvcnRzLlRSQU5TRk9STV9NT0RFID0ge1xuICBTVEFUSUM6IDAsXG4gIERZTkFNSUM6IDFcbn07XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQgPSBleHBvcnRzLlRFWFRfR1JBRElFTlQgPSB7XG4gIExJTkVBUl9WRVJUSUNBTDogMCxcbiAgTElORUFSX0hPUklaT05UQUw6IDFcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWSA9IGV4cG9ydHMuVVBEQVRFX1BSSU9SSVRZID0ge1xuICBJTlRFUkFDVElPTjogNTAsXG4gIEhJR0g6IDI1LFxuICBOT1JNQUw6IDAsXG4gIExPVzogLTI1LFxuICBVVElMSVRZOiAtNTBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmF1dG9EZXRlY3RSZW5kZXJlciA9IGV4cG9ydHMuQXBwbGljYXRpb24gPSBleHBvcnRzLkZpbHRlciA9IGV4cG9ydHMuU3ByaXRlTWFza0ZpbHRlciA9IGV4cG9ydHMuUXVhZCA9IGV4cG9ydHMuUmVuZGVyVGFyZ2V0ID0gZXhwb3J0cy5PYmplY3RSZW5kZXJlciA9IGV4cG9ydHMuV2ViR0xNYW5hZ2VyID0gZXhwb3J0cy5TaGFkZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlclRhcmdldCA9IGV4cG9ydHMuVGV4dHVyZVV2cyA9IGV4cG9ydHMuVmlkZW9CYXNlVGV4dHVyZSA9IGV4cG9ydHMuQmFzZVJlbmRlclRleHR1cmUgPSBleHBvcnRzLlJlbmRlclRleHR1cmUgPSBleHBvcnRzLkJhc2VUZXh0dXJlID0gZXhwb3J0cy5UZXh0dXJlTWF0cml4ID0gZXhwb3J0cy5UZXh0dXJlID0gZXhwb3J0cy5TcHJpdGVzaGVldCA9IGV4cG9ydHMuQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IGV4cG9ydHMuR3JhcGhpY3NSZW5kZXJlciA9IGV4cG9ydHMuR3JhcGhpY3NEYXRhID0gZXhwb3J0cy5HcmFwaGljcyA9IGV4cG9ydHMuVGV4dE1ldHJpY3MgPSBleHBvcnRzLlRleHRTdHlsZSA9IGV4cG9ydHMuVGV4dCA9IGV4cG9ydHMuU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1RpbnRlciA9IGV4cG9ydHMuQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLlNwcml0ZSA9IGV4cG9ydHMuVHJhbnNmb3JtQmFzZSA9IGV4cG9ydHMuVHJhbnNmb3JtU3RhdGljID0gZXhwb3J0cy5UcmFuc2Zvcm0gPSBleHBvcnRzLkNvbnRhaW5lciA9IGV4cG9ydHMuRGlzcGxheU9iamVjdCA9IGV4cG9ydHMuQm91bmRzID0gZXhwb3J0cy5nbENvcmUgPSBleHBvcnRzLldlYkdMUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gZXhwb3J0cy50aWNrZXIgPSBleHBvcnRzLnV0aWxzID0gZXhwb3J0cy5zZXR0aW5ncyA9IHVuZGVmaW5lZDtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4vY29uc3QnKTtcblxuT2JqZWN0LmtleXMoX2NvbnN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfY29uc3Rba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4vbWF0aCcpO1xuXG5PYmplY3Qua2V5cyhfbWF0aCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX21hdGhba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dsQ29yZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vZGlzcGxheS9Cb3VuZHMnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCb3VuZHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QgPSByZXF1aXJlKCcuL2Rpc3BsYXkvRGlzcGxheU9iamVjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYXlPYmplY3QnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXNwbGF5T2JqZWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ29udGFpbmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMgPSByZXF1aXJlKCcuL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtU3RhdGljJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtU3RhdGljKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybUJhc2UnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUcmFuc2Zvcm1CYXNlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtQmFzZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlID0gcmVxdWlyZSgnLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNUaW50ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL3dlYmdsL1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dCA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHRTdHlsZSA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0U3R5bGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0U3R5bGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0U3R5bGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHRNZXRyaWNzID0gcmVxdWlyZSgnLi90ZXh0L1RleHRNZXRyaWNzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dE1ldHJpY3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0TWV0cmljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3MgPSByZXF1aXJlKCcuL2dyYXBoaWNzL0dyYXBoaWNzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3MnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljcykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9ncmFwaGljcy9HcmFwaGljc0RhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljc0RhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc0RhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzUmVuZGVyZXIgPSByZXF1aXJlKCcuL2dyYXBoaWNzL3dlYmdsL0dyYXBoaWNzUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcmFwaGljc1JlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNHcmFwaGljc1JlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzR3JhcGhpY3NSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfU3ByaXRlc2hlZXQgPSByZXF1aXJlKCcuL3RleHR1cmVzL1Nwcml0ZXNoZWV0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU3ByaXRlc2hlZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVzaGVldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlTWF0cml4ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZU1hdHJpeCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYXRyaXgpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZW5kZXJUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVJlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVJlbmRlclRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUmVuZGVyVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVmlkZW9CYXNlVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1ZpZGVvQmFzZVRleHR1cmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWRlb0Jhc2VUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0dXJlVXZzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9UZXh0dXJlVXZzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dHVyZVV2cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVVdnMpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNSZW5kZXJUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4vU2hhZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU2hhZGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9XZWJHTE1hbmFnZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdXZWJHTE1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPYmplY3RSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZW5kZXJUYXJnZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC91dGlscy9RdWFkJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUXVhZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YWQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZU1hc2tGaWx0ZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZU1hc2tGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVNYXNrRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9GaWx0ZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL0ZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQXBwbGljYXRpb24gPSByZXF1aXJlKCcuL0FwcGxpY2F0aW9uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQXBwbGljYXRpb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhdXRvRGV0ZWN0UmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcjtcbiAgfVxufSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciB1dGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIHRpY2tlciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aWNrZXIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuc2V0dGluZ3MgPSBfc2V0dGluZ3MyLmRlZmF1bHQ7XG5leHBvcnRzLnV0aWxzID0gdXRpbHM7XG5leHBvcnRzLnRpY2tlciA9IHRpY2tlcjtcbmV4cG9ydHMuQ2FudmFzUmVuZGVyZXIgPSBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQ7XG5leHBvcnRzLldlYkdMUmVuZGVyZXIgPSBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdDsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnByZW11bHRpcGx5QmxlbmRNb2RlID0gZXhwb3J0cy5CYXNlVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5UZXh0dXJlQ2FjaGUgPSBleHBvcnRzLm1peGlucyA9IGV4cG9ydHMucGx1Z2luVGFyZ2V0ID0gZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBleHBvcnRzLnJlbW92ZUl0ZW1zID0gZXhwb3J0cy5pc01vYmlsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMudWlkID0gdWlkO1xuZXhwb3J0cy5oZXgycmdiID0gaGV4MnJnYjtcbmV4cG9ydHMuaGV4MnN0cmluZyA9IGhleDJzdHJpbmc7XG5leHBvcnRzLnJnYjJoZXggPSByZ2IyaGV4O1xuZXhwb3J0cy5nZXRSZXNvbHV0aW9uT2ZVcmwgPSBnZXRSZXNvbHV0aW9uT2ZVcmw7XG5leHBvcnRzLmRlY29tcG9zZURhdGFVcmkgPSBkZWNvbXBvc2VEYXRhVXJpO1xuZXhwb3J0cy5nZXRVcmxGaWxlRXh0ZW5zaW9uID0gZ2V0VXJsRmlsZUV4dGVuc2lvbjtcbmV4cG9ydHMuZ2V0U3ZnU2l6ZSA9IGdldFN2Z1NpemU7XG5leHBvcnRzLnNraXBIZWxsbyA9IHNraXBIZWxsbztcbmV4cG9ydHMuc2F5SGVsbG8gPSBzYXlIZWxsbztcbmV4cG9ydHMuaXNXZWJHTFN1cHBvcnRlZCA9IGlzV2ViR0xTdXBwb3J0ZWQ7XG5leHBvcnRzLnNpZ24gPSBzaWduO1xuZXhwb3J0cy5kZXN0cm95VGV4dHVyZUNhY2hlID0gZGVzdHJveVRleHR1cmVDYWNoZTtcbmV4cG9ydHMuY2xlYXJUZXh0dXJlQ2FjaGUgPSBjbGVhclRleHR1cmVDYWNoZTtcbmV4cG9ydHMuY29ycmVjdEJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGU7XG5leHBvcnRzLnByZW11bHRpcGx5VGludCA9IHByZW11bHRpcGx5VGludDtcbmV4cG9ydHMucHJlbXVsdGlwbHlSZ2JhID0gcHJlbXVsdGlwbHlSZ2JhO1xuZXhwb3J0cy5wcmVtdWx0aXBseVRpbnRUb1JnYmEgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmE7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX3BsdWdpblRhcmdldCA9IHJlcXVpcmUoJy4vcGx1Z2luVGFyZ2V0Jyk7XG5cbnZhciBfcGx1Z2luVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpblRhcmdldCk7XG5cbnZhciBfbWl4aW4gPSByZXF1aXJlKCcuL21peGluJyk7XG5cbnZhciBtaXhpbnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWl4aW4pO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBpc01vYmlsZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pc21vYmlsZWpzKTtcblxudmFyIF9yZW1vdmVBcnJheUl0ZW1zID0gcmVxdWlyZSgncmVtb3ZlLWFycmF5LWl0ZW1zJyk7XG5cbnZhciBfcmVtb3ZlQXJyYXlJdGVtczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVBcnJheUl0ZW1zKTtcblxudmFyIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyA9IHJlcXVpcmUoJy4vbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMnKTtcblxudmFyIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBuZXh0VWlkID0gMDtcbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIFBJWEkuXG4gKiBAZXhhbXBsZVxuICogLy8gRXh0ZW5kIFBJWEkncyBpbnRlcm5hbCBFdmVudCBFbWl0dGVyLlxuICogY2xhc3MgTXlFbWl0dGVyIGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXIge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICAgc3VwZXIoKTtcbiAqICAgICAgY29uc29sZS5sb2coXCJFbWl0dGVyIGNyZWF0ZWQhXCIpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gR2V0IGluZm8gb24gY3VycmVudCBkZXZpY2VcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaXNNb2JpbGUpO1xuICpcbiAqIC8vIENvbnZlcnQgaGV4IGNvbG9yIHRvIHN0cmluZ1xuICogY29uc29sZS5sb2coUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmYwMGZmKSk7IC8vIHJldHVybnM6IFwiI2ZmMDBmZlwiXG4gKiBAbmFtZXNwYWNlIFBJWEkudXRpbHNcbiAqL1xuZXhwb3J0cy5pc01vYmlsZSA9IGlzTW9iaWxlO1xuZXhwb3J0cy5yZW1vdmVJdGVtcyA9IF9yZW1vdmVBcnJheUl0ZW1zMi5kZWZhdWx0O1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0O1xuZXhwb3J0cy5wbHVnaW5UYXJnZXQgPSBfcGx1Z2luVGFyZ2V0Mi5kZWZhdWx0O1xuZXhwb3J0cy5taXhpbnMgPSBtaXhpbnM7XG5cbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuXG5mdW5jdGlvbiB1aWQoKSB7XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYW4gW1IsIEcsIEJdIGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3IuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoaGV4ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKGhleCA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzJdID0gKGhleCAmIDB4RkYpIC8gMjU1O1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleFxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICAgIGhleCA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4ID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXgubGVuZ3RoKSArIGhleDtcblxuICAgIHJldHVybiAnIycgKyBoZXg7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgdG8gYSBoZXggbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSByZ2IgYXJyYXlcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGNvbG9yIG51bWJlclxuICovXG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICAgIHJldHVybiAocmdiWzBdICogMjU1IDw8IDE2KSArIChyZ2JbMV0gKiAyNTUgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCk7XG59XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWU9MV0gLSB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGZpbGVuYW1lIHByZWZpeCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG5cbiAgICBpZiAocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vKipcbiAqIFR5cGVkZWYgZm9yIGRlY29tcG9zZURhdGFVcmkgcmV0dXJuIG9iamVjdC5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLnV0aWxzfkRlY29tcG9zZWREYXRhVXJpXG4gKiBAcHJvcGVydHkge21lZGlhVHlwZX0gTWVkaWEgdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBwcm9wZXJ0eSB7c3ViVHlwZX0gU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtlbmNvZGluZ30gRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAcHJvcGVydHkge2RhdGF9IFRoZSBhY3R1YWwgZGF0YVxuICovXG5cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHN+RGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IF9jb25zdC5EQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuXG4gICAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzRdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdHlwZSBvZiB0aGUgaW1hZ2UgYnkgcmVnZXhwIGZvciBleHRlbnNpb24uIFJldHVybnMgdW5kZWZpbmVkIGZvciB1bmtub3duIGV4dGVuc2lvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRVcmxGaWxlRXh0ZW5zaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IGltYWdlIGV4dGVuc2lvblxuICovXG5mdW5jdGlvbiBnZXRVcmxGaWxlRXh0ZW5zaW9uKHVybCkge1xuICAgIHZhciBleHRlbnNpb24gPSBfY29uc3QuVVJMX0ZJTEVfRVhURU5TSU9OLmV4ZWModXJsKTtcblxuICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvblsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgU2l6ZSBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS51dGlsc35TaXplXG4gKiBAcHJvcGVydHkge3dpZHRofSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7aGVpZ2h0fSBIZWlnaHQgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0U3ZnU2l6ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICogQHJldHVybiB7UElYSS51dGlsc35TaXplfHVuZGVmaW5lZH0gaW1hZ2UgZXh0ZW5zaW9uXG4gKi9cbmZ1bmN0aW9uIGdldFN2Z1NpemUoc3ZnU3RyaW5nKSB7XG4gICAgdmFyIHNpemVNYXRjaCA9IF9jb25zdC5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgdmFyIHNpemUgPSB7fTtcblxuICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpemU7XG59XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogTG9ncyBvdXQgdGhlIHZlcnNpb24gYW5kIHJlbmRlcmVyIGluZm9ybWF0aW9uIGZvciB0aGlzIHJ1bm5pbmcgaW5zdGFuY2Ugb2YgUElYSS5cbiAqIElmIHlvdSBkb24ndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UgeW91IGNhbiBydW4gYFBJWEkudXRpbHMuc2tpcEhlbGxvKClgIGJlZm9yZVxuICogY3JlYXRpbmcgeW91ciByZW5kZXJlci4gS2VlcCBpbiBtaW5kIHRoYXQgZG9pbmcgdGhhdCB3aWxsIGZvcmV2ZXIgbWFrZXMgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIGlmIChzYWlkSGVsbG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFsnXFxuICVjICVjICVjIFBpeGlKUyAnICsgX2NvbnN0LlZFUlNJT04gKyAnIC0gXFx1MjczMCAnICsgdHlwZSArICcgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcbicsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnXTtcblxuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ1BpeGlKUyAnICsgX2NvbnN0LlZFUlNJT04gKyAnIC0gJyArIHR5cGUgKyAnIC0gaHR0cDovL3d3dy5waXhpanMuY29tLycpO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogSGVscGVyIGZvciBjaGVja2luZyBmb3Igd2ViZ2wgc3VwcG9ydFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaXMgd2ViZ2wgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIGNvbnRleHRPcHRpb25zID0geyBzdGVuY2lsOiB0cnVlLCBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0cnVlIH07XG5cbiAgICB0cnkge1xuICAgICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSAhIShnbCAmJiBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO1xuXG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcblxuICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obikge1xuICAgIGlmIChuID09PSAwKSByZXR1cm4gMDtcblxuICAgIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5UZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5CYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IGV4cG9ydHMucHJlbXVsdGlwbHlCbGVuZE1vZGUgPSAoMCwgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMi5kZWZhdWx0KSgpO1xuXG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGUoYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKSB7XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cblxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW50ZWdldCBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEuMCkge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9IHRpbnQgPj4gMTYgJiAweEZGO1xuICAgIHZhciBHID0gdGludCA+PiA4ICYgMHhGRjtcbiAgICB2YXIgQiA9IHRpbnQgJiAweEZGO1xuXG4gICAgUiA9IFIgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgRyA9IEcgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgQiA9IEIgKiBhbHBoYSArIDAuNSB8IDA7XG5cbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cblxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgb3V0WzBdID0gKHRpbnQgPj4gMTYgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICh0aW50ID4+IDggJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF4UmVjb21tZW5kZWRUZXh0dXJlcyA9IHJlcXVpcmUoJy4vdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcycpO1xuXG52YXIgX21heFJlY29tbWVuZGVkVGV4dHVyZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF4UmVjb21tZW5kZWRUZXh0dXJlcyk7XG5cbnZhciBfY2FuVXBsb2FkU2FtZUJ1ZmZlciA9IHJlcXVpcmUoJy4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlcicpO1xuXG52YXIgX2NhblVwbG9hZFNhbWVCdWZmZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FuVXBsb2FkU2FtZUJ1ZmZlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcGVyY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8uXG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG4gIC8qKlxuICAgKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwLjA2XG4gICAqL1xuICBUQVJHRVRfRlBNUzogMC4wNixcblxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgTUlQTUFQX1RFWFRVUkVTOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIFJFU09MVVRJT046IDEsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgRklMVEVSX1JFU09MVVRJT046IDEsXG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIHRleHR1cmVzIHRoYXQgdGhpcyBkZXZpY2Ugc3VwcG9ydHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMzJcbiAgICovXG4gIFNQUklURV9NQVhfVEVYVFVSRVM6ICgwLCBfbWF4UmVjb21tZW5kZWRUZXh0dXJlczIuZGVmYXVsdCkoMzIpLFxuXG4gIC8vIFRPRE86IG1heWJlIGNoYW5nZSB0byBTUFJJVEUuQkFUQ0hfU0laRTogMjAwMFxuICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGFpbXMgdG8gYmFsYW5jZSBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA0MDk2XG4gICAqL1xuICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAvKipcbiAgICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqIEBleGFtcGxlIGBAMnhgXG4gICAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICAgKi9cbiAgUkVUSU5BX1BSRUZJWDogL0AoWzAtOVxcLl0rKXgvLFxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgb3B0aW9ucyBpZiBub25lIGFyZSBzdXBwbGllZCB0byB7QGxpbmsgUElYSS5XZWJHTFJlbmRlcmVyfVxuICAgKiBvciB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn0uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW50aWFsaWFzPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm9yY2VGWEFBPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b1Jlc2l6ZT1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBjbGVhckJlZm9yZVJlbmRlcj10cnVlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm91bmRQaXhlbHM9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0PTYwMFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgKi9cbiAgUkVOREVSX09QVElPTlM6IHtcbiAgICB2aWV3OiBudWxsLFxuICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgZm9yY2VGWEFBOiBmYWxzZSxcbiAgICBhdXRvUmVzaXplOiBmYWxzZSxcbiAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgIHJvdW5kUGl4ZWxzOiBmYWxzZSxcbiAgICB3aWR0aDogODAwLFxuICAgIGhlaWdodDogNjAwLFxuICAgIGxlZ2FjeTogZmFsc2VcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICovXG4gIFRSQU5TRk9STV9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICovXG4gIEdDX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDM2MDBcbiAgICovXG4gIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgR0NfTUFYX0NIRUNLX0NPVU5UOiA2MCAqIDEwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5XUkFQX01PREVTLkNMQU1QXG4gICAqL1xuICBXUkFQX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICovXG4gIFNDQUxFX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLkhJR0hcbiAgICovXG4gIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAqL1xuICBQUkVDSVNJT05fRlJBR01FTlQ6ICdtZWRpdW1wJyxcblxuICAvKipcbiAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogKDAsIF9jYW5VcGxvYWRTYW1lQnVmZmVyMi5kZWZhdWx0KSgpLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IE1lc2ggYGNhbnZhc1BhZGRpbmdgLlxuICAgKlxuICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoI2NhbnZhc1BhZGRpbmdcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIE1FU0hfQ0FOVkFTX1BBRERJTkc6IDBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuL1BvaW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUG9pbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50ID0gcmVxdWlyZSgnLi9PYnNlcnZhYmxlUG9pbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPYnNlcnZhYmxlUG9pbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYnNlcnZhYmxlUG9pbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4vTWF0cml4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWF0cml4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Hcm91cEQgPSByZXF1aXJlKCcuL0dyb3VwRDgnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcm91cEQ4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBEKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DaXJjbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9DaXJjbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDaXJjbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0VsbGlwc2UgPSByZXF1aXJlKCcuL3NoYXBlcy9FbGxpcHNlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRWxsaXBzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VsbGlwc2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BvbHlnb24gPSByZXF1aXJlKCcuL3NoYXBlcy9Qb2x5Z29uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUG9seWdvbicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvbHlnb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL1JlY3RhbmdsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JlY3RhbmdsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUm91bmRlZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSb3VuZGVkUmVjdGFuZ2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91bmRlZFJlY3RhbmdsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJ2YXIgZ2wgPSB7XG4gICAgY3JlYXRlQ29udGV4dDogICAgICAgICAgcmVxdWlyZSgnLi9jcmVhdGVDb250ZXh0JyksXG4gICAgc2V0VmVydGV4QXR0cmliQXJyYXlzOiAgcmVxdWlyZSgnLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMnKSxcbiAgICBHTEJ1ZmZlcjogICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMQnVmZmVyJyksXG4gICAgR0xGcmFtZWJ1ZmZlcjogICAgICAgICAgcmVxdWlyZSgnLi9HTEZyYW1lYnVmZmVyJyksXG4gICAgR0xTaGFkZXI6ICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTFNoYWRlcicpLFxuICAgIEdMVGV4dHVyZTogICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xUZXh0dXJlJyksXG4gICAgVmVydGV4QXJyYXlPYmplY3Q6ICAgICAgcmVxdWlyZSgnLi9WZXJ0ZXhBcnJheU9iamVjdCcpLFxuICAgIHNoYWRlcjogICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc2hhZGVyJylcbn07XG5cbi8vIEV4cG9ydCBmb3IgTm9kZS1jb21wYXRpYmxlIGVudmlyb25tZW50c1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKVxue1xuICAgIC8vIEV4cG9ydCB0aGUgbW9kdWxlXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbDtcbn1cblxuLy8gQWRkIHRvIHRoZSBicm93c2VyIHdpbmRvdyBwaXhpLmdsXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG57XG4gICAgLy8gYWRkIHRoZSB3aW5kb3cgb2JqZWN0XG4gICAgd2luZG93LlBJWEkgPSB3aW5kb3cuUElYSSB8fCB7fTtcbiAgICB3aW5kb3cuUElYSS5nbENvcmUgPSBnbDtcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCksXG4gICAgICByb290ID0gcmVzdWx0WzBdLFxuICAgICAgZGlyID0gcmVzdWx0WzFdO1xuXG4gIGlmICghcm9vdCAmJiAhZGlyKSB7XG4gICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgcmV0dXJuICcuJztcbiAgfVxuXG4gIGlmIChkaXIpIHtcbiAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgIGRpciA9IGRpci5zdWJzdHIoMCwgZGlyLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIHJvb3QgKyBkaXI7XG59O1xuXG5cbmV4cG9ydHMuYmFzZW5hbWUgPSBmdW5jdGlvbihwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz9cbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyICh4cywgZikge1xuICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGYoeHNbaV0sIGksIHhzKSkgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAtIG5lZ2F0aXZlIGluZGV4IGRvbid0IHdvcmsgaW4gSUU4XG52YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYidcbiAgICA/IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHsgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbikgfVxuICAgIDogZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikge1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IHN0ci5sZW5ndGggKyBzdGFydDtcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7XG4gICAgfVxuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF9WaWRlb0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi9WaWRlb0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWRlb0Jhc2VUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlVXZzID0gcmVxdWlyZSgnLi9UZXh0dXJlVXZzJyk7XG5cbnZhciBfVGV4dHVyZVV2czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlVXZzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBvciBwYXJ0IG9mIGFuIGltYWdlLiBJdCBjYW5ub3QgYmUgYWRkZWRcbiAqIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHkuIEluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS4gSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWRcbiAqIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmUgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhUZXh0dXJlLCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICAgICAgX3RoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2YgdGhlIEJhc2VUZXh0dXJlIGltYWdlIHRvIGFjdHVhbGx5IGNvcHkgdG8gdGhlIENhbnZhcyAvIFdlYkdMIHdoZW4gcmVuZGVyaW5nLFxuICAgICAgICAgKiBpcnJlc3BlY3RpdmUgb2YgdGhlIGFjdHVhbCBmcmFtZSBzaXplIG9yIHBsYWNlbWVudCAod2hpY2ggY2FuIGJlIGluZmx1ZW5jZWQgYnkgdHJpbW1lZCB0ZXh0dXJlIGF0bGFzZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgX3VwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGB0cmltYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmltID0gdHJpbTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IGEgcmVuZGVyZXIga25vdyB0aGF0IGEgdGV4dHVyZSBoYXMgYmVlbiB1cGRhdGVkICh1c2VkIG1haW5seSBmb3Igd2ViR0wgdXYgdXBkYXRlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlcXVpcmVzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVViBkYXRhIGNhY2hlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXZzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOyAvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIF90aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgX3RoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuX3JvdGF0ZSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCBfdGhpcy5vbkJhc2VUZXh0dXJlTG9hZGVkLCBfdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLiBUaGlzIGhhcHBlbnMgaWYgdGhlIGZyYW1lIG9yIHRoZSBiYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5UZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICBfdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWlucyBkYXRhIGZvciB1dnMuIE1heSBjb250YWluIGNsYW1wIHNldHRpbmdzIGFuZCBzb21lIG1hdHJpY2VzLlxuICAgICAgICAgKiBJdHMgYSBiaXQgaGVhdnksIHNvIGJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGxvYWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZUxvYWRlZCA9IGZ1bmN0aW9uIG9uQmFzZVRleHR1cmVMb2FkZWQoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVt0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsXSkge1xuICAgICAgICAgICAgICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZUxvYWRlZCwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl91dnMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyaW0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRleHR1cmUgb2JqZWN0IHRoYXQgYWN0cyB0aGUgc2FtZSBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLmZyYW1lLCB0aGlzLm9yaWcsIHRoaXMudHJpbSwgdGhpcy5yb3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLl91cGRhdGVVdnMgPSBmdW5jdGlvbiBfdXBkYXRlVXZzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3V2cykge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IF9UZXh0dXJlVXZzMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91dnMuc2V0KHRoaXMuX2ZyYW1lLCB0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLnJvdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIFRleHR1cmUgb2JqZWN0IGZyb20gdGhlIGdpdmVuIGltYWdlIHVybC5cbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VVcmwgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW5dIC0gV2hldGhlciByZXF1ZXN0cyBzaG91bGQgYmUgdHJlYXRlZCBhcyBjcm9zc29yaWdpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU1ZHIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VVcmwsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUoX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUoZnJhbWVJZCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIGNhbnZhcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZWxlbWVudCBzb3VyY2Ugb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmlnaW49J2NhbnZhcyddIC0gQSBzdHJpbmcgb3JpZ2luIG9mIHdobyBjcmVhdGVkIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgb3JpZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2FudmFzJztcblxuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUsIG9yaWdpbikpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIHZpZGVvIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fHN0cmluZ30gdmlkZW8gLSBUaGUgVVJMIG9yIGFjdHVhbCBlbGVtZW50IG9mIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tVmlkZW8gPSBmdW5jdGlvbiBmcm9tVmlkZW8odmlkZW8sIHNjYWxlTW9kZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZpZGVvID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvVXJsKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9WaWRlb0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgdmlkZW8gdXJsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2aWRlb1VybCAtIFVSTCBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbVZpZGVvVXJsID0gZnVuY3Rpb24gZnJvbVZpZGVvVXJsKHZpZGVvVXJsLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9WaWRlb0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmZyb21VcmwodmlkZW9VcmwsIHNjYWxlTW9kZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiAgICAgICAgc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UpIHtcbiAgICAgICAgLy8gVE9ETyBhdXRvIGRldGVjdCBjcm9zcyBvcmlnaW4uLlxuICAgICAgICAvLyBUT0RPIHBhc3MgaW4gc2NhbGUgbW9kZT9cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbc291cmNlXTtcblxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIGEgdmlkZW8uLlxuICAgICAgICAgICAgICAgIHZhciBpc1ZpZGVvID0gc291cmNlLm1hdGNoKC9cXC4obXA0fHdlYm18b2dnfGgyNjR8YXZpfG1vdikkLykgIT09IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWaWRlbykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW9Vcmwoc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tSW1hZ2Uoc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tQ2FudmFzKHNvdXJjZSwgX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUsICdIVE1MQ2FudmFzRWxlbWVudCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlbyhzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIF9CYXNlVGV4dHVyZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkaWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gZnJvbUxvYWRlcihzb3VyY2UsIGltYWdlVXJsLCBuYW1lKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoc291cmNlLCB1bmRlZmluZWQsICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShpbWFnZVVybCkpO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgZnJvbUZyYW1lIGFuZCBmcm9tSW1hZ2UgZnVjbnRpb25zXG4gICAgICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuYWRkVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEBpZiBERUJVR1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFsnICsgaWQgKyAnXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIC8vIEBlbmRpZlxuXG4gICAgICAgICAgICBfdXRpbHMuVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0ZXh0dXJlIG1hdGNoZXMgdGhlIG9uZSBiZWluZyBwYXNzZWQgaW4gYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGBfdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dHVyZSwgW3tcbiAgICAgICAga2V5OiAnZnJhbWUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHggPSBmcmFtZS54LFxuICAgICAgICAgICAgICAgIHkgPSBmcmFtZS55LFxuICAgICAgICAgICAgICAgIHdpZHRoID0gZnJhbWUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdCkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yWCA9ICdYOiAnICsgeCArICcgKyAnICsgd2lkdGggKyAnID0gJyArICh4ICsgd2lkdGgpICsgJyA+ICcgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSAnWTogJyArIHkgKyAnICsgJyArIGhlaWdodCArICcgPSAnICsgKHkgKyBoZWlnaHQpICsgJyA+ICcgKyB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICcgKyAoZXJyb3JYICsgJyAnICsgcmVsYXRpb25zaGlwICsgJyAnICsgZXJyb3JZKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2UgJiYgdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JvdGF0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocm90YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0dXJlO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZTtcblxuXG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gMTA7XG4gICAgY2FudmFzLmhlaWdodCA9IDEwO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDEwLCAxMCk7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdChjYW52YXMpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQWxsSGFuZGxlcnModGV4KSB7XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgey8qIGVtcHR5ICovfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7LyogZW1wdHkgKi99O1xufVxuXG4vKipcbiAqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLlxuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTB4MTAgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtCb29sZWFufSBleGlzdHMgT25seSBjaGVjayBpZiB0aGVyZSBhcmUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0FycmF5fEJvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCwgZXhpc3RzKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBhdmFpbGFibGUgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoZXhpc3RzKSByZXR1cm4gISFhdmFpbGFibGU7XG4gIGlmICghYXZhaWxhYmxlKSByZXR1cm4gW107XG4gIGlmIChhdmFpbGFibGUuZm4pIHJldHVybiBbYXZhaWxhYmxlLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGF2YWlsYWJsZS5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBhdmFpbGFibGVbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzLCB0cnVlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCB0aGlzLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW3RoaXMuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm5cbiAgICAgICYmICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSlcbiAgICAgICYmICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmblxuICAgICAgICB8fCAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpXG4gICAgICAgIHx8IChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSB7XG4gICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFwcGx5IGFueW1vcmUuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSByZXF1aXJlKCcuLi91dGlscy9kZXRlcm1pbmVDcm9zc09yaWdpbicpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldGVybWluZUNyb3NzT3JpZ2luKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VUZXh0dXJlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmFzZVRleHR1cmUsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBbc291cmNlXSAtIHRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy51aWQgPSAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgICAgICBfdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodCA9IDEwMDtcblxuICAgICAgICAvLyBUT0RPIGRvY3NcbiAgICAgICAgLy8gdXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIGRpbWVuc2lvbnMgb2YgdGhlIHNvdXJjZVxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIHdpZHRoIG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWFsV2lkdGggPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSBhY3R1YWwgaGVpZ2h0IG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWFsSGVpZ2h0ID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgb25jZSB0aGUgYmFzZSB0ZXh0dXJlIGhhcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIG5ldmVyIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGZhaWxzIHRvIGxvYWQgb3IgaGFzIG5vIHRleHR1cmUgZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgaWYgdGhlIHNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgYW4gSW1hZ2Ugc291cmNlIGlzIGxvYWRpbmcgdGhlICdsb2FkZWQnIG9yICdlcnJvcicgZXZlbnQgd2lsbCBiZVxuICAgICAgICAgKiBkaXNwYXRjaGVkIHdoZW4gdGhlIG9wZXJhdGlvbiBlbmRzLiBBbiB1bmRlcnlsaW5nIHNvdXJjZSB0aGF0IGlzXG4gICAgICAgICAqIGltbWVkaWF0ZWx5LWF2YWlsYWJsZSBieXBhc3NlcyBsb2FkaW5nIGVudGlyZWx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2Ugc291cmNlIHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IE1ha2UgdGhpcyBhIHNldHRlciB0aGF0IGNhbGxzIGxvYWRTb3VyY2UoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBudWxsOyAvLyBzZXQgaW4gbG9hZFNvdXJjZSwgaWYgYXQgYWxsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgdGhhdCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGV4dHVyZS4gVGhpcyBpcyB1c2VkIHRvXG4gICAgICAgICAqIHN0b3JlIHRoZSBvcmlnaW5hbCBTdmcgc291cmNlIHdoZW4gaXQgaXMgcmVwbGFjZWQgd2l0aCBhIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBDdXJyZW50bHkgbm90IGluIHVzZSBidXQgY291bGQgYmUgdXNlZCB3aGVuIHJlLXNjYWxpbmcgc3ZnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2V9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnU291cmNlID0gbnVsbDsgLy8gc2V0IGluIGxvYWRTdmcsIGlmIGF0IGFsbFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIGltYWdlIGRlZmluZWQgaW4gc291cmNlLCBlZy4gYHBuZ2Agb3IgYHN2Z2BcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmltYWdlVHlwZSA9IG51bGw7IC8vIHNldCBpbiB1cGRhdGVJbWFnZVR5cGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgZm9yIHNvdXJjZSBpbWFnZS4gVXNlZCB3aXRoIFN2ZyBpbWFnZXMgdG8gc2NhbGUgdGhlbSBiZWZvcmUgcmFzdGVyaXphdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZVNjYWxlID0gMS4wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cm9scyBpZiBSR0IgY2hhbm5lbHMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkIGJ5IEFscGhhICAoV2ViR0wgb25seSlcbiAgICAgICAgICogQWxsIGJsZW5kIG1vZGVzLCBhbmQgc2hhZGVycyB3cml0dGVuIGZvciBkZWZhdWx0IHZhbHVlLiBDaGFuZ2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucHJlbXVsdGlwbGllZEFscGhhID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVVybCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZWQgZm9yIHdlYkdMXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgYSBtaXBtYXAgb2YgdGhpcyB0ZXh0dXJlIG5lZWRzIHRvIGJlIGdlbmVyYXRlZC4gVGhpcyB2YWx1ZSBuZWVkc1xuICAgICAgICAgKiB0byBiZSBzZXQgYmVmb3JlIHRoZSB0ZXh0dXJlIGlzIHVzZWRcbiAgICAgICAgICogQWxzbyB0aGUgdGV4dHVyZSBtdXN0IGJlIGEgcG93ZXIgb2YgdHdvIHNpemUgdG8gd29ya1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAc2VlIFBJWEkuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXBtYXAgPSBfc2V0dGluZ3MyLmRlZmF1bHQuTUlQTUFQX1RFWFRVUkVTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBXZWJHTCBUZXh0dXJlIHdyYXAgbW9kZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5XUkFQX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53cmFwTW9kZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5XUkFQX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCB0ZXh0dXJlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBfdGhpcy5fZW5hYmxlZCA9IDA7XG4gICAgICAgIF90aGlzLl92aXJ0YWxCb3VuZElkID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBCYXNlVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgYmFzZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBCYXNlVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgQmFzZVRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvLyBpZiBubyBzb3VyY2UgcGFzc2VkIGRvbid0IHRyeSB0byBsb2FkXG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWRTb3VyY2Uoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdGV4dHVyZSBvbiBhbGwgdGhlIHdlYmdsIHJlbmRlcmVycywgdGhpcyBhbHNvIGFzc3VtZXMgdGhlIHNyYyBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAvLyBTdmcgc2l6ZSBpcyBoYW5kbGVkIGR1cmluZyBsb2FkXG4gICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSAhPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHRoaXMucmVhbFdpZHRoID0gdGhpcy5zb3VyY2UubmF0dXJhbFdpZHRoIHx8IHRoaXMuc291cmNlLnZpZGVvV2lkdGggfHwgdGhpcy5zb3VyY2Uud2lkdGg7XG4gICAgICAgICAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLnNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0IHx8IHRoaXMuc291cmNlLmhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGRpbWVuc2lvbnMgZnJvbSByZWFsIHZhbHVlc1xuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZURpbWVuc2lvbnMgPSBmdW5jdGlvbiBfdXBkYXRlRGltZW5zaW9ucygpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMucmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgX2JpdFR3aWRkbGUyLmRlZmF1bHQuaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWQgYSBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgc291cmNlIGlzIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUsIHN1Y2ggYXMgYW4gaW1hZ2UgdGhhdCBuZWVkcyB0byBiZVxuICAgICAqIGRvd25sb2FkZWQsIHRoZW4gdGhlICdsb2FkZWQnIG9yICdlcnJvcicgZXZlbnQgd2lsbCBiZSBkaXNwYXRjaGVkIGluIHRoZSBmdXR1cmVcbiAgICAgKiBhbmQgYGhhc0xvYWRlZGAgd2lsbCByZW1haW4gZmFsc2UgYWZ0ZXIgdGhpcyBjYWxsLlxuICAgICAqXG4gICAgICogVGhlIGxvZ2ljIHN0YXRlIGFmdGVyIGNhbGxpbmcgYGxvYWRTb3VyY2VgIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgKGVnLiBgZnJvbUltYWdlYCwgYG5ldyBCYXNlVGV4dHVyZWApIGlzOlxuICAgICAqXG4gICAgICogICAgIGlmICh0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAqICAgICAgICAvLyB0ZXh0dXJlIHJlYWR5IGZvciB1c2VcbiAgICAgKiAgICAgfSBlbHNlIGlmICh0ZXh0dXJlLmlzTG9hZGluZykge1xuICAgICAqICAgICAgICAvLyBsaXN0ZW4gdG8gJ2xvYWRlZCcgYW5kL29yICdlcnJvcicgZXZlbnRzIG9uIHRleHR1cmVcbiAgICAgKiAgICAgfSBlbHNlIHtcbiAgICAgKiAgICAgICAgLy8gbm90IGxvYWRpbmcsIG5vdCBnb2luZyB0byBsb2FkIFVOTEVTUyB0aGUgc291cmNlIGlzIHJlbG9hZGVkXG4gICAgICogICAgICAgIC8vIChpdCBtYXkgc3RpbGwgbWFrZSBzZW5zZSB0byBsaXN0ZW4gdG8gdGhlIGV2ZW50cylcbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgdmFyIHdhc0xvYWRpbmcgPSB0aGlzLmlzTG9hZGluZztcblxuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3YXNMb2FkaW5nICYmIHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlyc3RTb3VyY2VMb2FkZWQgPSAhdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG5cbiAgICAgICAgLy8gQXBwbHkgc291cmNlIGlmIGxvYWRlZC4gT3RoZXJ3aXNlIHNldHVwIGFwcHJvcHJpYXRlIGxvYWRpbmcgbW9uaXRvcnMuXG4gICAgICAgIGlmICgoc291cmNlLnNyYyAmJiBzb3VyY2UuY29tcGxldGUgfHwgc291cmNlLmdldENvbnRleHQpICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbWFnZVR5cGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFNvdXJjZUxvYWRlZCkge1xuICAgICAgICAgICAgICAgIC8vIHNlbmQgbG9hZGVkIGV2ZW50IGlmIHByZXZpb3VzIHNvdXJjZSB3YXMgbnVsbCBhbmQgd2UgaGF2ZSBiZWVuIHBhc3NlZCBhIHByZS1sb2FkZWQgSU1HIGVsZW1lbnRcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFzb3VyY2UuZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgLy8gSW1hZ2UgZmFpbCAvIG5vdCByZWFkeVxuICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLl91cGRhdGVJbWFnZVR5cGUoKTtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2NvcGUuX3NvdXJjZUxvYWRlZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuX2xvYWRTdmdTb3VyY2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuZW1pdCgnbG9hZGVkJywgc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLmVtaXQoJ2Vycm9yJywgc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gUGVyIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2VtYmVkZGVkLWNvbnRlbnQtMC5odG1sI3RoZS1pbWctZWxlbWVudFxuICAgICAgICAgICAgLy8gICBcIlRoZSB2YWx1ZSBvZiBgY29tcGxldGVgIGNhbiB0aHVzIGNoYW5nZSB3aGlsZSBhIHNjcmlwdCBpcyBleGVjdXRpbmcuXCJcbiAgICAgICAgICAgIC8vIFNvIGNvbXBsZXRlIG5lZWRzIHRvIGJlIHJlLWNoZWNrZWQgYWZ0ZXIgdGhlIGNhbGxiYWNrcyBoYXZlIGJlZW4gYWRkZWQuLlxuICAgICAgICAgICAgLy8gTk9URTogY29tcGxldGUgd2lsbCBiZSB0cnVlIGlmIHRoZSBpbWFnZSBoYXMgbm8gc3JjIHNvIGJlc3QgdG8gY2hlY2sgaWYgdGhlIHNyYyBpcyBzZXQuXG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpIHtcbiAgICAgICAgICAgICAgICAvLyAuLmFuZCBpZiB3ZSdyZSBjb21wbGV0ZSBub3csIG5vIG5lZWQgZm9yIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLl9sb2FkU3ZnU291cmNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IHByZXZpb3VzIHN1YnNjcmliZXJzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGFueSBwcmV2aW91cyBzdWJzY3JpYmVycyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdHlwZSBvZiB0aGUgc291cmNlIGltYWdlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZUltYWdlVHlwZSA9IGZ1bmN0aW9uIF91cGRhdGVJbWFnZVR5cGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWFnZVVybCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFVcmkgPSAoMCwgX3V0aWxzLmRlY29tcG9zZURhdGFVcmkpKHRoaXMuaW1hZ2VVcmwpO1xuICAgICAgICB2YXIgaW1hZ2VUeXBlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChkYXRhVXJpICYmIGRhdGFVcmkubWVkaWFUeXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3Igc3ViVHlwZSB2YWxpZGl0eVxuICAgICAgICAgICAgdmFyIGZpcnN0U3ViVHlwZSA9IGRhdGFVcmkuc3ViVHlwZS5zcGxpdCgnKycpWzBdO1xuXG4gICAgICAgICAgICBpbWFnZVR5cGUgPSAoMCwgX3V0aWxzLmdldFVybEZpbGVFeHRlbnNpb24pKCcuJyArIGZpcnN0U3ViVHlwZSk7XG5cbiAgICAgICAgICAgIGlmICghaW1hZ2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGltYWdlIHR5cGUgaW4gZGF0YSBVUkkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWFnZVR5cGUgPSAoMCwgX3V0aWxzLmdldFVybEZpbGVFeHRlbnNpb24pKHRoaXMuaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICBpZiAoIWltYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgIGltYWdlVHlwZSA9ICdwbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbWFnZVR5cGUgPSBpbWFnZVR5cGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc291cmNlYCBpcyBhbiBTVkcgaW1hZ2UgYW5kIHdoZXRoZXIgaXQncyBsb2FkZWQgdmlhIGEgVVJMIG9yIGEgZGF0YSBVUkkuIFRoZW4gY2FsbHNcbiAgICAgKiBgX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmlgIG9yIGBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyYC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSAhPT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgc291cmNlIGlzIG5vdCBzdmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVXJpID0gKDAsIF91dGlscy5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTtcblxuICAgICAgICBpZiAoZGF0YVVyaSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaShkYXRhVXJpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGdvdCBhbiBVUkwsIHNvIHdlIG5lZWQgdG8gZG8gYW4gWEhSIHRvIGNoZWNrIHRoZSBzdmcgc2l6ZVxuICAgICAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVhZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGRhdGEgVVJJIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gVGhlIGRhdGEgdXJpIHRvIGxvYWQgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkoZGF0YVVyaSkge1xuICAgICAgICB2YXIgc3ZnU3RyaW5nID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChkYXRhVXJpLmVuY29kaW5nID09PSAnYmFzZTY0Jykge1xuICAgICAgICAgICAgaWYgKCFhdG9iKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ZnU3RyaW5nID0gYXRvYihkYXRhVXJpLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3ZnU3RyaW5nID0gZGF0YVVyaS5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1N0cmluZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBgaW1hZ2VVcmxgIHVzaW5nIFhIUiBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZ2AuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nWGhyID0gZnVuY3Rpb24gX2xvYWRTdmdTb3VyY2VVc2luZ1hocigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN2Z1hociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIFRoaXMgdGhyb3dzIGVycm9yIG9uIElFLCBzbyBTVkcgRG9jdW1lbnQgY2FuJ3QgYmUgdXNlZFxuICAgICAgICAvLyBzdmdYaHIucmVzcG9uc2VUeXBlID0gJ2RvY3VtZW50JztcblxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBuZWVkZWQgc2luY2Ugd2UgbG9hZCB0aGUgc3ZnIGFzIHN0cmluZyAoYnJlYWtzIElFIHRvbylcbiAgICAgICAgLy8gYnV0IG92ZXJyaWRlTWltZVR5cGUoKSBjYW4gYmUgdXNlZCB0byBmb3JjZSB0aGUgcmVzcG9uc2UgdG8gYmUgcGFyc2VkIGFzIFhNTFxuICAgICAgICAvLyBzdmdYaHIub3ZlcnJpZGVNaW1lVHlwZSgnaW1hZ2Uvc3ZnK3htbCcpO1xuXG4gICAgICAgIHN2Z1hoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc3ZnWGhyLnJlYWR5U3RhdGUgIT09IHN2Z1hoci5ET05FIHx8IHN2Z1hoci5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgU1ZHIHVzaW5nIFhIUi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMyLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnWGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdmdYaHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZW1pdCgnZXJyb3InLCBfdGhpczIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN2Z1hoci5vcGVuKCdHRVQnLCB0aGlzLmltYWdlVXJsLCB0cnVlKTtcbiAgICAgICAgc3ZnWGhyLnNlbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGV4dHVyZSB1c2luZyBhbiBTVkcgc3RyaW5nLiBUaGUgb3JpZ2luYWwgU1ZHIEltYWdlIGlzIHN0b3JlZCBhcyBgb3JpZ1NvdXJjZWAgYW5kIHRoZVxuICAgICAqIGNyZWF0ZWQgY2FudmFzIGlzIHRoZSBuZXcgYHNvdXJjZWAuIFRoZSBTVkcgaXMgc2NhbGVkIHVzaW5nIGBzb3VyY2VTY2FsZWAuIENhbGxlZCBieVxuICAgICAqIGBfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyYCBvciBgX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmlgLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBzdmdTdHJpbmcgU1ZHIHNvdXJjZSBhcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzdmdTaXplID0gKDAsIF91dGlscy5nZXRTdmdTaXplKShzdmdTdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdmdXaWR0aCA9IHN2Z1NpemUud2lkdGg7XG4gICAgICAgIHZhciBzdmdIZWlnaHQgPSBzdmdTaXplLmhlaWdodDtcblxuICAgICAgICBpZiAoIXN2Z1dpZHRoIHx8ICFzdmdIZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2FsZSByZWFsV2lkdGggYW5kIHJlYWxIZWlnaHRcbiAgICAgICAgdGhpcy5yZWFsV2lkdGggPSBNYXRoLnJvdW5kKHN2Z1dpZHRoICogdGhpcy5zb3VyY2VTY2FsZSk7XG4gICAgICAgIHRoaXMucmVhbEhlaWdodCA9IE1hdGgucm91bmQoc3ZnSGVpZ2h0ICogdGhpcy5zb3VyY2VTY2FsZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLnJlYWxXaWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMucmVhbEhlaWdodDtcbiAgICAgICAgY2FudmFzLl9waXhpSWQgPSAnY2FudmFzXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UodGhpcy5zb3VyY2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHRoaXMucmVhbFdpZHRoLCB0aGlzLnJlYWxIZWlnaHQpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIHNvdXJjZSBpbWFnZSB3aXRoIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy5vcmlnU291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHRoaXMuc291cmNlID0gY2FudmFzO1xuXG4gICAgICAgIC8vIEFkZCBhbHNvIHRoZSBjYW52YXMgaW4gY2FjaGUgKGRlc3Ryb3kgY2xlYXJzIGJ5IGBpbWFnZVVybGAgYW5kIGBzb3VyY2UuX3BpeGlJZGApXG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcywgY2FudmFzLl9waXhpSWQpO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gdXBkYXRlIHRoZSB3aWR0aCwgaGVpZ2h0LCBhbmQgc29tZSBvdGhlciB0cmFja2luZyB2YXJzIG9uY2VcbiAgICAgKiBhIHNvdXJjZSBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fc291cmNlTG9hZGVkID0gZnVuY3Rpb24gX3NvdXJjZUxvYWRlZCgpIHtcbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RoaXMuaW1hZ2VVcmxdO1xuXG4gICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmUuXG4gICAgICogVGhlIG9yaWdpbmFsIHNvdXJjZSBtdXN0IGJlIGFuIEltYWdlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3U3JjIC0gdGhlIHBhdGggb2YgdGhlIGltYWdlXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVTb3VyY2VJbWFnZSA9IGZ1bmN0aW9uIHVwZGF0ZVNvdXJjZUltYWdlKG5ld1NyYykge1xuICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSBuZXdTcmM7XG5cbiAgICAgICAgdGhpcy5sb2FkU291cmNlKHRoaXMuc291cmNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBmcm9tIHRoZSBnaXZlbiBpbWFnZSB1cmwuXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVVybCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gU2hvdWxkIHVzZSBhbm9ueW1vdXMgQ09SUz8gRGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgVVJMIGlzIG5vdCBhIGRhdGEtVVJJLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU3ZnIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpbWFnZVVybF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gbmV3IEltYWdlKCkgYnJlYWtzIHRleCBsb2FkaW5nIGluIHNvbWUgdmVyc2lvbnMgb2YgQ2hyb21lLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMzgwNzFcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOyAvLyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgaW1hZ2VVcmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gKDAsIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIuZGVmYXVsdCkoaW1hZ2VVcmwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGltYWdlLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZVNjYWxlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuc291cmNlU2NhbGUgPSBzb3VyY2VTY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gQDJ4IGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3ZSBhcmUgZ29pbmcgdG8gYXNzdW1lIGl0cyBhIGhpZ2hyZXMgaW1hZ2VcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDsgLy8gU2V0dGluZyB0aGlzIHRyaWdnZXJzIGxvYWRcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGZyb20gdGhlIGdpdmVuIGNhbnZhcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZWxlbWVudCBzb3VyY2Ugb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcmlnaW49J2NhbnZhcyddIC0gQSBzdHJpbmcgb3JpZ2luIG9mIHdobyBjcmVhdGVkIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NhbnZhcyc7XG5cbiAgICAgICAgaWYgKCFjYW52YXMuX3BpeGlJZCkge1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBvcmlnaW4gKyAnXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2NhbnZhcy5fcGl4aUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYW52YXMuX3BpeGlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc291cmNlU2NhbGU9KGF1dG8pXSAtIFNjYWxlIGZvciB0aGUgb3JpZ2luYWwgaW1hZ2UsIHVzZWQgd2l0aCBTdmcgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbShzb3VyY2UsIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbUltYWdlKHNvdXJjZSwgdW5kZWZpbmVkLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VVcmwgPSBzb3VyY2Uuc3JjO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlU2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuc291cmNlU2NhbGUgPSBzb3VyY2VTY2FsZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBAMnggYXQgdGhlIGVuZCBvZiB0aGUgdXJsIHdlIGFyZSBnb2luZyB0byBhc3N1bWUgaXRzIGEgaGlnaHJlcyBpbWFnZVxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpO1xuXG4gICAgICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzKHNvdXJjZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBAaWYgREVCVUdcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGlmIChfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Jhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFsnICsgaWQgKyAnXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIC8vIEBlbmRpZlxuXG4gICAgICAgICAgICBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhY2hlKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVRleHR1cmUgJiYgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgY29yZS5Qb2ludCgpO1xudmFyIHRlbXBQb2x5Z29uID0gbmV3IGNvcmUuUG9seWdvbigpO1xuXG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICovXG5cbnZhciBNZXNoID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICBfaW5oZXJpdHMoTWVzaCwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3V2c10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB1dnNcbiAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgKi9cbiAgZnVuY3Rpb24gTWVzaCh0ZXh0dXJlLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIG9mIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICogQGRlZmF1bHQgUElYSS5UZXh0dXJlLkVNUFRZXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRDb250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5fdGV4dHVyZSA9IHRleHR1cmUgfHwgX1RleHR1cmUyLmRlZmF1bHQuRU1QVFk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgVXZzIG9mIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgX3RoaXMudXZzID0gdXZzIHx8IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgX3RoaXMudmVydGljZXMgPSB2ZXJ0aWNlcyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgKi9cbiAgICAvLyAgVE9ETyBhdXRvIGdlbmVyYXRlIHRoaXMgYmFzZWQgb24gZHJhdyBtb2RlIVxuICAgIF90aGlzLmluZGljZXMgPSBpbmRpY2VzIHx8IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMywgMl0pO1xuXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBvZiBtZXNoIHV2cyBhcmUgZGlydHkgb3Igbm90XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgX3RoaXMuZGlydHkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBvZiBtZXNoIGluZGljZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBfdGhpcy5pbmRleERpcnR5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gU2V0IHRvIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVtb3ZlXG4gICAgICogYW55IGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBfdGhpcy5ibGVuZE1vZGUgPSBjb3JlLkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgIC8qKlxuICAgICAqIFRyaWFuZ2xlcyBpbiBjYW52YXMgbW9kZSBhcmUgYXV0b21hdGljYWxseSBhbnRpYWxpYXNlZCwgdXNlIHRoaXMgdmFsdWUgdG8gZm9yY2UgdHJpYW5nbGVzXG4gICAgICogdG8gb3ZlcmxhcCBhIGJpdCB3aXRoIGVhY2ggb3RoZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgX3RoaXMuY2FudmFzUGFkZGluZyA9IGNvcmUuc2V0dGluZ3MuTUVTSF9DQU5WQVNfUEFERElORztcblxuICAgIC8qKlxuICAgICAqIFRoZSB3YXkgdGhlIE1lc2ggc2hvdWxkIGJlIGRyYXduLCBjYW4gYmUgYW55IG9mIHRoZSB7QGxpbmsgUElYSS5tZXNoLk1lc2guRFJBV19NT0RFU30gY29uc3RzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHNlZSBQSVhJLm1lc2guTWVzaC5EUkFXX01PREVTXG4gICAgICovXG4gICAgX3RoaXMuZHJhd01vZGUgPSBkcmF3TW9kZSB8fCBNZXNoLkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBtZXNoIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICovXG4gICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIG1lc2guIFRoaXMgaXMgYSBbcixnLGJdIHZhbHVlLiBBIHZhbHVlIG9mIFsxLDEsMV0gd2lsbCByZW1vdmUgYW55XG4gICAgICogdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgX3RoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDFdKTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCByZW5kZXIgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBvYmplY3Q+fVxuICAgICAqL1xuICAgIF90aGlzLl9nbERhdGFzID0ge307XG5cbiAgICAvKipcbiAgICAgKiB0cmFuc2Zvcm0gdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgdGV4dHVyZSBjb29yZHNcbiAgICAgKiBpdHMgdXBkYXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGV4dHVyZSB1dlRyYW5zZm9ybVxuICAgICAqIHVwZGF0ZXMgb2YgdXZzIGFyZSB0aWVkIHRvIHRoYXQgdGhpbmdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl91dlRyYW5zZm9ybSA9IG5ldyBjb3JlLlRleHR1cmVNYXRyaXgoX3RoaXMuX3RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogd2hldGhlciBvciBub3QgdXBsb2FkIHV2VHJhbnNmb3JtIHRvIHNoYWRlclxuICAgICAqIGlmIGl0cyBmYWxzZSwgdGhlbiB1dnMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkXG4gICAgICogaWYgeW91IGNoYW5nZSBpdCBmb3IgZ2VuZXJhdGVkIG1lc2gsIHBsZWFzZSBjYWxsICdyZWZyZXNoKHRydWUpJ1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBfdGhpcy51cGxvYWRVdlRyYW5zZm9ybSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyV2ViR0wnICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICdtZXNoJ1xuICAgICAqL1xuICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnbWVzaCc7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gYSByZWZlcmVuY2UgdG8gdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICB0aGlzLl91dlRyYW5zZm9ybS50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfTtcblxuICAvKipcbiAgICogbXVsdGlwbGllcyB1dnMgb25seSBpZiB1cGxvYWRVdlRyYW5zZm9ybSBpcyBmYWxzZVxuICAgKiBjYWxsIGl0IGFmdGVyIHlvdSBjaGFuZ2UgdXZzIG1hbnVhbGx5XG4gICAqIG1ha2Ugc3VyZSB0aGF0IHRleHR1cmUgaXMgdmFsaWRcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzKCkge1xuICAgIGlmICghdGhpcy51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgdGhpcy5fdXZUcmFuc2Zvcm0ubXVsdGlwbHlVdnModGhpcy51dnMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVmcmVzaGVzIHV2cyBmb3IgZ2VuZXJhdGVkIG1lc2hlcyAocm9wZSwgcGxhbmUpXG4gICAqIHNvbWV0aW1lcyByZWZyZXNoZXMgdmVydGljZXMgdG9vXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlVXBkYXRlPWZhbHNlXSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaChmb3JjZVVwZGF0ZSkge1xuICAgIGlmICh0aGlzLl91dlRyYW5zZm9ybS51cGRhdGUoZm9yY2VVcGRhdGUpKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiByZS1jYWxjdWxhdGVzIG1lc2ggY29vcmRzXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge31cbiAgLyogZW1wdHkgKi9cblxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICpcbiAgICovXG4gIDtcblxuICBNZXNoLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAvLyBUT0RPIC0gd2UgY2FuIGNhY2hlIGxvY2FsIGJvdW5kcyBhbmQgdXNlIHRoZW0gaWYgdGhleSBhcmUgZGlydHkgKGxpa2UgZ3JhcGhpY3MpXG4gICAgdGhpcy5fYm91bmRzLmFkZFZlcnRpY2VzKHRoaXMudHJhbnNmb3JtLCB0aGlzLnZlcnRpY2VzLCAwLCB0aGlzLnZlcnRpY2VzLmxlbmd0aCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgVFJJQU5HTEVfTUVTSFxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgdmFyIGluZGljZXMgPSB0aGlzLmluZGljZXM7XG4gICAgdmFyIGxlbiA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSBNZXNoLkRSQVdfTU9ERVMuVFJJQU5HTEVTID8gMyA6IDE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSArIDIgPCBsZW47IGkgKz0gc3RlcCkge1xuICAgICAgdmFyIGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgIHZhciBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgdmFyIGluZDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG5cbiAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcblxuICAgICAgaWYgKHRlbXBQb2x5Z29uLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBtZXNoIHVzZXMuXG4gICAqXG4gICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoTWVzaCwgW3tcbiAgICBrZXk6ICd0ZXh0dXJlJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcblxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBtZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0aW50JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBjb3JlLnV0aWxzLnJnYjJoZXgodGhpcy50aW50UmdiKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLnRpbnRSZ2IgPSBjb3JlLnV0aWxzLmhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lc2g7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuLyoqXG4gKiBEaWZmZXJlbnQgZHJhd2luZyBidWZmZXIgbW9kZXMgc3VwcG9ydGVkXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX01FU0hcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2g7XG5NZXNoLkRSQVdfTU9ERVMgPSB7XG4gIFRSSUFOR0xFX01FU0g6IDAsXG4gIFRSSUFOR0xFUzogMVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2guanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBpbXBvcnQgTG9hZGVyIGZyb20gJy4vTG9hZGVyJztcbi8vIGltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcbi8vIGltcG9ydCAqIGFzIGFzeW5jIGZyb20gJy4vYXN5bmMnO1xuLy8gaW1wb3J0ICogYXMgYjY0IGZyb20gJy4vYjY0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxudmFyIExvYWRlciA9IHJlcXVpcmUoJy4vTG9hZGVyJykuZGVmYXVsdDtcbnZhciBSZXNvdXJjZSA9IHJlcXVpcmUoJy4vUmVzb3VyY2UnKS5kZWZhdWx0O1xudmFyIGFzeW5jID0gcmVxdWlyZSgnLi9hc3luYycpO1xudmFyIGI2NCA9IHJlcXVpcmUoJy4vYjY0Jyk7XG5cbkxvYWRlci5SZXNvdXJjZSA9IFJlc291cmNlO1xuTG9hZGVyLmFzeW5jID0gYXN5bmM7XG5Mb2FkZXIuYmFzZTY0ID0gYjY0O1xuXG4vLyBleHBvcnQgbWFudWFsbHksIGFuZCBhbHNvIGFzIGRlZmF1bHRcbm1vZHVsZS5leHBvcnRzID0gTG9hZGVyO1xuLy8gZXhwb3J0IGRlZmF1bHQgTG9hZGVyO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIGNoZWNrUHJlY2lzaW9uKHNyYywgZGVmKSB7XG4gICAgaWYgKHNyYyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGlmIChzcmNbMF0uc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICAgICAgdmFyIGNvcHkgPSBzcmMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIGNvcHkudW5zaGlmdCgncHJlY2lzaW9uICcgKyBkZWYgKyAnIGZsb2F0OycpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3JjLnRyaW0oKS5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKSB7XG4gICAgICAgIHJldHVybiAncHJlY2lzaW9uICcgKyBkZWYgKyAnIGZsb2F0O1xcbicgKyBzcmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cblxuLyoqXG4gKiBXcmFwcGVyIGNsYXNzLCB3ZWJHTCBTaGFkZXIgZm9yIFBpeGkuXG4gKiBBZGRzIHByZWNpc2lvbiBzdHJpbmcgaWYgdmVydGV4U3JjIG9yIGZyYWdtZW50U3JjIGhhdmUgbm8gbWVudGlvbiBvZiBpdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEdMU2hhZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBTaGFkZXIgPSBmdW5jdGlvbiAoX0dMU2hhZGVyKSB7XG4gICAgX2luaGVyaXRzKFNoYWRlciwgX0dMU2hhZGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdmVydGV4U3JjIC0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGZyYWdtZW50U3JjIC0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZUxvY2F0aW9uc10gLSBBIGtleSB2YWx1ZSBwYWlyIHNob3dpbmcgd2hpY2ggbG9jYXRpb24gZWFjdCBhdHRyaWJ1dGUgc2hvdWxkIHNpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgZS5nLiB7cG9zaXRpb246MCwgdXZzOjF9LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlY2lzaW9uXSAtIFRoZSBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaGFkZXIoZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucywgcHJlY2lzaW9uKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfR0xTaGFkZXIuY2FsbCh0aGlzLCBnbCwgY2hlY2tQcmVjaXNpb24odmVydGV4U3JjLCBwcmVjaXNpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlBSRUNJU0lPTl9WRVJURVgpLCBjaGVja1ByZWNpc2lvbihmcmFnbWVudFNyYywgcHJlY2lzaW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5QUkVDSVNJT05fRlJBR01FTlQpLCB1bmRlZmluZWQsIGF0dHJpYnV0ZUxvY2F0aW9ucykpO1xuICAgIH1cblxuICAgIHJldHVybiBTaGFkZXI7XG59KF9waXhpR2xDb3JlLkdMU2hhZGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBXZWJHTE1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICovXG4gIGZ1bmN0aW9uIFdlYkdMTWFuYWdlcihyZW5kZXJlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLldlYkdMUmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vbignY29udGV4dCcsIHRoaXMub25Db250ZXh0Q2hhbmdlLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmljIG1ldGhvZCBjYWxsZWQgd2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlLlxuICAgKlxuICAgKi9cblxuXG4gIFdlYkdMTWFuYWdlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge31cbiAgLy8gZG8gc29tZSBjb2RlcyBpbml0IVxuXG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgZGVzdHJveSBtZXRob2RzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAqXG4gICAqL1xuICA7XG5cbiAgV2ViR0xNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLm9mZignY29udGV4dCcsIHRoaXMub25Db250ZXh0Q2hhbmdlLCB0aGlzKTtcblxuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBXZWJHTE1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIyID0gcmVxdWlyZSgnLi4vU3lzdGVtUmVuZGVyZXInKTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TeXN0ZW1SZW5kZXJlcjIpO1xuXG52YXIgX0NhbnZhc01hc2tNYW5hZ2VyID0gcmVxdWlyZSgnLi91dGlscy9DYW52YXNNYXNrTWFuYWdlcicpO1xuXG52YXIgX0NhbnZhc01hc2tNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc01hc2tNYW5hZ2VyKTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldCcpO1xuXG52YXIgX0NhbnZhc1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJUYXJnZXQpO1xuXG52YXIgX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBDYW52YXNSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgMmQgY2FudmFzLiBUaGlzIHJlbmRlcmVyIHNob3VsZFxuICogYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBXZWJHTC4gRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgQ2FudmFzUmVuZGVyZXIudmlldyB0b1xuICogeW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyA6KVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtUmVuZGVyZXJcbiAqL1xudmFyIENhbnZhc1JlbmRlcmVyID0gZnVuY3Rpb24gKF9TeXN0ZW1SZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhDYW52YXNSZW5kZXJlciwgX1N5c3RlbVJlbmRlcmVyKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAgICogIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAgICAgKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJlcihvcHRpb25zLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1N5c3RlbVJlbmRlcmVyLmNhbGwodGhpcywgJ0NhbnZhcycsIG9wdGlvbnMsIGFyZzIsIGFyZzMpKTtcblxuICAgICAgICBfdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuQ0FOVkFTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm9vdENvbnRleHQgPSBfdGhpcy52aWV3LmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGNhbnZhcyAyZCBjb250ZXh0IChjb3VsZCBjaGFuZ2Ugd2l0aCByZW5kZXJUZXh0dXJlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLnJvb3RDb250ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb29sZWFuIGZsYWcgY29udHJvbGxpbmcgY2FudmFzIHJlZnJlc2guXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZWZyZXNoID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5zdGFuY2Ugb2YgYSBDYW52YXNNYXNrTWFuYWdlciwgaGFuZGxlcyBtYXNraW5nIHdoZW4gdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5DYW52YXNNYXNrTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tNYW5hZ2VyID0gbmV3IF9DYW52YXNNYXNrTWFuYWdlcjIuZGVmYXVsdChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgcHJvcGVydHkgdXNlZCB0byBzZXQgdGhlIGNhbnZhcyBzbW9vdGhpbmcgcHJvcGVydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ2ltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5yb290Q29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5yb290Q29udGV4dC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICd3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5yb290Q29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdtb3pJbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5yb290Q29udGV4dC5vSW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnb0ltYWdlU21vb3RoaW5nRW5hYmxlZCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnJvb3RDb250ZXh0Lm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnbXNJbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoKTtcblxuICAgICAgICBfdGhpcy5ibGVuZE1vZGVzID0gKDAsIF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpMi5kZWZhdWx0KSgpO1xuICAgICAgICBfdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLnJlc2l6ZShfdGhpcy5vcHRpb25zLndpZHRoLCBfdGhpcy5vcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ2FudmFzUmVuZGVyZXIjcG9zdHJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZyBzdGFydHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNhbnZhc1JlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byB0aGlzIGNhbnZhcyB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gQSByZW5kZXIgdGV4dHVyZSB0byBiZSByZW5kZXJlZCB0by5cbiAgICAgKiAgSWYgdW5zZXQsIGl0IHdpbGwgcmVuZGVyIHRvIHRoZSByb290IGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9ZmFsc2VdIC0gV2hldGhlciB0byBjbGVhciB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gW3RyYW5zZm9ybV0gLSBBIHRyYW5zZm9ybWF0aW9uIHRvIGJlIGFwcGxpZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlVHJhbnNmb3JtPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGNsZWFyLCB0cmFuc2Zvcm0sIHNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcblxuICAgICAgICB2YXIgcm9vdFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICghcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0ID0gbmV3IF9DYW52YXNSZW5kZXJUYXJnZXQyLmRlZmF1bHQocmVuZGVyVGV4dHVyZS53aWR0aCwgcmVuZGVyVGV4dHVyZS5oZWlnaHQsIHJlbmRlclRleHR1cmUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5zb3VyY2UgPSByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY2FudmFzO1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dDtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5yb290Q29udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG4gICAgICAgICAgICB2YXIgdGVtcFd0ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLmNvcHkodGVtcFd0KTtcblxuICAgICAgICAgICAgICAgIC8vIGxldHMgbm90IGZvcmdldCB0byBmbGFnIHRoZSBwYXJlbnQgdHJhbnNmb3JtIGFzIGRpcnR5Li4uXG4gICAgICAgICAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtLl93b3JsZElEID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBXdC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IHRoaXMuYmxlbmRNb2Rlc1tfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMXTtcblxuICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMgJiYgdGhpcy52aWV3LnNjcmVlbmNhbnZhcykge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgY29udGV4dC5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETzogaW1wbGVtZW50IGJhY2tncm91bmQgZm9yIENhbnZhc1JlbmRlclRhcmdldCBvciBSZW5kZXJUZXh0dXJlP1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyBSRU5ERVIgVEFSR0VUIFNUVUZGIEhFUkUuLlxuICAgICAgICB2YXIgdGVtcENvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJDYW52YXModGhpcyk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRlbXBDb250ZXh0O1xuXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJvb3RSZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY2FudmFzIG9mIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjbGVhckNvbG9yXSAtIENsZWFyIHRoZSBjYW52YXMgd2l0aCB0aGlzIGNvbG9yLCBleGNlcHQgdGhlIGNhbnZhcyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoY2xlYXJDb2xvcikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zcGFyZW50ICYmIGNsZWFyQ29sb3IpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY2xlYXJDb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUgb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSAtIFNlZSB7QGxpbmsgUElYSS5CTEVORF9NT0RFU30gZm9yIHZhbGlkIHZhbHVlcy5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9PT0gYmxlbmRNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBibGVuZE1vZGU7XG4gICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZXNbYmxlbmRNb2RlXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLmRlc3Ryb3lQbHVnaW5zKCk7XG5cbiAgICAgICAgLy8gY2FsbCB0aGUgYmFzZSBkZXN0cm95XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5yZWZyZXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zbW9vdGhQcm9wZXJ0eSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBleHRlbmRzIFBJWEkuU3lzdGVtUmVuZGVyZXIjcmVzaXplXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqL1xuXG5cbiAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICAvLyByZXNldCB0aGUgc2NhbGUgbW9kZS4uIG9kZGx5IHRoaXMgc2VlbXMgdG8gYmUgcmVzZXQgd2hlbiB0aGUgY2FudmFzIGlzIHJlc2l6ZWQuXG4gICAgICAgIC8vIHN1cmVseSBhIGJyb3dzZXIgYnVnPz8gTGV0IFBpeGlKUyBmaXggdGhhdCBmb3IgeW91Li5cbiAgICAgICAgaWYgKHRoaXMuc21vb3RoUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdENvbnRleHRbdGhpcy5zbW9vdGhQcm9wZXJ0eV0gPSBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERSA9PT0gX2NvbnN0LlNDQUxFX01PREVTLkxJTkVBUjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYmxlbmQgbW9kZSBoYXMgY2hhbmdlZC5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmludmFsaWRhdGVCbGVuZE1vZGUgPSBmdW5jdGlvbiBpbnZhbGlkYXRlQmxlbmRNb2RlKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZXMuaW5kZXhPZih0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc1JlbmRlcmVyO1xufShfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAqIGJ5IGNyZWF0aW5nIGEgY3VzdG9tIGJ1aWxkLiBDb25zdWx0IHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgY3JlYXRpbmcgY3VzdG9tXG4gKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICogQG5hbWUgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0fSBleHRyYWN0IEV4dHJhY3QgaW1hZ2UgZGF0YSBmcm9tIHJlbmRlcmVyLlxuICogQHByb3BlcnR5IHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gaW50ZXJhY3Rpb24gSGFuZGxlcyBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICogQHByb3BlcnR5IHtQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAqL1xuXG4vKipcbiAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICpcbiAqIEBtZXRob2QgUElYSS5DYW52YXNSZW5kZXJlciNyZWdpc3RlclBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNSZW5kZXJlcjtcbl91dGlscy5wbHVnaW5UYXJnZXQubWl4aW4oQ2FudmFzUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9EaXNwbGF5T2JqZWN0MiA9IHJlcXVpcmUoJy4vRGlzcGxheU9iamVjdCcpO1xuXG52YXIgX0Rpc3BsYXlPYmplY3QzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcGxheU9iamVjdDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBDb250YWluZXIgcmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgZGlzcGxheSBvYmplY3RzLlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cy5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGFpbmVyID0gZnVuY3Rpb24gKF9EaXNwbGF5T2JqZWN0KSB7XG4gICAgX2luaGVyaXRzKENvbnRhaW5lciwgX0Rpc3BsYXlPYmplY3QpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb250YWluZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250YWluZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9EaXNwbGF5T2JqZWN0LmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCBieSBDb250YWluZXIgc3ViY2xhc3NlcyB3aGVuZXZlciB0aGUgY2hpbGRyZW4gYXJyYXkgaXMgbW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2UoKSB7fVxuICAgIC8qIGVtcHR5ICovXG5cblxuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIGFkZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgO1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkKGNoaWxkKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChhcmd1bWVudHNMZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdXNlIGl0IHRoZSByaWdodCB3YXkgKC5sZW5ndGggYW5kIFtpXSkgc28gdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBzdGlsbCBiZSBvcHRpbWlzZWQgYnkgSlMgcnVudGltZXNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaGFzIGEgcGFyZW50IHRoZW4gbGV0cyByZW1vdmUgaXQgYXMgUGl4aUpTIG9iamVjdHMgY2FuIG9ubHkgZXhpc3QgaW4gb25lIHBsYWNlXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGRBdCA9IGZ1bmN0aW9uIGFkZENoaWxkQXQoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoaWxkICsgJ2FkZENoaWxkQXQ6IFRoZSBpbmRleCAnICsgaW5kZXggKyAnIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJyArIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTd2FwcyB0aGUgcG9zaXRpb24gb2YgMiBEaXNwbGF5IE9iamVjdHMgd2l0aGluIHRoaXMgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gRmlyc3QgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZDIgLSBTZWNvbmQgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnN3YXBDaGlsZHJlbiA9IGZ1bmN0aW9uIHN3YXBDaGlsZHJlbihjaGlsZCwgY2hpbGQyKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gY2hpbGQyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5kZXgxID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgdmFyIGluZGV4MiA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZDIpO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBwb3NpdGlvbiBvZiBhIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIHRvIGlkZW50aWZ5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggcG9zaXRpb24gb2YgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0IHRvIGlkZW50aWZ5XG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIGdldENoaWxkSW5kZXgoY2hpbGQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gc2V0Q2hpbGRJbmRleChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgaW5kZXggaXMgb3V0IG9mIGJvdW5kcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiBnZXRDaGlsZEF0KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q2hpbGRBdDogSW5kZXggKCcgKyBpbmRleCArICcpIGRvZXMgbm90IGV4aXN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZChjaGlsZCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pc2VkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRBdChpbmRleCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtEaXNwbGF5T2JqZWN0W119IExpc3Qgb2YgcmVtb3ZlZCBjaGlsZHJlblxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHZhciBiZWdpbkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgZW5kSW5kZXggPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgdmFyIGVuZCA9IHR5cGVvZiBlbmRJbmRleCA9PT0gJ251bWJlcicgPyBlbmRJbmRleCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgcmVtb3ZlZC5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW19pXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9IGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmdcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcmVuZGVyIGZsYWdzLCBob3cgdG8gcHJvY2VzcyBzdHVmZiBoZXJlXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbWFzay5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBjaGlsZC5fbWFzay5fYm91bmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIE92ZXJyaWRlIHRoaXMgdG9cbiAgICAgKiBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge31cbiAgICAvLyBGSUxMIElOLy9cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgO1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8IHRoaXMuX2ZpbHRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG5cbiAgICAgICAgICAgIC8vIHNpbXBsZSByZW5kZXIgY2hpbGRyZW4hXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuX2ZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgX2kyID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBfaTIgPCBqOyBfaTIrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltfaTJdLnJlbmRlcldlYkdMKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7fVxuICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpc1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlckNhbnZhcyhyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucG9wTWFzayhyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcblxuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbnRhaW5lciwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuXG4gICAgICAgICAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb250YWluZXI7XG59KF9EaXNwbGF5T2JqZWN0My5kZWZhdWx0KTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbnRhaW5lcjtcbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250YWluZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5uYXRpdmVMaW5lcykge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKTtcbiAgICB9XG59O1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9saWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSkge1xuICAgIC8vIFRPRE8gT1BUSU1JU0UhXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IHBvaW50IGlzIHRoZSBsYXN0IHBvaW50IC0gZ29ubmEgaGF2ZSBpc3N1ZXMgOilcbiAgICBpZiAoZmlyc3RQb2ludC54ID09PSBsYXN0UG9pbnQueCAmJiBmaXJzdFBvaW50LnkgPT09IGxhc3RQb2ludC55KSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcblxuICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgIHBvaW50cy5wb3AoKTtcblxuICAgICAgICBsYXN0UG9pbnQgPSBuZXcgX21hdGguUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKGZpcnN0UG9pbnQueCAtIGxhc3RQb2ludC54KSAqIDAuNTtcbiAgICAgICAgdmFyIG1pZFBvaW50WSA9IGxhc3RQb2ludC55ICsgKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAvLyBEUkFXIHRoZSBMaW5lXG4gICAgdmFyIHdpZHRoID0gZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgdmFyIHAxeCA9IHBvaW50c1swXTtcbiAgICB2YXIgcDF5ID0gcG9pbnRzWzFdO1xuICAgIHZhciBwMnggPSBwb2ludHNbMl07XG4gICAgdmFyIHAyeSA9IHBvaW50c1szXTtcbiAgICB2YXIgcDN4ID0gMDtcbiAgICB2YXIgcDN5ID0gMDtcblxuICAgIHZhciBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICB2YXIgcGVycHkgPSBwMXggLSBwMng7XG4gICAgdmFyIHBlcnAyeCA9IDA7XG4gICAgdmFyIHBlcnAyeSA9IDA7XG4gICAgdmFyIHBlcnAzeCA9IDA7XG4gICAgdmFyIHBlcnAzeSA9IDA7XG5cbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG5cbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICAvLyBzdGFydFxuICAgIHZlcnRzLnB1c2gocDF4IC0gcGVycHgsIHAxeSAtIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICB2ZXJ0cy5wdXNoKHAxeCArIHBlcnB4LCBwMXkgKyBwZXJweSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgcDF4ID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgcDF5ID0gcG9pbnRzWyhpIC0gMSkgKiAyICsgMV07XG5cbiAgICAgICAgcDJ4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgcDJ5ID0gcG9pbnRzW2kgKiAyICsgMV07XG5cbiAgICAgICAgcDN4ID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgcDN5ID0gcG9pbnRzWyhpICsgMSkgKiAyICsgMV07XG5cbiAgICAgICAgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICAgICAgcGVycDJ4ID0gLShwMnkgLSBwM3kpO1xuICAgICAgICBwZXJwMnkgPSBwMnggLSBwM3g7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJwMnggKiBwZXJwMnggKyBwZXJwMnkgKiBwZXJwMnkpO1xuICAgICAgICBwZXJwMnggLz0gZGlzdDtcbiAgICAgICAgcGVycDJ5IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeCAqPSB3aWR0aDtcbiAgICAgICAgcGVycDJ5ICo9IHdpZHRoO1xuXG4gICAgICAgIHZhciBhMSA9IC1wZXJweSArIHAxeSAtICgtcGVycHkgKyBwMnkpO1xuICAgICAgICB2YXIgYjEgPSAtcGVycHggKyBwMnggLSAoLXBlcnB4ICsgcDF4KTtcbiAgICAgICAgdmFyIGMxID0gKC1wZXJweCArIHAxeCkgKiAoLXBlcnB5ICsgcDJ5KSAtICgtcGVycHggKyBwMngpICogKC1wZXJweSArIHAxeSk7XG4gICAgICAgIHZhciBhMiA9IC1wZXJwMnkgKyBwM3kgLSAoLXBlcnAyeSArIHAyeSk7XG4gICAgICAgIHZhciBiMiA9IC1wZXJwMnggKyBwMnggLSAoLXBlcnAyeCArIHAzeCk7XG4gICAgICAgIHZhciBjMiA9ICgtcGVycDJ4ICsgcDN4KSAqICgtcGVycDJ5ICsgcDJ5KSAtICgtcGVycDJ4ICsgcDJ4KSAqICgtcGVycDJ5ICsgcDN5KTtcblxuICAgICAgICB2YXIgZGVub20gPSBhMSAqIGIyIC0gYTIgKiBiMTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVub20pIDwgMC4xKSB7XG4gICAgICAgICAgICBkZW5vbSArPSAxMC4xO1xuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJweCwgcDJ5IC0gcGVycHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJweCwgcDJ5ICsgcGVycHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHggPSAoYjEgKiBjMiAtIGIyICogYzEpIC8gZGVub207XG4gICAgICAgIHZhciBweSA9IChhMiAqIGMxIC0gYTEgKiBjMikgLyBkZW5vbTtcbiAgICAgICAgdmFyIHBkaXN0ID0gKHB4IC0gcDJ4KSAqIChweCAtIHAyeCkgKyAocHkgLSBwMnkpICogKHB5IC0gcDJ5KTtcblxuICAgICAgICBpZiAocGRpc3QgPiAxOTYgKiB3aWR0aCAqIHdpZHRoKSB7XG4gICAgICAgICAgICBwZXJwM3ggPSBwZXJweCAtIHBlcnAyeDtcbiAgICAgICAgICAgIHBlcnAzeSA9IHBlcnB5IC0gcGVycDJ5O1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnAzeCAqIHBlcnAzeCArIHBlcnAzeSAqIHBlcnAzeSk7XG4gICAgICAgICAgICBwZXJwM3ggLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeSAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN4ICo9IHdpZHRoO1xuICAgICAgICAgICAgcGVycDN5ICo9IHdpZHRoO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnAzeCwgcDJ5IC0gcGVycDN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIHBlcnAzeCwgcDJ5ICsgcGVycDN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIHBlcnAzeCwgcDJ5IC0gcGVycDN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICBpbmRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHB4LCBweSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSAocHggLSBwMngpLCBwMnkgLSAocHkgLSBwMnkpKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyICsgMV07XG5cbiAgICBwMnggPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgcDJ5ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDIgKyAxXTtcblxuICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgZGlzdCA9IE1hdGguc3FydChwZXJweCAqIHBlcnB4ICsgcGVycHkgKiBwZXJweSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgdmVydHMucHVzaChwMnggLSBwZXJweCwgcDJ5IC0gcGVycHkpO1xuICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMnggKyBwZXJweCwgcDJ5ICsgcGVycHkpO1xuICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGluZGV4Q291bnQ7ICsrX2kpIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQrKyk7XG4gICAgfVxuXG4gICAgaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQgLSAxKTtcbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIGdsLmRyYXdBcnJheXMoZ2wuTElORVMpIG1ldGhvZFxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICovXG5cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIC8vIHNvcnQgY29sb3JcbiAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5saW5lQ29sb3IpO1xuICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5saW5lQWxwaGE7XG4gICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHZhciBwMXkgPSBwb2ludHNbKGkgLSAxKSAqIDIgKyAxXTtcblxuICAgICAgICB2YXIgcDJ4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgdmFyIHAyeSA9IHBvaW50c1tpICogMiArIDFdO1xuXG4gICAgICAgIHZlcnRzLnB1c2gocDF4LCBwMXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHAyeCwgcDJ5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRMaW5lLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHRoZSBob3Jpem9udGFsIHJhbmdlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSB0aGUgdmVydGljYWwgcmFuZ2Ugb2YgdGhlIGZpbHRlclxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW9cbiAgICogQHBhcmFtIHtib29sZWFufSBbcm9vdD1mYWxzZV0gLSBXaGV0aGVyIHRoaXMgb2JqZWN0IGlzIHRoZSByb290IGVsZW1lbnQgb3Igbm90XG4gICAqL1xuICBmdW5jdGlvbiBSZW5kZXJUYXJnZXQoZ2wsIHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZW5kZXJUYXJnZXQpO1xuXG4gICAgLy8gVE9ETyBSZXNvbHV0aW9uIGNvdWxkIGdvIGhlcmUgKCBlZyBsb3cgcmVzIGJsdXJzIClcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvLyBuZXh0IHRpbWUgdG8gY3JlYXRlIGEgZnJhbWUgYnVmZmVyIGFuZCB0ZXh0dXJlXG5cbiAgICAvKipcbiAgICAgKiBBIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xGcmFtZWJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lQnVmZmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmdsQ29yZS5HTFRleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG91ciBvZiB0aGlzIHJlbmRlciB0YXJnZXQsIGFzIGFuIGFycmF5IG9mIFtyLGcsYixhXSB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzaXplIG9mIHRoZSBvYmplY3QgYXMgYSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuc2l6ZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3QncyB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0ZW5jaWwgYnVmZmVyIHN0b3JlcyBtYXNraW5nIGRhdGEgZm9yIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0RnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBzdG9yZXMgbWFza2luZyBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBzdGVuY2lsIG1hc2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICovXG4gICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgZmlsdGVyIGRhdGEgZm9yIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgKi9cbiAgICB0aGlzLmZpbHRlckRhdGEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICovXG4gICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJvb3QgPSByb290O1xuXG4gICAgaWYgKCF0aGlzLnJvb3QpIHtcbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBfcGl4aUdsQ29yZS5HTEZyYW1lYnVmZmVyLmNyZWF0ZVJHQkEoZ2wsIDEwMCwgMTAwKTtcblxuICAgICAgaWYgKHRoaXMuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZS5lbmFibGVMaW5lYXJTY2FsaW5nKCk7XG4gICAgICB9XG4gICAgICAvKlxuICAgICAgICAgIEEgZnJhbWUgYnVmZmVyIG5lZWRzIGEgdGFyZ2V0IHRvIHJlbmRlciB0by4uXG4gICAgICAgICAgY3JlYXRlIGEgdGV4dHVyZSBhbmQgYmluZCBpdCBhdHRhY2ggaXQgdG8gdGhlIGZyYW1lYnVmZmVyLi5cbiAgICAgICAqL1xuXG4gICAgICAvLyB0aGlzIGlzIHVzZWQgYnkgdGhlIGJhc2UgdGV4dHVyZVxuICAgICAgdGhpcy50ZXh0dXJlID0gdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtYWtlIGl0IGEgbnVsbCBmcmFtZWJ1ZmZlci4uXG4gICAgICB0aGlzLmZyYW1lQnVmZmVyID0gbmV3IF9waXhpR2xDb3JlLkdMRnJhbWVidWZmZXIoZ2wsIDEwMCwgMTAwKTtcbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIuZnJhbWVidWZmZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc2V0RnJhbWUoKTtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgZmlsdGVyIHRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyW119IFtjbGVhckNvbG9yPXRoaXMuY2xlYXJDb2xvcl0gLSBBcnJheSBvZiBbcixnLGIsYV0gdG8gY2xlYXIgdGhlIGZyYW1lYnVmZmVyXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICB2YXIgY2MgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIuY2xlYXIoY2NbMF0sIGNjWzFdLCBjY1syXSwgY2NbM10pOyAvLyByLGcsYixhKTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICAgKlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuYXR0YWNoU3RlbmNpbEJ1ZmZlciA9IGZ1bmN0aW9uIGF0dGFjaFN0ZW5jaWxCdWZmZXIoKSB7XG4gICAgLy8gVE9ETyBjaGVjayBpZiBzdGVuY2lsIGlzIGRvbmU/XG4gICAgLyoqXG4gICAgICogVGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHVzZWQgZm9yIG1hc2tpbmcgaW4gcGl4aVxuICAgICAqIGxldHMgY3JlYXRlIG9uZSBhbmQgdGhlbiBhZGQgYXR0YWNoIGl0IHRvIHRoZSBmcmFtZWJ1ZmZlci4uXG4gICAgICovXG4gICAgaWYgKCF0aGlzLnJvb3QpIHtcbiAgICAgIHRoaXMuZnJhbWVCdWZmZXIuZW5hYmxlU3RlbmNpbCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgZnJhbWUgb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuc2V0RnJhbWUgPSBmdW5jdGlvbiBzZXRGcmFtZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSkge1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lO1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIGJ1ZmZlcnMgYW5kIGluaXRpYWxpc2VzIHRoZSB2aWV3cG9ydC5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgLy8gVE9PRCByZWZhY3RvciB1c2FnZSBvZiBmcmFtZS4uXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIC8vIG1ha2Ugc3VyZSB0aGUgdGV4dHVyZSBpcyB1bmJvdW5kIVxuICAgIHRoaXMuZnJhbWVCdWZmZXIuYmluZCgpO1xuXG4gICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSk7XG5cbiAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIC8vIFRPRE8gYWRkIGEgY2hlY2sgYXMgdGhlbSBtYXkgYmUgdGhlIHNhbWUhXG4gICAgaWYgKHRoaXMuZGVzdGluYXRpb25GcmFtZSAhPT0gdGhpcy5zb3VyY2VGcmFtZSkge1xuICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICBnbC5zY2lzc29yKHRoaXMuZGVzdGluYXRpb25GcmFtZS54IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiB0aGlzLnJlc29sdXRpb24gfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uIHwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIC0gZG9lcyBub3QgbmVlZCB0byBiZSB1cGRhdGVkIGFsbCB0aGUgdGltZT8/XG4gICAgZ2wudmlld3BvcnQodGhpcy5kZXN0aW5hdGlvbkZyYW1lLnggfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUueSB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIHRoaXMucmVzb2x1dGlvbiB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gfCAwKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICpcbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jYWxjdWxhdGVQcm9qZWN0aW9uID0gZnVuY3Rpb24gY2FsY3VsYXRlUHJvamVjdGlvbihkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSkge1xuICAgIHZhciBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgIHBtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBUT0RPOiBtYWtlIGRlc3Qgc2NhbGUgc291cmNlXG4gICAgaWYgKCF0aGlzLnJvb3QpIHtcbiAgICAgIHBtLmEgPSAxIC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIDI7XG4gICAgICBwbS5kID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMjtcblxuICAgICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgICAgcG0udHkgPSAtMSAtIHNvdXJjZUZyYW1lLnkgKiBwbS5kO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbS5hID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyO1xuICAgICAgcG0uZCA9IC0xIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyO1xuXG4gICAgICBwbS50eCA9IC0xIC0gc291cmNlRnJhbWUueCAqIHBtLmE7XG4gICAgICBwbS50eSA9IDEgLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHRleHR1cmUgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHdpZHRoID0gd2lkdGggfCAwO1xuICAgIGhlaWdodCA9IGhlaWdodCB8IDA7XG5cbiAgICBpZiAodGhpcy5zaXplLndpZHRoID09PSB3aWR0aCAmJiB0aGlzLnNpemUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNpemUud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLnNpemUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5kZWZhdWx0RnJhbWUud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmRlZmF1bHRGcmFtZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgIHZhciBwcm9qZWN0aW9uRnJhbWUgPSB0aGlzLmZyYW1lIHx8IHRoaXMuc2l6ZTtcblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbihwcm9qZWN0aW9uRnJhbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuZnJhbWVCdWZmZXIuZGVzdHJveSgpO1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gUmVuZGVyVGFyZ2V0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUYXJnZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUYXJnZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uL1N5c3RlbVJlbmRlcmVyJyk7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3lzdGVtUmVuZGVyZXIyKTtcblxudmFyIF9NYXNrTWFuYWdlciA9IHJlcXVpcmUoJy4vbWFuYWdlcnMvTWFza01hbmFnZXInKTtcblxudmFyIF9NYXNrTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXNrTWFuYWdlcik7XG5cbnZhciBfU3RlbmNpbE1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyJyk7XG5cbnZhciBfU3RlbmNpbE1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3RlbmNpbE1hbmFnZXIpO1xuXG52YXIgX0ZpbHRlck1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL0ZpbHRlck1hbmFnZXInKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlck1hbmFnZXIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4vdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIpO1xuXG52YXIgX1RleHR1cmVNYW5hZ2VyID0gcmVxdWlyZSgnLi9UZXh0dXJlTWFuYWdlcicpO1xuXG52YXIgX1RleHR1cmVNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYW5hZ2VyKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4uLy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUpO1xuXG52YXIgX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yID0gcmVxdWlyZSgnLi9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcicpO1xuXG52YXIgX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVHYXJiYWdlQ29sbGVjdG9yKTtcblxudmFyIF9XZWJHTFN0YXRlID0gcmVxdWlyZSgnLi9XZWJHTFN0YXRlJyk7XG5cbnZhciBfV2ViR0xTdGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFN0YXRlKTtcblxudmFyIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aSA9IHJlcXVpcmUoJy4vdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aSk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0ID0gcmVxdWlyZSgnLi91dGlscy92YWxpZGF0ZUNvbnRleHQnKTtcblxudmFyIF92YWxpZGF0ZUNvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsaWRhdGVDb250ZXh0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogVGhlIFdlYkdMUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIHdlYkdMIGVuYWJsZWQgY2FudmFzLiBUaGlzIHJlbmRlcmVyXG4gKiBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IHdlYkdMLiBUaGlzIFJlbmRlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIHdlYkdMQmF0Y2hzLlxuICogU28gbm8gbmVlZCBmb3IgU3ByaXRlIEJhdGNoZXMgb3IgU3ByaXRlIENsb3Vkcy5cbiAqIERvbid0IGZvcmdldCB0byBhZGQgdGhlIHZpZXcgdG8geW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyA6KVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtUmVuZGVyZXJcbiAqL1xuXG52YXIgV2ViR0xSZW5kZXJlciA9IGZ1bmN0aW9uIChfU3lzdGVtUmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoV2ViR0xSZW5kZXJlciwgX1N5c3RlbVJlbmRlcmVyKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAgICAgKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW5cbiAgICAgKiAgcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWdhY3k9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAgICAgKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWFuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMUmVuZGVyZXIob3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1N5c3RlbVJlbmRlcmVyLmNhbGwodGhpcywgJ1dlYkdMJywgb3B0aW9ucywgYXJnMiwgYXJnMykpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeSA9IF90aGlzLm9wdGlvbnMubGVnYWN5O1xuXG4gICAgICAgIGlmIChfdGhpcy5sZWdhY3kpIHtcbiAgICAgICAgICAgIF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXNlZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuV0VCR0w7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dExvc3QgPSBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIF90aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyB3ZWJnbCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhbHBoYTogX3RoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICBhbnRpYWxpYXM6IF90aGlzLm9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBfdGhpcy50cmFuc3BhcmVudCAmJiBfdGhpcy50cmFuc3BhcmVudCAhPT0gJ25vdE11bHRpcGxpZWQnLFxuICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogX3RoaXMub3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IF90aGlzLm9wdGlvbnMucG93ZXJQcmVmZXJlbmNlXG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmFbM10gPSBfdGhpcy50cmFuc3BhcmVudCA/IDAgOiAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXNrcyB1c2luZyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza01hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrTWFuYWdlciA9IG5ldyBfTWFza01hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGVuY2lsTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0ZW5jaWxNYW5hZ2VyID0gbmV3IF9TdGVuY2lsTWFuYWdlcjIuZGVmYXVsdChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBfT2JqZWN0UmVuZGVyZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRSZW5kZXJlciA9IF90aGlzLmVtcHR5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuaW5pdFBsdWdpbnMoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHQsIGl0IGlzIGNyZWF0ZWQgaGVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBjb250ZXh0IHNvIGl0IGlzIHJlYWR5IGZvciB0aGUgbWFuYWdlcnMuXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyB0byBzZWUgaWYgYSBjb250ZXh0IGlzIHZhbGlkLi5cbiAgICAgICAgICAgICgwLCBfdmFsaWRhdGVDb250ZXh0Mi5kZWZhdWx0KShfdGhpcy5vcHRpb25zLmNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuZ2wgPSBfdGhpcy5vcHRpb25zLmNvbnRleHQgfHwgX3BpeGlHbENvcmUyLmRlZmF1bHQuY3JlYXRlQ29udGV4dChfdGhpcy52aWV3LCBfdGhpcy5fY29udGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSUQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xTdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN0YXRlID0gbmV3IF9XZWJHTFN0YXRlMi5kZWZhdWx0KF90aGlzLmdsKTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRleHR1cmVzIGJvdW5kIHRvIHRoZSBHUFUuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kVGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRhcmdldH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLl9pbml0Q29udGV4dCgpO1xuXG4gICAgICAgIC8vIG1hcCBzb21lIHdlYkdMIGJsZW5kIGFuZCBkcmF3bW9kZXMuLlxuICAgICAgICBfdGhpcy5kcmF3TW9kZXMgPSAoMCwgX21hcFdlYkdMRHJhd01vZGVzVG9QaXhpMi5kZWZhdWx0KShfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIF90aGlzLnNldEJsZW5kTW9kZSgwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLldlYkdMUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLl9pbml0Q29udGV4dCA9IGZ1bmN0aW9uIF9pbml0Q29udGV4dCgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICAvLyByZXN0b3JlIGEgY29udGV4dCBpZiBpdCB3YXMgcHJldmlvdXNseSBsb3N0XG4gICAgICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkgJiYgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heFRleHR1cmVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IG5ldyBBcnJheShtYXhUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlcyA9IG5ldyBBcnJheShtYXhUZXh0dXJlcyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgdGV4dHVyZSBtYW5hZ2VyLi4uXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBuZXcgX1RleHR1cmVNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLmZpbHRlck1hbmFnZXIgPSBuZXcgX0ZpbHRlck1hbmFnZXIyLmRlZmF1bHQodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUdDID0gbmV3IF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIuZGVmYXVsdCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0YXRlLnJlc2V0VG9EZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0ID0gbmV3IF9SZW5kZXJUYXJnZXQyLmRlZmF1bHQoZ2wsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBudWxsLCB0aGlzLnJlc29sdXRpb24sIHRydWUpO1xuICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuY2xlYXJDb2xvciA9IHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHRoaXMucm9vdFJlbmRlclRhcmdldCk7XG5cbiAgICAgICAgLy8gbm93IGxldHMgZmlsbCB1cCB0aGUgdGV4dHVyZXMgd2l0aCBlbXB0eSBvbmVzIVxuICAgICAgICB2YXIgZW1wdHlHTFRleHR1cmUgPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xUZXh0dXJlLmZyb21EYXRhKGdsLCBudWxsLCAxLCAxKTtcblxuICAgICAgICB2YXIgdGVtcE9iaiA9IHsgX2dsVGV4dHVyZXM6IHt9IH07XG5cbiAgICAgICAgdGVtcE9iai5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVtcHR5ID0gbmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBlbXB0eS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGVtcHR5R0xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0ZW1wT2JqO1xuICAgICAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2ldID0gZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmJpbmRUZXh0dXJlKG51bGwsIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdjb250ZXh0JywgZ2wpO1xuXG4gICAgICAgIC8vIHNldHVwIHRoZSB3aWR0aC9oZWlnaHQgcHJvcGVydGllcyBhbmQgZ2wgdmlld3BvcnRcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5zY3JlZW4ud2lkdGgsIHRoaXMuc2NyZWVuLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byBpdHMgd2ViR0wgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gcmVuZGVyIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gW3RyYW5zZm9ybV0gLSBBIHRyYW5zZm9ybSB0byBhcHBseSB0byB0aGUgcmVuZGVyIHRleHR1cmUgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlVHJhbnNmb3JtXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtIHBhc3M/XG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIGNhbiBiZSBoYW5keSB0byBrbm93IVxuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gIXJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcblxuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiA9IDA7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgdHJhbnNmb3JtKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wodGhpcyk7XG5cbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICAvLyB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlR0MudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiBzZXRPYmplY3RSZW5kZXJlcihvYmplY3RSZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgLy8gIGlmKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uID09PSB0aGlzLndpZHRoICYmIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy5oZWlnaHQpcmV0dXJuO1xuXG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlcjMuZGVmYXVsdC5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LnJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID09PSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSAtIHRoZSBkZXNpcmVkIGJsZW5kIG1vZGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlKGJsZW5kTW9kZSkge1xuICAgICAgICB0aGlzLnN0YXRlLnNldEJsZW5kTW9kZShibGVuZE1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3VyXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoY2xlYXJDb2xvcikge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0obWF0cml4KSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gY2xlYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGNsZWFyUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCBjbGVhckNvbG9yKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5jbGVhcihjbGVhckNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHJlbmRlciB0ZXh0dXJlIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYmUgYXBwbGllZCB0byB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICAvLyBiaW5kIHRoZSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoYmFzZVRleHR1cmUsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVuYmluZFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICByZW5kZXJUYXJnZXQgPSBiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKHJlbmRlclRleHR1cmUuZnJhbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldCB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gdGhlIG5ldyByZW5kZXIgdGFyZ2V0XG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGJpbmRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVTaGFkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hbmFnZXIuc2V0TWFza1N0YWNrKHJlbmRlclRhcmdldC5zdGVuY2lsTWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUHJvamVjdD10cnVlXSAtIFdoZXRoZXIgYXV0b21hdGljYWxseSBzZXQgdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFNoYWRlciA9IGZ1bmN0aW9uIGJpbmRTaGFkZXIoc2hhZGVyLCBhdXRvUHJvamVjdCkge1xuICAgICAgICAvLyBUT0RPIGNhY2hlXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVTaGFkZXIgIT09IHNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gc2hhZGVyO1xuICAgICAgICAgICAgc2hhZGVyLmJpbmQoKTtcblxuICAgICAgICAgICAgLy8gYGF1dG9Qcm9qZWN0YCBub3JtYWxseSB3b3VsZCBiZSBhIGRlZmF1bHQgcGFyYW1ldGVyIHNldCB0byB0cnVlXG4gICAgICAgICAgICAvLyBidXQgYmVjYXVzZSBvZiBob3cgQmFiZWwgdHJhbnNwaWxlcyBkZWZhdWx0IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIC8vIGl0IGhpbmRlcnMgdGhlIHBlcmZvcm1hbmNlIG9mIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgaWYgKGF1dG9Qcm9qZWN0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyB0aGUgdGV4dHVyZS4gVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYXRpb24gb2YgdGhlIGJvdW5kIHRleHR1cmUuXG4gICAgICogSXQgbWF5IG5vdCBiZSB0aGUgc2FtZSBhcyB0aGUgb25lIHlvdSBwYXNzIGluLiBUaGlzIGlzIGR1ZSB0byBvcHRpbWlzYXRpb24gdGhhdCBwcmV2ZW50c1xuICAgICAqIG5lZWRsZXNzIGJpbmRpbmcgb2YgdGV4dHVyZXMuIEZvciBleGFtcGxlIGlmIHRoZSB0ZXh0dXJlIGlzIGFscmVhZHkgYm91bmQgaXQgd2lsbCByZXR1cm4gdGhlXG4gICAgICogY3VycmVudCBsb2NhdGlvbiBvZiB0aGUgdGV4dHVyZSBpbnN0ZWFkIG9mIHRoZSBvbmUgcHJvdmlkZWQuIFRvIGJ5cGFzcyB0aGlzIHVzZSBmb3JjZSBsb2NhdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgbmV3IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgc3VnZ2VzdGVkIHRleHR1cmUgbG9jYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlTG9jYXRpb24gLSBmb3JjZSB0aGUgbG9jYXRpb25cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGJvdW5kIHRleHR1cmUgbG9jYXRpb25cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFRleHR1cmUgPSBmdW5jdGlvbiBiaW5kVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbiwgZm9yY2VMb2NhdGlvbikge1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZSB8fCB0aGlzLmVtcHR5VGV4dHVyZXNbbG9jYXRpb25dO1xuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuICAgICAgICB0ZXh0dXJlLnRvdWNoZWQgPSB0aGlzLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICBpZiAoIWZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBtYXliZSBsb29rIGludG8gYWRkaW5nIGJvdW5kSWRzLi4gc2F2ZSB1cyB0aGUgbG9vcD9cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbisrO1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gJT0gdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggLSB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgYWxzbyBiaW5kIHRoZSB0ZXh0dXJlLi5cbiAgICAgICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIudXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiB1bmJpbmRzIHRoZSB0ZXh0dXJlIC4uLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdW5iaW5kXG4gICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnVuYmluZFRleHR1cmUgPSBmdW5jdGlvbiB1bmJpbmRUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGhpcy5lbXB0eVRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tpXS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZBTyBmcm9tIHRoaXMgcmVuZGVyZXIncyBjb250ZXh0IGFuZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZlcnRleEFycmF5T2JqZWN0fSBUaGUgbmV3IFZBTy5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVmFvID0gZnVuY3Rpb24gY3JlYXRlVmFvKCkge1xuICAgICAgICByZXR1cm4gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KHRoaXMuZ2wsIHRoaXMuc3RhdGUuYXR0cmliU3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IFZhbyB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlZlcnRleEFycmF5T2JqZWN0fSB2YW8gLSB0aGUgbmV3IFZhb1xuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRWYW8gPSBmdW5jdGlvbiBiaW5kVmFvKHZhbykge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvID09PSB2YW8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbykge1xuICAgICAgICAgICAgdmFvLmJpbmQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hY3RpdmVWYW8pIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgYWx3YXlzIGJlIHRydWUgaSB0aGluaz9cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhby51bmJpbmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5iaW5kVmFvKG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVTaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQgPSB0aGlzLnJvb3RSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgdGhlIG1haW4gZnJhbWUgYnVmZmVyICh0aGUgc2NyZWVuKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmFjdGl2YXRlKCk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlQ29udGV4dExvc3QgPSBmdW5jdGlvbiBoYW5kbGVDb250ZXh0TG9zdChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dFJlc3RvcmVkKCkge1xuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLmZpbHRlck1hbmFnZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgdGhpcy5faW5pdENvbnRleHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIChldmVudCBsaXN0ZW5lcnMsIHNwcml0ZWJhdGNoLCBldGMuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgICAgICB0aGlzLmRlc3Ryb3lQbHVnaW5zKCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCk7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX1N5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgdGhpcy51aWQgPSAwO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgdGhlIG1hbmFnZXJzXG4gICAgICAgIHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2NvbnRleHRPcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuXG4gICAgICAgIGlmICh0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgLy8gdGhpcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWJHTFJlbmRlcmVyO1xufShfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAqIGJ5IGNyZWF0aW5nIGEgY3VzdG9tIGJ1aWxkLiBDb25zdWx0IHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgY3JlYXRpbmcgY3VzdG9tXG4gKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICogQG5hbWUgUElYSS5XZWJHTFJlbmRlcmVyI3BsdWdpbnNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcmVhZG9ubHlcbiAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LldlYkdMRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAqL1xuXG4vKipcbiAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICpcbiAqIEBtZXRob2QgUElYSS5XZWJHTFJlbmRlcmVyI3JlZ2lzdGVyUGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUmVuZGVyZXI7XG5fdXRpbHMucGx1Z2luVGFyZ2V0Lm1peGluKFdlYkdMUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4uL21hbmFnZXJzL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICBfaW5oZXJpdHMoT2JqZWN0UmVuZGVyZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gIGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RSZW5kZXJlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHJlbmRlcmVyIGFuZCBzZXRzIHRoZSBzaGFkZXJcbiAgICpcbiAgICovXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge31cbiAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuXG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSByZW5kZXJlclxuICAgKlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICB0aGlzLmZsdXNoKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0dWIgbWV0aG9kIGZvciByZW5kZXJpbmcgY29udGVudCBhbmQgZW1wdHlpbmcgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAqXG4gICAqL1xuXG5cbiAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7fVxuICAvLyBmbHVzaCFcblxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGFuIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byByZW5kZXIuXG4gICAqL1xuICA7XG5cbiAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihvYmplY3QpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAge1xuICAgIC8vIHJlbmRlciB0aGUgb2JqZWN0XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdFJlbmRlcmVyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gT2JqZWN0UmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQ291bnRMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9Db3VudExpbWl0ZXInKTtcblxudmFyIF9Db3VudExpbWl0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ291bnRMaW1pdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNoYXJlZFRpY2tlciA9IGNvcmUudGlja2VyLnNoYXJlZDtcblxuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiB1cGxvYWRzIHBlciBmcmFtZSB1c2luZyBwcmVwYXJlIHBsdWdpbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbmNvcmUuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUgPSA0O1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLiBCYXNlUHJlcGFyZSBoYW5kbGVzXG4gKiBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5IHtAbGluayBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnc29tZXRoaW5nLnBuZycpO1xuICpcbiAqIC8vIExvYWQgb2JqZWN0IGludG8gR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChzcHJpdGUsICgpID0+IHtcbiAqXG4gKiAgICAgLy9UZXh0dXJlKHMpIGhhcyBiZWVuIHVwbG9hZGVkIHRvIEdQVVxuICogICAgIGFwcC5zdGFnZS5hZGRDaGlsZChzcHJpdGUpO1xuICpcbiAqIH0pXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuXG52YXIgQmFzZVByZXBhcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlN5c3RlbVJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZVByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZVByZXBhcmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGltaXRlciB0byBiZSB1c2VkIHRvIGNvbnRyb2wgaG93IHF1aWNrbHkgaXRlbXMgYXJlIHByZXBhcmVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNvdW50TGltaXRlcnxQSVhJLnByZXBhcmUuVGltZUxpbWl0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgX0NvdW50TGltaXRlcjIuZGVmYXVsdChjb3JlLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQHR5cGUge1BJWEkuU3lzdGVtUmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9ubHkgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gQ2FudmFzUHJlcGFyZSBhbmQgV2ViR0xQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICAgICAqIHRvIHVwbG9hZCBob29rcy4gVGhhdCBkaWZmZXJlbnQgcGFyYW1ldGVyIGlzIHN0b3JlZCBoZXJlLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV8UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsYXllZFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgICAgIGlmICghX3RoaXMucXVldWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGRyYXdUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYWxsIHRoZSB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAgICAgKiAgICAgICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAgICAgKiAgICAgICAgb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLCBpZiBpdGVtcyBoYXZlIGJlZW4gYWRkZWQgdXNpbmcgYHByZXBhcmUuYWRkYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKGl0ZW0sIGRvbmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgICAgIGl0ZW0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgICAgICAvLyB0aGF0IHdlIGNvdWxkIHVwbG9hZFxuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChkb25lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFNoYXJlZFRpY2tlci5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZGVsYXllZFRpY2ssIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5wcmVwYXJlSXRlbXMgPSBmdW5jdGlvbiBwcmVwYXJlSXRlbXMoKSB7XG4gICAgICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnF1ZXVlWzBdO1xuICAgICAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF1cGxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2xlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlc1tfaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgICAgICBTaGFyZWRUaWNrZXIuYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIGZpbmRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgKiAgICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gYWRkIGl0ZW0gdG8gdGhlIHF1ZXVlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlckZpbmRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKSB7XG4gICAgICAgIGlmIChhZGRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgdXBsb2FkaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBsb2FkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgKiAgICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlclVwbG9hZEhvb2sgPSBmdW5jdGlvbiByZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkSG9vaykge1xuICAgICAgICBpZiAodXBsb2FkSG9vaykge1xuICAgICAgICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gICAgICogICAgICAgIGFkZCB0byB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNhbnZhc1ByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoaXRlbSkge1xuICAgICAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5hZGRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBjaGlsZGVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5Db250YWluZXIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgX2kyID49IDA7IF9pMi0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltfaTJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tpbmcpIHtcbiAgICAgICAgICAgIFNoYXJlZFRpY2tlci5yZW1vdmUodGhpcy50aWNrLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wbGV0ZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VQcmVwYXJlO1xufSgpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBCYXNlUHJlcGFyZTtcbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSkge1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblxuICAgIC8vIE9iamVjdHMgd2l0aCBtdXRsaXBsZSB0ZXh0dXJlc1xuICAgIGlmIChpdGVtICYmIGl0ZW0uX3RleHR1cmVzICYmIGl0ZW0uX3RleHR1cmVzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgQmFzZVRleHR1cmVzIGZyb20gU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgLy8gT2JqZWN0cyB3aXRoIHRleHR1cmVzLCBsaWtlIFNwcml0ZXMvVGV4dFxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBkcmF3VGV4dChoZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dCkge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShoZWxwZXIsIGl0ZW0pIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dFN0eWxlKSB7XG4gICAgICAgIHZhciBmb250ID0gaXRlbS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICBjb3JlLlRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5UZXh0KSB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHRTdHlsZSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVByZXBhcmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3BhcnNlVXJpID0gcmVxdWlyZSgncGFyc2UtdXJpJyk7XG5cbnZhciBfcGFyc2VVcmkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VVcmkpO1xuXG52YXIgX21pbmlTaWduYWxzID0gcmVxdWlyZSgnbWluaS1zaWduYWxzJyk7XG5cbnZhciBfbWluaVNpZ25hbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWluaVNpZ25hbHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyB0ZXN0cyBpcyBDT1JTIGlzIHN1cHBvcnRlZCBpbiBYSFIsIGlmIG5vdCB3ZSBuZWVkIHRvIHVzZSBYRFJcbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsO1xuXG4vLyBzb21lIHN0YXR1cyBjb25zdGFudHNcbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7XG5cbi8vIG5vb3BcbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBhIHJlc291cmNlIGFuZCBhbGwgY2hpbGQgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBSZXNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IGxvYWRUeXBlIC0gVGhlIGxvYWQgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG4gICAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgICAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgICAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX3hoclR5cGVNYXAsIGV4dG5hbWUsIHhoclR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbb3B0aW9ucy5tZXRhZGF0YS5sb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAqICAgICAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubWV0YWRhdGEuc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW29wdGlvbnMubWV0YWRhdGEubWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudCBvZiBhIHZpZGVvL2F1ZGlvXG4gICAgICogICAgICBlbG1lbnQuIElmIHRoZSB1cmxzIGFyZSBhbiBhcnJheSwgeW91IGNhbiBwYXNzIHRoaXMgYXMgYW4gYXJyYXkgYXMgd2VsbCB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG9cbiAgICAgKiAgICAgIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgICAqL1xuXG5cbiAgICBmdW5jdGlvbiBSZXNvdXJjZShuYW1lLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc291cmNlKTtcblxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggbmFtZSBhbmQgdXJsIGFyZSByZXF1aXJlZCBmb3IgY29uc3RydWN0aW5nIGEgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXRlIGZsYWdzIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZsYWdzID0gMDtcblxuICAgICAgICAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgdGhhdCB3YXMgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7YW55fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICAgICAqICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICAgICAqICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXNcbiAgICAgICAgICogIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGEgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Vycm9yfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAgICAgKiB3aGVuIGBsb2FkVHlwZWAgaXMgYFJlc291cmNlLkxPQURfVFlQRS5YSFJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhociA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJvZ3Jlc3MgY2h1bmsgb3duZWQgYnkgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDaHVuayA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGNvbXBsZXRlYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZENvbXBsZXRlID0gdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyB4aHIgY2FsbGJhY2tzXG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhkck9uVGltZW91dCA9IHRoaXMuX3hkck9uVGltZW91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHJlc291cmNlIGJlaW5ncyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICAgICAqIE5vdCBhbGwgcmVzb3VyY2VzIHR5cGVzIGFuZCBsb2FkZXIgc3lzdGVtcyBjYW4gc3VwcG9ydCB0aGlzIGV2ZW50XG4gICAgICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAgICAgKiBwcm9wZXJseSBzZXRzIENvbnRlbnQtTGVuZ3RoIGhlYWRlcnMsIHRoZW4gdGhpcyB3aWxsIGJlIGF2YWlsYWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICAgICAqIGJlIGluIHRoZSBgZXJyb3JgIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25BZnRlck1pZGRsZXdhcmUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSByZXBvcnRzIGxvYWRpbmcgcHJvZ3Jlc3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHJlc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogQ2xlYW4gdGhpcyB1cCBpbiBhIHdyYXBwZXIgb3Igc29tZXRoaW5nLi4uZ3Jvc3MuLi4uXG4gICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcmUgZXJyb3JcbiAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcblxuICAgICAgICAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICAgICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbXVsdGktc291cmNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uZSBub3cuXG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcblxuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh1c2VYZHIgJiYgdGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLl9mbGFncyAmIGZsYWcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBXaGV0aGVyIHRvIHNldCBvciAodW4pc2V0IHRoZSBmbGFnLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRTb3VyY2VFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgnVW5zdXBwb3J0ZWQgZWxlbWVudDogJyArIHR5cGUpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gc3VwcG9ydCBmb3IgQ29jb29uSlMgQ2FudmFzKyBydW50aW1lLCBsYWNrcyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy51cmwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsLCBBcnJheS5pc0FycmF5KF9taW1lVHlwZXMpID8gX21pbWVUeXBlc1swXSA6IF9taW1lVHlwZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmRhdGEubG9hZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYTUxIdHRwUmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcblxuICAgICAgICAvLyBsb2FkIGpzb24gYXMgdGV4dCBhbmQgcGFyc2UgaXQgb3Vyc2VsdmVzLiBXZSBkbyB0aGlzIGJlY2F1c2Ugc29tZSBicm93c2Vyc1xuICAgICAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cbiAgICAgICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTiB8fCB0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IGhhcyBhIGZldyBxdWlya3MuIE9jY2FzaW9uYWxseSBpdCB3aWxsIGFib3J0IHJlcXVlc3RzXG4gICAgICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcbiAgICAgICAgeGRyLnRpbWVvdXQgPSA1MDAwO1xuXG4gICAgICAgIHhkci5vbmVycm9yID0gdGhpcy5fYm91bmRYaHJPbkVycm9yO1xuICAgICAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYZHJPblRpbWVvdXQ7XG4gICAgICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgICAgICB4ZHIub25sb2FkID0gdGhpcy5fYm91bmRYaHJPbkxvYWQ7XG5cbiAgICAgICAgeGRyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcblxuICAgICAgICAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAgICAgLy8gaXNzdWUgd2l0aCB0aGUgaW50ZXJmYWNlIHdoZXJlIHNvbWUgcmVxdWVzdHMgYXJlIGxvc3QgaWYgbXVsdGlwbGVcbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHhkci5zZW5kKCk7XG4gICAgICAgIH0sIDEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW21pbWVdIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2NyZWF0ZVNvdXJjZSA9IGZ1bmN0aW9uIF9jcmVhdGVTb3VyY2UodHlwZSwgdXJsLCBtaW1lKSB7XG4gICAgICAgIGlmICghbWltZSkge1xuICAgICAgICAgICAgbWltZSA9IHR5cGUgKyAnLycgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblxuICAgICAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgICAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXJyb3IgZXZlbnQgZnJvbSB0aGUgZWxlbWVudCB0aGF0IGVtaXRzIGl0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYWJvcnQoJ0ZhaWxlZCB0byBsb2FkIGVsZW1lbnQgdXNpbmc6ICcgKyBldmVudC50YXJnZXQubm9kZU5hbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0UHJvZ3Jlc3NFdmVudHxFdmVudH0gZXZlbnQgLSBQcm9ncmVzcyBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0RXJyb3JFdmVudHxFdmVudH0gZXZlbnQgLSBFcnJvciBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkVycm9yID0gZnVuY3Rpb24gX3hock9uRXJyb3IoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArICcgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLCB0ZXh0OiBcIicgKyB4aHIuc3RhdHVzVGV4dCArICdcIicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdEFib3J0RXZlbnR9IGV2ZW50IC0gQWJvcnQgRXZlbnRcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh0aGlzLnhocikgKyAnIFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIHhkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaW1lb3V0IGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hkck9uVGltZW91dCA9IGZ1bmN0aW9uIF94ZHJPblRpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh0aGlzLnhocikgKyAnIFJlcXVlc3QgdGltZWQgb3V0LicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25Mb2FkID0gZnVuY3Rpb24gX3hock9uTG9hZCgpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgICAgICB2YXIgdGV4dCA9ICcnO1xuICAgICAgICB2YXIgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG5cbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICAgICAgaWYgKHN0YXR1c1R5cGUgPT09IFNUQVRVU19UWVBFX09LKSB7XG4gICAgICAgICAgICAvLyBpZiB0ZXh0LCBqdXN0IHJldHVybiBpdFxuICAgICAgICAgICAgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIGpzb246ICcgKyBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHhtbCwgcGFyc2UgaW50byBhbiB4bWwgZG9jdW1lbnQgb3IgZGl2IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgnWycgKyB4aHIuc3RhdHVzICsgJ10gJyArIHhoci5zdGF0dXNUZXh0ICsgJzogJyArIHhoci5yZXNwb25zZVVSTCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAgICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgICAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICAgICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgICB1cmwgPSAoMCwgX3BhcnNlVXJpMi5kZWZhdWx0KSh0ZW1wQW5jaG9yLmhyZWYsIHsgc3RyaWN0TW9kZTogdHJ1ZSB9KTtcblxuICAgICAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICAgICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgJzonIDogJyc7XG5cbiAgICAgICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIHJlc3BvbnNlVHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZVhoclR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lWGhyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFRoZSBsb2FkVHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZ2V0RXh0ZW5zaW9uID0gZnVuY3Rpb24gX2dldEV4dGVuc2lvbigpIHtcbiAgICAgICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgICAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICB2YXIgc2xhc2hJbmRleCA9IHVybC5pbmRleE9mKCcvJyk7XG5cbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICAgICAgICAgICAgdmFyIGhhc2hTdGFydCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLm1pbihxdWVyeVN0YXJ0ID4gLTEgPyBxdWVyeVN0YXJ0IDogdXJsLmxlbmd0aCwgaGFzaFN0YXJ0ID4gLTEgPyBoYXNoU3RhcnQgOiB1cmwubGVuZ3RoKTtcblxuICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB0eXBlIC0gVGhlIHR5cGUgdG8gZ2V0IGEgbWltZSB0eXBlIGZvci5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2dldE1pbWVGcm9tWGhyVHlwZSA9IGZ1bmN0aW9uIF9nZXRNaW1lRnJvbVhoclR5cGUodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5JztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9COlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUOlxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvcGxhaW4nO1xuXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgICAgICBrZXk6ICdpc0RhdGFVcmwnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaGFzIGZpbmlzaGVkIGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2UgaGFzIGNvbXBsZXRlbHlcbiAgICAgICAgICogbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzQ29tcGxldGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIGxvYWRpbmcsXG4gICAgICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzTG9hZGluZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpO1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVzb3VyY2U7XG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gICAgTk9ORTogMCxcbiAgICBEQVRBX1VSTDogMSA8PCAwLFxuICAgIENPTVBMRVRFOiAxIDw8IDEsXG4gICAgTE9BRElORzogMSA8PCAyXG59O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5UWVBFID0ge1xuICAgIFVOS05PV046IDAsXG4gICAgSlNPTjogMSxcbiAgICBYTUw6IDIsXG4gICAgSU1BR0U6IDMsXG4gICAgQVVESU86IDQsXG4gICAgVklERU86IDUsXG4gICAgVEVYVDogNlxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gICAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgWEhSOiAxLFxuICAgIC8qKiBVc2VzIGFuIGBJbWFnZWAgb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIElNQUdFOiAyLFxuICAgIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIEFVRElPOiAzLFxuICAgIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgVklERU86IDRcbn07XG5cbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFID0ge1xuICAgIC8qKiBzdHJpbmcgKi9cbiAgICBERUZBVUxUOiAndGV4dCcsXG4gICAgLyoqIEFycmF5QnVmZmVyICovXG4gICAgQlVGRkVSOiAnYXJyYXlidWZmZXInLFxuICAgIC8qKiBCbG9iICovXG4gICAgQkxPQjogJ2Jsb2InLFxuICAgIC8qKiBEb2N1bWVudCAqL1xuICAgIERPQ1VNRU5UOiAnZG9jdW1lbnQnLFxuICAgIC8qKiBPYmplY3QgKi9cbiAgICBKU09OOiAnanNvbicsXG4gICAgLyoqIFN0cmluZyAqL1xuICAgIFRFWFQ6ICd0ZXh0J1xufTtcblxuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAgIC8vIGltYWdlc1xuICAgIGdpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHBuZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGJtcDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGpwZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGpwZWc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0aWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0aWZmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgd2VicDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRnYTogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHN2ZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICdzdmcreG1sJzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLCAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuXG4gICAgLy8gYXVkaW9cbiAgICBtcDM6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICBvZ2c6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICB3YXY6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcblxuICAgIC8vIHZpZGVvc1xuICAgIG1wNDogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICAgIHdlYm06IFJlc291cmNlLkxPQURfVFlQRS5WSURFT1xufTtcblxuUmVzb3VyY2UuX3hoclR5cGVNYXAgPSB7XG4gICAgLy8geG1sXG4gICAgeGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIGh0bTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgeG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICB0bXg6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHN2ZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG5cbiAgICAvLyBUaGlzIHdhcyBhZGRlZCB0byBoYW5kbGUgVGlsZWQgVGlsZXNldCBYTUwsIGJ1dCAudHN4IGlzIGFsc28gYSBUeXBlU2NyaXB0IFJlYWN0IENvbXBvbmVudC5cbiAgICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICAgIHRzeDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG5cbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgcG5nOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGJtcDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBlZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0aWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB3ZWJwOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRnYTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcblxuICAgIC8vIGpzb25cbiAgICBqc29uOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuXG4gICAgLy8gdGV4dFxuICAgIHRleHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gICAgdHh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuXG4gICAgLy8gZm9udHNcbiAgICB0dGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgICBvdGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUlxufTtcblxuLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5SZXNvdXJjZS5FTVBUWV9HSUYgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PSc7XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldEV4dE1hcChtYXAsIGV4dG5hbWUsIHZhbCkge1xuICAgIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgICAgIGV4dG5hbWUgPSBleHRuYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICBpZiAoIWV4dG5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcFtleHRuYW1lXSA9IHZhbDtcbn1cblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gICAgcmV0dXJuIHhoci50b1N0cmluZygpLnJlcGxhY2UoJ29iamVjdCAnLCAnJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvdXJjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUluZGljZXNGb3JRdWFkcztcbi8qKlxuICogR2VuZXJpYyBNYXNrIFN0YWNrIGRhdGEgc3RydWN0dXJlXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHJldHVybiB7VWludDE2QXJyYXl9IGluZGljZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUpIHtcbiAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGluZGljZXMgaW4gb3VyIGFycmF5LCB0aGVyZSBhcmUgNiBwb2ludHMgcGVyIHF1YWQuXG5cbiAgICB2YXIgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG5cbiAgICB2YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNCkge1xuICAgICAgICBpbmRpY2VzW2kgKyAwXSA9IGogKyAwO1xuICAgICAgICBpbmRpY2VzW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBpbmRpY2VzW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBpbmRpY2VzW2kgKyAzXSA9IGogKyAwO1xuICAgICAgICBpbmRpY2VzW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBpbmRpY2VzW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRpY2VzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlSW5kaWNlc0ZvclF1YWRzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVXRpbGl0eSBtZXRob2RzIGZvciBTcHJpdGUvVGV4dHVyZSB0aW50aW5nLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc1RpbnRlciA9IHtcbiAgICAvKipcbiAgICAgKiBCYXNpY2FsbHkgdGhpcyBtZXRob2QganVzdCBuZWVkcyBhIHNwcml0ZSBhbmQgYSBjb2xvciBhbmQgdGludHMgdGhlIHNwcml0ZSB3aXRoIHRoZSBnaXZlbiBjb2xvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSBzcHJpdGUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIHRpbnRlZCBjYW52YXNcbiAgICAgKi9cbiAgICBnZXRUaW50ZWRUZXh0dXJlOiBmdW5jdGlvbiBnZXRUaW50ZWRUZXh0dXJlKHNwcml0ZSwgY29sb3IpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG5cbiAgICAgICAgY29sb3IgPSBDYW52YXNUaW50ZXIucm91bmRDb2xvcihjb2xvcik7XG5cbiAgICAgICAgdmFyIHN0cmluZ0NvbG9yID0gJyMnICsgKCcwMDAwMCcgKyAoY29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG5cbiAgICAgICAgdGV4dHVyZS50aW50Q2FjaGUgPSB0ZXh0dXJlLnRpbnRDYWNoZSB8fCB7fTtcblxuICAgICAgICB2YXIgY2FjaGVkVGV4dHVyZSA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcblxuICAgICAgICB2YXIgY2FudmFzID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChjYWNoZWRUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZS50aW50SWQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FudmFzID0gdGV4dHVyZS50aW50Q2FjaGVbc3RyaW5nQ29sb3JdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FudmFzID0gQ2FudmFzVGludGVyLmNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIENhbnZhc1RpbnRlci50aW50TWV0aG9kKHRleHR1cmUsIGNvbG9yLCBjYW52YXMpO1xuXG4gICAgICAgIGNhbnZhcy50aW50SWQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICBpZiAoQ2FudmFzVGludGVyLmNvbnZlcnRUaW50VG9JbWFnZSkge1xuICAgICAgICAgICAgLy8gaXMgdGhpcyBiZXR0ZXI/XG4gICAgICAgICAgICB2YXIgdGludEltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgIHRpbnRJbWFnZS5zcmMgPSBjYW52YXMudG9EYXRhVVJMKCk7XG5cbiAgICAgICAgICAgIHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXSA9IHRpbnRJbWFnZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXSA9IGNhbnZhcztcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgY29udmVydGluZyB0aGUgdGV4dHVyZSB0byBhbiBpbWFnZSB0aGVuIHdlIG5lZWQgdG8gbG9zZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIENhbnZhc1RpbnRlci5jYW52YXMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdtdWx0aXBseScgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byB0aW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHVzZSB0byB0aW50IHRoZSBzcHJpdGUgd2l0aFxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjdXJyZW50IGNhbnZhc1xuICAgICAqL1xuICAgIHRpbnRXaXRoTXVsdGlwbHk6IGZ1bmN0aW9uIHRpbnRXaXRoTXVsdGlwbHkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoY29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG5cbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSB1c2luZyB0aGUgJ292ZXJsYXknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE92ZXJsYXk6IGZ1bmN0aW9uIHRpbnRXaXRoT3ZlcmxheSh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoY29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWF0b3AnO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgLy8gY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHBpeGVsIHBlciBwaXhlbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aFBlclBpeGVsOiBmdW5jdGlvbiB0aW50V2l0aFBlclBpeGVsKHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdjb3B5JztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG4gICAgICAgIHZhciByID0gcmdiVmFsdWVzWzBdO1xuICAgICAgICB2YXIgZyA9IHJnYlZhbHVlc1sxXTtcbiAgICAgICAgdmFyIGIgPSByZ2JWYWx1ZXNbMl07XG5cbiAgICAgICAgdmFyIHBpeGVsRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICB2YXIgcGl4ZWxzID0gcGl4ZWxEYXRhLmRhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHBpeGVsc1tpICsgMF0gKj0gcjtcbiAgICAgICAgICAgIHBpeGVsc1tpICsgMV0gKj0gZztcbiAgICAgICAgICAgIHBpeGVsc1tpICsgMl0gKj0gYjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQucHV0SW1hZ2VEYXRhKHBpeGVsRGF0YSwgMCwgMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdW5kcyB0aGUgc3BlY2lmaWVkIGNvbG9yIGFjY29yZGluZyB0byB0aGUgQ2FudmFzVGludGVyLmNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gcm91bmQsIHNob3VsZCBiZSBhIGhleCBjb2xvclxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHJvdW5kZWQgY29sb3IuXG4gICAgICovXG4gICAgcm91bmRDb2xvcjogZnVuY3Rpb24gcm91bmRDb2xvcihjb2xvcikge1xuICAgICAgICB2YXIgc3RlcCA9IENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsO1xuXG4gICAgICAgIHZhciByZ2JWYWx1ZXMgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGNvbG9yKTtcblxuICAgICAgICByZ2JWYWx1ZXNbMF0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1swXSAvIHN0ZXAgKiBzdGVwKTtcbiAgICAgICAgcmdiVmFsdWVzWzFdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMV0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1syXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzJdIC8gc3RlcCAqIHN0ZXApO1xuXG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLnJnYjJoZXgpKHJnYlZhbHVlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBzdGVwcyB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYSBjYXAgd2hlbiByb3VuZGluZyBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWw6IDgsXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGNhY2hlIGJvb2xlYW4gZmxhZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGNvbnZlcnRUaW50VG9JbWFnZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgQ2FudmFzIEJsZW5kTW9kZXMgYXJlIHN1cHBvcnRlZCwgY29uc2VxdWVudGx5IHRoZSBhYmlsaXR5IHRvIHRpbnQgdXNpbmcgdGhlIG11bHRpcGx5IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhblVzZU11bHRpcGx5OiAoMCwgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyLmRlZmF1bHQpKCksXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludGluZyBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7dGludE1ldGhvZEZ1bmN0aW9uVHlwZX1cbiAgICAgKi9cbiAgICB0aW50TWV0aG9kOiAwXG59O1xuXG5DYW52YXNUaW50ZXIudGludE1ldGhvZCA9IENhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseSA/IENhbnZhc1RpbnRlci50aW50V2l0aE11bHRpcGx5IDogQ2FudmFzVGludGVyLnRpbnRXaXRoUGVyUGl4ZWw7XG5cbi8qKlxuICogVGhlIHRpbnRNZXRob2QgdHlwZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAqIEBjYWxsYmFjayB0aW50TWV0aG9kRnVuY3Rpb25UeXBlXG4gKiBAcGFyYW0gdGV4dHVyZSB7UElYSS5UZXh0dXJlfSB0aGUgdGV4dHVyZSB0byB0aW50XG4gKiBAcGFyYW0gY29sb3Ige251bWJlcn0gdGhlIGNvbG9yIHRvIHVzZSB0byB0aW50IHRoZSBzcHJpdGUgd2l0aFxuICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjdXJyZW50IGNhbnZhc1xuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1RpbnRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1RpbnRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQmFzZVJlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuL0Jhc2VSZW5kZXJUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVJlbmRlclRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVJlbmRlclRleHR1cmUpO1xuXG52YXIgX1RleHR1cmUyID0gcmVxdWlyZSgnLi9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIFJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoMTAyNCwgMTAyNCwgeyB2aWV3OiBjYW52YXMsIHJhdGlvOiAxIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDEwMCwgMTAwKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChfVGV4dHVyZSkge1xuICAgIF9pbmhlcml0cyhSZW5kZXJUZXh0dXJlLCBfVGV4dHVyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVJlbmRlclRleHR1cmV9IGJhc2VSZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlcmVyIHVzZWQgZm9yIHRoaXMgUmVuZGVyVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVyVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gc3VwcG9ydCBmb3IgbGVnYWN5Li5cbiAgICAgICAgdmFyIF9sZWdhY3lSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQpKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbNF07XG5cbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSgnICsgd2lkdGggKyAnLCAnICsgaGVpZ2h0ICsgJykgaW5zdGVhZCBvZiB0aGUgY3RvciBkaXJlY3RseS4nKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IF9CYXNlUmVuZGVyVGV4dHVyZTIuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9UZXh0dXJlLmNhbGwodGhpcywgYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKSk7XG5cbiAgICAgICAgX3RoaXMubGVnYWN5UmVuZGVyZXIgPSBfbGVnYWN5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLl91cGRhdGVVdnMoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvTm90UmVzaXplQmFzZVRleHR1cmUgLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQsIGRvTm90UmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBSZW5kZXJUZXh0dXJlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlO1xufShfVGV4dHVyZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlbmRlclRleHR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuVGlja2VyID0gZXhwb3J0cy5zaGFyZWQgPSB1bmRlZmluZWQ7XG5cbnZhciBfVGlja2VyID0gcmVxdWlyZSgnLi9UaWNrZXInKTtcblxudmFyIF9UaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGUgc2hhcmVkIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX0uXG4gKiBhbmQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfS5cbiAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYFxuICogZm9yIHRoaXMgaW5zdGFuY2UuIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nXG4gKiBob3cgdG8gb3B0LW91dCBvZiBhdXRvLXN0YXJ0aW5nIHRoZSBzaGFyZWQgdGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBsZXQgdGlja2VyID0gUElYSS50aWNrZXIuc2hhcmVkO1xuICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAqIHRpY2tlci5zdG9wKCk7XG4gKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAqIHRpY2tlci5zdGFydCgpO1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDgwMCwgNjAwKTtcbiAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gKiB0aWNrZXIuYWRkKGZ1bmN0aW9uICh0aW1lKSB7XG4gKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICogdGlja2VyLnN0b3AoKTtcbiAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICogICAgIHRpY2tlci51cGRhdGUodGltZSk7XG4gKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gKiB9XG4gKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAqXG4gKiBAdHlwZSB7UElYSS50aWNrZXIuVGlja2VyfVxuICogQG1lbWJlcm9mIFBJWEkudGlja2VyXG4gKi9cbnZhciBzaGFyZWQgPSBuZXcgX1RpY2tlcjIuZGVmYXVsdCgpO1xuXG5zaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbnNoYXJlZC5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAvLyBwcm90ZWN0IGRlc3Ryb3lpbmcgc2hhcmVkIHRpY2tlclxuICAvLyB0aGlzIGlzIHVzZWQgYnkgb3RoZXIgaW50ZXJuYWwgc3lzdGVtc1xuICAvLyBsaWtlIEFuaW1hdGVkU3ByaXRlIGFuZCBJbnRlcmFjdGlvbk1hbmFnZXJcbn07XG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgYW4gQVBJIGZvciBpbnRlcmFjdGluZyB3aXRoIFBJWEkncyBpbnRlcm5hbCBnbG9iYWwgdXBkYXRlIGxvb3AuXG4gKlxuICogVGhpcyB0aWNrZXIgaXMgdXNlZCBmb3IgcmVuZGVyaW5nLCB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgQW5pbWF0ZWRTcHJpdGV9LFxuICoge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyIEludGVyYWN0aW9uTWFuYWdlcn0gYW5kIG1hbnkgb3RoZXIgdGltZS1iYXNlZCBQSVhJIHN5c3RlbXMuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGlja2VyID0gbmV3IFBJWEkudGlja2VyLlRpY2tlcigpO1xuICogdGlja2VyLnN0b3AoKTtcbiAqIHRpY2tlci5hZGQoKGRlbHRhVGltZSkgPT4ge1xuICogICAvLyBkbyBzb21ldGhpbmcgZXZlcnkgZnJhbWVcbiAqIH0pO1xuICogdGlja2VyLnN0YXJ0KCk7XG4gKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gKi9cbmV4cG9ydHMuc2hhcmVkID0gc2hhcmVkO1xuZXhwb3J0cy5UaWNrZXIgPSBfVGlja2VyMi5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLyoqXG4gKiBCaXQgdHdpZGRsaW5nIGhhY2tzIGZvciBKYXZhU2NyaXB0LlxuICpcbiAqIEF1dGhvcjogTWlrb2xhIEx5c2Vua29cbiAqXG4gKiBQb3J0ZWQgZnJvbSBTdGFuZm9yZCBiaXQgdHdpZGRsaW5nIGhhY2sgbGlicmFyeTpcbiAqICAgIGh0dHA6Ly9ncmFwaGljcy5zdGFuZm9yZC5lZHUvfnNlYW5kZXIvYml0aGFja3MuaHRtbFxuICovXG5cblwidXNlIHN0cmljdFwiOyBcInVzZSByZXN0cmljdFwiO1xuXG4vL051bWJlciBvZiBiaXRzIGluIGFuIGludGVnZXJcbnZhciBJTlRfQklUUyA9IDMyO1xuXG4vL0NvbnN0YW50c1xuZXhwb3J0cy5JTlRfQklUUyAgPSBJTlRfQklUUztcbmV4cG9ydHMuSU5UX01BWCAgID0gIDB4N2ZmZmZmZmY7XG5leHBvcnRzLklOVF9NSU4gICA9IC0xPDwoSU5UX0JJVFMtMSk7XG5cbi8vUmV0dXJucyAtMSwgMCwgKzEgZGVwZW5kaW5nIG9uIHNpZ24gb2YgeFxuZXhwb3J0cy5zaWduID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gKHYgPiAwKSAtICh2IDwgMCk7XG59XG5cbi8vQ29tcHV0ZXMgYWJzb2x1dGUgdmFsdWUgb2YgaW50ZWdlclxuZXhwb3J0cy5hYnMgPSBmdW5jdGlvbih2KSB7XG4gIHZhciBtYXNrID0gdiA+PiAoSU5UX0JJVFMtMSk7XG4gIHJldHVybiAodiBeIG1hc2spIC0gbWFzaztcbn1cblxuLy9Db21wdXRlcyBtaW5pbXVtIG9mIGludGVnZXJzIHggYW5kIHlcbmV4cG9ydHMubWluID0gZnVuY3Rpb24oeCwgeSkge1xuICByZXR1cm4geSBeICgoeCBeIHkpICYgLSh4IDwgeSkpO1xufVxuXG4vL0NvbXB1dGVzIG1heGltdW0gb2YgaW50ZWdlcnMgeCBhbmQgeVxuZXhwb3J0cy5tYXggPSBmdW5jdGlvbih4LCB5KSB7XG4gIHJldHVybiB4IF4gKCh4IF4geSkgJiAtKHggPCB5KSk7XG59XG5cbi8vQ2hlY2tzIGlmIGEgbnVtYmVyIGlzIGEgcG93ZXIgb2YgdHdvXG5leHBvcnRzLmlzUG93MiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICEodiAmICh2LTEpKSAmJiAoISF2KTtcbn1cblxuLy9Db21wdXRlcyBsb2cgYmFzZSAyIG9mIHZcbmV4cG9ydHMubG9nMiA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIHIsIHNoaWZ0O1xuICByID0gICAgICh2ID4gMHhGRkZGKSA8PCA0OyB2ID4+Pj0gcjtcbiAgc2hpZnQgPSAodiA+IDB4RkYgICkgPDwgMzsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICBzaGlmdCA9ICh2ID4gMHhGICAgKSA8PCAyOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHNoaWZ0ID0gKHYgPiAweDMgICApIDw8IDE7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgcmV0dXJuIHIgfCAodiA+PiAxKTtcbn1cblxuLy9Db21wdXRlcyBsb2cgYmFzZSAxMCBvZiB2XG5leHBvcnRzLmxvZzEwID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gICh2ID49IDEwMDAwMDAwMDApID8gOSA6ICh2ID49IDEwMDAwMDAwMCkgPyA4IDogKHYgPj0gMTAwMDAwMDApID8gNyA6XG4gICAgICAgICAgKHYgPj0gMTAwMDAwMCkgPyA2IDogKHYgPj0gMTAwMDAwKSA/IDUgOiAodiA+PSAxMDAwMCkgPyA0IDpcbiAgICAgICAgICAodiA+PSAxMDAwKSA/IDMgOiAodiA+PSAxMDApID8gMiA6ICh2ID49IDEwKSA/IDEgOiAwO1xufVxuXG4vL0NvdW50cyBudW1iZXIgb2YgYml0c1xuZXhwb3J0cy5wb3BDb3VudCA9IGZ1bmN0aW9uKHYpIHtcbiAgdiA9IHYgLSAoKHYgPj4+IDEpICYgMHg1NTU1NTU1NSk7XG4gIHYgPSAodiAmIDB4MzMzMzMzMzMpICsgKCh2ID4+PiAyKSAmIDB4MzMzMzMzMzMpO1xuICByZXR1cm4gKCh2ICsgKHYgPj4+IDQpICYgMHhGMEYwRjBGKSAqIDB4MTAxMDEwMSkgPj4+IDI0O1xufVxuXG4vL0NvdW50cyBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3NcbmZ1bmN0aW9uIGNvdW50VHJhaWxpbmdaZXJvcyh2KSB7XG4gIHZhciBjID0gMzI7XG4gIHYgJj0gLXY7XG4gIGlmICh2KSBjLS07XG4gIGlmICh2ICYgMHgwMDAwRkZGRikgYyAtPSAxNjtcbiAgaWYgKHYgJiAweDAwRkYwMEZGKSBjIC09IDg7XG4gIGlmICh2ICYgMHgwRjBGMEYwRikgYyAtPSA0O1xuICBpZiAodiAmIDB4MzMzMzMzMzMpIGMgLT0gMjtcbiAgaWYgKHYgJiAweDU1NTU1NTU1KSBjIC09IDE7XG4gIHJldHVybiBjO1xufVxuZXhwb3J0cy5jb3VudFRyYWlsaW5nWmVyb3MgPSBjb3VudFRyYWlsaW5nWmVyb3M7XG5cbi8vUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgMlxuZXhwb3J0cy5uZXh0UG93MiA9IGZ1bmN0aW9uKHYpIHtcbiAgdiArPSB2ID09PSAwO1xuICAtLXY7XG4gIHYgfD0gdiA+Pj4gMTtcbiAgdiB8PSB2ID4+PiAyO1xuICB2IHw9IHYgPj4+IDQ7XG4gIHYgfD0gdiA+Pj4gODtcbiAgdiB8PSB2ID4+PiAxNjtcbiAgcmV0dXJuIHYgKyAxO1xufVxuXG4vL1JvdW5kcyBkb3duIHRvIHByZXZpb3VzIHBvd2VyIG9mIDJcbmV4cG9ydHMucHJldlBvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHYgfD0gdiA+Pj4gMTtcbiAgdiB8PSB2ID4+PiAyO1xuICB2IHw9IHYgPj4+IDQ7XG4gIHYgfD0gdiA+Pj4gODtcbiAgdiB8PSB2ID4+PiAxNjtcbiAgcmV0dXJuIHYgLSAodj4+PjEpO1xufVxuXG4vL0NvbXB1dGVzIHBhcml0eSBvZiB3b3JkXG5leHBvcnRzLnBhcml0eSA9IGZ1bmN0aW9uKHYpIHtcbiAgdiBePSB2ID4+PiAxNjtcbiAgdiBePSB2ID4+PiA4O1xuICB2IF49IHYgPj4+IDQ7XG4gIHYgJj0gMHhmO1xuICByZXR1cm4gKDB4Njk5NiA+Pj4gdikgJiAxO1xufVxuXG52YXIgUkVWRVJTRV9UQUJMRSA9IG5ldyBBcnJheSgyNTYpO1xuXG4oZnVuY3Rpb24odGFiKSB7XG4gIGZvcih2YXIgaT0wOyBpPDI1NjsgKytpKSB7XG4gICAgdmFyIHYgPSBpLCByID0gaSwgcyA9IDc7XG4gICAgZm9yICh2ID4+Pj0gMTsgdjsgdiA+Pj49IDEpIHtcbiAgICAgIHIgPDw9IDE7XG4gICAgICByIHw9IHYgJiAxO1xuICAgICAgLS1zO1xuICAgIH1cbiAgICB0YWJbaV0gPSAociA8PCBzKSAmIDB4ZmY7XG4gIH1cbn0pKFJFVkVSU0VfVEFCTEUpO1xuXG4vL1JldmVyc2UgYml0cyBpbiBhIDMyIGJpdCB3b3JkXG5leHBvcnRzLnJldmVyc2UgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAgKFJFVkVSU0VfVEFCTEVbIHYgICAgICAgICAmIDB4ZmZdIDw8IDI0KSB8XG4gICAgICAgICAgKFJFVkVSU0VfVEFCTEVbKHYgPj4+IDgpICAmIDB4ZmZdIDw8IDE2KSB8XG4gICAgICAgICAgKFJFVkVSU0VfVEFCTEVbKHYgPj4+IDE2KSAmIDB4ZmZdIDw8IDgpICB8XG4gICAgICAgICAgIFJFVkVSU0VfVEFCTEVbKHYgPj4+IDI0KSAmIDB4ZmZdO1xufVxuXG4vL0ludGVybGVhdmUgYml0cyBvZiAyIGNvb3JkaW5hdGVzIHdpdGggMTYgYml0cy4gIFVzZWZ1bCBmb3IgZmFzdCBxdWFkdHJlZSBjb2Rlc1xuZXhwb3J0cy5pbnRlcmxlYXZlMiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgeCAmPSAweEZGRkY7XG4gIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgeSAmPSAweEZGRkY7XG4gIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy9FeHRyYWN0cyB0aGUgbnRoIGludGVybGVhdmVkIGNvbXBvbmVudFxuZXhwb3J0cy5kZWludGVybGVhdmUyID0gZnVuY3Rpb24odiwgbikge1xuICB2ID0gKHYgPj4+IG4pICYgMHg1NTU1NTU1NTtcbiAgdiA9ICh2IHwgKHYgPj4+IDEpKSAgJiAweDMzMzMzMzMzO1xuICB2ID0gKHYgfCAodiA+Pj4gMikpICAmIDB4MEYwRjBGMEY7XG4gIHYgPSAodiB8ICh2ID4+PiA0KSkgICYgMHgwMEZGMDBGRjtcbiAgdiA9ICh2IHwgKHYgPj4+IDE2KSkgJiAweDAwMEZGRkY7XG4gIHJldHVybiAodiA8PCAxNikgPj4gMTY7XG59XG5cblxuLy9JbnRlcmxlYXZlIGJpdHMgb2YgMyBjb29yZGluYXRlcywgZWFjaCB3aXRoIDEwIGJpdHMuICBVc2VmdWwgZm9yIGZhc3Qgb2N0cmVlIGNvZGVzXG5leHBvcnRzLmludGVybGVhdmUzID0gZnVuY3Rpb24oeCwgeSwgeikge1xuICB4ICY9IDB4M0ZGO1xuICB4ICA9ICh4IHwgKHg8PDE2KSkgJiA0Mjc4MTkwMzM1O1xuICB4ICA9ICh4IHwgKHg8PDgpKSAgJiAyNTE3MTk2OTU7XG4gIHggID0gKHggfCAoeDw8NCkpICAmIDMyNzIzNTYwMzU7XG4gIHggID0gKHggfCAoeDw8MikpICAmIDEyMjcxMzM1MTM7XG5cbiAgeSAmPSAweDNGRjtcbiAgeSAgPSAoeSB8ICh5PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeSAgPSAoeSB8ICh5PDw4KSkgICYgMjUxNzE5Njk1O1xuICB5ICA9ICh5IHwgKHk8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB5ICA9ICh5IHwgKHk8PDIpKSAgJiAxMjI3MTMzNTEzO1xuICB4IHw9ICh5IDw8IDEpO1xuICBcbiAgeiAmPSAweDNGRjtcbiAgeiAgPSAoeiB8ICh6PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeiAgPSAoeiB8ICh6PDw4KSkgICYgMjUxNzE5Njk1O1xuICB6ICA9ICh6IHwgKHo8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB6ICA9ICh6IHwgKHo8PDIpKSAgJiAxMjI3MTMzNTEzO1xuICBcbiAgcmV0dXJuIHggfCAoeiA8PCAyKTtcbn1cblxuLy9FeHRyYWN0cyBudGggaW50ZXJsZWF2ZWQgY29tcG9uZW50IG9mIGEgMy10dXBsZVxuZXhwb3J0cy5kZWludGVybGVhdmUzID0gZnVuY3Rpb24odiwgbikge1xuICB2ID0gKHYgPj4+IG4pICAgICAgICYgMTIyNzEzMzUxMztcbiAgdiA9ICh2IHwgKHY+Pj4yKSkgICAmIDMyNzIzNTYwMzU7XG4gIHYgPSAodiB8ICh2Pj4+NCkpICAgJiAyNTE3MTk2OTU7XG4gIHYgPSAodiB8ICh2Pj4+OCkpICAgJiA0Mjc4MTkwMzM1O1xuICB2ID0gKHYgfCAodj4+PjE2KSkgICYgMHgzRkY7XG4gIHJldHVybiAodjw8MjIpPj4yMjtcbn1cblxuLy9Db21wdXRlcyBuZXh0IGNvbWJpbmF0aW9uIGluIGNvbGV4aWNvZ3JhcGhpYyBvcmRlciAodGhpcyBpcyBtaXN0YWtlbmx5IGNhbGxlZCBuZXh0UGVybXV0YXRpb24gb24gdGhlIGJpdCB0d2lkZGxpbmcgaGFja3MgcGFnZSlcbmV4cG9ydHMubmV4dENvbWJpbmF0aW9uID0gZnVuY3Rpb24odikge1xuICB2YXIgdCA9IHYgfCAodiAtIDEpO1xuICByZXR1cm4gKHQgKyAxKSB8ICgoKH50ICYgLX50KSAtIDEpID4+PiAoY291bnRUcmFpbGluZ1plcm9zKHYpICsgMSkpO1xufVxuXG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9Db250YWluZXIyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBfbWF0aC5Qb2ludCgpO1xuXG4vKipcbiAqIFRoZSBTcHJpdGUgb2JqZWN0IGlzIHRoZSBiYXNlIGZvciBhbGwgdGV4dHVyZWQgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCB0byB0aGUgc2NyZWVuXG4gKlxuICogQSBzcHJpdGUgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhbiBpbWFnZSBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBTcHJpdGUgPSBmdW5jdGlvbiAoX0NvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGUsIF9Db250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSBmb3IgdGhpcyBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHR1cmUuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCB0aGlzIG1lYW5zIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMC41LDAuNSBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyBjZW50ZXJlZFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHR1cmUncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMuX29uQW5jaG9yVXBkYXRlLCBfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBpbnRlcm5hbCBjYWNoZWQgdmFsdWUgb2YgdGhlIHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHZlcnRleCBkYXRhIG9mIHRoZSBzcHJpdGUgKGJhc2ljYWxseSBhIHF1YWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcldlYkdMJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdzcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ3Nwcml0ZSc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25BbmNob3JVcGRhdGUgPSBmdW5jdGlvbiBfb25BbmNob3JVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IGQgKiBoMSArIGIgKiB3MSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSBhICogdzAgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSBhICogdzAgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IGQgKiBoMCArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuXG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgdmFyIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IGQgKiBoMSArIGIgKiB3MSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSBhICogdzAgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSBhICogdzAgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IGQgKiBoMCArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB2YXIgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8IHRyaW0ud2lkdGggPT09IG9yaWcud2lkdGggJiYgdHJpbS5oZWlnaHQgPT09IG9yaWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9Db250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgdmFyIHkxID0gMDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKSB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0NvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcblxuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIHNvbWUgaGVscGVyIGZ1bmN0aW9ucy4uXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKF9UZXh0dXJlMi5kZWZhdWx0LmZyb20oc291cmNlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVDYWNoZSBiYXNlZCBvbiB0aGUgZnJhbWVJZFxuICAgICAqIFRoZSBmcmFtZSBpZHMgYXJlIGNyZWF0ZWQgd2hlbiBhIFRleHR1cmUgcGFja2VyIGZpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lSWQgLSBUaGUgZnJhbWUgSWQgb2YgdGhlIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IEEgbmV3IFNwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ZyYW1lSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicgKyBmcmFtZUlkICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgYmFzZWQgb24gYW4gaW1hZ2UgdXJsXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZUlkIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBjcm9zcy1vcmlnaW4gcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHNjYWxlIG1vZGUsXG4gICAgICogIHNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBBIG5ldyBTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShfVGV4dHVyZTIuZGVmYXVsdC5mcm9tSW1hZ2UoaW1hZ2VJZCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFNwcml0ZSwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcyA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS55KSB8fCAxO1xuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHR1cmUuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCB0aGlzIG1lYW5zIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMC41LDAuNSBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyBjZW50ZXJlZFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHR1cmUncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FuY2hvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGludCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dHVyZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNwcml0ZTtcbn0oX0NvbnRhaW5lcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybUJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtQmFzZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIG1hdHJpeCB0cmFuc2Zvcm0uIEl0IGNhbiBiZSBzd2FwcGVkIHRlbXBvcmFyaWx5IGJ5IHNvbWUgZnVuY3Rpb25zIGxpa2UgZ2V0TG9jYWxCb3VuZHMoKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBtYXRyaXggdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybUJhc2UgZG9lcyBub3QgaGF2ZSBkZWNvbXBvc2l0aW9uLCBzbyB0aGlzIGZ1bmN0aW9uIHdvbnQgZG8gYW55dGhpbmdcbiAgICovXG5cblxuICBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge31cbiAgLy8gZW1wdHlcblxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuICA7XG5cbiAgVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgdGhpcy5fd29ybGRJRCsrO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2Zvcm1CYXNlO1xufSgpO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gIHBhcmVudFRyYW5zZm9ybSB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICpcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybUJhc2U7XG5UcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVXb3JsZFRyYW5zZm9ybSA9IFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuVHJhbnNmb3JtQmFzZS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm1CYXNlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1CYXNlLmpzLm1hcCIsIi8qKlxuICogaXNNb2JpbGUuanMgdjAuNC4xXG4gKlxuICogQSBzaW1wbGUgbGlicmFyeSB0byBkZXRlY3QgQXBwbGUgcGhvbmVzIGFuZCB0YWJsZXRzLFxuICogQW5kcm9pZCBwaG9uZXMgYW5kIHRhYmxldHMsIG90aGVyIG1vYmlsZSBkZXZpY2VzIChsaWtlIGJsYWNrYmVycnksIG1pbmktb3BlcmEgYW5kIHdpbmRvd3MgcGhvbmUpLFxuICogYW5kIGFueSBraW5kIG9mIHNldmVuIGluY2ggZGV2aWNlLCB2aWEgdXNlciBhZ2VudCBzbmlmZmluZy5cbiAqXG4gKiBAYXV0aG9yOiBLYWkgTWFsbGVhIChrbWFsbGVhQGdtYWlsLmNvbSlcbiAqXG4gKiBAbGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL3plcm8vMS4wL1xuICovXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gICAgdmFyIGFwcGxlX3Bob25lICAgICAgICAgPSAvaVBob25lL2ksXG4gICAgICAgIGFwcGxlX2lwb2QgICAgICAgICAgPSAvaVBvZC9pLFxuICAgICAgICBhcHBsZV90YWJsZXQgICAgICAgID0gL2lQYWQvaSxcbiAgICAgICAgYW5kcm9pZF9waG9uZSAgICAgICA9IC8oPz0uKlxcYkFuZHJvaWRcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdBbmRyb2lkJyBBTkQgJ01vYmlsZSdcbiAgICAgICAgYW5kcm9pZF90YWJsZXQgICAgICA9IC9BbmRyb2lkL2ksXG4gICAgICAgIGFtYXpvbl9waG9uZSAgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksXG4gICAgICAgIGFtYXpvbl90YWJsZXQgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxcbiAgICAgICAgd2luZG93c19waG9uZSAgICAgICA9IC9XaW5kb3dzIFBob25lL2ksXG4gICAgICAgIHdpbmRvd3NfdGFibGV0ICAgICAgPSAvKD89LipcXGJXaW5kb3dzXFxiKSg/PS4qXFxiQVJNXFxiKS9pLCAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG4gICAgICAgIG90aGVyX2JsYWNrYmVycnkgICAgPSAvQmxhY2tCZXJyeS9pLFxuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5XzEwID0gL0JCMTAvaSxcbiAgICAgICAgb3RoZXJfb3BlcmEgICAgICAgICA9IC9PcGVyYSBNaW5pL2ksXG4gICAgICAgIG90aGVyX2Nocm9tZSAgICAgICAgPSAvKENyaU9TfENocm9tZSkoPz0uKlxcYk1vYmlsZVxcYikvaSxcbiAgICAgICAgb3RoZXJfZmlyZWZveCAgICAgICA9IC8oPz0uKlxcYkZpcmVmb3hcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdGaXJlZm94JyBBTkQgJ01vYmlsZSdcbiAgICAgICAgc2V2ZW5faW5jaCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86JyArICAgICAgICAgLy8gTm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnTmV4dXMgNycgKyAgICAgLy8gTmV4dXMgN1xuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0JOVFYyNTAnICsgICAgIC8vIEImTiBOb29rIFRhYmxldCA3IGluY2hcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdLaW5kbGUgRmlyZScgKyAvLyBLaW5kbGUgRmlyZVxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ1NpbGsnICsgICAgICAgIC8vIEtpbmRsZSBGaXJlLCBTaWxrIEFjY2VsZXJhdGVkXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnR1QtUDEwMDAnICsgICAgLy8gR2FsYXh5IFRhYiA3IGluY2hcblxuICAgICAgICAgICAgJyknLCAgICAgICAgICAgIC8vIEVuZCBub24tY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgICAgICdpJyk7ICAgICAgICAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nXG5cbiAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbihyZWdleCwgdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHZhciBJc01vYmlsZUNsYXNzID0gZnVuY3Rpb24odXNlckFnZW50KSB7XG4gICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIC8vIEZhY2Vib29rIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgYWRkcyBhIGJ1bmNoIG9mIHN0cmluZ3MgdGhhdFxuICAgICAgICAvLyBtYXRjaCBldmVyeXRoaW5nLiBTdHJpcCBpdCBvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAgICB2YXIgdG1wID0gdWEuc3BsaXQoJ1tGQkFOJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUd2l0dGVyIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgb24gaVBhZCBhZGRzIGEgXCJUd2l0dGVyIGZvclxuICAgICAgICAvLyBpUGhvbmVcIiBzdHJpbmcuIFNhbWUgcHJvYmFibGUgaGFwcGVucyBvbiBvdGhlciB0YWJsZXQgcGxhdGZvcm1zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgY29uZnVzZSBkZXRlY3Rpb24gc28gc3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdG1wID0gdWEuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1YSA9IHRtcFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwbGUgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFwcGxlX3Bob25lLCB1YSksXG4gICAgICAgICAgICBpcG9kOiAgIG1hdGNoKGFwcGxlX2lwb2QsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlX3Bob25lLCB1YSkgJiYgbWF0Y2goYXBwbGVfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFwcGxlX3Bob25lLCB1YSkgfHwgbWF0Y2goYXBwbGVfaXBvZCwgdWEpIHx8IG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW1hem9uID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmIG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgJiYgIW1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSAmJiAobWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSkpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSB8fCBtYXRjaChhbWF6b25fdGFibGV0LCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dzID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NfcGhvbmUsIHVhKSB8fCBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3RoZXIgPSB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiAgIG1hdGNoKG90aGVyX2JsYWNrYmVycnksIHVhKSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpLFxuICAgICAgICAgICAgb3BlcmE6ICAgICAgICBtYXRjaChvdGhlcl9vcGVyYSwgdWEpLFxuICAgICAgICAgICAgZmlyZWZveDogICAgICBtYXRjaChvdGhlcl9maXJlZm94LCB1YSksXG4gICAgICAgICAgICBjaHJvbWU6ICAgICAgIG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiAgICAgICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSkgfHwgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpIHx8IG1hdGNoKG90aGVyX29wZXJhLCB1YSkgfHwgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpIHx8IG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V2ZW5faW5jaCA9IG1hdGNoKHNldmVuX2luY2gsIHVhKTtcbiAgICAgICAgdGhpcy5hbnkgPSB0aGlzLmFwcGxlLmRldmljZSB8fCB0aGlzLmFuZHJvaWQuZGV2aWNlIHx8IHRoaXMud2luZG93cy5kZXZpY2UgfHwgdGhpcy5vdGhlci5kZXZpY2UgfHwgdGhpcy5zZXZlbl9pbmNoO1xuXG4gICAgICAgIC8vIGV4Y2x1ZGVzICdvdGhlcicgZGV2aWNlcyBhbmQgaXBvZHMsIHRhcmdldGluZyB0b3VjaHNjcmVlbiBwaG9uZXNcbiAgICAgICAgdGhpcy5waG9uZSA9IHRoaXMuYXBwbGUucGhvbmUgfHwgdGhpcy5hbmRyb2lkLnBob25lIHx8IHRoaXMud2luZG93cy5waG9uZTtcblxuICAgICAgICAvLyBleGNsdWRlcyA3IGluY2ggZGV2aWNlcywgY2xhc3NpZnlpbmcgYXMgcGhvbmUgb3IgdGFibGV0IGlzIGxlZnQgdG8gdGhlIHVzZXJcbiAgICAgICAgdGhpcy50YWJsZXQgPSB0aGlzLmFwcGxlLnRhYmxldCB8fCB0aGlzLmFuZHJvaWQudGFibGV0IHx8IHRoaXMud2luZG93cy50YWJsZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIElNID0gbmV3IElzTW9iaWxlQ2xhc3MoKTtcbiAgICAgICAgSU0uQ2xhc3MgPSBJc01vYmlsZUNsYXNzO1xuICAgICAgICByZXR1cm4gSU07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJc01vYmlsZUNsYXNzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9icm93c2VyaWZ5XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvL0FNRFxuICAgICAgICBkZWZpbmUoJ2lzTW9iaWxlJywgW10sIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCk7XG4gICAgfVxuXG59KSh0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlc1xuICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveFxuICogSXQgaXMgbm90IGEgc2hhcGUhIEl0cyBtdXRhYmxlIHRoaW5nLCBubyAnRU1QVFknIG9yIHRoYXQga2luZCBvZiBwcm9ibGVtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdW5kcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIGdldFJlY3RhbmdsZShyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gX21hdGguUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1sxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSBhICogeDAgKyBjICogeTAgKyB0eDtcbiAgICAgICAgdmFyIHkgPSBiICogeDAgKyBkICogeTAgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgxICsgYyAqIHkwICsgdHg7XG4gICAgICAgIHkgPSBiICogeDEgKyBkICogeTAgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MCArIGMgKiB5MSArIHR4O1xuICAgICAgICB5ID0gYiAqIHgwICsgZCAqIHkxICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDEgKyBjICogeTEgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MSArIGQgKiB5MSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSBhICogcmF3WCArIGMgKiByYXdZICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IGQgKiByYXdZICsgYiAqIHJhd1ggKyB0eTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyhib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogYXJlYS54ICsgYXJlYS53aWR0aDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogYXJlYS55ICsgYXJlYS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBCb3VuZHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJvdW5kcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kcy5qcy5tYXAiLCJcblxudmFyIG1hcFR5cGUgPSBmdW5jdGlvbihnbCwgdHlwZSkgXG57XG4gICAgaWYoIUdMX1RBQkxFKSBcbiAgICB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIFxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVsgZ2xbdG5dIF0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59O1xuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgJ0ZMT0FUJzogICAgICAgJ2Zsb2F0JyxcbiAgJ0ZMT0FUX1ZFQzInOiAgJ3ZlYzInLFxuICAnRkxPQVRfVkVDMyc6ICAndmVjMycsXG4gICdGTE9BVF9WRUM0JzogICd2ZWM0JyxcblxuICAnSU5UJzogICAgICAgICAnaW50JyxcbiAgJ0lOVF9WRUMyJzogICAgJ2l2ZWMyJyxcbiAgJ0lOVF9WRUMzJzogICAgJ2l2ZWMzJyxcbiAgJ0lOVF9WRUM0JzogICAgJ2l2ZWM0JyxcbiAgXG4gICdCT09MJzogICAgICAgICdib29sJyxcbiAgJ0JPT0xfVkVDMic6ICAgJ2J2ZWMyJyxcbiAgJ0JPT0xfVkVDMyc6ICAgJ2J2ZWMzJyxcbiAgJ0JPT0xfVkVDNCc6ICAgJ2J2ZWM0JyxcbiAgXG4gICdGTE9BVF9NQVQyJzogICdtYXQyJyxcbiAgJ0ZMT0FUX01BVDMnOiAgJ21hdDMnLFxuICAnRkxPQVRfTUFUNCc6ICAnbWF0NCcsXG4gIFxuICAnU0FNUExFUl8yRCc6ICAnc2FtcGxlcjJEJyAgXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdZIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIHBhZChwYWRkaW5nWCwgcGFkZGluZ1kpIHtcbiAgICAgICAgcGFkZGluZ1ggPSBwYWRkaW5nWCB8fCAwO1xuICAgICAgICBwYWRkaW5nWSA9IHBhZGRpbmdZIHx8IChwYWRkaW5nWSAhPT0gMCA/IHBhZGRpbmdYIDogMCk7XG5cbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG5cbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiBmaXQocmVjdGFuZ2xlKSB7XG4gICAgICAgIGlmICh0aGlzLnggPCByZWN0YW5nbGUueCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCArPSB0aGlzLng7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy55IDwgcmVjdGFuZ2xlLnkpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ICs9IHRoaXMueTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGggLSB0aGlzLng7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnkgKyB0aGlzLmhlaWdodCA+IHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0IC0gdGhpcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmVubGFyZ2UgPSBmdW5jdGlvbiBlbmxhcmdlKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmVjdGFuZ2xlLCBbe1xuICAgICAgICBrZXk6ICdsZWZ0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0b3AnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdib3R0b20nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG5cbiAgICB9XSwgW3tcbiAgICAgICAga2V5OiAnRU1QVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJlY3RhbmdsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVjdGFuZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9Qb2ludCA9IHJlcXVpcmUoJy4vUG9pbnQnKTtcblxudmFyIF9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggY2xhc3MgYXMgYW4gb2JqZWN0LCB3aGljaCBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIsXG4gKiBoZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQgOlxuICogfCBhIHwgYiB8IHR4fFxuICogfCBjIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxO1xuICAgICAgICB2YXIgYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5iICogeCArIHRoaXMuZCAqIHkgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIGFwcGx5SW52ZXJzZShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBpZCA9IDEgLyAodGhpcy5hICogdGhpcy5kICsgdGhpcy5jICogLXRoaXMuYik7XG5cbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9IHRoaXMuZCAqIGlkICogeCArIC10aGlzLmMgKiBpZCAqIHkgKyAodGhpcy50eSAqIHRoaXMuYyAtIHRoaXMudHggKiB0aGlzLmQpICogaWQ7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gYTEgKiBjb3MgLSB0aGlzLmIgKiBzaW47XG4gICAgICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgICAgICB0aGlzLmMgPSBjMSAqIGNvcyAtIHRoaXMuZCAqIHNpbjtcbiAgICAgICAgdGhpcy5kID0gYzEgKiBzaW4gKyB0aGlzLmQgKiBjb3M7XG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgICAgICB0aGlzLnR5ID0gdHgxICogc2luICsgdGhpcy50eSAqIGNvcztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmEgKiBhMSArIG1hdHJpeC5iICogYzE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5hICogYjEgKyBtYXRyaXguYiAqIGQxO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmMgKiBiMSArIG1hdHJpeC5kICogZDE7XG5cbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eCAqIGExICsgbWF0cml4LnR5ICogYzEgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR4ICogYjEgKyBtYXRyaXgudHkgKiBkMSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHZhciBzciA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIGNyID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgICAgICB2YXIgY3kgPSBNYXRoLmNvcyhza2V3WSk7XG4gICAgICAgIHZhciBzeSA9IE1hdGguc2luKHNrZXdZKTtcbiAgICAgICAgdmFyIG5zeCA9IC1NYXRoLnNpbihza2V3WCk7XG4gICAgICAgIHZhciBjeCA9IE1hdGguY29zKHNrZXdYKTtcblxuICAgICAgICB2YXIgYSA9IGNyICogc2NhbGVYO1xuICAgICAgICB2YXIgYiA9IHNyICogc2NhbGVYO1xuICAgICAgICB2YXIgYyA9IC1zciAqIHNjYWxlWTtcbiAgICAgICAgdmFyIGQgPSBjciAqIHNjYWxlWTtcblxuICAgICAgICB0aGlzLmEgPSBjeSAqIGEgKyBzeSAqIGM7XG4gICAgICAgIHRoaXMuYiA9IGN5ICogYiArIHN5ICogZDtcbiAgICAgICAgdGhpcy5jID0gbnN4ICogYSArIGN4ICogYztcbiAgICAgICAgdGhpcy5kID0gbnN4ICogYiArIGN4ICogZDtcblxuICAgICAgICB0aGlzLnR4ID0geCArIChwaXZvdFggKiBhICsgcGl2b3RZICogYyk7XG4gICAgICAgIHRoaXMudHkgPSB5ICsgKHBpdm90WCAqIGIgKyBwaXZvdFkgKiBkKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gcHJlcGVuZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiBwcmVwZW5kKG1hdHJpeCkge1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcblxuICAgICAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMuYztcblxuICAgICAgICAgICAgdGhpcy5hID0gYTEgKiBtYXRyaXguYSArIHRoaXMuYiAqIG1hdHJpeC5jO1xuICAgICAgICAgICAgdGhpcy5iID0gYTEgKiBtYXRyaXguYiArIHRoaXMuYiAqIG1hdHJpeC5kO1xuICAgICAgICAgICAgdGhpcy5jID0gYzEgKiBtYXRyaXguYSArIHRoaXMuZCAqIG1hdHJpeC5jO1xuICAgICAgICAgICAgdGhpcy5kID0gYzEgKiBtYXRyaXguYiArIHRoaXMuZCAqIG1hdHJpeC5kO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50eCA9IHR4MSAqIG1hdHJpeC5hICsgdGhpcy50eSAqIG1hdHJpeC5jICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gdHgxICogbWF0cml4LmIgKyB0aGlzLnR5ICogbWF0cml4LmQgKyBtYXRyaXgudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfFBJWEkuVHJhbnNmb3JtU3RhdGljfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfFBJWEkuVHJhbnNmb3JtU3RhdGljfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmRlY29tcG9zZSA9IGZ1bmN0aW9uIGRlY29tcG9zZSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiID0gdGhpcy5iO1xuICAgICAgICB2YXIgYyA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQgPSB0aGlzLmQ7XG5cbiAgICAgICAgdmFyIHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgICAgICB2YXIgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuXG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuXG4gICAgICAgIGlmIChkZWx0YSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuXG4gICAgICAgICAgICBpZiAoYSA8IDAgJiYgZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uICs9IHRyYW5zZm9ybS5yb3RhdGlvbiA8PSAwID8gTWF0aC5QSSA6IC1NYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHNldCBzY2FsZVxuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCk7XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuICAgICAgICB2YXIgbiA9IGExICogZDEgLSBiMSAqIGMxO1xuXG4gICAgICAgIHRoaXMuYSA9IGQxIC8gbjtcbiAgICAgICAgdGhpcy5iID0gLWIxIC8gbjtcbiAgICAgICAgdGhpcy5jID0gLWMxIC8gbjtcbiAgICAgICAgdGhpcy5kID0gYTEgLyBuO1xuICAgICAgICB0aGlzLnR4ID0gKGMxICogdGhpcy50eSAtIGQxICogdHgxKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKGExICogdGhpcy50eSAtIGIxICogdHgxKSAvIG47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdGl4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXR5KCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdFxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTWF0cml4LCBudWxsLCBbe1xuICAgICAgICBrZXk6ICdJREVOVElUWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdURU1QX01BVFJJWCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNYXRyaXg7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1hdHJpeDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdHJpeC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgKi9cbiAgZnVuY3Rpb24gUG9pbnQoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9pbnQpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICovXG5cblxuICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICB0aGlzLnNldChwLngsIHAueSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICovXG5cblxuICBQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKHApIHtcbiAgICByZXR1cm4gcC54ID09PSB0aGlzLnggJiYgcC55ID09PSB0aGlzLnk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCh4LCB5KSB7XG4gICAgdGhpcy54ID0geCB8fCAwO1xuICAgIHRoaXMueSA9IHkgfHwgKHkgIT09IDAgPyB0aGlzLnggOiAwKTtcbiAgfTtcblxuICByZXR1cm4gUG9pbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9pbnQuanMubWFwIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iLCJjb25zdCBDb25maWcgPSB7XG4gIEJHX0NPTE9SOiAweDAwMTEwMCxcbiAgV09STERfV0lEVEg6IDYwMCxcbiAgV09STERfSEVJR0hUOiA0MDAsXG4gIEJBTExfV0lEVEg6IDE5LFxuICBCQUxMX0hFSUdIVDogMTksXG4gIFBBRERMRV9XSURUSDogMTAxLFxuICBQQURETEVfSEVJR0hUOiAxOSxcbiAgUEFERExFXzFfUE9TSVRJT046IHtYOiAzMDAsIFk6IDIwfSxcbiAgUEFERExFXzJfUE9TSVRJT046IHtYOiAzMDAsIFk6IDM4MH0sXG4gIEJBTExfUE9TSVRJT046IHtYOiAzMDAsIFk6IDIwMH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEl0ZW1zUGVyRnJhbWUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICovXG4gIGZ1bmN0aW9uIENvdW50TGltaXRlcihtYXhJdGVtc1BlckZyYW1lKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvdW50TGltaXRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4SXRlbXNQZXJGcmFtZSA9IG1heEl0ZW1zUGVyRnJhbWU7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBpbiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pdGVtc0xlZnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICovXG5cblxuICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lKCkge1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xuICB9O1xuXG4gIHJldHVybiBDb3VudExpbWl0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvdW50TGltaXRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvdW50TGltaXRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaDIgPSByZXF1aXJlKCcuL01lc2gnKTtcblxudmFyIF9NZXNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBQbGFuZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbSBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCBQbGFuZSA9IG5ldyBQSVhJLlBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guTWVzaFxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xudmFyIFBsYW5lID0gZnVuY3Rpb24gKF9NZXNoKSB7XG4gICAgX2luaGVyaXRzKFBsYW5lLCBfTWVzaCk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWCAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHgtYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1kgLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB5LWF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQbGFuZSh0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxhbmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja2VyIGZvciBpZiB0aGUgUGxhbmUgaXMgcmVhZHkgdG8gYmUgZHJhd24uIE5lZWRlZCBiZWNhdXNlIE1lc2ggY3RvciBjYW5cbiAgICAgICAgICogY2FsbCBfb25UZXh0dXJlVXBkYXRlZCB3aGljaCBjb3VsZCBjYWxsIHJlZnJlc2ggdG9vIGVhcmx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX01lc2guY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMuX3JlYWR5ID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy52ZXJ0aWNlc1ggPSB2ZXJ0aWNlc1ggfHwgMTA7XG4gICAgICAgIF90aGlzLnZlcnRpY2VzWSA9IHZlcnRpY2VzWSB8fCAxMDtcblxuICAgICAgICBfdGhpcy5kcmF3TW9kZSA9IF9NZXNoMy5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnZlcnRpY2VzWCAqIHRoaXMudmVydGljZXNZO1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIGNvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMudmVydGljZXNYIC0gMTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWSA9IHRoaXMudmVydGljZXNZIC0gMTtcblxuICAgICAgICB2YXIgc2l6ZVggPSB0ZXh0dXJlLndpZHRoIC8gc2VnbWVudHNYO1xuICAgICAgICB2YXIgc2l6ZVkgPSB0ZXh0dXJlLmhlaWdodCAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gaSAlIHRoaXMudmVydGljZXNYO1xuICAgICAgICAgICAgdmFyIHkgPSBpIC8gdGhpcy52ZXJ0aWNlc1ggfCAwO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAgY29uc1xuXG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdG90YWxTdWI7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gX2kgJSBzZWdtZW50c1g7XG4gICAgICAgICAgICB2YXIgeXBvcyA9IF9pIC8gc2VnbWVudHNYIHwgMDtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSB5cG9zICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlNCA9ICh5cG9zICsgMSkgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuXG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGluZGljZXMpXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShjb2xvcnMpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmluZGV4RGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRleHR1cmUgVVZzIHdoZW4gbmV3IHRleHR1cmUgaXMgc2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQbGFuZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIF9NZXNoMy5kZWZhdWx0LnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gd2FpdCBmb3IgdGhlIFBsYW5lIGN0b3IgdG8gZmluaXNoIGJlZm9yZSBjYWxsaW5nIHJlZnJlc2hcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gUGxhbmU7XG59KF9NZXNoMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGxhbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbGFuZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gdGV4dHVyZVBhcnNlcihyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuSU1BR0UpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBfVGV4dHVyZTIuZGVmYXVsdC5mcm9tTG9hZGVyKHJlc291cmNlLmRhdGEsIHJlc291cmNlLnVybCwgcmVzb3VyY2UubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG59O1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0dXJlUGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzcHJpdGVzaGVldFBhcnNlcihyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICB2YXIgaW1hZ2VSZXNvdXJjZU5hbWUgPSByZXNvdXJjZS5uYW1lICsgJ19pbWFnZSc7XG5cbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuSlNPTiB8fCAhcmVzb3VyY2UuZGF0YS5mcmFtZXMgfHwgdGhpcy5yZXNvdXJjZXNbaW1hZ2VSZXNvdXJjZU5hbWVdKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc291cmNlUGF0aCA9IGdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgdGhpcy5iYXNlVXJsKTtcblxuICAgICAgICAvLyBsb2FkIHRoZSBpbWFnZSBmb3IgdGhpcyBzaGVldFxuICAgICAgICB0aGlzLmFkZChpbWFnZVJlc291cmNlTmFtZSwgcmVzb3VyY2VQYXRoLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25JbWFnZUxvYWQocmVzKSB7XG4gICAgICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgX2NvcmUuU3ByaXRlc2hlZXQocmVzLnRleHR1cmUuYmFzZVRleHR1cmUsIHJlc291cmNlLmRhdGEsIHJlc291cmNlLnVybCk7XG5cbiAgICAgICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmVzID0gc3ByaXRlc2hlZXQudGV4dHVyZXM7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuXG5leHBvcnRzLmdldFJlc291cmNlUGF0aCA9IGdldFJlc291cmNlUGF0aDtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX3VybCA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgX3VybDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmwpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgYmFzZVVybCkge1xuICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlO1xuICAgIH1cblxuICAgIHJldHVybiBfdXJsMi5kZWZhdWx0LnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXRQYXJzZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5lbmNvZGVCaW5hcnkgPSBlbmNvZGVCaW5hcnk7XG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICB2YXIgaW54ID0gMDtcblxuICAgIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlsbCBieXRlIGJ1ZmZlciBhcnJheVxuICAgICAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0O1xuXG4gICAgICAgIC8vIGluZGV4IDM6IHRoaXJkIDYgYml0cyAoNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAyICsgMiBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjtcblxuICAgICAgICAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuICAgICAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgY2hhcmFjdGVyIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgICAgICAvLyBiYXNlZCBvbiBvdXIgaW5kZXggYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB0aGUgb3V0cHV0IHN0cmluZ1xuICAgICAgICBmb3IgKHZhciBfam54ID0gMDsgX2pueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsrX2pueCkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IF9rZXlTdHIuY2hhckF0KGVuY29kZWRDaGFySW5kZXhlc1tfam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YjY0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZWFjaFNlcmllcyA9IGVhY2hTZXJpZXM7XG5leHBvcnRzLnF1ZXVlID0gcXVldWU7XG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqL1xuZnVuY3Rpb24gX25vb3AoKSB7fSAvKiBlbXB0eSAqL1xuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG59XG5cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgd3JhcHBpbmcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICAgICAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbGxGbiA9IGZuO1xuXG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgICB9IGVsc2UgaWYgKGNvbmN1cnJlbmN5ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICAgIH1cblxuICAgIHZhciB3b3JrZXJzID0gMDtcbiAgICB2YXIgcSA9IHtcbiAgICAgICAgX3Rhc2tzOiBbXSxcbiAgICAgICAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICAgICAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgICAgIGJ1ZmZlcjogY29uY3VycmVuY3kgLyA0LFxuICAgICAgICBlbXB0eTogX25vb3AsXG4gICAgICAgIGRyYWluOiBfbm9vcCxcbiAgICAgICAgZXJyb3I6IF9ub29wLFxuICAgICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICAgICAgcGF1c2VkOiBmYWxzZSxcbiAgICAgICAgcHVzaDogZnVuY3Rpb24gcHVzaChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChkYXRhLCBmYWxzZSwgY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBraWxsOiBmdW5jdGlvbiBraWxsKCkge1xuICAgICAgICAgICAgd29ya2VycyA9IDA7XG4gICAgICAgICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICAgICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgICAgICAgICAgd2hpbGUgKCFxLnBhdXNlZCAmJiB3b3JrZXJzIDwgcS5jb25jdXJyZW5jeSAmJiBxLl90YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXJzICs9IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICBxLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgcnVubmluZzogZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgICAgICB9LFxuICAgICAgICBpZGxlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgICAgICAgIGlmIChxLnBhdXNlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgICAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIE5lZWQgdG8gY2FsbCBxLnByb2Nlc3Mgb25jZSBwZXIgY29uY3VycmVudFxuICAgICAgICAgICAgLy8gd29ya2VyIHRvIHByZXNlcnZlIGZ1bGwgY29uY3VycmVuY3kgYWZ0ZXIgcGF1c2VcbiAgICAgICAgICAgIGZvciAodmFyIHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChkYXRhID09IG51bGwgJiYgcS5pZGxlKCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIC8vIGNhbGwgZHJhaW4gaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHRhc2tzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcS5kcmFpbigpO1xuICAgICAgICAgICAgfSwgMSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IF9ub29wXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgICAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxLl90YXNrcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5wcm9jZXNzKCk7XG4gICAgICAgIH0sIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICB3b3JrZXJzIC09IDE7XG5cbiAgICAgICAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod29ya2VycyA8PSBxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpIHtcbiAgICAgICAgICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfVxuXG4gIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgdmFyIHVyaSA9IHt9XG4gIHZhciBpID0gMTRcblxuICB3aGlsZSAoaS0tKSB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJ1xuXG4gIHVyaVtvLnEubmFtZV0gPSB7fVxuICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB1cmlbby5xLm5hbWVdWyQxXSA9ICQyXG4gIH0pXG5cbiAgcmV0dXJuIHVyaVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYml0bWFwRm9udFBhcnNlcihyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEgb3Igbm90IHhtbCBkYXRhXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBfcmVzb3VyY2VMb2FkZXIuUmVzb3VyY2UuVFlQRS5YTUwpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpcCBpZiBub3QgYml0bWFwIGZvbnQgZGF0YSwgdXNpbmcgc29tZSBzaWxseSBkdWNrLXR5cGluZ1xuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpLmxlbmd0aCA9PT0gMCB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJykubGVuZ3RoID09PSAwIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeG1sVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IHBhdGguZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgaWYgKHhtbFVybCA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgeG1sVXJsID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8geG1sVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVVybC5jaGFyQXQodGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgICAgICB4bWxVcmwgPSB4bWxVcmwucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiB4bWxVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlVXJsID0geG1sVXJsICsgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpWzBdLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuXG4gICAgICAgIGlmIChfY29yZS51dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZVVybF0pIHtcbiAgICAgICAgICAgIC8vIHJldXNlIGV4aXN0aW5nIHRleHR1cmVcbiAgICAgICAgICAgIHBhcnNlKHJlc291cmNlLCBfY29yZS51dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZVVybF0pO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBsb2FkVHlwZTogX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGxvYWQgdGhlIHRleHR1cmUgZm9yIHRoZSBmb250XG4gICAgICAgICAgICB0aGlzLmFkZChyZXNvdXJjZS5uYW1lICsgJ19pbWFnZScsIHRleHR1cmVVcmwsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgcGFyc2UocmVzb3VyY2UsIHJlcy50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbnZhciBwYXRoID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3BhdGgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF9leHRyYXMgPSByZXF1aXJlKCcuLi9leHRyYXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBSZWdpc3RlciBhIEJpdG1hcFRleHQgZm9udCBmcm9tIGxvYWRlciByZXNvdXJjZS5cbiAqXG4gKiBAZnVuY3Rpb24gcGFyc2VCaXRtYXBGb250RGF0YVxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHBhcmFtIHtQSVhJLmxvYWRlcnMuUmVzb3VyY2V9IHJlc291cmNlIC0gTG9hZGVyIHJlc291cmNlLlxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gdGV4dHVyZS5cbiAqL1xuZnVuY3Rpb24gcGFyc2UocmVzb3VyY2UsIHRleHR1cmUpIHtcbiAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gX2V4dHJhcy5CaXRtYXBUZXh0LnJlZ2lzdGVyRm9udChyZXNvdXJjZS5kYXRhLCB0ZXh0dXJlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1hcEZvbnRQYXJzZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKiBVc2VkIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gdG8gYXV0b21hdGljYWxseSBnaXZlIGFsbCBEaXNwbGF5T2JqZWN0cyB0aGVzZSBwcm9wZXJ0aWVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGludGVyYWN0aXZlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcblxuICAvKipcbiAgICogRW5hYmxlIGludGVyYWN0aW9uIGV2ZW50cyBmb3IgdGhlIERpc3BsYXlPYmplY3QuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZVxuICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5vbigndGFwJywgKGV2ZW50KSA9PiB7XG4gICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAqIH0pO1xuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjaGlsZHJlbiB0byB0aGUgZGlzcGxheU9iamVjdCBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICpcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICAgKi9cbiAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcblxuICAvKipcbiAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBkaXNwbGF5T2JqZWN0J3MgYm91bmRzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV8UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAqL1xuICBoaXRBcmVhOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgKiBTZXR0aW5nIHRoaXMgY2hhbmdlcyB0aGUgJ2N1cnNvcicgcHJvcGVydHkgdG8gYCdwb2ludGVyJ2AuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgZ2V0IGJ1dHRvbk1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAncG9pbnRlcic7XG4gIH0sXG4gIHNldCBidXR0b25Nb2RlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSAncG9pbnRlcicpIHtcbiAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgZGVmaW5lcyB3aGF0IGN1cnNvciBtb2RlIGlzIHVzZWQgd2hlbiB0aGUgbW91c2UgY3Vyc29yXG4gICAqIGlzIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuY3Vyc29yID0gJ3dhaXQnO1xuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0NTUy9jdXJzb3JcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgY3Vyc29yOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgKlxuICAgKiBAbWVtYmVyIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXQgdHJhY2tlZFBvaW50ZXJzKCkge1xuICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZCkgdGhpcy5fdHJhY2tlZFBvaW50ZXJzID0ge307XG5cbiAgICByZXR1cm4gdGhpcy5fdHJhY2tlZFBvaW50ZXJzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNYXAgb2YgYWxsIHRyYWNrZWQgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXIuIFVzZSB0cmFja2VkUG9pbnRlcnMgdG8gYWNjZXNzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgKi9cbiAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3RpdmVUYXJnZXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEocG9pbnRlcklkKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSk7XG5cbiAgICAgICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgICAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLl9kb1NldCA9IGZ1bmN0aW9uIF9kb1NldChmbGFnLCB5bikge1xuICAgICAgICBpZiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEsIFt7XG4gICAgICAgIGtleTogXCJwb2ludGVySWRcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhLCBleHByZXNzZWQgYXMgYml0IGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiZmxhZ3NcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBmbGFncyBmb3IgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzIC0gRmxhZ3MgdG8gc2V0XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZsYWdzKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IGluYWN0aXZlIChub3Qgb3ZlciBvciBkb3duKT9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJub25lXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk5PTkU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwib3ZlclwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIpICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgb3ZlciBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgZXZlbnQgb3Zlcj9cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUiwgeW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicmlnaHREb3duXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSByaWdodCBkb3duIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSByaWdodCBtb3VzZSBidXR0b24gZG93bj9cbiAgICAgICAgICovXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJsZWZ0RG93blwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBsZWZ0IGRvd24gZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd24/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcblxuXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIE5PTkU6IDAsXG4gICAgT1ZFUjogMSA8PCAwLFxuICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgIFJJR0hUX0RPV046IDEgPDwgMlxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEludGVyYWN0aW9uRXZlbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICogRm9yIGxpc3RlbmVyIGNhbGxiYWNrIHNlZSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50LmN1cnJlbnRUYXJnZXR9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3Qgd2hvc2UgZXZlbnQgbGlzdGVuZXLigJlzIGNhbGxiYWNrIGlzIGN1cnJlbnRseSBiZWluZyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbkRhdGEgcmVsYXRlZCB0byB0aGlzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gICAqXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gX3Jlc2V0KCkge1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbkV2ZW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbkV2ZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25FdmVudC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbkRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gSW50ZXJhY3Rpb25EYXRhKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBwb2ludCBzdG9yZXMgdGhlIGdsb2JhbCBjb29yZHMgb2Ygd2hlcmUgdGhlIHRvdWNoL21vdXNlIGV2ZW50IGhhcHBlbmVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgRGlzcGxheU9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHBhc3NlZCB0byBhbiBldmVudCBoYW5kbGVyLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIERPTSBFdmVudCB0aGF0IHdhcyBjYXB0dXJlZFxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnRcbiAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWRlbnRpZmllciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b24gd2FzIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHRvIHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5idXR0b25zID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNYIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHktYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaGVpZ2h0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWx0WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWx0WSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlclR5cGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcHJlc3N1cmVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2gvcm90YXRpb25BbmdsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcblxuICAgIC8qKlxuICAgICAqIFR3aXN0IG9mIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50d2lzdCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBwb2ludGVyLiBJdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGBpZGVudGlmaWVyYC5cbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJJZFxuICAgKi9cblxuXG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgbG9jYWxcbiAgICogIGNvb3JkcyBvZmZcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAqICB3aWxsIGNyZWF0ZSBhIG5ldyBwb2ludClcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbZ2xvYmFsUG9zXSAtIEEgUG9pbnQgb2JqZWN0IGNvbnRhaW5pbmcgeW91ciBjdXN0b20gZ2xvYmFsIGNvb3Jkcywgb3B0aW9uYWxcbiAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gICAqICB0byB0aGUgRGlzcGxheU9iamVjdFxuICAgKi9cbiAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5nZXRMb2NhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0TG9jYWxQb3NpdGlvbihkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuX2NvcHlFdmVudCA9IGZ1bmN0aW9uIF9jb3B5RXZlbnQoZXZlbnQpIHtcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgdGhpcy5idXR0b25zID0gZXZlbnQuYnV0dG9ucztcbiAgICB0aGlzLndpZHRoID0gZXZlbnQud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBldmVudC5oZWlnaHQ7XG4gICAgdGhpcy50aWx0WCA9IGV2ZW50LnRpbHRYO1xuICAgIHRoaXMudGlsdFkgPSBldmVudC50aWx0WTtcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgdGhpcy5wcmVzc3VyZSA9IGV2ZW50LnByZXNzdXJlO1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgdGhpcy50d2lzdCA9IGV2ZW50LnR3aXN0IHx8IDA7XG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgfHwgMDtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gX3Jlc2V0KCkge1xuICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgLy8gZ3VhcmFudGVlZCB0byBiZSBvdmVyd3JpdHRlblxuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKEludGVyYWN0aW9uRGF0YSwgW3tcbiAgICBrZXk6ICdwb2ludGVySWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWRlbnRpZmllcjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW50ZXJhY3Rpb25EYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcmFjdGlvbkRhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbkRhdGEuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplID0gcmVxdWlyZSgnLi9nZXRNYXhCbHVyS2VybmVsU2l6ZScpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1heEJsdXJLZXJuZWxTaXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyWUZpbHRlciBhcHBsaWVzIGEgaG9yaXpvbnRhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyWUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1cllGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyWUZpbHRlcik7XG5cbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIGZhbHNlKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgdmVydFNyYyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIGZyYWdTcmMpKTtcblxuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgX3RoaXMuX3F1YWxpdHkgPSAwO1xuXG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIF90aGlzLnN0cmVuZ3RoID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICBfdGhpcy5maXJzdFJ1biA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nP1xuICAgICAqL1xuXG5cbiAgICBCbHVyWUZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgICAgICBpZiAodGhpcy5maXJzdFJ1bikge1xuICAgICAgICAgICAgdmFyIGdsID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5nbDtcbiAgICAgICAgICAgIHZhciBrZXJuZWxTaXplID0gKDAsIF9nZXRNYXhCbHVyS2VybmVsU2l6ZTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAxIC8gb3V0cHV0LnNpemUuaGVpZ2h0ICogKG91dHB1dC5zaXplLmhlaWdodCAvIGlucHV0LnNpemUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBvdXRwdXQsIGNsZWFyKTtcblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJZRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJZRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJZRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1cllGaWx0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZXRNYXhLZXJuZWxTaXplO1xuZnVuY3Rpb24gZ2V0TWF4S2VybmVsU2l6ZShnbCkge1xuICAgIHZhciBtYXhWYXJ5aW5ncyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkFSWUlOR19WRUNUT1JTKTtcbiAgICB2YXIga2VybmVsU2l6ZSA9IDE1O1xuXG4gICAgd2hpbGUgKGtlcm5lbFNpemUgPiBtYXhWYXJ5aW5ncykge1xuICAgICAgICBrZXJuZWxTaXplIC09IDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtlcm5lbFNpemU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRNYXhCbHVyS2VybmVsU2l6ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZUZyYWdCbHVyU291cmNlO1xudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdXG59O1xuXG52YXIgZnJhZ1RlbXBsYXRlID0gWyd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKScsICd7JywgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JywgJyAgICAlYmx1ciUnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUZyYWdCbHVyU291cmNlKGtlcm5lbFNpemUpIHtcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIHZhciBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpKTtcblxuICAgICAgICB2YWx1ZSA9IGk7XG5cbiAgICAgICAgaWYgKGkgPj0gaGFsZkxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXSk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIGZyYWdTb3VyY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUJsdXJGcmFnU291cmNlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlVmVydEJsdXJTb3VyY2U7XG52YXIgdmVydFRlbXBsYXRlID0gWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ3VuaWZvcm0gZmxvYXQgc3RyZW5ndGg7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLCAndm9pZCBtYWluKHZvaWQpJywgJ3snLCAnZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMygoYVZlcnRleFBvc2l0aW9uKSwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnJWJsdXIlJywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZShrZXJuZWxTaXplLCB4KSB7XG4gICAgdmFyIGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuXG4gICAgdmFyIHZlcnRTb3VyY2UgPSB2ZXJ0VGVtcGxhdGU7XG5cbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSB2b2lkIDA7XG4gICAgLy8gbGV0IHZhbHVlO1xuXG4gICAgaWYgKHgpIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSBhVGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTsnO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIC8vIHZhbHVlID0gaTtcblxuICAgICAgICAvLyBpZihpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsIGkgLSAoaGFsZkxlbmd0aCAtIDEpICsgJy4wJyk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUJsdXJWZXJ0U291cmNlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlJyk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlJyk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlKTtcblxudmFyIF9nZXRNYXhCbHVyS2VybmVsU2l6ZSA9IHJlcXVpcmUoJy4vZ2V0TWF4Qmx1cktlcm5lbFNpemUnKTtcblxudmFyIF9nZXRNYXhCbHVyS2VybmVsU2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRNYXhCbHVyS2VybmVsU2l6ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQmx1clhGaWx0ZXIgYXBwbGllcyBhIGhvcml6b250YWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1clhGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEJsdXJYRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyWEZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1clhGaWx0ZXIpO1xuXG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCB0cnVlKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgdmVydFNyYyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIGZyYWdTcmMpKTtcblxuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgX3RoaXMuX3F1YWxpdHkgPSAwO1xuXG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIF90aGlzLnN0cmVuZ3RoID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICBfdGhpcy5maXJzdFJ1biA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nP1xuICAgICAqL1xuXG5cbiAgICBCbHVyWEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgICAgICBpZiAodGhpcy5maXJzdFJ1bikge1xuICAgICAgICAgICAgdmFyIGdsID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5nbDtcbiAgICAgICAgICAgIHZhciBrZXJuZWxTaXplID0gKDAsIF9nZXRNYXhCbHVyS2VybmVsU2l6ZTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICAgICAgdGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9IDEgLyBvdXRwdXQuc2l6ZS53aWR0aCAqIChvdXRwdXQuc2l6ZS53aWR0aCAvIGlucHV0LnNpemUud2lkdGgpO1xuXG4gICAgICAgIC8vIHNjcmVlbiBzcGFjZSFcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzOyAvLyAvIHRoaXMucGFzc2VzLy9NYXRoLnBvdygxLCB0aGlzLnBhc3Nlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBvdXRwdXQsIGNsZWFyKTtcblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDE2XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyWEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5hYnModmFsdWUpICogMjtcbiAgICAgICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAqIEBkZWZhdWx0IDRcbiAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCbHVyWEZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCbHVyWEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJYRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQml0bWFwVGV4dCA9IGV4cG9ydHMuVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSBleHBvcnRzLlRpbGluZ1Nwcml0ZSA9IGV4cG9ydHMuQW5pbWF0ZWRTcHJpdGUgPSB1bmRlZmluZWQ7XG5cbnZhciBfQW5pbWF0ZWRTcHJpdGUgPSByZXF1aXJlKCcuL0FuaW1hdGVkU3ByaXRlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQW5pbWF0ZWRTcHJpdGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BbmltYXRlZFNwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGlsaW5nU3ByaXRlID0gcmVxdWlyZSgnLi9UaWxpbmdTcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUaWxpbmdTcHJpdGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaWxpbmdTcHJpdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RpbGluZ1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbGluZ1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlsaW5nU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JpdG1hcFRleHQgPSByZXF1aXJlKCcuL0JpdG1hcFRleHQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCaXRtYXBUZXh0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQml0bWFwVGV4dCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnJlcXVpcmUoJy4vY2FjaGVBc0JpdG1hcCcpO1xuXG5yZXF1aXJlKCcuL2dldENoaWxkQnlOYW1lJyk7XG5cbnJlcXVpcmUoJy4vZ2V0R2xvYmFsUG9zaXRpb24nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gaW1wb3J0ZWQgZm9yIHNpZGUgZWZmZWN0IG9mIGV4dGVuZGluZyB0aGUgcHJvdG90eXBlIG9ubHksIGNvbnRhaW5zIG5vIGV4cG9ydHNcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBhY2Nlc3NpYmxlIG9iamVjdHNcbiAqIHVzZWQgYnkge0BsaW5rIFBJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKlxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBNeU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmFjY2Vzc2liaWxpdHkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIC8qKlxuICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuICBhY2Nlc3NpYmxlOiBmYWxzZSxcblxuICAvKipcbiAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAqIElmIGFjY2Vzc2libGVUaXRsZSBBTkQgYWNjZXNzaWJsZUhpbnQgaGFzIG5vdCBiZWVuIHRoaXMgd2lsbCBkZWZhdWx0IHRvICdkaXNwbGF5T2JqZWN0IFt0YWJJbmRleF0nXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICovXG4gIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcblxuICAvKipcbiAgICogU2V0cyB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKi9cbiAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG5cbiAgLyoqXG4gICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAqL1xuICB0YWJJbmRleDogMCxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIF9hY2Nlc3NpYmxlRGl2OiBmYWxzZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2libGVUYXJnZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hdXRvRGV0ZWN0UmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXI7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciB1dGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlscyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2Ncbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIHdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIGZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdCAqKndlYmdsIG9ubHkqKlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWdhY3k9ZmFsc2VdIC0gYHRydWVgIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuXG4gKiAgSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgLy8gQmFja3dhcmQtY29tcGF0aWJsZSBzdXBwb3J0IGZvciBub1dlYkdMIG9wdGlvblxuICAgIHZhciBmb3JjZUNhbnZhcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JjZUNhbnZhcztcblxuICAgIGlmIChhcmczICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yY2VDYW52YXMgPSBhcmczO1xuICAgIH1cblxuICAgIGlmICghZm9yY2VDYW52YXMgJiYgdXRpbHMuaXNXZWJHTFN1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQob3B0aW9ucywgYXJnMSwgYXJnMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQob3B0aW9ucywgYXJnMSwgYXJnMik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRvRGV0ZWN0UmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2F1dG9EZXRlY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vYXV0b0RldGVjdFJlbmRlcmVyJyk7XG5cbnZhciBfQ29udGFpbmVyID0gcmVxdWlyZSgnLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG52YXIgX0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWluZXIpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4vdGlja2VyJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICogVGhpcyBjbGFzcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgdGhlIHJlbmRlcmVyLCB0aWNrZXJcbiAqIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJ3NvbWV0aGluZy5wbmcnKSk7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwbGljYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvU3RhcnQ9dHJ1ZV0gLSBhdXRvbWF0aWNhbGx5IHN0YXJ0cyB0aGUgcmVuZGVyaW5nIGFmdGVyIHRoZSBjb25zdHJ1Y3Rpb24uXG4gICAgICogICAgIE5vdGUgdGhhdCBzZXR0aW5nIHRoaXMgcGFyYW1ldGVyIHRvIGZhbHNlIGRvZXMgTk9UIHN0b3AgdGhlIHNoYXJlZCB0aWNrZXIgZXZlbiBpZiB5b3Ugc2V0XG4gICAgICogICAgIG9wdGlvbnMuc2hhcmVkVGlja2VyIHRvIHRydWUgaW4gY2FzZSB0aGF0IGl0IGlzIGFscmVhZHkgc3RhcnRlZC4gU3RvcCBpdCBieSB5b3VyIG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gICAgICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAgICAgKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAgICAgKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWdhY3k9ZmFsc2VdIC0gYHRydWVgIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuXG4gICAgICogIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLiAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZFRpY2tlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkudGlja2VyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IHRpY2tlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZExvYWRlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkubG9hZGVycy5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyBMb2FkZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb24ob3B0aW9ucywgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXBwbGljYXRpb24pO1xuXG4gICAgICAgIC8vIFN1cHBvcnQgZm9yIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMsIG5vV2ViR0wsIHVzZVNoYXJlZFRpY2tlcilcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYXJnMiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVOREVSX09QVElPTlMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGZvcmNlQ2FudmFzOiAhIWFyZzQsXG4gICAgICAgICAgICAgICAgc2hhcmVkVGlja2VyOiAhIWFyZzVcbiAgICAgICAgICAgIH0sIGFyZzMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IG9wdGlvbnMsIHNvIHdlIG1peGluIGZ1bmN0aW9uYWxpdHkgbGF0ZXIuXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSAoMCwgX2F1dG9EZXRlY3RSZW5kZXJlci5hdXRvRGV0ZWN0UmVuZGVyZXIpKG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm9vdCBkaXNwbGF5IGNvbnRhaW5lciB0aGF0J3MgcmVuZGVyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFnZSA9IG5ldyBfQ29udGFpbmVyMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkudGlja2VyLlRpY2tlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpY2tlciBmb3IgZG9pbmcgcmVuZGVyIHVwZGF0ZXMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkudGlja2VyLlRpY2tlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS50aWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gX3RpY2tlci5zaGFyZWQgOiBuZXcgX3RpY2tlci5UaWNrZXIoKTtcblxuICAgICAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgICAgIHZhciBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG5cbiAgICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuXG4gICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5zdGFnZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG51bGw7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhBcHBsaWNhdGlvbiwgW3tcbiAgICAgICAga2V5OiAndGlja2VyJyxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGlja2VyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgaWYgKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndmlldycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3Igd2hvbGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NjcmVlbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBcHBsaWNhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwcGxpY2F0aW9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlKSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0aWNlIGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZWFyLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIHAgPSBlYXIubmV4dC5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IGVhci5wcmV2KSB7XG4gICAgICAgIGlmIChwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXG4gICAgdmFyIG1pblRYID0gYS54IDwgYi54ID8gKGEueCA8IGMueCA/IGEueCA6IGMueCkgOiAoYi54IDwgYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWluVFkgPSBhLnkgPCBiLnkgPyAoYS55IDwgYy55ID8gYS55IDogYy55KSA6IChiLnkgPCBjLnkgPyBiLnkgOiBjLnkpLFxuICAgICAgICBtYXhUWCA9IGEueCA+IGIueCA/IChhLnggPiBjLnggPyBhLnggOiBjLngpIDogKGIueCA+IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1heFRZID0gYS55ID4gYi55ID8gKGEueSA+IGMueSA/IGEueSA6IGMueSkgOiAoYi55ID4gYy55ID8gYi55IDogYy55KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIobWluVFgsIG1pblRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcihtYXhUWCwgbWF4VFksIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcblxuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYSA9IHAucHJldixcbiAgICAgICAgICAgIGIgPSBwLm5leHQubmV4dDtcblxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XG5cbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGEuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocC5uZXh0KTtcblxuICAgICAgICAgICAgcCA9IHN0YXJ0ID0gYjtcbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBwO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcbiAgICAgICAgZmlsdGVyUG9pbnRzKGIsIGIubmV4dCk7XG4gICAgfVxufVxuXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcbiAgICAgICAgaHggPSBob2xlLngsXG4gICAgICAgIGh5ID0gaG9sZS55LFxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcbiAgICAgICAgbTtcblxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XG4gICAgZG8ge1xuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XG4gICAgICAgICAgICAgICAgcXggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAueSkgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC5uZXh0LnkpIHJldHVybiBwLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChoeCA9PT0gcXgpIHJldHVybiBtLnByZXY7IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxvd2VyIGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG0ubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBzdG9wKSB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKCh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIHAueCA+IG0ueCkpICYmIGxvY2FsbHlJbnNpZGUocCwgaG9sZSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54KSBsZWZ0bW9zdCA9IHA7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xufVxuXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcHgsIHB5KSB7XG4gICAgcmV0dXJuIChjeCAtIHB4KSAqIChheSAtIHB5KSAtIChheCAtIHB4KSAqIChjeSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChheCAtIHB4KSAqIChieSAtIHB5KSAtIChieCAtIHB4KSAqIChheSAtIHB5KSA+PSAwICYmXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSAtIChjeCAtIHB4KSAqIChieSAtIHB5KSA+PSAwO1xufVxuXG4vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLCBiKSB7XG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiZcbiAgICAgICAgICAgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKTtcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICBpZiAoKGVxdWFscyhwMSwgcTEpICYmIGVxdWFscyhwMiwgcTIpKSB8fFxuICAgICAgICAoZXF1YWxzKHAxLCBxMikgJiYgZXF1YWxzKHAyLCBxMSkpKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gYXJlYShwMSwgcTEsIHAyKSA+IDAgIT09IGFyZWEocDEsIHExLCBxMikgPiAwICYmXG4gICAgICAgICAgIGFyZWEocDIsIHEyLCBwMSkgPiAwICE9PSBhcmVhKHAyLCBxMiwgcTEpID4gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcbmZ1bmN0aW9uIGludGVyc2VjdHNQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgcCA9IGE7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC5pICE9PSBhLmkgJiYgcC5uZXh0LmkgIT09IGEuaSAmJiBwLmkgIT09IGIuaSAmJiBwLm5leHQuaSAhPT0gYi5pICYmXG4gICAgICAgICAgICAgICAgaW50ZXJzZWN0cyhwLCBwLm5leHQsIGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsIGIpIHtcbiAgICByZXR1cm4gYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPCAwID9cbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxuICAgICAgICBhcmVhKGEsIGIsIGEucHJldikgPCAwIHx8IGFyZWEoYSwgYS5uZXh0LCBiKSA8IDA7XG59XG5cbi8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsIGIpIHtcbiAgICB2YXIgcCA9IGEsXG4gICAgICAgIGluc2lkZSA9IGZhbHNlLFxuICAgICAgICBweCA9IChhLnggKyBiLngpIC8gMixcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XG4gICAgZG8ge1xuICAgICAgICBpZiAoKChwLnkgPiBweSkgIT09IChwLm5leHQueSA+IHB5KSkgJiYgcC5uZXh0LnkgIT09IHAueSAmJlxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGluc2lkZTtcbn1cblxuLy8gbGluayB0d28gcG9seWdvbiB2ZXJ0aWNlcyB3aXRoIGEgYnJpZGdlOyBpZiB0aGUgdmVydGljZXMgYmVsb25nIHRvIHRoZSBzYW1lIHJpbmcsIGl0IHNwbGl0cyBwb2x5Z29uIGludG8gdHdvO1xuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXG5mdW5jdGlvbiBzcGxpdFBvbHlnb24oYSwgYikge1xuICAgIHZhciBhMiA9IG5ldyBOb2RlKGEuaSwgYS54LCBhLnkpLFxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxuICAgICAgICBhbiA9IGEubmV4dCxcbiAgICAgICAgYnAgPSBiLnByZXY7XG5cbiAgICBhLm5leHQgPSBiO1xuICAgIGIucHJldiA9IGE7XG5cbiAgICBhMi5uZXh0ID0gYW47XG4gICAgYW4ucHJldiA9IGEyO1xuXG4gICAgYjIubmV4dCA9IGEyO1xuICAgIGEyLnByZXYgPSBiMjtcblxuICAgIGJwLm5leHQgPSBiMjtcbiAgICBiMi5wcmV2ID0gYnA7XG5cbiAgICByZXR1cm4gYjI7XG59XG5cbi8vIGNyZWF0ZSBhIG5vZGUgYW5kIG9wdGlvbmFsbHkgbGluayBpdCB3aXRoIHByZXZpb3VzIG9uZSAoaW4gYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBpbnNlcnROb2RlKGksIHgsIHksIGxhc3QpIHtcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xuXG4gICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIHAucHJldiA9IHA7XG4gICAgICAgIHAubmV4dCA9IHA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBwLm5leHQgPSBsYXN0Lm5leHQ7XG4gICAgICAgIHAucHJldiA9IGxhc3Q7XG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcbiAgICAgICAgbGFzdC5uZXh0ID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xuICAgIHAubmV4dC5wcmV2ID0gcC5wcmV2O1xuICAgIHAucHJldi5uZXh0ID0gcC5uZXh0O1xuXG4gICAgaWYgKHAucHJldlopIHAucHJldloubmV4dFogPSBwLm5leHRaO1xuICAgIGlmIChwLm5leHRaKSBwLm5leHRaLnByZXZaID0gcC5wcmV2Wjtcbn1cblxuZnVuY3Rpb24gTm9kZShpLCB4LCB5KSB7XG4gICAgLy8gdmVydGljZSBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0aWNlIG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBHcmFwaGljc0RhdGEgb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lV2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUNvbG9yIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVBbHBoYSAtIHRoZSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmaWxsQ29sb3IgLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpbGxBbHBoYSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZpbGwgLSB3aGV0aGVyIG9yIG5vdCB0aGUgc2hhcGUgaXMgZmlsbGVkIHdpdGggYSBjb2xvdXJcbiAgICogQHBhcmFtIHtib29sZWFufSBuYXRpdmVMaW5lcyAtIHRoZSBtZXRob2QgZm9yIGRyYXdpbmcgbGluZXNcbiAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLlJlY3RhbmdsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICovXG4gIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShsaW5lV2lkdGgsIGxpbmVDb2xvciwgbGluZUFscGhhLCBmaWxsQ29sb3IsIGZpbGxBbHBoYSwgZmlsbCwgbmF0aXZlTGluZXMsIHNoYXBlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyYXBoaWNzRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcblxuICAgIC8qKlxuICAgICAqIGlmIHRydWUgdGhlIGxpZW5zIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVDb2xvciA9IGxpbmVDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUFscGhhID0gbGluZUFscGhhO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGVkIHRpbnQgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2xpbmVUaW50ID0gbGluZUNvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbENvbG9yID0gZmlsbENvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbEFscGhhID0gZmlsbEFscGhhO1xuXG4gICAgLyoqXG4gICAgICogY2FjaGVkIHRpbnQgb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9maWxsVGludCA9IGZpbGxDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHdoZXRoZXIgb3Igbm90IHRoZSBzaGFwZSBpcyBmaWxsZWQgd2l0aCBhIGNvbG91clxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5maWxsID0gZmlsbDtcblxuICAgIHRoaXMuaG9sZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUsIHNlZSB0aGUgQ29uc3QuU2hhcGVzIGZpbGUgZm9yIGFsbCB0aGUgZXhpc3RpbmcgdHlwZXMsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHNoYXBlLnR5cGU7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gQ2xvbmVkIEdyYXBoaWNzRGF0YSBvYmplY3RcbiAgICovXG5cblxuICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5saW5lV2lkdGgsIHRoaXMubGluZUNvbG9yLCB0aGlzLmxpbmVBbHBoYSwgdGhpcy5maWxsQ29sb3IsIHRoaXMuZmlsbEFscGhhLCB0aGlzLmZpbGwsIHRoaXMubmF0aXZlTGluZXMsIHRoaXMuc2hhcGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgaG9sZSB0byB0aGUgc2hhcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV8UElYSS5DaXJjbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9mIHRoZSBob2xlLlxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuYWRkSG9sZSA9IGZ1bmN0aW9uIGFkZEhvbGUoc2hhcGUpIHtcbiAgICB0aGlzLmhvbGVzLnB1c2goc2hhcGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAgICovXG5cblxuICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuaG9sZXMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBHcmFwaGljc0RhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFRleHRNZXRyaWNzIG9iamVjdCByZXByZXNlbnRzIHRoZSBtZWFzdXJlbWVudCBvZiBhIGJsb2NrIG9mIHRleHQgd2l0aCBhIHNwZWNpZmllZCBzdHlsZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJPZiBQSVhJXG4gKi9cbnZhciBUZXh0TWV0cmljcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGxpbmVzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmVzIG9mIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaWYgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICogQHBhcmFtIHthcnJheX0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmb250UHJvcGVydGllcyAtIHRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHRNZXRyaWNzKTtcblxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc30gbWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZVRleHQgPSBmdW5jdGlvbiBtZWFzdXJlVGV4dCh0ZXh0LCBzdHlsZSwgd29yZFdyYXApIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgICAgICB3b3JkV3JhcCA9IHdvcmRXcmFwIHx8IHN0eWxlLndvcmRXcmFwO1xuICAgICAgICB2YXIgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG91dHB1dFRleHQuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAobGluZXNbaV0ubGVuZ3RoIC0gMSkgKiBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcblxuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgd2lkdGggKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpICsgKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKTtcblxuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZywgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgbmV3bGluZXMgdG8gYSBzdHJpbmcgdG8gaGF2ZSBpdCBvcHRpbWFsbHkgZml0IGludG8gdGhlIGhvcml6b250YWxcbiAgICAgKiBib3VuZHMgc2V0IGJ5IHRoZSBUZXh0IG9iamVjdCdzIHdvcmRXcmFwV2lkdGggcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gU3RyaW5nIHRvIGFwcGx5IHdvcmQgd3JhcHBpbmcgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLndvcmRXcmFwID0gZnVuY3Rpb24gd29yZFdyYXAodGV4dCwgc3R5bGUpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vIEdyZWVkeSB3cmFwcGluZyBhbGdvcml0aG0gdGhhdCB3aWxsIHdyYXAgd29yZHMgYXMgdGhlIGxpbmUgZ3Jvd3MgbG9uZ2VyXG4gICAgICAgIC8vIHRoYW4gaXRzIGhvcml6b250YWwgYm91bmRzLlxuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBmaXJzdENoYXIgPSB0ZXh0LmNoYXJBdCgwKTtcbiAgICAgICAgdmFyIGxpbmVzID0gdGV4dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIHZhciB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aDtcbiAgICAgICAgdmFyIGNoYXJhY3RlckNhY2hlID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwYWNlTGVmdCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICB2YXIgd29yZHMgPSBsaW5lc1tpXS5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHdvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdvcmRXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQod29yZHNbal0pLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmJyZWFrV29yZHMgJiYgd29yZFdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JkIHNob3VsZCBiZSBzcGxpdCBpbiB0aGUgbWlkZGxlXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJzID0gd29yZHNbal0uc3BsaXQoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgY2hhcmFjdGVycy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlciA9IGNoYXJhY3RlcnNbY107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBjaGFyYWN0ZXJDYWNoZVtjaGFyYWN0ZXJdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcldpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChjaGFyYWN0ZXIpLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlckNhY2hlW2NoYXJhY3Rlcl0gPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoID4gc3BhY2VMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nICsgY2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlTGVmdCA9IHdvcmRXcmFwV2lkdGggLSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IDAgJiYgKGogPiAwIHx8IGZpcnN0Q2hhciA9PT0gJyAnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGFyYWN0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VMZWZ0IC09IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmRXaWR0aFdpdGhTcGFjZSA9IHdvcmRXaWR0aCArIGNvbnRleHQubWVhc3VyZVRleHQoJyAnKS53aWR0aDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCB8fCB3b3JkV2lkdGhXaXRoU3BhY2UgPiBzcGFjZUxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgcHJpbnRpbmcgdGhlIG5ld2xpbmUgaWYgaXQncyB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgbGluZSB0aGF0IGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmVhdGVyIHRoYW4gdGhlIHdvcmQgd3JhcCB3aWR0aC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSB3b3Jkc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlTGVmdCA9IHdvcmRXcmFwV2lkdGggLSB3b3JkV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjZUxlZnQgLT0gd29yZFdpZHRoV2l0aFNwYWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgJyArIHdvcmRzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSA8IGxpbmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ1xcbic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KCd8TcOJcScpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoJ00nKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG5cbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIDEuNCB8IDA7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoJ3xNw4lxJywgMCwgYmFzZWxpbmUpO1xuXG4gICAgICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG5cbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBsaW5lOyBfaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBfal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcblxuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dE1ldHJpY3M7XG59KCk7XG5cbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKiBAY2xhc3MgRm9udE1ldHJpY3NcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzflxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dE1ldHJpY3M7XG52YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2YgUElYSS5UZXh0TWV0cmljc35Gb250TWV0cmljcyBvYmplY3RzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRNZXRyaWNzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsgLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwXG59O1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBkZWNvcmF0ZXMgYSBUZXh0IE9iamVjdC4gSXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuXG4gKiBtdWx0aXBsZSBUZXh0IG9iamVjdHMuIENoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dFN0eWxlKTtcblxuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZygpIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInID8gdGhpcy5mb250U2l6ZSArICdweCcgOiB0aGlzLmZvbnRTaXplO1xuXG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvLnRlc3QoZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5ID0gJ1wiJyArIGZvbnRGYW1pbHkgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTdHlsZSArICcgJyArIHRoaXMuZm9udFZhcmlhbnQgKyAnICcgKyB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyBmb250U2l6ZVN0cmluZyArICcgJyArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0U3R5bGUsIFt7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JyZWFrV29yZHMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3cnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93QWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0FuZ2xlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dCbHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dDb2xvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0NvbG9yKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dEaXN0YW5jZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRUeXBlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRTdG9wcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRGYW1pbHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250RmFtaWx5KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFNpemUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFNpemUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFN0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250VmFyaWFudCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRXZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250V2VpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGV0dGVyU3BhY2luZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxldHRlclNwYWNpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGluZUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xlYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZWFkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsaW5lSm9pbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21pdGVyTGltaXQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhZGRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlVGhpY2tuZXNzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRCYXNlbGluZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJpbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRyaW0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmRXcmFwJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JkV3JhcFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHRTdHlsZTtcbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuaGV4MnN0cmluZykoY29sb3IpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BvcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0U3R5bGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBnbCBjb250ZXh0IGZvciB0aGlzIHF1YWQgdG8gdXNlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBUT0RPOiBEZXNjcmlwdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gUXVhZChnbCwgc3RhdGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVhZCk7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuXG4gICAgdGhpcy5pbnRlcmxlYXZlZCA9IG5ldyBGbG9hdDMyQXJyYXkoOCAqIDIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDRdID0gdGhpcy52ZXJ0aWNlc1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMV0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyICsgMV07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMl0gPSB0aGlzLnV2c1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgM10gPSB0aGlzLnV2c1tpICogMiArIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkoMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCB0aGlzLmludGVybGVhdmVkLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuVmVydGV4QXJyYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlcyB0aGUgdmFvcyBhbmQgdXNlcyB0aGUgc2hhZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRvIHVzZVxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmluaXRWYW8gPSBmdW5jdGlvbiBpbml0VmFvKHNoYWRlcikge1xuICAgIHRoaXMudmFvLmNsZWFyKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCA0ICogNCwgMCkuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgNCAqIDQsIDIgKiA0KTtcbiAgfTtcblxuICAvKipcbiAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgdGhpcy51dnNbMV0gPSB5O1xuXG4gICAgdGhpcy51dnNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICB0aGlzLnV2c1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudXZzWzZdID0geDtcbiAgICB0aGlzLnV2c1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVyIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0XSA9IHRoaXMudmVydGljZXNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDFdID0gdGhpcy52ZXJ0aWNlc1tpICogMiArIDFdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDJdID0gdGhpcy51dnNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDNdID0gdGhpcy51dnNbaSAqIDIgKyAxXTtcbiAgICB9XG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlci51cGxvYWQodGhpcy5pbnRlcmxlYXZlZCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGlzIHF1YWQgZnJvbSBXZWJHTFxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpO1xuICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKTtcbiAgfTtcblxuICByZXR1cm4gUXVhZDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUXVhZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4uL21hdGgvTWF0cml4Jyk7XG5cbnZhciBfTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diB0cmFuc2Zvcm0gYW5kIGZyYW1lIGNsYW1wIGZvciB0ZXh0dXJlXG4gKiBDYW4gYmUgdXNlZCBpbiBUZXh0dXJlIFwidHJhbnNmb3JtXCIgZmllbGQsIG9yIHNlcGFyYXRlbHksIHlvdSBjYW4gdXNlIGRpZmZlcmVudCBjbGFtcCBzZXR0aW5ncyBvbiB0aGUgc2FtZSB0ZXh0dXJlLlxuICogSWYgeW91IHdhbnQgdG8gYWRkIHN1cHBvcnQgZm9yIHRleHR1cmUgcmVnaW9uIG9mIGNlcnRhaW4gZmVhdHVyZSBvciBmaWx0ZXIsIHRoYXQncyB3aGF0IHlvdSdyZSBsb29raW5nIGZvci5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLm1lc2guTWVzaFxuICogQHNlZSBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dHVyZU1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWF0cml4KTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICB0aGlzLm1hcENvb3JkID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAxLjUgaWYgeW91IHRleHR1cmUgaGFzIHJlcGVhdGVkIHJpZ2h0IGFuZCBib3R0b20gbGluZXMsIHRoYXQgbGVhZHMgdG8gc21vb3RoZXIgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9IHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcgPyAwLjUgOiBjbGFtcE1hcmdpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdXZzIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzKHV2cywgb3V0KSB7XG4gICAgICAgIGlmIChvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3V0ID0gdXZzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgICAgICBvdXRbaV0gPSB4ICogbWF0LmEgKyB5ICogbWF0LmMgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0geCAqIG1hdC5iICsgeSAqIG1hdC5kICsgbWF0LnR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm9yY2VVcGRhdGUgJiYgdGhpcy5fbGFzdFRleHR1cmVJRCA9PT0gdGV4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IHRleC5fdXBkYXRlSUQ7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuXG4gICAgICAgIHRoaXMubWFwQ29vcmQuc2V0KHV2cy54MSAtIHV2cy54MCwgdXZzLnkxIC0gdXZzLnkwLCB1dnMueDMgLSB1dnMueDAsIHV2cy55MyAtIHV2cy55MCwgdXZzLngwLCB1dnMueTApO1xuXG4gICAgICAgIHZhciBvcmlnID0gdGV4Lm9yaWc7XG4gICAgICAgIHZhciB0cmltID0gdGV4LnRyaW07XG5cbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNsYW1wTWFyZ2luIC8gdGV4QmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgICAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbMV0gPSAodGV4Ll9mcmFtZS55ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFswXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbFdpZHRoO1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHR1cmVNYXRyaXgsIFt7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWF0cml4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hdHJpeC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyA9IHJlcXVpcmUoJy4vZXh0cmFjdFVuaWZvcm1zRnJvbVNyYycpO1xuXG52YXIgX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU09VUkNFX0tFWV9NQVAgPSB7fTtcblxuLy8gbGV0IG1hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cblxudmFyIEZpbHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICovXG4gIGZ1bmN0aW9uIEZpbHRlcih2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCB1bmlmb3Jtcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjO1xuXG4gICAgdGhpcy5fYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtcyB8fCAoMCwgX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyLmRlZmF1bHQpKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjLCAncHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcicpO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIGN1c3RvbSB1bmlmb3Jtcy5cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5VcGRhdGluZyB0aGUgdmFsdWUgb2YgYSBjdXN0b20gdW5pZm9ybTwvY2FwdGlvbj5cbiAgICAgKiBmaWx0ZXIudW5pZm9ybXMudGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgaW4gdGhpcy51bmlmb3JtRGF0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtc1tpXSA9IHRoaXMudW5pZm9ybURhdGFbaV0udmFsdWU7XG4gICAgICBpZiAodGhpcy51bmlmb3JtRGF0YVtpXS50eXBlKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGFbaV0udHlwZSA9IHRoaXMudW5pZm9ybURhdGFbaV0udHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgIC8vIFRPRE8gd2UgY291bGQgY2FjaGUgdGhpcyFcbiAgICB0aGlzLmdsU2hhZGVycyA9IHt9O1xuXG4gICAgLy8gdXNlZCBmb3IgY2FjaGVpbmcuLiBzdXJlIHRoZXJlIGlzIGEgYmV0dGVyIHdheSFcbiAgICBpZiAoIVNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY10pIHtcbiAgICAgIFNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY10gPSAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICB9XG5cbiAgICB0aGlzLmdsU2hhZGVyS2V5ID0gU09VUkNFX0tFWV9NQVBbdGhpcy52ZXJ0ZXhTcmMgKyB0aGlzLmZyYWdtZW50U3JjXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgKiBJbmNyZWFzaW5nIHRoaXMgd2lsbCBhZGQgZXh0cmEgd2lkdGggYW5kIGhlaWdodCB0byB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgdGhhdCB0aGVcbiAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBhZGRpbmcgPSA0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIGZpbHRlci4gU2V0dGluZyB0aGlzIHRvIGJlIGxvd2VyIHdpbGwgbG93ZXIgdGhlIHF1YWxpdHkgYnV0XG4gICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICogU3dpdGNoIGl0IG9mZiBpZiBpdCBkb2VzIG5vdCB3b3JrIGZvciBzcGVjaWZpYyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuYXV0b0ZpdCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICovXG5cblxuICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB7XG4gICAgLy8gLS0tIC8vXG4gICAgLy8gIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGVtcE1hdHJpeCwgd2luZG93LnBhbmRhICk7XG5cbiAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEZpbHRlciwgW3tcbiAgICBrZXk6ICdibGVuZE1vZGUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogJ2RlZmF1bHRWZXJ0ZXhTcmMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkOycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDsnLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTsnLCAnICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQgOycsICd9J10uam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZWZhdWx0RnJhZ21lbnRTcmMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFsndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsICd1bmlmb3JtIHNhbXBsZXIyRCBmaWx0ZXJTYW1wbGVyOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQoZmlsdGVyU2FtcGxlciwgdkZpbHRlckNvb3JkKTsnLCAnICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpOycsICcgICB2ZWM0IGNvbG9yOycsICcgICBpZihtb2QodkZpbHRlckNvb3JkLngsIDEuMCkgPiAwLjUpJywgJyAgIHsnLCAnICAgICBjb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTsnLCAnICAgfScsICcgICBlbHNlJywgJyAgIHsnLCAnICAgICBjb2xvciA9IHZlYzQoMC4wLCAxLjAsIDAuMCwgMS4wKTsnLCAnICAgfScsXG4gICAgICAvLyAnICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChtb2QodkZpbHRlckNvb3JkLngsIDEuNSksIHZGaWx0ZXJDb29yZC55LDAuMCwxLjApOycsXG4gICAgICAnICAgZ2xfRnJhZ0NvbG9yID0gbWl4KHNhbXBsZSwgbWFza3ksIDAuNSk7JywgJyAgIGdsX0ZyYWdDb2xvciAqPSBzYW1wbGUuYTsnLCAnfSddLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGaWx0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfRmlsdGVyMiA9IHJlcXVpcmUoJy4uL0ZpbHRlcicpO1xuXG52YXIgX0ZpbHRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXIyKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL3RleHR1cmVzL1RleHR1cmVNYXRyaXgnKTtcblxudmFyIF9UZXh0dXJlTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmVNYXRyaXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIFNwcml0ZU1hc2tGaWx0ZXIgY2xhc3NcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlTWFza0ZpbHRlciA9IGZ1bmN0aW9uIChfRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKFNwcml0ZU1hc2tGaWx0ZXIsIF9GaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHRhcmdldCBzcHJpdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGVNYXNrRmlsdGVyKHNwcml0ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlTWFza0ZpbHRlcik7XG5cbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0ZpbHRlci5jYWxsKHRoaXMsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hc2s7XFxudW5pZm9ybSBmbG9hdCBhbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAobWFza3kuciAqIG1hc2t5LmEgKiBhbHBoYSAqIGNsaXApO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBvcmlnaW5hbDtcXG59XFxuJykpO1xuXG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICovXG5cblxuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICB2YXIgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMubWFza1Nwcml0ZS50ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXgudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudHJhbnNmb3JtID0gbmV3IF9UZXh0dXJlTWF0cml4Mi5kZWZhdWx0KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSkucHJlcGVuZCh0ZXgudHJhbnNmb3JtLm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudHJhbnNmb3JtLnVDbGFtcEZyYW1lO1xuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShfRmlsdGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3ByaXRlTWFza0ZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZU1hc2tGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcztcbi8qKlxuICogQ3JlYXRlcyBhIGxpdHRsZSBjb2xvcmVkIGNhbnZhc1xuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIFRoZSBjb2xvciB0byBtYWtlIHRoZSBjYW52YXNcbiAqIEByZXR1cm4ge2NhbnZhc30gYSBzbWFsbCBjYW52YXMgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDb2xvcmVkQ2FudmFzKGNvbG9yKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgNiwgMSk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBDYW52YXMgQmxlbmRNb2RlcyBhcmUgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGJyb3dzZXJcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZXkgYXJlIHN1cHBvcnRlZFxuICovXG5mdW5jdGlvbiBjYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbWFnZW50YSA9IGNyZWF0ZUNvbG9yZWRDYW52YXMoJyNmZjAwZmYnKTtcbiAgICB2YXIgeWVsbG93ID0gY3JlYXRlQ29sb3JlZENhbnZhcygnI2ZmZmYwMCcpO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdtdWx0aXBseSc7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UobWFnZW50YSwgMCwgMCk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoeWVsbG93LCAyLCAwKTtcblxuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgyLCAwLCAxLCAxKTtcblxuICAgIGlmICghaW1hZ2VEYXRhKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuXG4gICAgcmV0dXJuIGRhdGFbMF0gPT09IDI1NSAmJiBkYXRhWzFdID09PSAwICYmIGRhdGFbMl0gPT09IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICovXG4gIGZ1bmN0aW9uIENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1JlbmRlclRhcmdldCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgQ2FudmFzIG9iamVjdCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBDYW52YXNSZW5kZXJUYXJnZXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogQSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgb2JqZWN0IHJlcHJlc2VudGluZyBhIHR3by1kaW1lbnNpb25hbCByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzLlxuICAgKlxuICAgKi9cblxuXG4gIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzUmVuZGVyVGFyZ2V0LCBbe1xuICAgIGtleTogJ3dpZHRoJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hlaWdodCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB2YWw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbnZhc1JlbmRlclRhcmdldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUmVuZGVyVGFyZ2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUmVuZGVyVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBCYXNlUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBCYXNlUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gVGhlIHBvc2l0aW9uXG4gKiBhbmQgcm90YXRpb24gb2YgdGhlIGdpdmVuIERpc3BsYXkgT2JqZWN0cyBpcyBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoMTAyNCwgMTAyNCwgeyB2aWV3OiBjYW52YXMsIHJhdGlvOiAxIH0pO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUocmVuZGVyZXIsIDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiBiYXNlUmVuZGVyVGV4dHVyZS5yZW5kZXIoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSgxMDAsIDEwMCk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX0Jhc2VUZXh0dXJlKSB7XG4gIF9pbmhlcml0cyhCYXNlUmVuZGVyVGV4dHVyZSwgX0Jhc2VUZXh0dXJlKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAqL1xuICBmdW5jdGlvbiBCYXNlUmVuZGVyVGV4dHVyZSgpIHtcbiAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDEwMDtcbiAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDA7XG4gICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1szXTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlUmVuZGVyVGV4dHVyZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBudWxsLCBzY2FsZU1vZGUpKTtcblxuICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgX3RoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgIF90aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgX3RoaXMucmVhbFdpZHRoID0gX3RoaXMud2lkdGggKiBfdGhpcy5yZXNvbHV0aW9uO1xuICAgIF90aGlzLnJlYWxIZWlnaHQgPSBfdGhpcy5oZWlnaHQgKiBfdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgX3RoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcbiAgICBfdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHJlbmRlclRhcmdldHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgKi9cbiAgICBfdGhpcy5fZ2xSZW5kZXJUYXJnZXRzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIHJlbmRlciB0YXJnZXQgKHdlIG9ubHkgbmVlZCBvbmUgYXMgdGhpcyBjYW4gYmUgc2hhcmVkIGFjcm9zcyByZW5kZXJlcnMpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMVGV4dHVyZT59XG4gICAgICovXG4gICAgX3RoaXMuX2NhbnZhc1JlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMudmFsaWQgPSBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICovXG5cblxuICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMucmVhbFdpZHRoID0gdGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgIGlmICghdGhpcy52YWxpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgKlxuICAgKi9cblxuXG4gIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBfQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCB0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gQmFzZVJlbmRlclRleHR1cmU7XG59KF9CYXNlVGV4dHVyZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJhc2VSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZVJlbmRlclRleHR1cmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX0NvbnRhaW5lciA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcE1hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuLyoqXG4gKiBUaGUgU3lzdGVtUmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuV2ViR0xSZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBTeXN0ZW1SZW5kZXJlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhTeXN0ZW1SZW5kZXJlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtIC0gVGhlIG5hbWUgb2YgdGhlIHN5c3RlbSB0aGlzIHJlbmRlcmVyIGlzIGZvci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIGF1dG9tYXRpY2FsbHkgcmVzaXplZCwgZGVmYXVsdCBmYWxzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci4gVGhlXG4gICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgKiAgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIFN5c3RlbVJlbmRlcmVyKHN5c3RlbSwgb3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTeXN0ZW1SZW5kZXJlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgKDAsIF91dGlscy5zYXlIZWxsbykoc3lzdGVtKTtcblxuICAgIC8vIFN1cHBvcnQgZm9yIGNvbnN0cnVjdG9yKHN5c3RlbSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCwgb3B0aW9ucylcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICBoZWlnaHQ6IGFyZzIgfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodFxuICAgICAgfSwgYXJnMyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICovXG4gICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAgICpcbiAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB3aG9sZSBzdGFnZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgX3RoaXMuc2NyZWVuID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBfdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIF90aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNzcyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrcyB0aGUgYmxlbmQgbW9kZXMgdXNlZnVsIGZvciB0aGlzIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgbWl4ZWQ+fVxuICAgICAqL1xuICAgIF90aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUgaWZcbiAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEhhbmR5IGZvciBjcmlzcCBwaXhlbCBhcnQgYW5kIHNwZWVkIG9uIGxlZ2FjeSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5yb3VuZFBpeGVscyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG5cbiAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCBfdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHRlbXBvcmFyeSBkaXNwbGF5IG9iamVjdCB1c2VkIGFzIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCBpdGVtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgX0NvbnRhaW5lcjIuZGVmYXVsdCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IF90aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWxcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICogQGRlZmF1bHQgODAwXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKiBDYW52YXMgZGltZW5zaW9ucyBhcmUgbXVsdGlwbGllZCBieSByZXNvbHV0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgKi9cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgaWYgKHRoaXMuYXV0b1Jlc2l6ZSkge1xuICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyAncHgnO1xuICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArICdweCc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGRpc3BsYXlPYmplY3QgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb21cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBhIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgKi9cblxuXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pIHtcbiAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBfUmVuZGVyVGV4dHVyZTIuZGVmYXVsdC5jcmVhdGUocmVnaW9uLndpZHRoIHwgMCwgcmVnaW9uLmhlaWdodCB8IDAsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAqL1xuXG5cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgdGhpcy52aWV3ID0gbnVsbDtcblxuICAgIHRoaXMuc2NyZWVuID0gbnVsbDtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICB0aGlzLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICB0aGlzLmF1dG9SZXNpemUgPSBmYWxzZTtcblxuICAgIHRoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuXG4gICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gZmFsc2U7XG5cbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAwO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG5cbiAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTeXN0ZW1SZW5kZXJlciwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy5oZWlnaHQsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgdmVydGljYWxcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGVpZ2h0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2JhY2tncm91bmRDb2xvcicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gKDAsIF91dGlscy5oZXgyc3RyaW5nKSh2YWx1ZSk7XG4gICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHZhbHVlLCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3lzdGVtUmVuZGVyZXI7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTeXN0ZW1SZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN5c3RlbVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Hcm91cEQgPSByZXF1aXJlKCcuLi9tYXRoL0dyb3VwRDgnKTtcblxudmFyIF9Hcm91cEQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBEKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIHN0YW5kYXJkIG9iamVjdCB0byBzdG9yZSB0aGUgVXZzIG9mIGEgdGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZVV2cygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmVVdnMpO1xuXG4gICAgICAgIHRoaXMueDAgPSAwO1xuICAgICAgICB0aGlzLnkwID0gMDtcblxuICAgICAgICB0aGlzLngxID0gMTtcbiAgICAgICAgdGhpcy55MSA9IDA7XG5cbiAgICAgICAgdGhpcy54MiA9IDE7XG4gICAgICAgIHRoaXMueTIgPSAxO1xuXG4gICAgICAgIHRoaXMueDMgPSAwO1xuICAgICAgICB0aGlzLnkzID0gMTtcblxuICAgICAgICB0aGlzLnV2c1VpbnQzMiA9IG5ldyBVaW50MzJBcnJheSg0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0ZXh0dXJlIFV2cyBiYXNlZCBvbiB0aGUgZ2l2ZW4gZnJhbWUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRlIC0gUm90YXRpb24gb2YgZnJhbWUsIHNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcblxuICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGRpdiAyIGRpdiBiYXNlRnJhbWUgc2l6ZVxuICAgICAgICAgICAgdmFyIHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgICAgICB2YXIgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG5cbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9mIGNlbnRlclxuICAgICAgICAgICAgdmFyIGNYID0gZnJhbWUueCAvIHR3ICsgdzI7XG4gICAgICAgICAgICB2YXIgY1kgPSBmcmFtZS55IC8gdGggKyBoMjtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCBfR3JvdXBEMi5kZWZhdWx0Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICAgICB0aGlzLngwID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MSA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngyID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTIgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MyA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dnNVaW50MzJbMF0gPSAodGhpcy55MCAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDAgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICAgICAgdGhpcy51dnNVaW50MzJbMV0gPSAodGhpcy55MSAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDEgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICAgICAgdGhpcy51dnNVaW50MzJbMl0gPSAodGhpcy55MiAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDIgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICAgICAgdGhpcy51dnNVaW50MzJbM10gPSAodGhpcy55MyAqIDY1NTM1ICYgMHhGRkZGKSA8PCAxNiB8IHRoaXMueDMgKiA2NTUzNSAmIDB4RkZGRjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVVdnM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVVdnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlVXZzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSByZXF1aXJlKCcuL0Jhc2VUZXh0dXJlJyk7XG5cbnZhciBfQmFzZVRleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVRleHR1cmUyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi4vdGlja2VyJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luID0gcmVxdWlyZSgnLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4nKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXRlcm1pbmVDcm9zc09yaWdpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgb2YgYSBbcGxheWluZ10gVmlkZW8uXG4gKlxuICogVmlkZW8gYmFzZSB0ZXh0dXJlcyBtaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kIGluIHRoZWlyIGNyZWF0aW9uIHByb2Nlc3MuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCBpbiBzZXZlcmFsIHdheXMsIHN1Y2ggYXM6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwoJ2h0dHA6Ly9teWRvbWFpbi5jb20vdmlkZW8ubXA0Jyk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybCh7IHNyYzogJ2h0dHA6Ly9teWRvbWFpbi5jb20vdmlkZW8ubXA0JywgbWltZTogJ3ZpZGVvL21wNCcgfSk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMoWycvdmlkZW8ud2VibScsICcvdmlkZW8ubXA0J10pO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzKFtcbiAqICAgICB7IHNyYzogJy92aWRlby53ZWJtJywgbWltZTogJ3ZpZGVvL3dlYm0nIH0sXG4gKiAgICAgeyBzcmM6ICcvdmlkZW8ubXA0JywgbWltZTogJ3ZpZGVvL21wNCcgfVxuICogXSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgdGhlIFtcImRldXNcIiBkZW1vXShodHRwOi8vd3d3Lmdvb2Rib3lkaWdpdGFsLmNvbS9waXhpanMvZXhhbXBsZXMvZGV1cy8pLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZGVvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoX0Jhc2VUZXh0dXJlKSB7XG4gICAgX2luaGVyaXRzKFZpZGVvQmFzZVRleHR1cmUsIF9CYXNlVGV4dHVyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFZpZGVvIHNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWaWRlb0Jhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb0Jhc2VUZXh0dXJlKTtcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWRlbyBzb3VyY2UgZWxlbWVudCBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBob29rIGluIGhlcmUgdG8gY2hlY2sgaWYgdmlkZW8gaXMgYWxyZWFkeSBhdmFpbGFibGUuXG4gICAgICAgIC8vIEJhc2VUZXh0dXJlIGxvb2tzIGZvciBhIHNvdXJjZS5jb21wbGV0ZSBib29sZWFuLCBwbHVzIHdpZHRoICYgaGVpZ2h0LlxuXG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSkgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBzb3VyY2UsIHNjYWxlTW9kZSkpO1xuXG4gICAgICAgIF90aGlzLndpZHRoID0gc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IHNvdXJjZS52aWRlb0hlaWdodDtcblxuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1BsYXkgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnVwZGF0ZSA9IF90aGlzLnVwZGF0ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uQ2FuUGxheSA9IF90aGlzLl9vbkNhblBsYXkuYmluZChfdGhpcyk7XG5cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBfdGhpcy5fb25QbGF5U3RhcnQuYmluZChfdGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBfdGhpcy5fb25QbGF5U3RvcC5iaW5kKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghX3RoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBfdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIF90aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uIF9pc1NvdXJjZVBsYXlpbmcoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyByZWFkeSBmb3IgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZWFkeS5cbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiBfaXNTb3VyY2VSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gX29uUGxheVN0YXJ0KCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzQXV0b1VwZGF0aW5nICYmIHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwYXVzZSBldmVudCBpcyB0cmlnZ2VyZWQsIHN0b3BzIHRoZSB1cGRhdGUgbG9vcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiBfb25QbGF5U3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiBfb25DYW5QbGF5KCkge1xuICAgICAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc291cmNlLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgICAgIGlmICghdGhpcy5fX2xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSAmJiB0aGlzLnNvdXJjZS5fcGl4aUlkKSB7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQucmVtb3ZlRnJvbUNhY2hlKHRoaXMuc291cmNlLl9waXhpSWQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc291cmNlLl9waXhpSWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNaW1pYyBQaXhpSlMgQmFzZVRleHR1cmUuZnJvbS4uLi4gbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudH0gdmlkZW8gLSBWaWRlbyB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVmlkZW9CYXNlVGV4dHVyZX0gTmV3bHkgY3JlYXRlZCBWaWRlb0Jhc2VUZXh0dXJlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgaWYgKCF2aWRlby5fcGl4aUlkKSB7XG4gICAgICAgICAgICB2aWRlby5fcGl4aUlkID0gJ3ZpZGVvXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW3ZpZGVvLl9waXhpSWRdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IFZpZGVvQmFzZVRleHR1cmUodmlkZW8sIHNjYWxlTW9kZSk7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUzLmRlZmF1bHQuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgdmlkZW8uX3BpeGlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgQmFzZVRleHR1cmUgYmFzZWQgb24gdGhlIGdpdmVuIHZpZGVvIGVsZW1lbnQuXG4gICAgICogVGhpcyBCYXNlVGV4dHVyZSBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R8c3RyaW5nW118b2JqZWN0W119IHZpZGVvU3JjIC0gVGhlIFVSTChzKSBmb3IgdGhlIHZpZGVvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmlkZW9TcmMuc3JjXSAtIE9uZSBvZiB0aGUgc291cmNlIHVybHMgZm9yIHRoZSB2aWRlb1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmlkZW9TcmMubWltZV0gLSBUaGUgbWltZXR5cGUgb2YgdGhlIHZpZGVvIChlLmcuICd2aWRlby9tcDQnKS4gSWYgbm90IHNwZWNpZmllZFxuICAgICAqICB0aGUgdXJsJ3MgZXh0ZW5zaW9uIHdpbGwgYmUgdXNlZCBhcyB0aGUgc2Vjb25kIHBhcnQgb2YgdGhlIG1pbWUgdHlwZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIFNob3VsZCB1c2UgYW5vbnltb3VzIENPUlM/IERlZmF1bHRzIHRvIHRydWUgaWYgdGhlIFVSTCBpcyBub3QgYSBkYXRhLVVSSS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlZpZGVvQmFzZVRleHR1cmV9IE5ld2x5IGNyZWF0ZWQgVmlkZW9CYXNlVGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwgPSBmdW5jdGlvbiBmcm9tVXJsKHZpZGVvU3JjLCBzY2FsZU1vZGUsIGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgdmFyIHVybCA9IEFycmF5LmlzQXJyYXkodmlkZW9TcmMpID8gdmlkZW9TcmNbMF0uc3JjIHx8IHZpZGVvU3JjWzBdIDogdmlkZW9TcmMuc3JjIHx8IHZpZGVvU3JjO1xuXG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKSB7XG4gICAgICAgICAgICB2aWRlby5jcm9zc09yaWdpbiA9ICgwLCBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yLmRlZmF1bHQpKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHZpZGVvLmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmlkZW9TcmMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZGVvU3JjLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoY3JlYXRlU291cmNlKHZpZGVvU3JjW2ldLnNyYyB8fCB2aWRlb1NyY1tpXSwgdmlkZW9TcmNbaV0ubWltZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbmdsZSBvYmplY3Qgb3Igc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGNyZWF0ZVNvdXJjZSh1cmwsIHZpZGVvU3JjLm1pbWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB2aWRlby5sb2FkKCk7XG5cbiAgICAgICAgcmV0dXJuIFZpZGVvQmFzZVRleHR1cmUuZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhWaWRlb0Jhc2VUZXh0dXJlLCBbe1xuICAgICAgICBrZXk6ICdhdXRvVXBkYXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgX2NvbnN0LlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBWaWRlb0Jhc2VUZXh0dXJlO1xufShfQmFzZVRleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb0Jhc2VUZXh0dXJlO1xuXG5cblZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMgPSBWaWRlb0Jhc2VUZXh0dXJlLmZyb21Vcmw7XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShwYXRoLCB0eXBlKSB7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHR5cGUgPSAndmlkZW8vJyArIHBhdGguc3Vic3RyKHBhdGgubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblxuICAgIHNvdXJjZS5zcmMgPSBwYXRoO1xuICAgIHNvdXJjZS50eXBlID0gdHlwZTtcblxuICAgIHJldHVybiBzb3VyY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWRlb0Jhc2VUZXh0dXJlLmpzLm1hcCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW47XG5cbnZhciBfdXJsMiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgX3VybDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cmwyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHRlbXBBbmNob3IgPSB2b2lkIDA7XG5cbi8qKlxuICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqIE5pcHBlZCBmcm9tIHRoZSByZXNvdXJjZSBsb2FkZXIhXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKSB7XG4gICAgdmFyIGxvYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogd2luZG93LmxvY2F0aW9uO1xuXG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IF91cmwzLmRlZmF1bHQucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuXG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCB1cmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTIgPSByZXF1aXJlKCcuL1RyYW5zZm9ybUJhc2UnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEdlbmVyaWMgY2xhc3MgdG8gZGVhbCB3aXRoIHRyYWRpdGlvbmFsIDJEIG1hdHJpeCB0cmFuc2Zvcm1zXG4gKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBpcyBjYWxjdWxhdGVkIGZyb20gcG9zaXRpb24sc2NhbGUsc2tldyBhbmQgcm90YXRpb25cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChfVHJhbnNmb3JtQmFzZSkge1xuICBfaW5oZXJpdHMoVHJhbnNmb3JtLCBfVHJhbnNmb3JtQmFzZSk7XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBUcmFuc2Zvcm0oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybSk7XG5cbiAgICAvKipcbiAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgKlxuICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAqL1xuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9UcmFuc2Zvcm1CYXNlLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMucG9zaXRpb24gPSBuZXcgX21hdGguUG9pbnQoMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnNjYWxlID0gbmV3IF9tYXRoLlBvaW50KDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMuc2tldyA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMudXBkYXRlU2tldywgX3RoaXMsIDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMucGl2b3QgPSBuZXcgX21hdGguUG9pbnQoMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gdmFsdWUgb2YgdGhlIG9iamVjdCwgaW4gcmFkaWFuc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgIF90aGlzLl9jeCA9IDE7IC8vIGNvcyByb3RhdGlvbiArIHNrZXdZO1xuICAgIF90aGlzLl9zeCA9IDA7IC8vIHNpbiByb3RhdGlvbiArIHNrZXdZO1xuICAgIF90aGlzLl9jeSA9IDA7IC8vIGNvcyByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIF90aGlzLl9zeSA9IDE7IC8vIHNpbiByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBza2V3IHZhbHVlcyB3aGVuIHRoZSBza2V3IG9yIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldygpIHtcbiAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBzaW4sIGFkZGVkIFBJLzJcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBvbmx5IGxvY2FsIG1hdHJpeFxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpIHtcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuXG4gICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAodGhpcy5waXZvdC54ICogbHQuYSArIHRoaXMucGl2b3QueSAqIGx0LmMpO1xuICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcblxuICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICB0aGlzLl93b3JsZElEKys7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiBzZXRGcm9tTWF0cml4KG1hdHJpeCkge1xuICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtLCBbe1xuICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oX1RyYW5zZm9ybUJhc2UzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm0uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTIgPSByZXF1aXJlKCcuL1RyYW5zZm9ybUJhc2UnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm1TdGF0aWMgPSBmdW5jdGlvbiAoX1RyYW5zZm9ybUJhc2UpIHtcbiAgICBfaW5oZXJpdHMoVHJhbnNmb3JtU3RhdGljLCBfVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybVN0YXRpYygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybVN0YXRpYyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVHJhbnNmb3JtQmFzZS5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5wb3NpdGlvbiA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5vbkNoYW5nZSwgX3RoaXMsIDEsIDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBpdm90ID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5vbkNoYW5nZSwgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2tldyA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMudXBkYXRlU2tldywgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIF90aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgX3RoaXMuX2N4ID0gMTsgLy8gY29zIHJvdGF0aW9uICsgc2tld1k7XG4gICAgICAgIF90aGlzLl9zeCA9IDA7IC8vIHNpbiByb3RhdGlvbiArIHNrZXdZO1xuICAgICAgICBfdGhpcy5fY3kgPSAwOyAvLyBjb3Mgcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICAgICAgX3RoaXMuX3N5ID0gMTsgLy8gc2luIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG5cbiAgICAgICAgX3RoaXMuX2xvY2FsSUQgPSAwO1xuICAgICAgICBfdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHNrZXcgb3Igcm90YXRpb24gY2hhbmdlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldygpIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gc2luLCBhZGRlZCBQSS8yXG5cbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIG9ubHkgbG9jYWwgbWF0cml4XG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5hICsgdGhpcy5waXZvdC5feSAqIGx0LmMpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5iICsgdGhpcy5waXZvdC5feSAqIGx0LmQpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAodGhpcy5waXZvdC5feCAqIGx0LmEgKyB0aGlzLnBpdm90Ll95ICogbHQuYyk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAodGhpcy5waXZvdC5feCAqIGx0LmIgKyB0aGlzLnBpdm90Ll95ICogbHQuZCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICAgICAgICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHd0LmEgPSBsdC5hICogcHQuYSArIGx0LmIgKiBwdC5jO1xuICAgICAgICAgICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgICAgICAgICB3dC5jID0gbHQuYyAqIHB0LmEgKyBsdC5kICogcHQuYztcbiAgICAgICAgICAgIHd0LmQgPSBsdC5jICogcHQuYiArIGx0LmQgKiBwdC5kO1xuICAgICAgICAgICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICAgICAgICAgIHd0LnR5ID0gbHQudHggKiBwdC5iICsgbHQudHkgKiBwdC5kICsgcHQudHk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIHNldEZyb21NYXRyaXgobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRyYW5zZm9ybVN0YXRpYywgW3tcbiAgICAgICAga2V5OiAncm90YXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVHJhbnNmb3JtU3RhdGljO1xufShfVHJhbnNmb3JtQmFzZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybVN0YXRpYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybVN0YXRpYy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYyA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtU3RhdGljJyk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybVN0YXRpYyk7XG5cbnZhciBfVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm0nKTtcblxudmFyIF9UcmFuc2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL0JvdW5kcycpO1xuXG52YXIgX0JvdW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duIHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRGlzcGxheU9iamVjdCwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwbGF5T2JqZWN0KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRFbWl0dGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIHZhciBUcmFuc2Zvcm1DbGFzcyA9IF9zZXR0aW5nczIuZGVmYXVsdC5UUkFOU0ZPUk1fTU9ERSA9PT0gX2NvbnN0LlRSQU5TRk9STV9NT0RFLlNUQVRJQyA/IF9UcmFuc2Zvcm1TdGF0aWMyLmRlZmF1bHQgOiBfVHJhbnNmb3JtMi5kZWZhdWx0O1xuXG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1CYXNlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybUNsYXNzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndvcmxkQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXNhdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5fZmlsdGVycyA9IG51bGw7XG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kcyA9IG5ldyBfQm91bmRzMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIF90aGlzLl9sYXN0Qm91bmRzSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIHNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0lEICE9PSB0aGlzLl9sYXN0Qm91bmRzSUQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gdG9HbG9iYWwocG9zaXRpb24sIHBvaW50KSB7XG4gICAgICAgIHZhciBza2lwVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gdG9Mb2NhbChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyBPVkVSV1JJVEU7XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgO1xuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyBPVkVSV1JJVEU7XG5cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0b1xuICAgICAqL1xuICAgIDtcblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFBhcmVudCA9IGZ1bmN0aW9uIHNldFBhcmVudChjb250YWluZXIpIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzZXQgdGhlIHBvc2l0aW9uLCBzY2FsZSwgc2tldyBhbmQgcGl2b3QgYXQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWD0xXSAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9MV0gLSBUaGUgWSBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdYPTBdIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1k9MF0gLSBUaGUgWSBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFg9MF0gLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RZPTBdIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgc2NhbGVYID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgICAgICB2YXIgc2NhbGVZID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciBza2V3WCA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcbiAgICAgICAgdmFyIHNrZXdZID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiAwO1xuICAgICAgICB2YXIgcGl2b3RYID0gYXJndW1lbnRzLmxlbmd0aCA+IDcgJiYgYXJndW1lbnRzWzddICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbN10gOiAwO1xuICAgICAgICB2YXIgcGl2b3RZID0gYXJndW1lbnRzLmxlbmd0aCA+IDggJiYgYXJndW1lbnRzWzhdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbOF0gOiAwO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhEaXNwbGF5T2JqZWN0LCBbe1xuICAgICAgICBrZXk6ICdfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29ybGRUcmFuc2Zvcm0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbG9jYWxUcmFuc2Zvcm0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2NhbGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZFxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwaXZvdCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2tldycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNrZXc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyb3RhdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JsZFZpc2libGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcztcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmICghaXRlbS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUElYSSBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgICAgICogUElYSS5HcmFwaGljcyBvciBhIFBJWEkuU3ByaXRlIG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpc2VzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBudWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdG9kbyBGb3IgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21hc2snLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXNrO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIHdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byAnbnVsbCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZpbHRlcnMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJzICYmIHRoaXMuX2ZpbHRlcnMuc2xpY2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJzID0gdmFsdWUgJiYgdmFsdWUuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEaXNwbGF5T2JqZWN0O1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IERpc3BsYXlPYmplY3Q7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGlzcGxheU9iamVjdC5qcy5tYXAiLCIvKipcbiAqIEV4dHJhY3RzIHRoZSBhdHRyaWJ1dGVzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHVuaWZvcm1zIHtBcnJheX0gQG1hdCA/XG4gKiBAcmV0dXJuIGF0dHJpYnV0ZXMge09iamVjdH1cbiAqL1xudmFyIGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCA9IGZ1bmN0aW9uKGdsLCB1bmlmb3JtRGF0YSlcbntcbiAgICAvLyB0aGlzIGlzIHRoZSBvYmplY3Qgd2Ugd2lsbCBiZSBzZW5kaW5nIGJhY2suXG4gICAgLy8gYW4gb2JqZWN0IGhpZXJhY2h5IHdpbGwgYmUgY3JlYXRlZCBmb3Igc3RydWN0c1xuICAgIHZhciB1bmlmb3JtcyA9IHtkYXRhOnt9fTtcblxuICAgIHVuaWZvcm1zLmdsID0gZ2w7XG5cbiAgICB2YXIgdW5pZm9ybUtleXM9IE9iamVjdC5rZXlzKHVuaWZvcm1EYXRhKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pZm9ybUtleXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgZnVsbE5hbWUgPSB1bmlmb3JtS2V5c1tpXTtcblxuICAgICAgICB2YXIgbmFtZVRva2VucyA9IGZ1bGxOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZVRva2Vuc1tuYW1lVG9rZW5zLmxlbmd0aCAtIDFdO1xuXG5cbiAgICAgICAgdmFyIHVuaWZvcm1Hcm91cCA9IGdldFVuaWZvcm1Hcm91cChuYW1lVG9rZW5zLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdmFyIHVuaWZvcm0gPSAgdW5pZm9ybURhdGFbZnVsbE5hbWVdO1xuICAgICAgICB1bmlmb3JtR3JvdXAuZGF0YVtuYW1lXSA9IHVuaWZvcm07XG5cbiAgICAgICAgdW5pZm9ybUdyb3VwLmdsID0gZ2w7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuaWZvcm1Hcm91cCwgbmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBnZW5lcmF0ZUdldHRlcihuYW1lKSxcbiAgICAgICAgICAgIHNldDogZ2VuZXJhdGVTZXR0ZXIobmFtZSwgdW5pZm9ybSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1zO1xufTtcblxudmFyIGdlbmVyYXRlR2V0dGVyID0gZnVuY3Rpb24obmFtZSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbbmFtZV0udmFsdWU7XG4gICAgfTtcbn07XG5cbnZhciBHTFNMX1NJTkdMRV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBmdW5jdGlvbiBzZXRTaW5nbGVGbG9hdChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSk7IH0sXG4gICAgdmVjMzogZnVuY3Rpb24gc2V0U2luZ2xlVmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgdmVjNDogZnVuY3Rpb24gc2V0U2luZ2xlVmVjNChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00Zihsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOyB9LFxuXG4gICAgaW50OiBmdW5jdGlvbiBzZXRTaW5nbGVJbnQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjMjogZnVuY3Rpb24gc2V0U2luZ2xlSXZlYzIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSk7IH0sXG4gICAgaXZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWMzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKTsgfSxcbiAgICBpdmVjNDogZnVuY3Rpb24gc2V0U2luZ2xlSXZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIGJvb2w6IGZ1bmN0aW9uIHNldFNpbmdsZUJvb2woZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjMjogZnVuY3Rpb24gc2V0U2luZ2xlQnZlYzIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSk7IH0sXG4gICAgYnZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWMzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKTsgfSxcbiAgICBidmVjNDogZnVuY3Rpb24gc2V0U2luZ2xlQnZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGkobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIG1hdDI6IGZ1bmN0aW9uIHNldFNpbmdsZU1hdDIoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpOyB9LFxuICAgIG1hdDM6IGZ1bmN0aW9uIHNldFNpbmdsZU1hdDMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpOyB9LFxuICAgIG1hdDQ6IGZ1bmN0aW9uIHNldFNpbmdsZU1hdDQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdmFsdWUpOyB9LFxuXG4gICAgc2FtcGxlcjJEOiBmdW5jdGlvbiBzZXRTaW5nbGVTYW1wbGVyMkQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTsgfSxcbn07XG5cbnZhciBHTFNMX0FSUkFZX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IGZ1bmN0aW9uIHNldEZsb2F0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWZ2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjMjogZnVuY3Rpb24gc2V0VmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzM6IGZ1bmN0aW9uIHNldFZlYzNBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWM0OiBmdW5jdGlvbiBzZXRWZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaW50OiBmdW5jdGlvbiBzZXRJbnRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjMjogZnVuY3Rpb24gc2V0SXZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjMzogZnVuY3Rpb24gc2V0SXZlYzNBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpdmVjNDogZnVuY3Rpb24gc2V0SXZlYzRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBib29sOiBmdW5jdGlvbiBzZXRCb29sQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzI6IGZ1bmN0aW9uIHNldEJ2ZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzM6IGZ1bmN0aW9uIHNldEJ2ZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzQ6IGZ1bmN0aW9uIHNldEJ2ZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgc2FtcGxlcjJEOiBmdW5jdGlvbiBzZXRTYW1wbGVyMkRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbn07XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2V0dGVyKG5hbWUsIHVuaWZvcm0pXG57XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGF0YVtuYW1lXS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLmRhdGFbbmFtZV0ubG9jYXRpb247XG4gICAgICAgIGlmICh1bmlmb3JtLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEdMU0xfU0lOR0xFX1NFVFRFUlNbdW5pZm9ybS50eXBlXSh0aGlzLmdsLCBsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2xzbFNldEFycmF5KGdsLCBsb2NhdGlvbiwgdHlwZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIEdMU0xfQVJSQVlfU0VUVEVSU1t1bmlmb3JtLnR5cGVdKHRoaXMuZ2wsIGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRVbmlmb3JtR3JvdXAobmFtZVRva2VucywgdW5pZm9ybSlcbntcbiAgICB2YXIgY3VyID0gdW5pZm9ybTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZVRva2Vucy5sZW5ndGggLSAxOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgbyA9IGN1cltuYW1lVG9rZW5zW2ldXSB8fCB7ZGF0YTp7fX07XG4gICAgICAgIGN1cltuYW1lVG9rZW5zW2ldXSA9IG87XG4gICAgICAgIGN1ciA9IG87XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cjtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGdlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdDtcbiIsIi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIuIElmIHRoZSBwcmVjaXNpb24gaXMgYWxyZWFkeSBwcmVzZW50IHRoaXMgZnVuY3Rpb24gd2lsbCBkbyBub3RoaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjICAgICAgIHRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlY2lzaW9uIFRoZSBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IG1vZGlmaWVkIHNoYWRlciBzb3VyY2VcbiAqL1xudmFyIHNldFByZWNpc2lvbiA9IGZ1bmN0aW9uKHNyYywgcHJlY2lzaW9uKVxue1xuICAgIGlmKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICdwcmVjaXNpb24gJyArIHByZWNpc2lvbiArICcgZmxvYXQ7XFxuJyArIHNyYztcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRQcmVjaXNpb247XG4iLCIvKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqL1xudmFyIGRlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uKHR5cGUsIHNpemUpIFxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzInOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWM0JzogICAgIFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICAgICAgXG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICdpdmVjMic6ICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzQnOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYm9vbCc6ICAgICBcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjYXNlICdidmVjMic6XG5cbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoIDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQzJzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxufTtcblxudmFyIGJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uKHNpemUpXG57XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgXG4gICAge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdFZhbHVlO1xuIiwidmFyIG1hcFR5cGUgPSByZXF1aXJlKCcuL21hcFR5cGUnKTtcbnZhciBkZWZhdWx0VmFsdWUgPSByZXF1aXJlKCcuL2RlZmF1bHRWYWx1ZScpO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSB1bmlmb3Jtc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IFRoZSBzaGFkZXIgcHJvZ3JhbSB0byBnZXQgdGhlIHVuaWZvcm1zIGZyb21cbiAqIEByZXR1cm4gdW5pZm9ybXMge09iamVjdH1cbiAqL1xudmFyIGV4dHJhY3RVbmlmb3JtcyA9IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKVxue1xuXHR2YXIgdW5pZm9ybXMgPSB7fTtcblxuICAgIHZhciB0b3RhbFVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspXG4gICAge1xuICAgIFx0dmFyIHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICBcdHZhciBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0vLCBcIlwiKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlICk7XG5cbiAgICBcdHVuaWZvcm1zW25hbWVdID0ge1xuICAgIFx0XHR0eXBlOnR5cGUsXG4gICAgXHRcdHNpemU6dW5pZm9ybURhdGEuc2l6ZSxcbiAgICBcdFx0bG9jYXRpb246Z2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIG5hbWUpLFxuICAgIFx0XHR2YWx1ZTpkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSlcbiAgICBcdH07XG4gICAgfVxuXG5cdHJldHVybiB1bmlmb3Jtcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXh0cmFjdFVuaWZvcm1zO1xuIiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbnZhciBtYXBTaXplID0gZnVuY3Rpb24odHlwZSkgXG57IFxuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59O1xuXG5cbnZhciBHTFNMX1RPX1NJWkUgPSB7XG4gICAgJ2Zsb2F0JzogICAgMSxcbiAgICAndmVjMic6ICAgICAyLFxuICAgICd2ZWMzJzogICAgIDMsXG4gICAgJ3ZlYzQnOiAgICAgNCxcblxuICAgICdpbnQnOiAgICAgIDEsXG4gICAgJ2l2ZWMyJzogICAgMixcbiAgICAnaXZlYzMnOiAgICAzLFxuICAgICdpdmVjNCc6ICAgIDQsXG5cbiAgICAnYm9vbCc6ICAgICAxLFxuICAgICdidmVjMic6ICAgIDIsXG4gICAgJ2J2ZWMzJzogICAgMyxcbiAgICAnYnZlYzQnOiAgICA0LFxuXG4gICAgJ21hdDInOiAgICAgNCxcbiAgICAnbWF0Myc6ICAgICA5LFxuICAgICdtYXQ0JzogICAgIDE2LFxuXG4gICAgJ3NhbXBsZXIyRCc6ICAxXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFNpemU7XG4iLCJcbnZhciBtYXBUeXBlID0gcmVxdWlyZSgnLi9tYXBUeXBlJyk7XG52YXIgbWFwU2l6ZSA9IHJlcXVpcmUoJy4vbWFwU2l6ZScpO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBhdHRyaWJ1dGVzXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gVGhlIHNoYWRlciBwcm9ncmFtIHRvIGdldCB0aGUgYXR0cmlidXRlcyBmcm9tXG4gKiBAcmV0dXJuIGF0dHJpYnV0ZXMge09iamVjdH1cbiAqL1xudmFyIGV4dHJhY3RBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZ2wsIHByb2dyYW0pXG57XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcblxuICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgIGF0dHJpYnV0ZXNbYXR0cmliRGF0YS5uYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6dHlwZSxcbiAgICAgICAgICAgIHNpemU6bWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgIGxvY2F0aW9uOmdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYkRhdGEubmFtZSksXG4gICAgICAgICAgICAvL1RPRE8gLSBtYWtlIGFuIGF0dHJpYnV0ZSBvYmplY3RcbiAgICAgICAgICAgIHBvaW50ZXI6IHBvaW50ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbnZhciBwb2ludGVyID0gZnVuY3Rpb24odHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBzdGFydCl7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5sb2NhdGlvbilcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMubG9jYXRpb24sdGhpcy5zaXplLCB0eXBlIHx8IGdsLkZMT0FULCBub3JtYWxpemVkIHx8IGZhbHNlLCBzdHJpZGUgfHwgMCwgc3RhcnQgfHwgMCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RBdHRyaWJ1dGVzO1xuIiwiXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdGlvbnMge09iamVjdH0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xudmFyIGNvbXBpbGVQcm9ncmFtID0gZnVuY3Rpb24oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcbiAgICB2YXIgZ2xWZXJ0U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U3JjKTtcbiAgICB2YXIgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG5cbiAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuXG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYoYXR0cmlidXRlTG9jYXRpb25zKVxuICAgIHtcbiAgICAgICAgZm9yKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGl4aS5qcyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5WQUxJREFURV9TVEFUVVMnLCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLlZBTElEQVRFX1NUQVRVUykpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5nZXRFcnJvcigpJywgZ2wuZ2V0RXJyb3IoKSk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBwcm9ncmFtIGluZm8gbG9nLCBsb2cgaXRcbiAgICAgICAgaWYgKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pICE9PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpLmpzIFdhcm5pbmc6IGdsLmdldFByb2dyYW1JbmZvTG9nKCknLCBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBwcm9ncmFtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBjbGVhbiB1cCBzb21lIHNoYWRlcnNcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xGcmFnU2hhZGVyKTtcblxuICAgIHJldHVybiBwcm9ncmFtO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB0eXBlIHtOdW1iZXJ9IHRoZSB0eXBlLCBjYW4gYmUgZWl0aGVyIFZFUlRFWF9TSEFERVIgb3IgRlJBR01FTlRfU0hBREVSXG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IHRoZSBzaGFkZXJcbiAqL1xudmFyIGNvbXBpbGVTaGFkZXIgPSBmdW5jdGlvbiAoZ2wsIHR5cGUsIHNyYylcbntcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBzaGFkZXI7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBpbGVQcm9ncmFtO1xuIiwiXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBmb3JtYXQge251bWJlcn0gdGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuUkdCQVxuICogQHBhcmFtIHR5cGUge251bWJlcn0gdGhlIGdsIHR5cGUgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlVOU0lHTkVEX0JZVEVcbiAqL1xudmFyIFRleHR1cmUgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlKVxue1xuXHQvKipcblx0ICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuXHQgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cblx0LyoqXG5cdCAqIFRoZSBXZWJHTCB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cblx0ICovXG5cdHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblxuXHQvKipcblx0ICogSWYgbWlwbWFwcGluZyB3YXMgdXNlZCBmb3IgdGhpcyB0ZXh0dXJlLCBlbmFibGUgYW5kIGRpc2FibGUgd2l0aCBlbmFibGVNaXBtYXAoKVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtCb29sZWFufVxuXHQgKi9cblx0Ly8gc29tZSBzZXR0aW5ncy4uXG5cdHRoaXMubWlwbWFwID0gZmFsc2U7XG5cblxuXHQvKipcblx0ICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIHByZS1tdWx0aXBsaWVkIGFscGhhXG5cdCAqXG5cdCAqIEBtZW1iZXIge0Jvb2xlYW59XG5cdCAqL1xuXHR0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBmYWxzZTtcblxuXHQvKipcblx0ICogVGhlIHdpZHRoIG9mIHRleHR1cmVcblx0ICpcblx0ICogQG1lbWJlciB7TnVtYmVyfVxuXHQgKi9cblx0dGhpcy53aWR0aCA9IHdpZHRoIHx8IC0xO1xuXHQvKipcblx0ICogVGhlIGhlaWdodCBvZiB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IC0xO1xuXG5cdC8qKlxuXHQgKiBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5SR0JBXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IGdsLlJHQkE7XG5cblx0LyoqXG5cdCAqIFRoZSBnbCB0eXBlIG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5VTlNJR05FRF9CWVRFXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMudHlwZSA9IHR5cGUgfHwgZ2wuVU5TSUdORURfQllURTtcblxuXG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhpcyB0ZXh0dXJlIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBzb3VyY2Uge0hUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfEhUTUxWaWRlb0VsZW1lbnR9IHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24oc291cmNlKVxue1xuXHR0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cblx0Z2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0aGlzLnByZW11bHRpcGx5QWxwaGEpO1xuXG5cdHZhciBuZXdXaWR0aCA9IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcblx0dmFyIG5ld0hlaWdodCA9IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuXG5cdGlmKG5ld0hlaWdodCAhPT0gdGhpcy5oZWlnaHQgfHwgbmV3V2lkdGggIT09IHRoaXMud2lkdGgpXG5cdHtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBzb3VyY2UpO1xuXHR9XG5cdGVsc2Vcblx0e1xuICAgIFx0Z2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBzb3VyY2UpO1xuXHR9XG5cblx0Ly8gaWYgdGhlIHNvdXJjZSBpcyBhIHZpZGVvLCB3ZSBuZWVkIHRvIHVzZSB0aGUgdmlkZW9XaWR0aCAvIHZpZGVvSGVpZ2h0IHByb3BlcnRpZXMgYXMgd2lkdGggLyBoZWlnaHQgd2lsbCBiZSBpbmNvcnJlY3QuXG5cdHRoaXMud2lkdGggPSBuZXdXaWR0aDtcblx0dGhpcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbn07XG5cbnZhciBGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUgPSBmYWxzZTtcblxuLyoqXG4gKiBVc2UgYSBkYXRhIHNvdXJjZSBhbmQgdXBsb2FkcyB0aGlzIHRleHR1cmUgdG8gdGhlIEdQVVxuICogQHBhcmFtIGRhdGEge1R5cGVkQXJyYXl9IHRoZSBkYXRhIHRvIHVwbG9hZCB0byB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudXBsb2FkRGF0YSA9IGZ1bmN0aW9uKGRhdGEsIHdpZHRoLCBoZWlnaHQpXG57XG5cdHRoaXMuYmluZCgpO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblxuXHRpZihkYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuXHR7XG5cdFx0aWYoIUZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSlcblx0XHR7XG5cdFx0XHR2YXIgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRcIik7XG5cblx0XHRcdGlmKGV4dClcblx0XHRcdHtcblx0XHRcdFx0RkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdmbG9hdGluZyBwb2ludCB0ZXh0dXJlcyBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy50eXBlID0gZ2wuRkxPQVQ7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Ly8gVE9ETyBzdXBwb3J0IGZvciBvdGhlciB0eXBlc1xuXHRcdHRoaXMudHlwZSA9IHRoaXMudHlwZSB8fCBnbC5VTlNJR05FRF9CWVRFO1xuXHR9XG5cblx0Ly8gd2hhdCB0eXBlIG9mIGRhdGE/XG5cdGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcblxuXG5cdGlmKHdpZHRoICE9PSB0aGlzLndpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5oZWlnaHQpXG5cdHtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCAgd2lkdGgsIGhlaWdodCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgZGF0YSB8fCBudWxsKTtcblx0fVxuXHRlbHNlXG5cdHtcblx0XHRnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIGRhdGEgfHwgbnVsbCk7XG5cdH1cblxuXHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cbi8vXHR0ZXhTdWJJbWFnZTJEXG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gIGxvY2F0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihsb2NhdGlvbilcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHRpZihsb2NhdGlvbiAhPT0gdW5kZWZpbmVkKVxuXHR7XG5cdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcblx0fVxuXG5cdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIGxpbmVhciB7Qm9vbGVhbn0gaWYgd2Ugd2FudCB0byB1c2UgbGluZWFyIGZpbHRlcmluZyBvciBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLm1pbkZpbHRlciA9IGZ1bmN0aW9uKCBsaW5lYXIgKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGlmKHRoaXMubWlwbWFwKVxuXHR7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuXHR9XG59O1xuXG4vKipcbiAqIEBwYXJhbSBsaW5lYXIge0Jvb2xlYW59IGlmIHdlIHdhbnQgdG8gdXNlIGxpbmVhciBmaWx0ZXJpbmcgb3IgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5tYWdGaWx0ZXIgPSBmdW5jdGlvbiggbGluZWFyIClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgbGluZWFyID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgbWlwbWFwcGluZ1xuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVNaXBtYXAgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0dGhpcy5taXBtYXAgPSB0cnVlO1xuXG5cdGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGxpbmVhciBmaWx0ZXJpbmdcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTGluZWFyU2NhbGluZyA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5taW5GaWx0ZXIodHJ1ZSk7XG5cdHRoaXMubWFnRmlsdGVyKHRydWUpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTmVhcmVzdFNjYWxpbmcgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMubWluRmlsdGVyKGZhbHNlKTtcblx0dGhpcy5tYWdGaWx0ZXIoZmFsc2UpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGNsYW1waW5nIG9uIHRoZSB0ZXh0dXJlIHNvIFdlYkdMIHdpbGwgbm90IHJlcGVhdCBpdFxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwQ2xhbXAgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0aWxpbmcgb24gdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcFJlcGVhdCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwTWlycm9yUmVwZWF0ID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLk1JUlJPUkVEX1JFUEVBVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuTUlSUk9SRURfUkVQRUFUKTtcbn07XG5cblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Ly9UT0RPXG5cdGdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBzb3VyY2Uge0hUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfSB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gcHJlbXVsdGlwbHlBbHBoYSB7Qm9vbGVhbn0gSWYgd2Ugd2FudCB0byB1c2UgcHJlLW11bHRpcGxpZWQgYWxwaGFcbiAqL1xuVGV4dHVyZS5mcm9tU291cmNlID0gZnVuY3Rpb24oZ2wsIHNvdXJjZSwgcHJlbXVsdGlwbHlBbHBoYSlcbntcblx0dmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShnbCk7XG5cdHRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHByZW11bHRpcGx5QWxwaGEgfHwgZmFsc2U7XG5cdHRleHR1cmUudXBsb2FkKHNvdXJjZSk7XG5cblx0cmV0dXJuIHRleHR1cmU7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gZGF0YSB7VHlwZWRBcnJheX0gdGhlIGRhdGEgdG8gdXBsb2FkIHRvIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLmZyb21EYXRhID0gZnVuY3Rpb24oZ2wsIGRhdGEsIHdpZHRoLCBoZWlnaHQpXG57XG5cdC8vY29uc29sZS5sb2coZGF0YSwgd2lkdGgsIGhlaWdodCk7XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wpO1xuXHR0ZXh0dXJlLnVwbG9hZERhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7XG5cblx0cmV0dXJuIHRleHR1cmU7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gVGV4dHVyZTtcbiIsIi8vIHZhciBHTF9NQVAgPSB7fTtcblxuLyoqXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIGF0dHJpYnMgeyp9XG4gKiBAcGFyYW0gc3RhdGUgeyp9XG4gKi9cbnZhciBzZXRWZXJ0ZXhBdHRyaWJBcnJheXMgPSBmdW5jdGlvbiAoZ2wsIGF0dHJpYnMsIHN0YXRlKVxue1xuICAgIHZhciBpO1xuICAgIGlmKHN0YXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHRlbXBBdHRyaWJTdGF0ZSA9IHN0YXRlLnRlbXBBdHRyaWJTdGF0ZSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlID0gc3RhdGUuYXR0cmliU3RhdGU7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlW2ldID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBhdHRyaWJzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGVbYXR0cmlic1tpXS5hdHRyaWJ1dGUubG9jYXRpb25dID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGF0dHJpYlN0YXRlW2ldICE9PSB0ZW1wQXR0cmliU3RhdGVbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmliU3RhdGVbaV0gPSB0ZW1wQXR0cmliU3RhdGVbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXR0cmliU3RhdGVbaV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gYXR0cmlic1tpXTtcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYi5hdHRyaWJ1dGUubG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRWZXJ0ZXhBdHRyaWJBcnJheXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWF0cml4ID0gcmVxdWlyZSgnLi9NYXRyaXgnKTtcblxudmFyIF9NYXRyaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdOyAvLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cCBvZiBvcmRlciAxNlxuXG52YXIgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG52YXIgdGVtcE1hdHJpY2VzID0gW107XG5cbnZhciBtdWwgPSBbXTtcblxuZnVuY3Rpb24gc2lnbnVtKHgpIHtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoeCA+IDApIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcblxuICAgICAgICBtdWwucHVzaChyb3cpO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSh1eFtpXSAqIHV4W2pdICsgdnhbaV0gKiB1eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKHV5W2ldICogdXhbal0gKyB2eVtpXSAqIHV5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0odXhbaV0gKiB2eFtqXSArIHZ4W2ldICogdnlbal0pO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSh1eVtpXSAqIHZ4W2pdICsgdnlbaV0gKiB2eVtqXSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXkgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgMTY7IF9pKyspIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgbWF0LnNldCh1eFtfaV0sIHV5W19pXSwgdnhbX2ldLCB2eVtfaV0sIDAsIDApO1xuICAgICAgICB0ZW1wTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cblxuaW5pdCgpO1xuXG4vKipcbiAqIEltcGxlbWVudHMgRGloZWRyYWwgR3JvdXAgRF84LCBzZWUgW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfSxcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscy4gVXNlZCBmb3IgdGV4dHVyZSByb3RhdGlvbnMuXG4gKlxuICogVmVjdG9yIHhYKGkpLCB4WShpKSBpcyBVLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogVmVjdG9yIHlZKGkpLCB5WShpKSBpcyBWLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogUm90YXRpb25zOiAwIGdyYWQgKDApLCA5MCBncmFkICgyKSwgMTgwIGdyYWQgKDQpLCAyNzAgZ3JhZCAoNilcbiAqIE1pcnJvcnM6IHZlcnRpY2FsICg4KSwgbWFpbiBkaWFnb25hbCAoMTApLCBob3Jpem9udGFsICgxMiksIHJldmVyc2UgZGlhZ29uYWwgKDE0KVxuICogVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JvdXBEOCA9IHtcbiAgICBFOiAwLFxuICAgIFNFOiAxLFxuICAgIFM6IDIsXG4gICAgU1c6IDMsXG4gICAgVzogNCxcbiAgICBOVzogNSxcbiAgICBOOiA2LFxuICAgIE5FOiA3LFxuICAgIE1JUlJPUl9WRVJUSUNBTDogOCxcbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG4gICAgdVg6IGZ1bmN0aW9uIHVYKGluZCkge1xuICAgICAgICByZXR1cm4gdXhbaW5kXTtcbiAgICB9LFxuICAgIHVZOiBmdW5jdGlvbiB1WShpbmQpIHtcbiAgICAgICAgcmV0dXJuIHV5W2luZF07XG4gICAgfSxcbiAgICB2WDogZnVuY3Rpb24gdlgoaW5kKSB7XG4gICAgICAgIHJldHVybiB2eFtpbmRdO1xuICAgIH0sXG4gICAgdlk6IGZ1bmN0aW9uIHZZKGluZCkge1xuICAgICAgICByZXR1cm4gdnlbaW5kXTtcbiAgICB9LFxuICAgIGludjogZnVuY3Rpb24gaW52KHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC1yb3RhdGlvbiAmIDc7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkge1xuICAgICAgICByZXR1cm4gbXVsW3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XTtcbiAgICB9LFxuICAgIHN1YjogZnVuY3Rpb24gc3ViKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7XG4gICAgICAgIHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW0dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbi4gQ29tbXV0YXRpdmUgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiByb3RhdGUxODAocm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uIF4gNDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlyZWN0aW9uIG9mIG1haW4gdmVjdG9yIGNhbiBiZSBob3Jpem9udGFsLCB2ZXJ0aWNhbCBvciBkaWFnb25hbC5cbiAgICAgKiBTb21lIG9iamVjdHMgd29yayB3aXRoIHZlcnRpY2FsIGRpcmVjdGlvbnMgZGlmZmVyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiBpc1ZlcnRpY2FsKHJvdGF0aW9uKSB7XG4gICAgICAgIHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBUT0RPXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRPRE9cbiAgICAgKi9cbiAgICBieURpcmVjdGlvbjogZnVuY3Rpb24gYnlEaXJlY3Rpb24oZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5OO1xuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguVztcbiAgICAgICAgfSBlbHNlIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU1c7XG4gICAgICAgIH0gZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBHcm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gbWF0cml4QXBwZW5kUm90YXRpb25JbnYobWF0cml4LCByb3RhdGlvbikge1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gdGVtcE1hdHJpY2VzW0dyb3VwRDguaW52KHJvdGF0aW9uKV07XG5cbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfVxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JvdXBEODtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyb3VwRDguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICogQW4gb2JzZXJ2YWJsZSBwb2ludCBpcyBhIHBvaW50IHRoYXQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBwb2ludCdzIHBvc2l0aW9uIGlzIGNoYW5nZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JzZXJ2YWJsZVBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9ic2VydmFibGVQb2ludCk7XG5cbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuXG4gICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgICAgICB2YXIgX3ggPSB4IHx8IDA7XG4gICAgICAgIHZhciBfeSA9IHkgfHwgKHkgIT09IDAgPyBfeCA6IDApO1xuXG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBfeCB8fCB0aGlzLl95ICE9PSBfeSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IF94O1xuICAgICAgICAgICAgdGhpcy5feSA9IF95O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZGF0YSBmcm9tIGFub3RoZXIgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH0gcG9pbnQgLSBwb2ludCB0byBjb3B5IGZyb21cbiAgICAgKi9cblxuXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwb2ludCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcG9pbnQueCB8fCB0aGlzLl95ICE9PSBwb2ludC55KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gcG9pbnQueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwb2ludC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoT2JzZXJ2YWJsZVBvaW50LCBbe1xuICAgICAgICBrZXk6IFwieFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl94ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJ5XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBPYnNlcnZhYmxlUG9pbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9ic2VydmFibGVQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGVQb2ludC5qcy5tYXAiLCJpbXBvcnQgQ29uZmlnIGZyb20gJy4vY29uZmlnJztcblxuY29uc3QgQ29tcG9uZW50cyA9IHtcbiAgYm9kaWVzOiB7XG4gICAgMToge3dpZHRoOiBDb25maWcuUEFERExFX1dJRFRILCBoZWlnaHQ6IENvbmZpZy5QQURETEVfSEVJR0hUfSxcbiAgICAyOiB7d2lkdGg6IENvbmZpZy5QQURETEVfV0lEVEgsIGhlaWdodDogQ29uZmlnLlBBRERMRV9IRUlHSFR9LFxuICAgIDM6IHt3aWR0aDogQ29uZmlnLkJBTExfV0lEVEgsIGhlaWdodDogQ29uZmlnLkJBTExfSEVJR0hUfSxcbiAgfSxcbiAgcG9zaXRpb25zOiB7XG4gICAgMToge3g6IENvbmZpZy5QQURETEVfMV9QT1NJVElPTi5YLCB5OiBDb25maWcuUEFERExFXzFfUE9TSVRJT04uWX0sXG4gICAgMjoge3g6IENvbmZpZy5QQURETEVfMl9QT1NJVElPTi5YLCB5OiBDb25maWcuUEFERExFXzJfUE9TSVRJT04uWX0sXG4gICAgMzoge3g6IENvbmZpZy5CQUxMX1BPU0lUSU9OLlgsIHk6IENvbmZpZy5CQUxMX1BPU0lUSU9OLll9LFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnRzO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMjA5YTZkMTY0YTRiMzRiNTFmNjk4YjgwZTVlZmZiMTEucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZTBkZGQ0ZDFjYmQ2Zjc3Yjc3MmJhMmU4OTUzZGUzODQucG5nXCI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TWlsbGlzZWNvbmRzIC0gVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgKi9cbiAgZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVMaW1pdGVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICovXG5cblxuICBUaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uIGJlZ2luRnJhbWUoKSB7XG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIFRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbiAgfTtcblxuICByZXR1cm4gVGltZUxpbWl0ZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpbWVMaW1pdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZUxpbWl0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMiA9IHJlcXVpcmUoJy4uL0Jhc2VQcmVwYXJlJyk7XG5cbnZhciBfQmFzZVByZXBhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ0FOVkFTX1NUQVJUX1NJWkUgPSAxNjtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVVxuICogVGhpcyBjYW5ub3QgYmUgZG9uZSBkaXJlY3RseSBmb3IgQ2FudmFzIGxpa2UgaW4gV2ViR0wsIGJ1dCB0aGUgZWZmZWN0IGNhbiBiZSBhY2hpZXZlZCBieSBkcmF3aW5nXG4gKiB0ZXh0dXJlcyB0byBhbiBvZmZsaW5lIGNhbnZhcy5cbiAqIFRoaXMgZHJhdyBjYWxsIHdpbGwgZm9yY2UgdGhlIHRleHR1cmUgdG8gYmUgbW92ZWQgb250byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuXG52YXIgQ2FudmFzUHJlcGFyZSA9IGZ1bmN0aW9uIChfQmFzZVByZXBhcmUpIHtcbiAgICBfaW5oZXJpdHMoQ2FudmFzUHJlcGFyZSwgX0Jhc2VQcmVwYXJlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc1ByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1ByZXBhcmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlUHJlcGFyZS5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudXBsb2FkSG9va0hlbHBlciA9IF90aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEFuIG9mZmxpbmUgY2FudmFzIHRvIHJlbmRlciB0ZXh0dXJlcyB0b1xuICAgICAgICAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgX3RoaXMuY2FudmFzLndpZHRoID0gQ0FOVkFTX1NUQVJUX1NJWkU7XG4gICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfU1RBUlRfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbnRleHQgdG8gdGhlIGNhbnZhc1xuICAgICAgICAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3R4ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1ByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jdHggPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNQcmVwYXJlO1xufShfQmFzZVByZXBhcmUzLmRlZmF1bHQpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gcHJlcGFyZSAtIEluc3RhbmNlIG9mIENhbnZhc1ByZXBhcmVcbiAqIEBwYXJhbSB7Kn0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUHJlcGFyZTtcbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhwcmVwYXJlLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IGl0ZW0uc291cmNlO1xuXG4gICAgICAgIC8vIFNvbWV0aW1lcyBpbWFnZXMgKGxpa2UgYXRsYXMgaW1hZ2VzKSByZXBvcnQgYSBzaXplIG9mIHplcm8sIGNhdXNpbmcgZXJyb3JzIG9uIHdpbmRvd3MgcGhvbmUuXG4gICAgICAgIC8vIFNvIGlmIHRoZSB3aWR0aCBvciBoZWlnaHQgaXMgZXF1YWwgdG8gemVybyB0aGVuIHVzZSB0aGUgY2FudmFzIHNpemVcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHVzZSB3aGF0ZXZlciBpcyBzbWFsbGVyLCB0aGUgaW1hZ2UgZGltZW5zaW9ucyBvciB0aGUgY2FudmFzIGRpbWVuc2lvbnMuXG4gICAgICAgIHZhciBpbWFnZVdpZHRoID0gaW1hZ2Uud2lkdGggPT09IDAgPyBwcmVwYXJlLmNhbnZhcy53aWR0aCA6IE1hdGgubWluKHByZXBhcmUuY2FudmFzLndpZHRoLCBpbWFnZS53aWR0aCk7XG4gICAgICAgIHZhciBpbWFnZUhlaWdodCA9IGltYWdlLmhlaWdodCA9PT0gMCA/IHByZXBhcmUuY2FudmFzLmhlaWdodCA6IE1hdGgubWluKHByZXBhcmUuY2FudmFzLmhlaWdodCwgaW1hZ2UuaGVpZ2h0KTtcblxuICAgICAgICAvLyBPbmx5IGEgc21hbGwgc3Vic2VjdGlvbnMgaXMgcmVxdWlyZWQgdG8gYmUgZHJhd24gdG8gaGF2ZSB0aGUgd2hvbGUgdGV4dHVyZSB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAgICAgIC8vIEEgc21hbGxlciBkcmF3IGNhbiBiZSBmYXN0ZXIuXG4gICAgICAgIHByZXBhcmUuY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQsIDAsIDAsIHByZXBhcmUuY2FudmFzLndpZHRoLCBwcmVwYXJlLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIENhbnZhc1ByZXBhcmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzUHJlcGFyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmFzZVByZXBhcmUyID0gcmVxdWlyZSgnLi4vQmFzZVByZXBhcmUnKTtcblxudmFyIF9CYXNlUHJlcGFyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgV2ViR0xQcmVwYXJlID0gZnVuY3Rpb24gKF9CYXNlUHJlcGFyZSkge1xuICAgIF9pbmhlcml0cyhXZWJHTFByZXBhcmUsIF9CYXNlUHJlcGFyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xQcmVwYXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICBfdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdlYkdMUHJlcGFyZTtcbn0oX0Jhc2VQcmVwYXJlMy5kZWZhdWx0KTtcbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xQcmVwYXJlO1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkJhc2VUZXh0dXJlKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkdyYXBoaWNzKSB7XG4gICAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIG5vdCBkaXJ0eSBhbmQgYWxyZWFkeSBoYXMgd2ViZ2wgZGF0YSwgdGhlbiBpdCBnb3QgcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdyBhbmQgd2Ugc2hvdWxkbid0IHdhc3RlIHRpbWUgdXBkYXRpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKGl0ZW0uZGlydHkgfHwgaXRlbS5jbGVhckRpcnR5IHx8ICFpdGVtLl93ZWJHTFtyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuR3JhcGhpY3MpIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFdlYkdMUHJlcGFyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFByZXBhcmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMUHJlcGFyZSA9IHJlcXVpcmUoJy4vd2ViZ2wvV2ViR0xQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnd2ViZ2wnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1ByZXBhcmUgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FudmFzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmFzZVByZXBhcmUgPSByZXF1aXJlKCcuL0Jhc2VQcmVwYXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmFzZVByZXBhcmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlUHJlcGFyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ291bnRMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9Db3VudExpbWl0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb3VudExpbWl0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db3VudExpbWl0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RpbWVMaW1pdGVyID0gcmVxdWlyZSgnLi9saW1pdGVycy9UaW1lTGltaXRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbWVMaW1pdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZUxpbWl0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzJyk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUluZGljZXNGb3JRdWFkcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVCdWZmZXIoZ2wsIHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZUJ1ZmZlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHN0YXRpYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiBwcm9wZXJ0eS5hdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdW5zaWduZWRCeXRlOiBwcm9wZXJ0eS51bnNpZ25lZEJ5dGUsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBwcm9wZXJ0eS5vZmZzZXRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiBpbml0QnVmZmVycygpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKHRoaXMuc2l6ZSk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IGR5bmFtaWNPZmZzZXQ7XG4gICAgICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBkeW5CdWZmZXIsIGdsLlNUUkVBTV9EUkFXKTtcblxuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW19pXTtcblxuICAgICAgICAgICAgX3Byb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBfcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IF9wcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgc3RhdEJ1ZmZlciwgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkyID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tfaTJdO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnR5Mi51bnNpZ25lZEJ5dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5keW5hbWljQnVmZmVyLCBfcHJvcGVydHkyLmF0dHJpYnV0ZSwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgX3Byb3BlcnR5Mi5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuZHluYW1pY0J1ZmZlciwgX3Byb3BlcnR5Mi5hdHRyaWJ1dGUsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy5keW5hbWljU3RyaWRlICogNCwgX3Byb3BlcnR5Mi5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5MyA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tfaTNdO1xuXG4gICAgICAgICAgICBpZiAoX3Byb3BlcnR5My51bnNpZ25lZEJ5dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5zdGF0aWNCdWZmZXIsIF9wcm9wZXJ0eTMuYXR0cmlidXRlLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTMub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLnN0YXRpY0J1ZmZlciwgX3Byb3BlcnR5My5hdHRyaWJ1dGUsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBfcHJvcGVydHkzLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWREeW5hbWljID0gZnVuY3Rpb24gdXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudW5zaWduZWRCeXRlID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci51cGxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgc3RhdGljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkU3RhdGljID0gZnVuY3Rpb24gdXBsb2FkU3RhdGljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudW5zaWduZWRCeXRlID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLCB0aGlzLnN0YXRpY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLnVwbG9hZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1NoYWRlcjIgPSByZXF1aXJlKCcuLi8uLi9jb3JlL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVNoYWRlciA9IGZ1bmN0aW9uIChfU2hhZGVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlU2hhZGVyLCBfU2hhZGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IGdsIC0gVGhlIHdlYmdsIHNoYWRlciBtYW5hZ2VyIHRoaXMgc2hhZGVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVNoYWRlcihnbCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVTaGFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU2hhZGVyLmNhbGwodGhpcywgZ2wsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLCAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7JywgJ2F0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIHZlYzQgdUNvbG9yOycsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pOycsICcgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pOycsICcgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpOycsICcgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkOycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkOycsICcgICB2Q29sb3IgPSBhQ29sb3IgKiB1Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSxcbiAgICAgICAgLy8gaGVsbG9cbiAgICAgICAgWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjsnLCAnICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBhcnRpY2xlU2hhZGVyO1xufShfU2hhZGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfUGFydGljbGVTaGFkZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlU2hhZGVyJyk7XG5cbnZhciBfUGFydGljbGVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVTaGFkZXIpO1xuXG52YXIgX1BhcnRpY2xlQnVmZmVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZUJ1ZmZlcicpO1xuXG52YXIgX1BhcnRpY2xlQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlQnVmZmVyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZVJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVSZW5kZXJlcik7XG5cbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICAvLyBzZXR1cCBkZWZhdWx0IHNoYWRlclxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBfUGFydGljbGVTaGFkZXIyLmRlZmF1bHQoZ2wpO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb25Db29yZCxcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFSb3RhdGlvbixcbiAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLFxuICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgIHVuc2lnbmVkQnl0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBwYXJ0aWNsZSBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRTaGFkZXIodGhpcy5zaGFkZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBwYXJ0aWNsZSBjb250YWluZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUpIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2dsQnVmZmVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9nbEJ1ZmZlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHkodGhpcy50ZW1wTWF0cml4KTtcblxuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlSZ2JhKGNvbnRhaW5lci50aW50UmdiLCBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgdGV4dHVyZSBpcyBib3VuZC4uXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IHRvdGFsQ2hpbGRyZW4gLSBpO1xuXG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaiA+PSBidWZmZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyLmF1dG9SZXNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaCh0aGlzLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2pdO1xuXG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcblxuICAgICAgICAgICAgLy8gd2Ugb25seSB1cGxvYWQgdGhlIHN0YXRpYyBjb250ZW50IHdoZW4gd2UgaGF2ZSB0byFcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuX2J1ZmZlclRvVXBkYXRlID09PSBqKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuX2J1ZmZlclRvVXBkYXRlID0gaiArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhidWZmZXIudmFvKTtcbiAgICAgICAgICAgIGJ1ZmZlci52YW8uZHJhdyhnbC5UUklBTkdMRVMsIGFtb3VudCAqIDYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiBnZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIHZhciBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IF9QYXJ0aWNsZUJ1ZmZlcjIuZGVmYXVsdChnbCwgdGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVycztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gbmV3IF9QYXJ0aWNsZUJ1ZmZlcjIuZGVmYXVsdChnbCwgdGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdmVydGljaWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSBzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHcwID0gb3JpZy53aWR0aCAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IG9yaWcud2lkdGggKiAtc3ByaXRlLmFuY2hvci54O1xuXG4gICAgICAgICAgICAgICAgaDAgPSBvcmlnLmhlaWdodCAqICgxIC0gc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgICAgICAgICBoMSA9IG9yaWcuaGVpZ2h0ICogLXNwcml0ZS5hbmNob3IueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHcxICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUm90YXRpb24gPSBmdW5jdGlvbiB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVJvdGF0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFV2cyA9IGZ1bmN0aW9uIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0uX3RleHR1cmUuX3V2cztcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDMgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIHVwbG9hZFRpbnQoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGE7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWQgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBhcmdiO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuZ2wpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NvcmUkT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZVJlbmRlcmVyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy4gVGhlIHRyYWRlb2ZmIG9mIHRoZSBQYXJ0aWNsZUNvbnRhaW5lciBpcyB0aGF0IG1vc3QgYWR2YW5jZWRcbiAqIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay4gUGFydGljbGVDb250YWluZXIgaW1wbGVtZW50cyB0aGUgYmFzaWMgb2JqZWN0IHRyYW5zZm9ybSAocG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbilcbiAqIGFuZCBzb21lIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSB0aW50IChhcyBvZiB2NC41LjYpLlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZSA6XG4gKlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLnBhcnRpY2xlc1xuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSBmdW5jdGlvbiAoX2NvcmUkQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKFBhcnRpY2xlQ29udGFpbmVyLCBfY29yZSRDb250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlXG4gICAgICogIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIG1heFNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE1MDA7XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxNjM4NDtcbiAgICAgICAgdmFyIGF1dG9SZXNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZUNvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gTWFraW5nIHN1cmUgdGhlIGJhdGNoIHNpemUgaXMgdmFsaWRcbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIHZhciBtYXhCYXRjaFNpemUgPSAxNjM4NDtcblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4U2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFNpemUgPSBtYXhTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTEJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2xCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJUb1VwZGF0ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gY29yZS5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgZm9yIGNhbnZhcyByZW5kZXJlcmluZy4gSWYgdHJ1ZSB0aGVuIHRoZSBlbGVtZW50cyB3aWxsIGJlIHBvc2l0aW9uZWQgYXQgdGhlXG4gICAgICAgICAqIG5lYXJlc3QgcGl4ZWwuIFRoaXMgcHJvdmlkZXMgYSBuaWNlIHNwZWVkIGJvb3N0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlO1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtCYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IDA7XG4gICAgICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8vICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwoIHRoaXMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2Uoc21hbGxlc3RDaGlsZEluZGV4KSB7XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcblxuICAgICAgICBpZiAoYnVmZmVySW5kZXggPCB0aGlzLl9idWZmZXJUb1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyVG9VcGRhdGUgPSBidWZmZXJJbmRleDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgaXNSb3RhdGVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG5cbiAgICAgICAgdmFyIGZpbmFsV2lkdGggPSAwO1xuICAgICAgICB2YXIgZmluYWxIZWlnaHQgPSAwO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBjaGlsZC5fdGV4dHVyZS5mcmFtZTtcblxuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGNoaWxkLmFscGhhO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucm90YXRpb24gJSAoTWF0aC5QSSAqIDIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZmFzdGVzdCAgd2F5IHRvIG9wdGltaXNlISAtIGlmIHJvdGF0aW9uIGlzIDAgdGhlbiB3ZSBjYW4gYXZvaWQgYW55IGtpbmQgb2Ygc2V0VHJhbnNmb3JtIGNhbGxcbiAgICAgICAgICAgICAgICBpZiAoaXNSb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hLCB0cmFuc2Zvcm0uYiwgdHJhbnNmb3JtLmMsIHRyYW5zZm9ybS5kLCB0cmFuc2Zvcm0udHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICBpc1JvdGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBjaGlsZC5hbmNob3IueCAqICgtZnJhbWUud2lkdGggKiBjaGlsZC5zY2FsZS54KSArIGNoaWxkLnBvc2l0aW9uLnggKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gY2hpbGQuYW5jaG9yLnkgKiAoLWZyYW1lLmhlaWdodCAqIGNoaWxkLnNjYWxlLnkpICsgY2hpbGQucG9zaXRpb24ueSArIDAuNTtcblxuICAgICAgICAgICAgICAgIGZpbmFsV2lkdGggPSBmcmFtZS53aWR0aCAqIGNoaWxkLnNjYWxlLng7XG4gICAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiBjaGlsZC5zY2FsZS55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1JvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoaWxkLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgICAgIHZhciBjaGlsZFRyYW5zZm9ybSA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGNoaWxkVHJhbnNmb3JtLmEsIGNoaWxkVHJhbnNmb3JtLmIsIGNoaWxkVHJhbnNmb3JtLmMsIGNoaWxkVHJhbnNmb3JtLmQsIGNoaWxkVHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIGNoaWxkVHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGNoaWxkVHJhbnNmb3JtLmEsIGNoaWxkVHJhbnNmb3JtLmIsIGNoaWxkVHJhbnNmb3JtLmMsIGNoaWxkVHJhbnNmb3JtLmQsIGNoaWxkVHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgY2hpbGRUcmFuc2Zvcm0udHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSBjaGlsZC5hbmNob3IueCAqIC1mcmFtZS53aWR0aCArIDAuNTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBjaGlsZC5hbmNob3IueSAqIC1mcmFtZS5oZWlnaHQgKyAwLjU7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFdpZHRoID0gZnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgZmluYWxIZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gY2hpbGQuX3RleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoY2hpbGQuX3RleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiwgZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbiwgcG9zaXRpb25YICogcmVuZGVyZXIucmVzb2x1dGlvbiwgcG9zaXRpb25ZICogcmVuZGVyZXIucmVzb2x1dGlvbiwgZmluYWxXaWR0aCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGZpbmFsSGVpZ2h0ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUGFydGljbGVDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KGNvcmUuQ29udGFpbmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVDb250YWluZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUNvbnRhaW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUGFydGljbGVDb250YWluZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlQ29udGFpbmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUGFydGljbGVDb250YWluZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZUNvbnRhaW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUGFydGljbGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvUGFydGljbGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BhcnRpY2xlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NZXNoMiA9IHJlcXVpcmUoJy4vTWVzaCcpO1xuXG52YXIgX01lc2gzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlJvcGUoUElYSS5UZXh0dXJlLmZyb21JbWFnZShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkubWVzaC5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSS5tZXNoXG4gKlxuICovXG52YXIgUm9wZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhSb3BlLCBfTWVzaCk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3BlKHRleHR1cmUsIHBvaW50cykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9wZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0aGF0IGRldGVybWluZSB0aGUgcm9wZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfTWVzaC5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzIHVzZWQgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFV2cyBvZiB0aGUgcm9wZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGNvbG9yIGNvbXBvbmVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogMik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShwb2ludHMubGVuZ3RoICogMik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvbiBldmVyeSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMucmVmcmVzaCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEgfHwgIXRoaXMuX3RleHR1cmUuX3V2cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHRoaXMudmVydGljZXMubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogMik7XG4gICAgICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuXG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5pbmRpY2VzO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG5cbiAgICAgICAgdXZzWzBdID0gMDtcbiAgICAgICAgdXZzWzFdID0gMDtcbiAgICAgICAgdXZzWzJdID0gMDtcbiAgICAgICAgdXZzWzNdID0gMTtcblxuICAgICAgICBjb2xvcnNbMF0gPSAxO1xuICAgICAgICBjb2xvcnNbMV0gPSAxO1xuXG4gICAgICAgIGluZGljZXNbMF0gPSAwO1xuICAgICAgICBpbmRpY2VzWzFdID0gMTtcblxuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuXG4gICAgICAgICAgICBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgY29sb3JzW2luZGV4XSA9IDE7XG4gICAgICAgICAgICBjb2xvcnNbaW5kZXggKyAxXSA9IDE7XG5cbiAgICAgICAgICAgIGluZGV4ID0gaSAqIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4XSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleCArIDFdID0gaW5kZXggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5pbmRleERpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLnJlZnJlc2hWZXJ0aWNlcyA9IGZ1bmN0aW9uIHJlZnJlc2hWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG5leHRQb2ludCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHBlcnBYID0gMDtcbiAgICAgICAgdmFyIHBlcnBZID0gMDtcblxuICAgICAgICAvLyB0aGlzLmNvdW50IC09IDAuMjtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG5cbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuXG4gICAgICAgICAgICB2YXIgcmF0aW8gPSAoMSAtIGkgLyAodG90YWwgLSAxKSkgKiAxMDtcblxuICAgICAgICAgICAgaWYgKHJhdGlvID4gMSkge1xuICAgICAgICAgICAgICAgIHJhdGlvID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBlcnBMZW5ndGggPSBNYXRoLnNxcnQocGVycFggKiBwZXJwWCArIHBlcnBZICogcGVycFkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMuX3RleHR1cmUuaGVpZ2h0IC8gMjsgLy8gKDIwICsgTWF0aC5hYnMoTWF0aC5zaW4oKGkgKyB0aGlzLmNvdW50KSAqIDAuMykgKiA1MCkgKSogcmF0aW87XG5cbiAgICAgICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuXG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG5cbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcblxuICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFZlcnRpY2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvcGU7XG59KF9NZXNoMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm9wZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvcGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BsYW5lMiA9IHJlcXVpcmUoJy4vUGxhbmUnKTtcblxudmFyIF9QbGFuZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QbGFuZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5cbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkubWVzaC5QbGFuZVxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xuXG52YXIgTmluZVNsaWNlUGxhbmUgPSBmdW5jdGlvbiAoX1BsYW5lKSB7XG4gICAgX2luaGVyaXRzKE5pbmVTbGljZVBsYW5lLCBfUGxhbmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7aW50fSBbbGVmdFdpZHRoPTEwXSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge2ludH0gW3RvcEhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7aW50fSBbcmlnaHRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7aW50fSBbYm90dG9tSGVpZ2h0PTEwXSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmluZVNsaWNlUGxhbmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9QbGFuZS5jYWxsKHRoaXMsIHRleHR1cmUsIDQsIDQpKTtcblxuICAgICAgICBfdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBfdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IF90aGlzLl9vcmlnV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gX3RoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVmdFdpZHRoID0gdHlwZW9mIGxlZnRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyBsZWZ0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yaWdodFdpZHRoID0gdHlwZW9mIHJpZ2h0V2lkdGggIT09ICd1bmRlZmluZWQnID8gcmlnaHRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdHRvbUhlaWdodCA9IHR5cGVvZiBib3R0b21IZWlnaHQgIT09ICd1bmRlZmluZWQnID8gYm90dG9tSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICBfdGhpcy5yZWZyZXNoKHRydWUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXIgdG8gcmVuZGVyIHdpdGguXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKTtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlcyA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzIHwgMCwgdHJhbnNmb3JtLnR5ICogcmVzIHwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlcywgdHJhbnNmb3JtLmIgKiByZXMsIHRyYW5zZm9ybS5jICogcmVzLCB0cmFuc2Zvcm0uZCAqIHJlcywgdHJhbnNmb3JtLnR4ICogcmVzLCB0cmFuc2Zvcm0udHkgKiByZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZVNvdXJjZSA9IGJhc2Uuc291cmNlO1xuICAgICAgICB2YXIgdyA9IGJhc2Uud2lkdGggKiBiYXNlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBoID0gYmFzZS5oZWlnaHQgKiBiYXNlLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAwLCAxLCAxMCwgMTEpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDIsIDMsIDEyLCAxMyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgNCwgNSwgMTQsIDE1KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCA4LCA5LCAxOCwgMTkpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDEwLCAxMSwgMjAsIDIxKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxMiwgMTMsIDIyLCAyMyk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTYsIDE3LCAyNiwgMjcpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDE4LCAxOSwgMjgsIDI5KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAyMCwgMjEsIDMwLCAzMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgb25lIHNlZ21lbnQgb2YgdGhlIHBsYW5lLlxuICAgICAqIHRvIG1pbWljIHRoZSBleGFjdCBkcmF3aW5nIGJlaGF2aW9yIG9mIHN0cmV0Y2hpbmcgdGhlIGltYWdlIGxpa2UgV2ViR0wgZG9lcywgd2UgbmVlZCB0byBtYWtlIHN1cmVcbiAgICAgKiB0aGF0IHRoZSBzb3VyY2UgYXJlYSBpcyBhdCBsZWFzdCAxIHBpeGVsIGluIHNpemUsIG90aGVyd2lzZSBub3RoaW5nIGdldHMgZHJhd24gd2hlbiBhIHNsaWNlIHNpemUgb2YgMCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIGRyYXcgd2l0aC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc0ltYWdlU291cmNlfSB0ZXh0dXJlU291cmNlIC0gVGhlIHNvdXJjZSB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3IC0gd2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaCAtIGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHggaW5kZXggMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIHkgaW5kZXggMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIHggaW5kZXggMlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIHkgaW5kZXggMlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuZHJhd1NlZ21lbnQgPSBmdW5jdGlvbiBkcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAvLyBvdGhlcndpc2UgeW91IGdldCB3ZWlyZCByZXN1bHRzIHdoZW4gdXNpbmcgc2xpY2VzIG9mIHRoYXQgYXJlIDAgd2lkZSBvciBoaWdoLlxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIHN3ID0gKHV2c1t4Ml0gLSB1dnNbeDFdKSAqIHc7XG4gICAgICAgIHZhciBzaCA9ICh1dnNbeTJdIC0gdXZzW3kxXSkgKiBoO1xuICAgICAgICB2YXIgZHcgPSB2ZXJ0aWNlc1t4Ml0gLSB2ZXJ0aWNlc1t4MV07XG4gICAgICAgIHZhciBkaCA9IHZlcnRpY2VzW3kyXSAtIHZlcnRpY2VzW3kxXTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHNvdXJjZSBpcyBhdCBsZWFzdCAxIHBpeGVsIHdpZGUgYW5kIGhpZ2gsIG90aGVyd2lzZSBub3RoaW5nIHdpbGwgYmUgZHJhd24uXG4gICAgICAgIGlmIChzdyA8IDEpIHtcbiAgICAgICAgICAgIHN3ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaCA8IDEpIHtcbiAgICAgICAgICAgIHNoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBkZXN0aW5hdGlvbiBpcyBhdCBsZWFzdCAxIHBpeGVsIHdpZGUgYW5kIGhpZ2gsIG90aGVyd2lzZSB5b3UgZ2V0XG4gICAgICAgIC8vIGxpbmVzIHdoZW4gcmVuZGVyaW5nIGNsb3NlIHRvIG9yaWdpbmFsIHNpemUuXG4gICAgICAgIGlmIChkdyA8IDEpIHtcbiAgICAgICAgICAgIGR3ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaCA8IDEpIHtcbiAgICAgICAgICAgIGRoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmVTb3VyY2UsIHV2c1t4MV0gKiB3LCB1dnNbeTFdICogaCwgc3csIHNoLCB2ZXJ0aWNlc1t4MV0sIHZlcnRpY2VzW3kxXSwgZHcsIGRoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgICAgICBfUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICAgICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICAgICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG5cbiAgICAgICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIF91dncgKiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKE5pbmVTbGljZVBsYW5lLCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZWZ0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmlnaHRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndG9wSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYm90dG9tSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShfUGxhbmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOaW5lU2xpY2VQbGFuZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5pbmVTbGljZVBsYW5lLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi4vTWVzaCcpO1xuXG52YXIgX01lc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIG1lc2hlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaFNwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBkb3ducG9ydCB3b3JrcyBmb3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZXNoU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc2hTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIE1lc2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIobWVzaCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IG1lc2gud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXMgPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcyB8IDAsIHRyYW5zZm9ybS50eSAqIHJlcyB8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcywgdHJhbnNmb3JtLnR5ICogcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBtZXNoLndvcmxkQWxwaGE7XG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShtZXNoLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgaWYgKG1lc2guZHJhd01vZGUgPT09IF9NZXNoMi5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHJpYW5nbGVNZXNoKG1lc2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHJpYW5nbGVzKG1lc2gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBvYmplY3QgaW4gVHJpYW5nbGUgTWVzaCBtb2RlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyVHJpYW5nbGVNZXNoID0gZnVuY3Rpb24gX3JlbmRlclRyaWFuZ2xlTWVzaChtZXNoKSB7XG4gICAgICAgIC8vIGRyYXcgdHJpYW5nbGVzISFcbiAgICAgICAgdmFyIGxlbmd0aCA9IG1lc2gudmVydGljZXMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgsIGluZGV4ICsgMiwgaW5kZXggKyA0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgb2JqZWN0IGluIHRyaWFuZ2xlIG1vZGUgdXNpbmcgY2FudmFzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgY3VycmVudCBtZXNoXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlcyA9IGZ1bmN0aW9uIF9yZW5kZXJUcmlhbmdsZXMobWVzaCkge1xuICAgICAgICAvLyBkcmF3IHRyaWFuZ2xlcyEhXG4gICAgICAgIHZhciBpbmRpY2VzID0gbWVzaC5pbmRpY2VzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmRleDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kZXgyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3VHJpYW5nbGUobWVzaCwgaW5kZXgwLCBpbmRleDEsIGluZGV4Mik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3Mgb25lIG9mIHRoZSB0cmlhbmdsZXMgdGhhdCBmcm9tIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSB0aGUgY3VycmVudCBtZXNoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MCAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdmVydGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4MSAtIHRoZSBpbmRleCBvZiB0aGUgc2Vjb25kIHZlcnRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDIgLSB0aGUgaW5kZXggb2YgdGhlIHRoaXJkIHZlcnRleFxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJEcmF3VHJpYW5nbGUgPSBmdW5jdGlvbiBfcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4MCwgaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB1dnMgPSBtZXNoLnV2cztcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHRleHR1cmUgPSBtZXNoLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2UgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZVNvdXJjZSA9IGJhc2Uuc291cmNlO1xuICAgICAgICB2YXIgdGV4dHVyZVdpZHRoID0gYmFzZS53aWR0aDtcbiAgICAgICAgdmFyIHRleHR1cmVIZWlnaHQgPSBiYXNlLmhlaWdodDtcblxuICAgICAgICB2YXIgdTAgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1MSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHUyID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjAgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYyID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChtZXNoLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgdXQgPSBtZXNoLl91dlRyYW5zZm9ybS5tYXBDb29yZDtcblxuICAgICAgICAgICAgdTAgPSAodXZzW2luZGV4MF0gKiB1dC5hICsgdXZzW2luZGV4MCArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MSA9ICh1dnNbaW5kZXgxXSAqIHV0LmEgKyB1dnNbaW5kZXgxICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUyID0gKHV2c1tpbmRleDJdICogdXQuYSArIHV2c1tpbmRleDIgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdjAgPSAodXZzW2luZGV4MF0gKiB1dC5iICsgdXZzW2luZGV4MCArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjEgPSAodXZzW2luZGV4MV0gKiB1dC5iICsgdXZzW2luZGV4MSArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjIgPSAodXZzW2luZGV4Ml0gKiB1dC5iICsgdXZzW2luZGV4MiArIDFdICogdXQuZCArIHV0LnR5KSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdTAgPSB1dnNbaW5kZXgwXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MSA9IHV2c1tpbmRleDFdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHUyID0gdXZzW2luZGV4Ml0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdjAgPSB1dnNbaW5kZXgwICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYxID0gdXZzW2luZGV4MSArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MiA9IHV2c1tpbmRleDIgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHgwID0gdmVydGljZXNbaW5kZXgwXTtcbiAgICAgICAgdmFyIHgxID0gdmVydGljZXNbaW5kZXgxXTtcbiAgICAgICAgdmFyIHgyID0gdmVydGljZXNbaW5kZXgyXTtcbiAgICAgICAgdmFyIHkwID0gdmVydGljZXNbaW5kZXgwICsgMV07XG4gICAgICAgIHZhciB5MSA9IHZlcnRpY2VzW2luZGV4MSArIDFdO1xuICAgICAgICB2YXIgeTIgPSB2ZXJ0aWNlc1tpbmRleDIgKyAxXTtcblxuICAgICAgICB2YXIgY2FudmFzUGFkZGluZyA9IG1lc2guY2FudmFzUGFkZGluZyAvIHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoY2FudmFzUGFkZGluZyA+IDApIHtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nWCA9IGNhbnZhc1BhZGRpbmcgLyBNYXRoLmFicyhtZXNoLndvcmxkVHJhbnNmb3JtLmEpO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmdZID0gY2FudmFzUGFkZGluZyAvIE1hdGguYWJzKG1lc2gud29ybGRUcmFuc2Zvcm0uZCk7XG4gICAgICAgICAgICB2YXIgY2VudGVyWCA9ICh4MCArIHgxICsgeDIpIC8gMztcbiAgICAgICAgICAgIHZhciBjZW50ZXJZID0gKHkwICsgeTEgKyB5MikgLyAzO1xuXG4gICAgICAgICAgICB2YXIgbm9ybVggPSB4MCAtIGNlbnRlclg7XG4gICAgICAgICAgICB2YXIgbm9ybVkgPSB5MCAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcblxuICAgICAgICAgICAgeDAgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MCA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcblxuICAgICAgICAgICAgLy9cblxuICAgICAgICAgICAgbm9ybVggPSB4MSAtIGNlbnRlclg7XG4gICAgICAgICAgICBub3JtWSA9IHkxIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG4gICAgICAgICAgICB4MSA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkxID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuXG4gICAgICAgICAgICBub3JtWCA9IHgyIC0gY2VudGVyWDtcbiAgICAgICAgICAgIG5vcm1ZID0geTIgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KG5vcm1YICogbm9ybVggKyBub3JtWSAqIG5vcm1ZKTtcbiAgICAgICAgICAgIHgyID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTIgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MCwgeTApO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MSwgeTEpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuXG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC5jbGlwKCk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBtYXRyaXggdHJhbnNmb3JtXG4gICAgICAgIHZhciBkZWx0YSA9IHUwICogdjEgKyB2MCAqIHUyICsgdTEgKiB2MiAtIHYxICogdTIgLSB2MCAqIHUxIC0gdTAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhQSA9IHgwICogdjEgKyB2MCAqIHgyICsgeDEgKiB2MiAtIHYxICogeDIgLSB2MCAqIHgxIC0geDAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhQiA9IHUwICogeDEgKyB4MCAqIHUyICsgdTEgKiB4MiAtIHgxICogdTIgLSB4MCAqIHUxIC0gdTAgKiB4MjtcbiAgICAgICAgdmFyIGRlbHRhQyA9IHUwICogdjEgKiB4MiArIHYwICogeDEgKiB1MiArIHgwICogdTEgKiB2MiAtIHgwICogdjEgKiB1MiAtIHYwICogdTEgKiB4MiAtIHUwICogeDEgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhRCA9IHkwICogdjEgKyB2MCAqIHkyICsgeTEgKiB2MiAtIHYxICogeTIgLSB2MCAqIHkxIC0geTAgKiB2MjtcbiAgICAgICAgdmFyIGRlbHRhRSA9IHUwICogeTEgKyB5MCAqIHUyICsgdTEgKiB5MiAtIHkxICogdTIgLSB5MCAqIHUxIC0gdTAgKiB5MjtcbiAgICAgICAgdmFyIGRlbHRhRiA9IHUwICogdjEgKiB5MiArIHYwICogeTEgKiB1MiArIHkwICogdTEgKiB2MiAtIHkwICogdjEgKiB1MiAtIHYwICogdTEgKiB5MiAtIHUwICogeTEgKiB2MjtcblxuICAgICAgICBjb250ZXh0LnRyYW5zZm9ybShkZWx0YUEgLyBkZWx0YSwgZGVsdGFEIC8gZGVsdGEsIGRlbHRhQiAvIGRlbHRhLCBkZWx0YUUgLyBkZWx0YSwgZGVsdGFDIC8gZGVsdGEsIGRlbHRhRiAvIGRlbHRhKTtcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlU291cmNlLCAwLCAwLCB0ZXh0dXJlV2lkdGggKiBiYXNlLnJlc29sdXRpb24sIHRleHR1cmVIZWlnaHQgKiBiYXNlLnJlc29sdXRpb24sIDAsIDAsIHRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgZmxhdCBNZXNoXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggLSBUaGUgTWVzaCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJNZXNoRmxhdCA9IGZ1bmN0aW9uIHJlbmRlck1lc2hGbGF0KG1lc2gpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7XG4gICAgICAgIHZhciBsZW5ndGggPSB2ZXJ0aWNlcy5sZW5ndGggLyAyO1xuXG4gICAgICAgIC8vIHRoaXMuY291bnQrKztcblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMjsgKytpKSB7XG4gICAgICAgICAgICAvLyBkcmF3IHNvbWUgdHJpYW5nbGVzIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDI7XG5cbiAgICAgICAgICAgIHZhciB4MCA9IHZlcnRpY2VzW2luZGV4XTtcbiAgICAgICAgICAgIHZhciB5MCA9IHZlcnRpY2VzW2luZGV4ICsgMV07XG5cbiAgICAgICAgICAgIHZhciB4MSA9IHZlcnRpY2VzW2luZGV4ICsgMl07XG4gICAgICAgICAgICB2YXIgeTEgPSB2ZXJ0aWNlc1tpbmRleCArIDNdO1xuXG4gICAgICAgICAgICB2YXIgeDIgPSB2ZXJ0aWNlc1tpbmRleCArIDRdO1xuICAgICAgICAgICAgdmFyIHkyID0gdmVydGljZXNbaW5kZXggKyA1XTtcblxuICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHgxLCB5MSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBNZXNoU3ByaXRlUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2hTcHJpdGVSZW5kZXJlcjtcblxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdtZXNoJywgTWVzaFNwcml0ZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc01lc2hSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4uL01lc2gnKTtcblxudmFyIF9NZXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIG1hdHJpeElkZW50aXR5ID0gY29yZS5NYXRyaXguSURFTlRJVFk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuXG52YXIgTWVzaFJlbmRlcmVyID0gZnVuY3Rpb24gKF9jb3JlJE9iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKE1lc2hSZW5kZXJlciwgX2NvcmUkT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlbmRlcnMgbWVzaFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLm1lc2guTWVzaH0gbWVzaCBtZXNoIGluc3RhbmNlXG4gICAgICovXG5cblxuICAgIE1lc2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKG1lc2gpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbERhdGEgPSBtZXNoLl9nbERhdGFzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsRGF0YSkge1xuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICAgICAgZ2xEYXRhID0ge1xuICAgICAgICAgICAgICAgIHNoYWRlcjogdGhpcy5zaGFkZXIsXG4gICAgICAgICAgICAgICAgdmVydGV4QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG1lc2gudmVydGljZXMsIGdsLlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgICAgICB1dkJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBtZXNoLnV2cywgZ2wuU1RSRUFNX0RSQVcpLFxuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyOiBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgbWVzaC5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyksXG4gICAgICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICAgICAgdmFvOiBudWxsLFxuICAgICAgICAgICAgICAgIGRpcnR5OiBtZXNoLmRpcnR5LFxuICAgICAgICAgICAgICAgIGluZGV4RGlydHk6IG1lc2guaW5kZXhEaXJ0eVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICBnbERhdGEudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsKS5hZGRJbmRleChnbERhdGEuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZShnbERhdGEudmVydGV4QnVmZmVyLCBnbERhdGEuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIDIgKiA0LCAwKS5hZGRBdHRyaWJ1dGUoZ2xEYXRhLnV2QnVmZmVyLCBnbERhdGEuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCwgZ2wuRkxPQVQsIGZhbHNlLCAyICogNCwgMCk7XG5cbiAgICAgICAgICAgIG1lc2guX2dsRGF0YXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhnbERhdGEudmFvKTtcblxuICAgICAgICBpZiAobWVzaC5kaXJ0eSAhPT0gZ2xEYXRhLmRpcnR5KSB7XG4gICAgICAgICAgICBnbERhdGEuZGlydHkgPSBtZXNoLmRpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLnV2QnVmZmVyLnVwbG9hZChtZXNoLnV2cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVzaC5pbmRleERpcnR5ICE9PSBnbERhdGEuaW5kZXhEaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLmluZGV4RGlydHkgPSBtZXNoLmluZGV4RGlydHk7XG4gICAgICAgICAgICBnbERhdGEuaW5kZXhCdWZmZXIudXBsb2FkKG1lc2guaW5kaWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBnbERhdGEudmVydGV4QnVmZmVyLnVwbG9hZChtZXNoLnZlcnRpY2VzKTtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKGdsRGF0YS5zaGFkZXIpO1xuXG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSByZW5kZXJlci5iaW5kVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29yZS51dGlscy5jb3JyZWN0QmxlbmRNb2RlKG1lc2guYmxlbmRNb2RlLCB0ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIGlmIChnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmIChtZXNoLnVwbG9hZFV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gbWVzaC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gbWF0cml4SWRlbnRpdHkudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbWVzaC53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gY29yZS51dGlscy5wcmVtdWx0aXBseVJnYmEobWVzaC50aW50UmdiLCBtZXNoLndvcmxkQWxwaGEsIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCB0ZXh0dXJlLmJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSk7XG5cbiAgICAgICAgdmFyIGRyYXdNb2RlID0gbWVzaC5kcmF3TW9kZSA9PT0gX01lc2gyLmRlZmF1bHQuRFJBV19NT0RFUy5UUklBTkdMRV9NRVNIID8gZ2wuVFJJQU5HTEVfU1RSSVAgOiBnbC5UUklBTkdMRVM7XG5cbiAgICAgICAgZ2xEYXRhLnZhby5kcmF3KGRyYXdNb2RlLCBtZXNoLmluZGljZXMubGVuZ3RoLCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1lc2hSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1lc2hSZW5kZXJlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ21lc2gnLCBNZXNoUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaFJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NZXNoID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWVzaCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX01lc2hSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvTWVzaFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWVzaFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNNZXNoUmVuZGVyZXIgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNNZXNoUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYW52YXNNZXNoUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNNZXNoUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BsYW5lID0gcmVxdWlyZSgnLi9QbGFuZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BsYW5lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxhbmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05pbmVTbGljZVBsYW5lID0gcmVxdWlyZSgnLi9OaW5lU2xpY2VQbGFuZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05pbmVTbGljZVBsYW5lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTmluZVNsaWNlUGxhbmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JvcGUgPSByZXF1aXJlKCcuL1JvcGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSb3BlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm9wZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5ibG9iTWlkZGxld2FyZUZhY3RvcnkgPSBibG9iTWlkZGxld2FyZUZhY3Rvcnk7XG5cbnZhciBfUmVzb3VyY2UgPSByZXF1aXJlKCcuLi8uLi9SZXNvdXJjZScpO1xuXG52YXIgX1Jlc291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Jlc291cmNlKTtcblxudmFyIF9iID0gcmVxdWlyZSgnLi4vLi4vYjY0Jyk7XG5cbnZhciBfYjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxuLy8gYSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbmZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYmxvYk1pZGRsZXdhcmUocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgICAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IF9SZXNvdXJjZTIuZGVmYXVsdC5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSAnZGF0YTonICsgdHlwZSArICc7YmFzZTY0LCcgKyBfYjIuZGVmYXVsdC5lbmNvZGVCaW5hcnkocmVzb3VyY2UueGhyLnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IF9SZXNvdXJjZTIuZGVmYXVsdC5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBfUmVzb3VyY2UyLmRlZmF1bHQuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgbm8gbG9uZ2VyIHVzZWQgYmxvYiBhZnRlciB0aGUgaW1hZ2UgbG9hZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVybC5yZXZva2VPYmplY3RVUkwoc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY6IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb3VyY2VMb2FkZXIpO1xuXG52YXIgX2Jsb2IgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXIvbGliL21pZGRsZXdhcmVzL3BhcnNpbmcvYmxvYicpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF90ZXh0dXJlUGFyc2VyID0gcmVxdWlyZSgnLi90ZXh0dXJlUGFyc2VyJyk7XG5cbnZhciBfdGV4dHVyZVBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKTtcblxudmFyIF9zcHJpdGVzaGVldFBhcnNlciA9IHJlcXVpcmUoJy4vc3ByaXRlc2hlZXRQYXJzZXInKTtcblxudmFyIF9zcHJpdGVzaGVldFBhcnNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcik7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG52YXIgX2JpdG1hcEZvbnRQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0bWFwRm9udFBhcnNlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkubG9hZGVyOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgbW9kdWxlOnJlc291cmNlLWxvYWRlci5SZXNvdXJjZUxvYWRlclxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICovXG52YXIgTG9hZGVyID0gZnVuY3Rpb24gKF9SZXNvdXJjZUxvYWRlcikge1xuICAgIF9pbmhlcml0cyhMb2FkZXIsIF9SZXNvdXJjZUxvYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVzb3VyY2VMb2FkZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCBjb25jdXJyZW5jeSkpO1xuXG4gICAgICAgIF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQuY2FsbChfdGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BpeGlNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBfdGhpcy51c2UoTG9hZGVyLl9waXhpTWlkZGxld2FyZVtpXSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBhdCBsYXllciwgdHJhbnNsYXRlIHRoZSBuZXcgdjIgc2lnbmFscyBpbnRvIG9sZCB2MSBldmVudHMuXG4gICAgICAgIF90aGlzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnc3RhcnQnLCBsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uUHJvZ3Jlc3MuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgncHJvZ3Jlc3MnLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uRXJyb3IuYWRkKGZ1bmN0aW9uIChlLCBsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnZXJyb3InLCBlLCBsLCByKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm9uTG9hZC5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdsb2FkJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2NvbXBsZXRlJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGRlZmF1bHQgbWlkZGxld2FyZSB0byB0aGUgUGl4aUpTIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlID0gZnVuY3Rpb24gYWRkUGl4aU1pZGRsZXdhcmUoZm4pIHtcbiAgICAgICAgTG9hZGVyLl9waXhpTWlkZGxld2FyZS5wdXNoKGZuKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExvYWRlcjtcbn0oX3Jlc291cmNlTG9hZGVyMi5kZWZhdWx0KTtcblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG5mb3IgKHZhciBrIGluIF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQucHJvdG90eXBlKSB7XG4gICAgTG9hZGVyLnByb3RvdHlwZVtrXSA9IF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQucHJvdG90eXBlW2tdO1xufVxuXG5Mb2FkZXIuX3BpeGlNaWRkbGV3YXJlID0gW1xuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuX2Jsb2IuYmxvYk1pZGRsZXdhcmVGYWN0b3J5LFxuLy8gcGFyc2UgYW55IEltYWdlIG9iamVjdHMgaW50byB0ZXh0dXJlc1xuX3RleHR1cmVQYXJzZXIyLmRlZmF1bHQsXG4vLyBwYXJzZSBhbnkgc3ByaXRlc2hlZXQgZGF0YSBpbnRvIG11bHRpcGxlIHRleHR1cmVzXG5fc3ByaXRlc2hlZXRQYXJzZXIyLmRlZmF1bHQsXG4vLyBwYXJzZSBiaXRtYXAgZm9udCBkYXRhIGludG8gbXVsdGlwbGUgdGV4dHVyZXNcbl9iaXRtYXBGb250UGFyc2VyMi5kZWZhdWx0XTtcblxuLy8gQWRkIGN1c3RvbSBleHRlbnRpb25zXG52YXIgUmVzb3VyY2UgPSBfcmVzb3VyY2VMb2FkZXIyLmRlZmF1bHQuUmVzb3VyY2U7XG5cblJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9hc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcblxudmFyIGFzeW5jID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2FzeW5jKTtcblxudmFyIF9SZXNvdXJjZSA9IHJlcXVpcmUoJy4vUmVzb3VyY2UnKTtcblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8vIHNvbWUgY29uc3RhbnRzXG52YXIgTUFYX1BST0dSRVNTID0gMTAwO1xudmFyIHJneEV4dHJhY3RVcmxIYXNoID0gLygjW1xcdy1dKyk/JC87XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYmFzZVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBjb25jdXJyZW5jeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2xvYWRSZXNvdXJjZShyLCBkKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gYXN5bmMucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcblxuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25FcnJvclNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvYWQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiB0YWtlIGEgd2lkZSB2YXJpZXR5IG9mIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiBUaGUgb25seSB0aGluZyB0aGF0IGlzIGFsd2F5c1xuICAgICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBsb2FkZXJcbiAgICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgICAqXG4gICAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MicsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge31cbiAgICAgKiAgICAgfSlcbiAgICAgKiAgICAgLmFkZCh7XG4gICAgICogICAgICAgICB1cmw6ICdodHRwczovLy4uLicsXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAgICogICAgIH0pXG4gICAgICpcbiAgICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICAgKiAgICAgLmFkZChbXG4gICAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIF0pXG4gICAgICpcbiAgICAgKiAgICAgLy8gYW5kIHlvdSBjYW4gdXNlIGJvdGggcGFyYW1zIGFuZCBvcHRpb25zXG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0byBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2UgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3cgc2hvdWxkXG4gICAgICogICAgICB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuICAgICAgICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgICAgICAgdXJsID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgbmFtZWQgXCInICsgbmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuICAgICAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgX1Jlc291cmNlMi5kZWZhdWx0KG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ub25BZnRlck1pZGRsZXdhcmUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnRSZXNvdXJjZTtcbiAgICAgICAgICAgIHZhciBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaV0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgICAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbltfaTJdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGJlZm9yZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBhbGlhcyB1c2VcbiAgICAgKiBAbWV0aG9kIGFmdGVyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgcXVldWUgb2YgdGhlIGxvYWRlciB0byBwcmVwYXJlIGZvciBhIG5ldyBsb2FkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgICAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IDEwMCAvIG51bVRhc2tzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLl90YXNrc1tpXS5kYXRhLnByb2dyZXNzQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm90aWZ5IHdlIGFyZSBzdGFydGluZ1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuXG4gICAgICAgICAgICAvLyBzdGFydCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcHJlcGFyZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgICAgICB2YXIgcGFyc2VkVXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodXJsLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoICYmIHRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZignLycpICE9PSB0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSAmJiB1cmwuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyAnLycgKyB1cmw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyKDAsIHJlc3VsdC5sZW5ndGggLSBoYXNoLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuaW5kZXhPZignPycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnJicgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICc/JyArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gaGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX2xvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuXG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczIsIHJlc291cmNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICAgICAgICAgIG5leHQocmVzb3VyY2UuaXNDb21wbGV0ZSA/IHt9IDogbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IE1BWF9QUk9HUkVTUztcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS5fZGVxdWV1ZSgpO1xuXG4gICAgICAgIC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuZGlzcGF0Y2gocmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBfdGhpczMucHJvZ3Jlc3MgKz0gcmVzb3VyY2UucHJvZ3Jlc3NDaHVuaztcbiAgICAgICAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbmN1cnJlbmN5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IExvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnNoYXJlZCA9IGV4cG9ydHMuUmVzb3VyY2UgPSBleHBvcnRzLnRleHR1cmVQYXJzZXIgPSBleHBvcnRzLmdldFJlc291cmNlUGF0aCA9IGV4cG9ydHMuc3ByaXRlc2hlZXRQYXJzZXIgPSBleHBvcnRzLnBhcnNlQml0bWFwRm9udERhdGEgPSBleHBvcnRzLmJpdG1hcEZvbnRQYXJzZXIgPSBleHBvcnRzLkxvYWRlciA9IHVuZGVmaW5lZDtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyID0gcmVxdWlyZSgnLi9iaXRtYXBGb250UGFyc2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYml0bWFwRm9udFBhcnNlcicsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0bWFwRm9udFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAncGFyc2VCaXRtYXBGb250RGF0YScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2JpdG1hcEZvbnRQYXJzZXIucGFyc2U7XG4gICAgfVxufSk7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXNoZWV0UGFyc2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnc3ByaXRlc2hlZXRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nwcml0ZXNoZWV0UGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRSZXNvdXJjZVBhdGgnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zcHJpdGVzaGVldFBhcnNlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgfVxufSk7XG5cbnZhciBfdGV4dHVyZVBhcnNlciA9IHJlcXVpcmUoJy4vdGV4dHVyZVBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RleHR1cmVQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RleHR1cmVQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZXNvdXJjZScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlO1xuICAgIH1cbn0pO1xuXG52YXIgX0FwcGxpY2F0aW9uID0gcmVxdWlyZSgnLi4vY29yZS9BcHBsaWNhdGlvbicpO1xuXG52YXIgX0FwcGxpY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FwcGxpY2F0aW9uKTtcblxudmFyIF9sb2FkZXIgPSByZXF1aXJlKCcuL2xvYWRlcicpO1xuXG52YXIgX2xvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2FkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIEFQSXMgd2hpY2ggZXh0ZW5kcyB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXIgcmVzb3VyY2UtbG9hZGVyfSBtb2R1bGVcbiAqIGZvciBsb2FkaW5nIGFzc2V0cywgZGF0YSwgYW5kIG90aGVyIHJlc291cmNlcyBkeW5hbWljYWxseS5cbiAqIEBleGFtcGxlXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlcigpO1xuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgIC8vIHJlc291cmNlcy5idW5ueVxuICogICAgLy8gcmVzb3VyY2VzLnNwYWNlc2hpcFxuICogfSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICovXG5leHBvcnRzLkxvYWRlciA9IF9sb2FkZXIyLmRlZmF1bHQ7XG5cblxuLyoqXG4gKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICogQG5hbWUgc2hhcmVkXG4gKiBAbWVtYmVyb2YgUElYSS5sb2FkZXJzXG4gKiBAdHlwZSB7UElYSS5sb2FkZXJzLkxvYWRlcn1cbiAqL1xudmFyIHNoYXJlZCA9IG5ldyBfbG9hZGVyMi5kZWZhdWx0KCk7XG5cbnNoYXJlZC5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHByb3RlY3QgZGVzdHJveWluZyBzaGFyZWQgbG9hZGVyXG59O1xuXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcblxuLy8gTWl4aW4gdGhlIGxvYWRlciBjb25zdHJ1Y3Rpb25cblxudmFyIEFwcFByb3RvdHlwZSA9IF9BcHBsaWNhdGlvbjIuZGVmYXVsdC5wcm90b3R5cGU7XG5cbkFwcFByb3RvdHlwZS5fbG9hZGVyID0gbnVsbDtcblxuLyoqXG4gKiBMb2FkZXIgaW5zdGFuY2UgdG8gaGVscCB3aXRoIGFzc2V0IGxvYWRpbmcuXG4gKiBAbmFtZSBQSVhJLkFwcGxpY2F0aW9uI2xvYWRlclxuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBQcm90b3R5cGUsICdsb2FkZXInLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVyKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkTG9hZGVyID0gdGhpcy5fb3B0aW9ucy5zaGFyZWRMb2FkZXI7XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRlciA9IHNoYXJlZExvYWRlciA/IHNoYXJlZCA6IG5ldyBfbG9hZGVyMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyO1xuICAgIH1cbn0pO1xuXG4vLyBPdmVycmlkZSB0aGUgZGVzdHJveSBmdW5jdGlvblxuLy8gbWFraW5nIHN1cmUgdG8gZGVzdHJveSB0aGUgY3VycmVudCBMb2FkZXJcbkFwcFByb3RvdHlwZS5fcGFyZW50RGVzdHJveSA9IEFwcFByb3RvdHlwZS5kZXN0cm95O1xuQXBwUHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICBpZiAodGhpcy5fbG9hZGVyKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3BhcmVudERlc3Ryb3kocmVtb3ZlVmlldyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkRhdGEnKTtcblxudmFyIF9JbnRlcmFjdGlvbkRhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25EYXRhKTtcblxudmFyIF9JbnRlcmFjdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkV2ZW50Jyk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkV2ZW50KTtcblxudmFyIF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnKTtcblxudmFyIF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2ludGVyYWN0aXZlVGFyZ2V0ID0gcmVxdWlyZSgnLi9pbnRlcmFjdGl2ZVRhcmdldCcpO1xuXG52YXIgX2ludGVyYWN0aXZlVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVyYWN0aXZlVGFyZ2V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5jb3JlLnV0aWxzLm1peGlucy5kZWxheU1peGluKGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIF9pbnRlcmFjdGl2ZVRhcmdldDIuZGVmYXVsdCk7XG5cbnZhciBNT1VTRV9QT0lOVEVSX0lEID0gMTtcblxuLy8gaGVscGVycyBmb3IgaGl0VGVzdCgpIC0gb25seSB1c2VkIGluc2lkZSBoaXRUZXN0KClcbnZhciBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsXG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgaW50ZXJhY3Rpb24gbWFuYWdlciBkZWFscyB3aXRoIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZVxuICogaWYgaXRzIGludGVyYWN0aXZlIHBhcmFtZXRlciBpcyBzZXQgdG8gdHJ1ZVxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xuXG52YXIgSW50ZXJhY3Rpb25NYW5hZ2VyID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoSW50ZXJhY3Rpb25NYW5hZ2VyLCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0PXRydWVdIC0gU2hvdWxkIHRoZSBtYW5hZ2VyIGF1dG9tYXRpY2FsbHkgcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3k9MTBdIC0gRnJlcXVlbmN5IGluY3JlYXNlcyB0aGUgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbk1hbmFnZXIocmVuZGVyZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgaW50ZXJhY3Rpb24gbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3lzdGVtUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0IDogdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyB0aGF0IHRoZSBtb3VzZW1vdmUsIG1vdmVvdmVyICYgbW91c2VvdXQgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW91c2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlID0gbmV3IF9JbnRlcmFjdGlvbkRhdGEyLmRlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG5cbiAgICAgICAgLy8gc2V0dGluZyB0aGUgbW91c2UgdG8gc3RhcnQgb2ZmIGZhciBvZmYgc2NyZWVuIHdpbGwgbWVhbiB0aGF0IG1vdXNlIG92ZXIgZG9lc1xuICAgICAgICAvLyAgbm90IGdldCBjYWxsZWQgYmVmb3JlIHdlIGV2ZW4gbW92ZSB0aGUgbW91c2UuXG4gICAgICAgIF90aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IF90aGlzLm1vdXNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVudXNlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmF0aW9uLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudERhdGEgPSBuZXcgX0ludGVyYWN0aW9uRXZlbnQyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcmlzb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJVcCA9IF90aGlzLm9uUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBfdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyRG93biA9IF90aGlzLm9uUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IF90aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJNb3ZlID0gX3RoaXMub25Qb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck91dCA9IF90aGlzLm9uUG9pbnRlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlck92ZXIgPSBfdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIChzdHJpbmd8RnVuY3Rpb258T2JqZWN0LjxzdHJpbmcsIHN0cmluZz4pPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZW1wUG9pbnQgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIF90aGlzLnNldFRhcmdldEVsZW1lbnQoX3RoaXMucmVuZGVyZXIudmlldywgX3RoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmhpdFRlc3QgPSBmdW5jdGlvbiBoaXRUZXN0KGdsb2JhbFBvaW50LCByb290KSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgaGl0IHRlc3RcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaGl0VGVzdEV2ZW50LCByb290LCBudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBmb3VuZCBvYmplY3QgLSBpdCdsbCBiZSBudWxsIGlmIHdlIGRpZG4ndCBoaXQgYW55dGhpbmdcblxuICAgICAgICByZXR1cm4gaGl0VGVzdEV2ZW50LnRhcmdldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxldGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gc2V0VGFyZ2V0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiBhZGRFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGlzZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpc2VkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuXG4gICAgICogSW52b2tlZCBieSBhIHRocm90dGxlZCB0aWNrZXIgdXBkYXRlIGZyb20ge0BsaW5rIFBJWEkudGlja2VyLnNoYXJlZH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLmRpZE1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0Q3Vyc29yTW9kZSA9IGZ1bmN0aW9uIHNldEN1cnNvck1vZGUobW9kZSkge1xuICAgICAgICBtb2RlID0gbW9kZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIC8vIGlmIHRoZSBtb2RlIGRpZG4ndCBhY3R1YWxseSBjaGFuZ2UsIGJhaWwgZWFybHlcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEN1cnNvck1vZGUgPT09IG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbW9kZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG5cbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHN0eWxlKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSkge1xuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wcGVkKSB7XG4gICAgICAgICAgICBldmVudERhdGEuY3VycmVudFRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICBldmVudERhdGEudHlwZSA9IGV2ZW50U3RyaW5nO1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmVtaXQoZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5tYXBQb3NpdGlvblRvUG9pbnQgPSBmdW5jdGlvbiBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb25NdWx0aXBsaWVyID0gbmF2aWdhdG9yLmlzQ29jb29uSlMgPyB0aGlzLnJlc29sdXRpb24gOiAxLjAgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgcG9pbnQueCA9ICh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCAvIHJlY3Qud2lkdGgpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdFxuICAgICAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2Z1bmNdIC0gdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBpbnRlcmFjdGl2ZSBvYmplY3QuIFRoZVxuICAgICAqICBpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0IGFuZCBoaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaW50ZXJhY3RpdmVdIC0gV2hldGhlciB0aGUgZGlzcGxheU9iamVjdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gcHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlKSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXNlZC4gXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pc2F0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXNhdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cblxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcblxuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRoaXMuX3RlbXBQb2ludCk7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEuY29udGFpbnModGhpcy5fdGVtcFBvaW50LngsIHRoaXMuX3RlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIG1hc2ssIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgbWFza1xuICAgICAgICBlbHNlIGlmIChkaXNwbGF5T2JqZWN0Ll9tYXNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGl0ID0gdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgYSBnb29kIGlkZWEgdG8gY2hlY2sgaWYgYSBjaGlsZCBoYXMgbG9zdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoaXQgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHByZXNzZWQgZG93blxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckRvd24gPSBmdW5jdGlvbiBvblBvaW50ZXJEb3duKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBHdWFyYW50ZWVkIHRoYXQgdGhlcmUgd2lsbCBiZSBhdCBsZWFzdCBvbmUgZXZlbnQgaW4gZXZlbnRzLCBhbmQgYWxsIGV2ZW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgcG9pbnRlciB0eXBlXG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJEb3duKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMi5kZWZhdWx0KGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjYW5jZWxsZWQgLSB0cnVlIGlmIHRoZSBwb2ludGVyIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiBwYXNzZWQgdG8ge0BsaW5rIHByb2Nlc3NJbnRlcmFjdGl2ZX1cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlckNvbXBsZXRlKG9yaWdpbmFsRXZlbnQsIGNhbmNlbGxlZCwgZnVuYykge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCBmdW5jLCBjYW5jZWxsZWQgfHwgIWV2ZW50QXBwZW5kKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6ICdwb2ludGVydXAnICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyArIGV2ZW50QXBwZW5kIDogJ21vdXNldXAnICsgZXZlbnRBcHBlbmQsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogJ3RvdWNoZW5kJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkLCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsKGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlckNhbmNlbChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyVXAgPSBmdW5jdGlvbiBvblBvaW50ZXJVcChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciB1cCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJVcChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSBkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdC5GTEFHUztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmIHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3Q7XG5cbiAgICAgICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Rvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb2ludGVycyBhbmQgVG91Y2hlcywgYW5kIE1vdXNlXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hlcyBhcmUgbm8gbG9uZ2VyIG92ZXIgKGlmIHRoZXkgZXZlciB3ZXJlKSB3aGVuIHdlIGdldCB0aGUgdG91Y2hlbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGRvbid0IGtlZXAgcHJldGVuZGluZyB0aGF0IHRoZXkgYXJlXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyTW92ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlck1vdmUob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3RpdmUgPSBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyA/IHRoaXMubW92ZVdoZW5JbnNpZGUgOiB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCBpbnRlcmFjdGl2ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgbW92ZSBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck1vdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3Blbic7XG5cbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIG9uUG9pbnRlck91dChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3Blbic7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMi5kZWZhdWx0KGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcikge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIG9uUG9pbnRlck92ZXIob3JpZ2luYWxFdmVudCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHBvaW50ZXJJZCA9PT0gTU9VU0VfUE9JTlRFUl9JRCB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5tb3VzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnBvcCgpIHx8IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5fY29weUV2ZW50KGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdW51c2VkIEludGVyYWN0aW9uRGF0YSB0byB0aGUgcG9vbCwgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBJZGVudGlmaWVyIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIHJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQocG9pbnRlcklkKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLl9yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSB3YXkgSW50ZXJhY3Rpb25NYW5hZ2VyIHByb2Nlc3NlZCB0b3VjaCBldmVudHMgYmVmb3JlIHRoZSByZWZhY3RvcmluZywgc28gSSd2ZSBrZXB0XG4gICAgICAgIC8vIGl0IGhlcmUuIEJ1dCBpdCBkb2Vzbid0IG1ha2UgdGhhdCBtdWNoIHNlbnNlIHRvIG1lLCBzaW5jZSBtYXBQb3NpdGlvblRvUG9pbnQgYWxyZWFkeSBmYWN0b3JzXG4gICAgICAgIC8vIGluIHRoaXMucmVzb2x1dGlvbiwgc28gdGhpcyBqdXN0IGRpdmlkZXMgYnkgdGhpcy5yZXNvbHV0aW9uIHR3aWNlIGZvciB0b3VjaCBldmVudHMuLi5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuX3Jlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRXZlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplVG9Qb2ludGVyRGF0YSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b24gPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKSB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgICAgICAgICAgdG91Y2gudHdpc3QgPSAwO1xuICAgICAgICAgICAgICAgIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlLCBhcyBsYXllclgvWSBpcyBub3QgYSBzdGFuZGFyZCwgaXMgZGVwcmVjYXRlZCwgaGFzIHVuZXZlblxuICAgICAgICAgICAgICAgIC8vIHN1cHBvcnQsIGFuZCB0aGUgZmlsbCBpbnMgYXJlIG5vdCBxdWl0ZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIG9mZnNldFgvWSBtaWdodCBiZSBva2F5LCBidXQgaXMgbm90IHRoZSBzYW1lIGFzIGNsaWVudFgvWSB3aGVuIHRoZSBjYW52YXMncyB0b3BcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGlzIG5vdCAwLDAgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSBldmVudC5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKSBldmVudC53aWR0aCA9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSBldmVudC5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFggPT09ICd1bmRlZmluZWQnKSBldmVudC50aWx0WCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgZXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgZXZlbnQucG9pbnRlcklkID0gTU9VU0VfUE9JTlRFUl9JRDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgZXZlbnQucHJlc3N1cmUgPSAwLjU7XG4gICAgICAgICAgICAgICAgZXZlbnQudHdpc3QgPSAwO1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICBldmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25NYW5hZ2VyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25NYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9JbnRlcmFjdGlvbkRhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uRGF0YScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uRGF0YScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25NYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbk1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvbk1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbk1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2ludGVyYWN0aXZlVGFyZ2V0ID0gcmVxdWlyZSgnLi9pbnRlcmFjdGl2ZVRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ludGVyYWN0aXZlVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW50ZXJhY3RpdmVUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uRXZlbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvbkV2ZW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGFcbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhBbHBoYUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMS4wO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbHBoYUZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICBfdGhpcy5nbFNoYWRlcktleSA9ICdhbHBoYSc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbHBoYUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFscGhhRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxwaGFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhDb2xvck1hdHJpeEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xvck1hdHJpeEZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLnVuaWZvcm1zLm0gPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIF9sb2FkTWF0cml4KG1hdHJpeCkge1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiBfbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbNV0gKyBhWzJdICogYlsxMF0gKyBhWzNdICogYlsxNV07XG4gICAgICAgIG91dFsxXSA9IGFbMF0gKiBiWzFdICsgYVsxXSAqIGJbNl0gKyBhWzJdICogYlsxMV0gKyBhWzNdICogYlsxNl07XG4gICAgICAgIG91dFsyXSA9IGFbMF0gKiBiWzJdICsgYVsxXSAqIGJbN10gKyBhWzJdICogYlsxMl0gKyBhWzNdICogYlsxN107XG4gICAgICAgIG91dFszXSA9IGFbMF0gKiBiWzNdICsgYVsxXSAqIGJbOF0gKyBhWzJdICogYlsxM10gKyBhWzNdICogYlsxOF07XG4gICAgICAgIG91dFs0XSA9IGFbMF0gKiBiWzRdICsgYVsxXSAqIGJbOV0gKyBhWzJdICogYlsxNF0gKyBhWzNdICogYlsxOV0gKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gYVs1XSAqIGJbMF0gKyBhWzZdICogYls1XSArIGFbN10gKiBiWzEwXSArIGFbOF0gKiBiWzE1XTtcbiAgICAgICAgb3V0WzZdID0gYVs1XSAqIGJbMV0gKyBhWzZdICogYls2XSArIGFbN10gKiBiWzExXSArIGFbOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzddID0gYVs1XSAqIGJbMl0gKyBhWzZdICogYls3XSArIGFbN10gKiBiWzEyXSArIGFbOF0gKiBiWzE3XTtcbiAgICAgICAgb3V0WzhdID0gYVs1XSAqIGJbM10gKyBhWzZdICogYls4XSArIGFbN10gKiBiWzEzXSArIGFbOF0gKiBiWzE4XTtcbiAgICAgICAgb3V0WzldID0gYVs1XSAqIGJbNF0gKyBhWzZdICogYls5XSArIGFbN10gKiBiWzE0XSArIGFbOF0gKiBiWzE5XSArIGFbOV07XG5cbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSBhWzEwXSAqIGJbMF0gKyBhWzExXSAqIGJbNV0gKyBhWzEyXSAqIGJbMTBdICsgYVsxM10gKiBiWzE1XTtcbiAgICAgICAgb3V0WzExXSA9IGFbMTBdICogYlsxXSArIGFbMTFdICogYls2XSArIGFbMTJdICogYlsxMV0gKyBhWzEzXSAqIGJbMTZdO1xuICAgICAgICBvdXRbMTJdID0gYVsxMF0gKiBiWzJdICsgYVsxMV0gKiBiWzddICsgYVsxMl0gKiBiWzEyXSArIGFbMTNdICogYlsxN107XG4gICAgICAgIG91dFsxM10gPSBhWzEwXSAqIGJbM10gKyBhWzExXSAqIGJbOF0gKyBhWzEyXSAqIGJbMTNdICsgYVsxM10gKiBiWzE4XTtcbiAgICAgICAgb3V0WzE0XSA9IGFbMTBdICogYls0XSArIGFbMTFdICogYls5XSArIGFbMTJdICogYlsxNF0gKyBhWzEzXSAqIGJbMTldICsgYVsxNF07XG5cbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gYVsxNV0gKiBiWzBdICsgYVsxNl0gKiBiWzVdICsgYVsxN10gKiBiWzEwXSArIGFbMThdICogYlsxNV07XG4gICAgICAgIG91dFsxNl0gPSBhWzE1XSAqIGJbMV0gKyBhWzE2XSAqIGJbNl0gKyBhWzE3XSAqIGJbMTFdICsgYVsxOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzE3XSA9IGFbMTVdICogYlsyXSArIGFbMTZdICogYls3XSArIGFbMTddICogYlsxMl0gKyBhWzE4XSAqIGJbMTddO1xuICAgICAgICBvdXRbMThdID0gYVsxNV0gKiBiWzNdICsgYVsxNl0gKiBiWzhdICsgYVsxN10gKiBiWzEzXSArIGFbMThdICogYlsxOF07XG4gICAgICAgIG91dFsxOV0gPSBhWzE1XSAqIGJbNF0gKyBhWzE2XSAqIGJbOV0gKyBhWzE3XSAqIGJbMTRdICsgYVsxOF0gKiBiWzE5XSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gX2NvbG9yTWF0cml4KG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuXG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIGJyaWdodG5lc3MoYiwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlKHNjYWxlLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW3NjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiBibGFja0FuZFdoaXRlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiBodWUocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcblxuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuICAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG4gICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgxLjAgLSBjb3NSKSAqIHc7XG4gICAgICAgIHZhciBhMDEgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMDIgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG5cbiAgICAgICAgdmFyIGExMCA9IHcgKiAoMS4wIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyB3ICogKDEuMCAtIGNvc1IpO1xuICAgICAgICB2YXIgYTEyID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuXG4gICAgICAgIHZhciBhMjAgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjEgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgdyAqICgxLjAgLSBjb3NSKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW2EwMCwgYTAxLCBhMDIsIDAsIDAsIGExMCwgYTExLCBhMTIsIDAsIDAsIGEyMCwgYTIxLCBhMjIsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIGNvbnRyYXN0KGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW3YsIDAsIDAsIDAsIG8sIDAsIHYsIDAsIDAsIG8sIDAsIDAsIHYsIDAsIG8sIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIHNhdHVyYXRlKCkge1xuICAgICAgICB2YXIgYW1vdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIHggPSBhbW91bnQgKiAyIC8gMyArIDE7XG4gICAgICAgIHZhciB5ID0gKHggLSAxKSAqIC0wLjU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFt4LCB5LCB5LCAwLCAwLCB5LCB4LCB5LCAwLCAwLCB5LCB5LCB4LCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gZGVzYXR1cmF0ZSgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLCAxLCAxLCAwLCAwLCAxLCAwLCAxLCAwLCAwLCAxLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCwgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCwgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIHRlY2huaWNvbG9yKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LCAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gcG9sYXJvaWQobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCwgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUihtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24ga29kYWNocm9tZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLCAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLCAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIGJyb3duaShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gY29sb3JUb25lKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuXG4gICAgICAgIHZhciBsUiA9IChsaWdodENvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9IChsaWdodENvbG9yID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoZGFya0NvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9IChkYXJrQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjMsIDAuNTksIDAuMTEsIDAsIDAsIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCwgZFIsIGRHLCBkQiwgdG9uZWQsIDAsIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW2ludGVuc2l0eSAqIC0yLjAsIC1pbnRlbnNpdHksIDAsIDAsIDAsIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCwgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIHByZWRhdG9yKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgLy8gcm93IDFcbiAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LCAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyAyXG4gICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LCAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsIDAgKiBhbW91bnQsIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDNcbiAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCwgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCwgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDRcbiAgICAgICAgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzIsIC0wLjQsIDAuNSwgMCwgMCwgLTAuNSwgMiwgLTAuNCwgMCwgMCwgLTAuNCwgLTAuNSwgMywgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xvck1hdHJpeEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbWF0cml4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbG9yTWF0cml4RmlsdGVyO1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hdHJpeEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmx1clhGaWx0ZXIgPSByZXF1aXJlKCcuL0JsdXJYRmlsdGVyJyk7XG5cbnZhciBfQmx1clhGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1clhGaWx0ZXIpO1xuXG52YXIgX0JsdXJZRmlsdGVyID0gcmVxdWlyZSgnLi9CbHVyWUZpbHRlcicpO1xuXG52YXIgX0JsdXJZRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB4LSBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1ckZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1ckZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmJsdXJYRmlsdGVyID0gbmV3IF9CbHVyWEZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IF9CbHVyWUZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cblxuXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcblxuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIHRydWUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBmYWxzZSk7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyWCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXJZJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmxlbmRNb2RlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1ckZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuIFlvdSBjYW5cbiAqIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLiBDdXJyZW50bHkgdGhlIHJcbiAqIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB4IGFuZCB0aGUgZyBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZVxuICogaXMgdXNlZCB0byBvZmZzZXQgdGhlIHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3BsYWNlbWVudEZpbHRlcik7XG5cbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxudW5pZm9ybSB2ZWM0IGZpbHRlckNsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSAqPSBzY2FsZSAvIGZpbHRlckFyZWEueHk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBfdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5zY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuXG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgY29yZS5Qb2ludChzY2FsZSwgc2NhbGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxhY2VtZW50RmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdtYXAnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxhY2VtZW50RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERpc3BsYWNlbWVudEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYWNlbWVudEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhOb2lzZUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBub2lzZSAtIFRoZSBub2lzZSBpbnRlbnNpdHksIHNob3VsZCBiZSBhIG5vcm1hbGl6ZWQgdmFsdWUgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2VlZCAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcigpIHtcbiAgICAgICAgdmFyIG5vaXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwLjU7XG4gICAgICAgIHZhciBzZWVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBNYXRoLnJhbmRvbSgpO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2lzZUZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5ub2lzZSA9IG5vaXNlO1xuICAgICAgICBfdGhpcy5zZWVkID0gc2VlZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2Ygbm9pc2UgdG8gYXBwbHksIHRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSAoMCwgMV0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhOb2lzZUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbm9pc2UnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZWVkJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTm9pc2VGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTm9pc2VGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob2lzZUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqXG4gKiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXG4gKiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcbiAqIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRlhBQUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZYQUFGaWx0ZXIpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZlYzIgbWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcbntcXG4gICAgY29vcmQgKj0gZmlsdGVyQXJlYS54eTtcXG4gICAgY29vcmQgKz0gZmlsdGVyQXJlYS56dztcXG5cXG4gICAgcmV0dXJuIGNvb3JkO1xcbn1cXG5cXG52ZWMyIHVubWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcbntcXG4gICAgY29vcmQgLT0gZmlsdGVyQXJlYS56dztcXG4gICAgY29vcmQgLz0gZmlsdGVyQXJlYS54eTtcXG5cXG4gICAgcmV0dXJuIGNvb3JkO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiByZXNvbHV0aW9uLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjMiBpbnZlcnNlVlAgPSAxLjAgLyByZXNvbHV0aW9uLnh5O1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG5cXG4gICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgIHRleGNvb3JkcyhmcmFnQ29vcmQsIGZpbHRlckFyZWEueHksIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0XFwnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG4gXFxuIC0tXFxuIFxcbiBGcm9tOlxcbiBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxcbiBcXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcbiBcXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuIFxcbiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcbiBtZXQ6XFxuIFxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG4gXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcbiBcXG4gKiBUaGUgbmFtZXMgb2YgdGhlIGNvbnRyaWJ1dG9ycyBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvclxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXG4gcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxcbiBcXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxcbiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXG4gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxuIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcXG4gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxuICovXFxuXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuI2VuZGlmXFxuXFxuLy9vcHRpbWl6ZWQgdmVyc2lvbiBmb3IgbW9iaWxlLCB3aGVyZSBkZXBlbmRlbnRcXG4vL3RleHR1cmUgcmVhZHMgY2FuIGJlIGEgYm90dGxlbmVja1xcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiByZXNvbHV0aW9uLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIG1lZGl1bXAgdmVjMiBpbnZlcnNlVlAgPSB2ZWMyKDEuMCAvIHJlc29sdXRpb24ueCwgMS4wIC8gcmVzb2x1dGlvbi55KTtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTkUpLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU1cpLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXG4gICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTSk7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXhDb2xvci54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIFxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG4gICAgXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuICAgIFxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogaW52ZXJzZVZQO1xcbiAgICBcXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG4gICAgXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjMiBmcmFnQ29vcmQgPSB2VGV4dHVyZUNvb3JkICogZmlsdGVyQXJlYS54eTtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBGWEFBRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZYQUFGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GWEFBRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9GWEFBRmlsdGVyID0gcmVxdWlyZSgnLi9meGFhL0ZYQUFGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGWEFBRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRlhBQUZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfTm9pc2VGaWx0ZXIgPSByZXF1aXJlKCcuL25vaXNlL05vaXNlRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTm9pc2VGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob2lzZUZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRGlzcGxhY2VtZW50RmlsdGVyID0gcmVxdWlyZSgnLi9kaXNwbGFjZW1lbnQvRGlzcGxhY2VtZW50RmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRGlzcGxhY2VtZW50RmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcGxhY2VtZW50RmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CbHVyRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1ckZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1clhGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1clhGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyWEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJYRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CbHVyWUZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyWUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JsdXJZRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1cllGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NvbG9yTWF0cml4RmlsdGVyID0gcmVxdWlyZSgnLi9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvbG9yTWF0cml4RmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3JNYXRyaXhGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FscGhhRmlsdGVyID0gcmVxdWlyZSgnLi9hbHBoYS9BbHBoYUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FscGhhRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWxwaGFGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLiBJZiBudWxsIGEgbmV3IHBvaW50IHdpbGwgYmUgcmV0dXJuZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIHNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3RcbiAqIEByZXR1cm4ge1BvaW50fSBUaGUgdXBkYXRlZCBwb2ludFxuICovXG5jb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24oKSB7XG4gICAgdmFyIHBvaW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBuZXcgY29yZS5Qb2ludCgpO1xuICAgIHZhciBza2lwVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0R2xvYmFsUG9zaXRpb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5jb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLm5hbWUgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIGdldENoaWxkQnlOYW1lXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIGluc3RhbmNlIG5hbWVcbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5jb3JlLkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2hpbGRCeU5hbWUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERpc3BsYXlPYmplY3QgPSBjb3JlLkRpc3BsYXlPYmplY3Q7XG52YXIgX3RlbXBNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBmYWxzZTtcblxuLy8gZmlndXJlZCB0aGVyZXMgbm8gcG9pbnQgYWRkaW5nIEFMTCB0aGUgZXh0cmEgdmFyaWFibGVzIHRvIHByb3RvdHlwZS5cbi8vIHRoaXMgbW9kZWwgY2FuIGhvbGQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZC4gVGhpcyBjYW4gYWxzbyBiZSBnZW5lcmF0ZWQgb24gZGVtYW5kIGFzXG4vLyBtb3N0IG9iamVjdHMgYXJlIG5vdCBjYWNoZWQgYXMgYml0bWFwcy5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cblxudmFyIENhY2hlRGF0YSA9XG4vKipcbiAqXG4gKi9cbmZ1bmN0aW9uIENhY2hlRGF0YSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FjaGVEYXRhKTtcblxuICAgIHRoaXMudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlcldlYkdMID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEhpdFRlc3QgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvICdmYWxzZSdcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBtYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0gdm9pZCAwO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJXZWJHTCA9IHRoaXMucmVuZGVyV2ViR0w7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcldlYkdMID0gdGhpcy5fcmVuZGVyQ2FjaGVkV2ViR0w7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNwcml0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyV2ViR0wgPSBkYXRhLm9yaWdpbmFsUmVuZGVyV2ViR0w7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRXZWJHTChyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcbn07XG5cbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLy8gZmlyc3Qgd2UgZmx1c2ggYW55dGhpbmcgbGVmdCBpbiB0aGUgcmVuZGVyZXIgKG90aGVyd2lzZSBpdCB3b3VsZCBnZXQgcmVuZGVyZWQgdG8gdGhlIGNhY2hlZCB0ZXh0dXJlKVxuICAgIHJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuICAgIC8vIHRoaXMuZmlsdGVycz0gW107XG5cbiAgICAvLyBuZXh0IHdlIGZpbmQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHVudHJhbnNmb3JtZWQgb2JqZWN0XG4gICAgLy8gdGhpcyBmdW5jdGlvbiBhbHNvIGNhbGxzIHVwZGF0ZXRyYW5zZm9ybSBvbiBhbGwgaXRzIGNoaWxkcmVuIGFzIHBhcnQgb2YgdGhlIG1lYXN1cmluZy5cbiAgICAvLyBUaGlzIG1lYW5zIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSB0cmFuc2Zvcm0gYWdhaW4gaW4gdGhpcyBmdW5jdGlvblxuICAgIC8vIFRPRE8gcGFzcyBhbiBvYmplY3QgdG8gY2xvbmUgdG9vPyBzYXZlcyBoYXZpbmcgdG8gY3JlYXRlIGEgbmV3IG9uZSBlYWNoIHRpbWUhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5jbG9uZSgpO1xuXG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5fZmlsdGVycykge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuX2ZpbHRlcnNbMF0ucGFkZGluZztcblxuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cblxuICAgIC8vIGZvciBub3cgd2UgY2FjaGUgdGhlIGN1cnJlbnQgcmVuZGVyVGFyZ2V0IHRoYXQgdGhlIHdlYkdMIHJlbmRlcmVyIGlzIGN1cnJlbnRseSB1c2luZy5cbiAgICAvLyB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2VudC4uXG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICB2YXIgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuXG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gY29yZS5SZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGggfCAwLCBib3VuZHMuaGVpZ2h0IHwgMCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSAnY2FjaGVBc0JpdG1hcF8nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIG0udHggPSAtYm91bmRzLng7XG4gICAgbS50eSA9IC1ib3VuZHMueTtcblxuICAgIC8vIHJlc2V0XG4gICAgdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uaWRlbnRpdHkoKTtcblxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJXZWJHTDtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcblxuICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQoY2FjaGVkUmVuZGVyVGFyZ2V0KTtcblxuICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcblxuICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9yZW5kZXJDYWNoZWRXZWJHTDtcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IGNvcmUuU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuXG4gICAgLy8gZWFzeSBib3VuZHMuLlxuICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnJlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSB3ZWJHTCB2ZXJpc29uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IGNvcmUuUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoIHwgMCwgYm91bmRzLmhlaWdodCB8IDApO1xuXG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gJ2NhY2hlQXNCaXRtYXBfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5KG0pO1xuICAgIG0uaW52ZXJ0KCk7XG5cbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG5cbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG5cbiAgICAvLyByZW5kZXJUZXh0dXJlLnJlbmRlcih0aGlzLCBtLCB0cnVlKTtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuXG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIuY29udGV4dCA9IGNhY2hlZFJlbmRlclRhcmdldDtcblxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IGNvcmUuU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcygpIHtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtSZWN0YW5nbGV9IFRoZSBsb2NhbCBib3VuZHMuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRDYWNoZWRMb2NhbEJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gKiAgVXNlZCB3aGVuIGRlc3Ryb3lpbmcgY29udGFpbmVycywgc2VlIHRoZSBDb250YWluZXIuZGVzdHJveSBtZXRob2QuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveSA9IGZ1bmN0aW9uIF9jYWNoZUFzQml0bWFwRGVzdHJveShvcHRpb25zKSB7XG4gICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlQXNCaXRtYXAuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX09ic2VydmFibGVQb2ludCA9IHJlcXVpcmUoJy4uL2NvcmUvbWF0aC9PYnNlcnZhYmxlUG9pbnQnKTtcblxudmFyIF9PYnNlcnZhYmxlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JzZXJ2YWJsZVBvaW50KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2NvcmUvc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIEJpdG1hcFRleHQgb2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0IHVzaW5nIGJpdG1hcCBmb250LiBUb1xuICogc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy4gWW91IGNhbiBnZW5lcmF0ZSB0aGUgZm50IGZpbGVzIHVzaW5nOlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuZXh0cmFzLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciB3aW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgbWFjLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICovXG52YXIgQml0bWFwVGV4dCA9IGZ1bmN0aW9uIChfY29yZSRDb250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoQml0bWFwVGV4dCwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIGNvcHkgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHN0eWxlLmZvbnQgLSBUaGUgZm9udCBkZXNjcmlwdG9yIGZvciB0aGUgb2JqZWN0LCBjYW4gYmUgcGFzc2VkIGFzIGEgc3RyaW5nIG9mIGZvcm1cbiAgICAgKiAgICAgIFwiMjRweCBGb250TmFtZVwiIG9yIFwiRm9udE5hbWVcIiBvciBhcyBhbiBvYmplY3Qgd2l0aCBleHBsaWNpdCBuYW1lL3NpemUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnQubmFtZV0gLSBUaGUgYml0bWFwIGZvbnQgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnQuc2l6ZV0gLSBUaGUgc2l6ZSBvZiB0aGUgZm9udCBpbiBwaXhlbHMsIGUuZy4gMjRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3RcbiAgICAgKiAgICAgIHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQml0bWFwVGV4dCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl90ZXh0V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGxldHRlciBzcHJpdGUgcG9vbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbHlwaHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnQgPSB7XG4gICAgICAgICAgICB0aW50OiBzdHlsZS50aW50ICE9PSB1bmRlZmluZWQgPyBzdHlsZS50aW50IDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbGlnbjogc3R5bGUuYWxpZ24gfHwgJ2xlZnQnLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHNpemU6IDBcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb250ID0gc3R5bGUuZm9udDsgLy8gcnVuIGZvbnQgc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSB0ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgX09ic2VydmFibGVQb2ludDIuZGVmYXVsdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpcnR5IHN0YXRlIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0KCkge1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udC5zaXplIC8gZGF0YS5zaXplO1xuICAgICAgICB2YXIgcG9zID0gbmV3IGNvcmUuUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG5cbiAgICAgICAgdmFyIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgdmFyIGxhc3RTcGFjZSA9IC0xO1xuICAgICAgICB2YXIgbGFzdFNwYWNlV2lkdGggPSAwO1xuICAgICAgICB2YXIgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdGhpcy50ZXh0LmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgvKFxccykvLnRlc3QodGhpcy50ZXh0LmNoYXJBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBsYXN0U3BhY2UgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RTcGFjZVdpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKC8oPzpcXHJcXG58XFxyfFxcbikvLnRlc3QodGhpcy50ZXh0LmNoYXJBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXN0U3BhY2UgIT09IC0xICYmIHRoaXMuX21heFdpZHRoID4gMCAmJiBwb3MueCAqIHNjYWxlID4gdGhpcy5fbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjb3JlLnV0aWxzLnJlbW92ZUl0ZW1zKGNoYXJzLCBsYXN0U3BhY2UgLSBzcGFjZXNSZW1vdmVkLCBpIC0gbGFzdFNwYWNlKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdFNwYWNlO1xuICAgICAgICAgICAgICAgIGxhc3RTcGFjZSA9IC0xO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0U3BhY2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0U3BhY2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcblxuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogY2hhckRhdGEudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiBjaGFyQ29kZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGNvcmUuUG9pbnQocG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0LCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueCArIChjaGFyRGF0YS50ZXh0dXJlLndpZHRoICsgY2hhckRhdGEueE9mZnNldCk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZTtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCBjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG5cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDw9IGxpbmU7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250LmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsZW5DaGFyczsgX2kyKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5fZ2x5cGhzW19pMl07IC8vIGdldCB0aGUgbmV4dCBnbHlwaCBzcHJpdGVcblxuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tfaTJdLnRleHR1cmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMgPSBuZXcgY29yZS5TcHJpdGUoY2hhcnNbX2kyXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5wb3NpdGlvbi54ID0gKGNoYXJzW19pMl0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbX2kyXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW19pMl0ucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5zY2FsZS54ID0gYy5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICBjLnRpbnQgPSB0aW50O1xuXG4gICAgICAgICAgICBpZiAoIWMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bm5lY2Vzc2FyeSBjaGlsZHJlbi5cbiAgICAgICAgZm9yICh2YXIgX2kzID0gbGVuQ2hhcnM7IF9pMyA8IHRoaXMuX2dseXBocy5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2dseXBoc1tfaTNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBsZW5DaGFyczsgX2k0KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbX2k0XS54IC09IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW19pNF0ueSAtPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gX2NvcmUkQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHdpdGggYWxsIHN5bWJvbHMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIHJlZ2lzdGVyRm9udCh4bWwsIHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJylbMF07XG4gICAgICAgIHZhciBmaWxlTmFtZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpWzBdLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuICAgICAgICB2YXIgcmVzID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGZpbGVOYW1lLCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTik7XG5cbiAgICAgICAgZGF0YS5mb250ID0gaW5mby5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKTtcbiAgICAgICAgZGF0YS5zaXplID0gcGFyc2VJbnQoaW5mby5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApO1xuICAgICAgICBkYXRhLmxpbmVIZWlnaHQgPSBwYXJzZUludChjb21tb24uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSAvIHJlcztcbiAgICAgICAgZGF0YS5jaGFycyA9IHt9O1xuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApO1xuXG4gICAgICAgICAgICB2YXIgdGV4dHVyZVJlY3QgPSBuZXcgY29yZS5SZWN0YW5nbGUocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMgKyB0ZXh0dXJlLmZyYW1lLnggLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzICsgdGV4dHVyZS5mcmFtZS55IC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCkgLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCkgLyByZXMpO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBjb3JlLlRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZVJlY3QpXG5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICB2YXIga2VybmluZ3MgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2tlcm5pbmcnKTtcblxuICAgICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBrZXJuaW5ncy5sZW5ndGg7IF9pNSsrKSB7XG4gICAgICAgICAgICB2YXIga2VybmluZyA9IGtlcm5pbmdzW19pNV07XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIHNlY29uZCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdhbW91bnQnKSwgMTApIC8gcmVzO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKEJpdG1hcFRleHQsIFt7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250LnRpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC50aW50ID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+PSAwID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udC5hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgMCwwIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0XG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAwLjUsMC41IG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAxLDEgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xvYmplY3R9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHZhbHVlLmxlbmd0aCA+PSAyID8gcGFyc2VJbnQodmFsdWVbMF0sIDEwKSA6IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXS5zaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyA/IHZhbHVlLnNpemUgOiBwYXJzZUludCh2YWx1ZS5zaXplLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkgfHwgJyAnO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWF4V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21heExpbmVIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1hcFRleHQ7XG5cblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwVGV4dC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb3JlL2NvbnN0Jyk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcE1hdCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5cbnZhciBUaWxpbmdTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhUaWxpbmdTcHJpdGVSZW5kZXJlciwgX2NvcmUkT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2ltcGxlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucXVhZCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgY29yZS5TaGFkZXIoZ2wsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IG1vZCh2VGV4dHVyZUNvb3JkIC0gdUNsYW1wT2Zmc2V0LCB2ZWMyKDEuMCwgMS4wKSkgKyB1Q2xhbXBPZmZzZXQ7XFxuICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xcbiAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xcblxcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgY29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcbicpO1xuICAgICAgICB0aGlzLnNpbXBsZVNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcbicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyhudWxsKTtcbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IGNvcmUuUXVhZChnbCwgdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJTdGF0ZSk7XG4gICAgICAgIHRoaXMucXVhZC5pbml0VmFvKHRoaXMuc2hhZGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gdHMgdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIodHMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHF1YWQgPSB0aGlzLnF1YWQ7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhxdWFkLnZhbyk7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gdHMuX3dpZHRoICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gdHMuX3dpZHRoICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuXG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWFkLnVwbG9hZCgpO1xuXG4gICAgICAgIHZhciB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciB1diA9IHRzLnV2VHJhbnNmb3JtO1xuICAgICAgICB2YXIgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3byAmJiB0ZXguZnJhbWUud2lkdGggPT09IGJhc2VUZXgud2lkdGggJiYgdGV4LmZyYW1lLmhlaWdodCA9PT0gYmFzZVRleC5oZWlnaHQ7XG5cbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBfY29uc3QuV1JBUF9NT0RFUy5DTEFNUCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTaW1wbGUgPSBiYXNlVGV4LndyYXBNb2RlICE9PSBfY29uc3QuV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHZhciB3ID0gdGV4LndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIHZhciBXID0gdHMuX3dpZHRoO1xuICAgICAgICB2YXIgSCA9IHRzLl9oZWlnaHQ7XG5cbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG5cbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuXG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBjb3JlLnV0aWxzLnByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLCBzaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4LnByZW11bHRpcGxpZWRBbHBoYSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHJlbmRlcmVyLmJpbmRUZXh0dXJlKHRleCk7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIGJhc2VUZXgucHJlbXVsdGlwbGllZEFscGhhKSk7XG5cbiAgICAgICAgcXVhZC52YW8uZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigndGlsaW5nU3ByaXRlJywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4uL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyJyk7XG5cbnZhciBfQ2FudmFzVGludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1RpbnRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBjb3JlLlBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZSA9IGZ1bmN0aW9uIChfY29yZSRTcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoVGlsaW5nU3ByaXRlLCBfY29yZSRTcHJpdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1TdGF0aWN9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBjb3JlLlRyYW5zZm9ybVN0YXRpYygpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbnZhcyBwYXR0ZXJuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0cmFuc2Zvcm0gdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZUcmFuc2Zvcm0gPSB0ZXh0dXJlLnRyYW5zZm9ybSB8fCBuZXcgY29yZS5UZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyV2ViR0wnIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBhIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBtb2RYID0gdGhpcy50aWxlUG9zaXRpb24ueCAvIHRoaXMudGlsZVNjYWxlLnggJSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFkgPSB0aGlzLnRpbGVQb3NpdGlvbi55IC8gdGhpcy50aWxlU2NhbGUueSAlIHRleHR1cmUuX2ZyYW1lLmhlaWdodCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcblxuICAgICAgICAvLyBjcmVhdGUgYSBuaWNlIHNoaW55IHBhdHRlcm4hXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEIHx8IHRoaXMuY2FjaGVkVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgICAgIC8vIGN1dCBhbiBvYmplY3QgZnJvbSBhIHNwcml0ZXNoZWV0Li5cbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHRleHR1cmUuX2ZyYW1lLndpZHRoLCB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQsIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIC8vIFRpbnQgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbnQgIT09IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW50ZWRUZXh0dXJlID0gX0NhbnZhc1RpbnRlcjIuZGVmYXVsdC5nZXRUaW50ZWRUZXh0dXJlKHRoaXMsIHRoaXMudGludCk7XG4gICAgICAgICAgICAgICAgdGVtcENhbnZhcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRpbnRlZFRleHR1cmUsIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wQ2FudmFzLmNvbnRleHQuZHJhd0ltYWdlKGJhc2VUZXh0dXJlLnNvdXJjZSwgLXRleHR1cmUuX2ZyYW1lLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIC10ZXh0dXJlLl9mcmFtZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSB0ZW1wQ2FudmFzLmNvbnRleHQuY3JlYXRlUGF0dGVybih0ZW1wQ2FudmFzLmNhbnZhcywgJ3JlcGVhdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGNvbnRleHQgc3RhdGUuLlxuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgLy8gZmlsbCB0aGUgcGF0dGVybiFcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9jYW52YXNQYXR0ZXJuO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIHNob3VsZCBiZSByb2xsZWQgaW50byB0aGUgc2V0VHJhbnNmb3JtIGFib3ZlLi5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnRpbGVTY2FsZS54IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLnRpbGVTY2FsZS55IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcblxuICAgICAgICB2YXIgYW5jaG9yWCA9IHRoaXMuYW5jaG9yLnggKiAtdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBhbmNob3JZID0gdGhpcy5hbmNob3IueSAqIC10aGlzLl9oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHRoaXMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShtb2RYLCBtb2RZKTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgtbW9kWCArIGFuY2hvclgsIC1tb2RZICsgYW5jaG9yWSwgdGhpcy5fd2lkdGggLyB0aGlzLnRpbGVTY2FsZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLl9oZWlnaHQgLyB0aGlzLnRpbGVTY2FsZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG1vZFggKyBhbmNob3JYLCBtb2RZICsgYW5jaG9yWSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLW1vZFgsIC1tb2RZLCB0aGlzLl93aWR0aCAvIHRoaXMudGlsZVNjYWxlLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMuX2hlaWdodCAvIHRoaXMudGlsZVNjYWxlLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dlRyYW5zZm9ybSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKGNvcmUuVGV4dHVyZS5mcm9tKHNvdXJjZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gY29yZS51dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgJyArIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGNyb3NzLW9yaWdpbiBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgc2NhbGUgbW9kZSxcbiAgICAgKiAgc2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgd2lkdGgsIGhlaWdodCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShjb3JlLlRleHR1cmUuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUaWxpbmdTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ2NsYW1wTWFyZ2luJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVTY2FsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVQb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEB0eXBlZGVmIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfkZyYW1lT2JqZWN0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUge0BsaW5rIFBJWEkuVGV4dHVyZX0gb2YgdGhlIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIHRoZSBkdXJhdGlvbiBvZiB0aGUgZnJhbWUgaW4gbXNcbiAqL1xuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgbWMgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cbnZhciBBbmltYXRlZFNwcml0ZSA9IGZ1bmN0aW9uIChfY29yZSRTcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoQW5pbWF0ZWRTcHJpdGUsIF9jb3JlJFNwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZVtdfFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gYW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9VcGRhdGU9dHJ1ZV0gLSBXaGV0aGVyIHRvIHVzZSBQSVhJLnRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMsIGF1dG9VcGRhdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuaW1hdGVkU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkudGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuICdsb29wJyBpcyB0cnVlLCBhbmQgYW4gQW5pbWF0ZWRTcHJpdGUgaXMgcGxheWVkIGFuZCBsb29wcyBhcm91bmQgdG8gc3RhcnQgYWdhaW5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkxvb3AgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gZnJhbWUgaW5kZXggdG8gc3RvcCBhdFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiBnb3RvQW5kU3RvcChmcmFtZU51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gZnJhbWUgaW5kZXggdG8gc3RhcnQgYXRcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gZ290b0FuZFBsYXkoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGltZSA8IDAgJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSBtb3ZpZWNsaXAgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHNcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgbW92aWVjbGlwIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lc1xuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gZnJvbUZyYW1lcyhmcmFtZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goY29yZS5UZXh0dXJlLmZyb21GcmFtZShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgbW92aWVjbGlwIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gdGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIG1vdmllY2xpcCB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXNcbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIGZyb21JbWFnZXMoaW1hZ2VzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKGNvcmUuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdG90YWxGcmFtZXMgaXMgdGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbmltYXRlZFNwcml0ZSwgW3tcbiAgICAgICAga2V5OiAndG90YWxGcmFtZXMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0dXJlcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4XG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2N1cnJlbnRGcmFtZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQW5pbWF0ZWRTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRlZFNwcml0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgY29yZS5SZWN0YW5nbGUoKTtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cblxudmFyIENhbnZhc0V4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzRXh0cmFjdChyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzRXh0cmFjdCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdH0gZXh0cmFjdFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNSZW5kZXJlciNcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0KTtcblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYENhbnZhc0V4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uIGNhbnZhcyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlcmVyLnJvb3RDb250ZXh0O1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlIGluIFJHQkFcbiAgICAgKiBvcmRlciwgd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVkZWQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyZXIucm9vdENvbnRleHQ7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24sIGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pLmRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzRXh0cmFjdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzRXh0cmFjdDtcblxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgQ2FudmFzRXh0cmFjdCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNFeHRyYWN0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRFTVBfUkVDVCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xudmFyIEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG5cbnZhciBXZWJHTEV4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMRXh0cmFjdCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLldlYkdMUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKHRhcmdldCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgV2ViR0xFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHRoaXMucmVuZGVyZXIucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0ZXh0dXJlQnVmZmVyLnNpemUud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0ZXh0dXJlQnVmZmVyLnNpemUuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQodGV4dHVyZUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIC8vIHNldCB1cCBhbiBhcnJheSBvZiBwaXhlbHNcbiAgICAgICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcblxuICAgICAgICAgICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgdmFyIGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIGNhbnZhc0RhdGEuZGF0YS5zZXQod2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG5cbiAgICAgICAgICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5zY2FsZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cblxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gdGhpcy5yZW5kZXJlci5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRleHR1cmVCdWZmZXIuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRleHR1cmVCdWZmZXIuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgICAgICBpZiAodGV4dHVyZUJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHRleHR1cmVCdWZmZXIpO1xuICAgICAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3ZWJnbFBpeGVscztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMRXh0cmFjdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xFeHRyYWN0O1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIFdlYkdMRXh0cmFjdCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTEV4dHJhY3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMRXh0cmFjdCA9IHJlcXVpcmUoJy4vd2ViZ2wvV2ViR0xFeHRyYWN0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnd2ViZ2wnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTEV4dHJhY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc0V4dHJhY3QgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNFeHRyYWN0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FudmFzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzRXh0cmFjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfaXNtb2JpbGVqcyA9IHJlcXVpcmUoJ2lzbW9iaWxlanMnKTtcblxudmFyIF9pc21vYmlsZWpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzbW9iaWxlanMpO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQgPSByZXF1aXJlKCcuL2FjY2Vzc2libGVUYXJnZXQnKTtcblxudmFyIF9hY2Nlc3NpYmxlVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FjY2Vzc2libGVUYXJnZXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyBhZGQgc29tZSBleHRyYSB2YXJpYWJsZXMgdG8gdGhlIGNvbnRhaW5lci4uXG5jb3JlLnV0aWxzLm1peGlucy5kZWxheU1peGluKGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIF9hY2Nlc3NpYmxlVGFyZ2V0Mi5kZWZhdWx0KTtcblxudmFyIEtFWV9DT0RFX1RBQiA9IDk7XG5cbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG5cbnZhciBESVZfSE9PS19TSVpFID0gMTtcbnZhciBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xudmFyIERJVl9IT09LX1BPU19ZID0gLTEwMDA7XG52YXIgRElWX0hPT0tfWklOREVYID0gMjtcblxuLyoqXG4gKiBUaGUgQWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHJlY3JlYXRlcyB0aGUgYWJpbGl0eSB0byB0YWIgYW5kIGhhdmUgY29udGVudCByZWFkIGJ5IHNjcmVlblxuICogcmVhZGVycy4gVGhpcyBpcyB2ZXJ5IGltcG9ydGFudCBhcyBpdCBjYW4gcG9zc2libHkgaGVscCBwZW9wbGUgd2l0aCBkaXNhYmlsaXRpZXMgYWNjZXNzIHBpeGlcbiAqIGNvbnRlbnQuXG4gKlxuICogTXVjaCBsaWtlIGludGVyYWN0aW9uIGFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmFjY2Vzc2liaWxpdHlcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqL1xuXG52YXIgQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5cbiAgICAgICAgaWYgKChfaXNtb2JpbGVqczIuZGVmYXVsdC50YWJsZXQgfHwgX2lzbW9iaWxlanMyLmRlZmF1bHQucGhvbmUpICYmICFuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IERJVl9UT1VDSF9QT1NfWCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpdiA9IGRpdjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcklkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd2lsbCB2aXN1YWxseSBzaG93IHRoZSBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TeXN0ZW1SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlcyB0aGUgc3RhdGUgb2YgdGhlIG1hbmFnZXIuIElmIHRoZXJlIGFyZSBubyBhY2Nlc3NpYmxlIG9iamVjdHMgb3IgdGhlIG1vdXNlIGlzIG1vdmluZywgdGhpcyB3aWxsIGJlIGZhbHNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uIGNyZWF0ZVRvdWNoSG9vaygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgaG9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5oZWlnaHQgPSBESVZfSE9PS19TSVpFICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gRElWX0hPT0tfUE9TX1ggKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdIT09LIERJVic7XG5cbiAgICAgICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaG9va0Rpdik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi4gVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXJcbiAgICAgKiBwcmVzZXMgdGhlIHRhYiBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG1vdmVzXG4gICAgICogdGhlIG1vdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlKTtcblxuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHN4ID0gcmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIHZhciBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCArICdweCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29yZS51dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGktLTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyBoaXRBcmVhLnggKiB3dC5hKSAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIGhpdEFyZWEueSAqIHd0LmQpICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBoaXRBcmVhLnggKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgcmVuZGVyIGlkLi5cbiAgICAgICAgdGhpcy5yZW5kZXJJZCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBkb2NzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGhpdEFyZWEgLSBUT0RPIGRvY3NcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNhcEhpdEFyZWEgPSBmdW5jdGlvbiBjYXBIaXRBcmVhKGhpdEFyZWEpIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnkgPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KSB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQoZGlzcGxheU9iamVjdCkge1xuICAgICAgICAvLyAgICB0aGlzLmFjdGl2YXRlKCk7XG5cbiAgICAgICAgdmFyIGRpdiA9IHRoaXMucG9vbC5wb3AoKTtcblxuICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/ICdyZ2JhKDI1NSwwLDAsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuXG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9IGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiAhZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gJ2Rpc3BsYXlPYmplY3QgJyArIHRoaXMudGFiSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCkge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cblxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIF9vbkNsaWNrKGUpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gX29uRm9jdXMoZSkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiBfb25Gb2N1c091dChlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25LZXlEb3duID0gZnVuY3Rpb24gX29uS2V5RG93bihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gX29uTW91c2VNb3ZlKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5kaXYgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuXG4gICAgICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzaWJpbGl0eU1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQgPSByZXF1aXJlKCcuL2FjY2Vzc2libGVUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhY2Nlc3NpYmxlVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWNjZXNzaWJsZVRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSByZXF1aXJlKCcuL0FjY2Vzc2liaWxpdHlNYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQWNjZXNzaWJpbGl0eU1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY2Nlc3NpYmlsaXR5TWFuYWdlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBkZXByZWNhdGlvbjtcbi8vIHByb3ZpZGUgbWV0aG9kIHRvIGdpdmUgYSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3Ncbi8vIHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZSBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzXG4vLyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGVcbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgLy8gQGlmIERFQlVHXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1zZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIHBpeGkuanMgaW50ZXJuYWwgY2FsbHNcbiAgICAgICAgc3RhY2sgPSBzdGFjay5zcGxpdCgnXFxuJykuc3BsaWNlKDMpLmpvaW4oJ1xcbicpO1xuXG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKCclY0RlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXMnLCAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCAnZm9udC13ZWlnaHQ6bm9ybWFsO2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgbXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgIC8vIEBlbmRpZlxufVxuXG5mdW5jdGlvbiBkZXByZWNhdGlvbihjb3JlKSB7XG4gICAgdmFyIG1lc2ggPSBjb3JlLm1lc2gsXG4gICAgICAgIHBhcnRpY2xlcyA9IGNvcmUucGFydGljbGVzLFxuICAgICAgICBleHRyYXMgPSBjb3JlLmV4dHJhcyxcbiAgICAgICAgZmlsdGVycyA9IGNvcmUuZmlsdGVycyxcbiAgICAgICAgcHJlcGFyZSA9IGNvcmUucHJlcGFyZSxcbiAgICAgICAgbG9hZGVycyA9IGNvcmUubG9hZGVycyxcbiAgICAgICAgaW50ZXJhY3Rpb24gPSBjb3JlLmludGVyYWN0aW9uO1xuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTcHJpdGVCYXRjaFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQHRocm93cyB7UmVmZXJlbmNlRXJyb3J9IFNwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCBwbGVhc2UgdXNlIHRoZSBuZXcgUGFydGljbGVDb250YWluZXIgaW5zdGVhZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3ByaXRlQmF0Y2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignU3ByaXRlQmF0Y2ggZG9lcyBub3QgZXhpc3QgYW55IG1vcmUsICcgKyAncGxlYXNlIHVzZSB0aGUgbmV3IFBhcnRpY2xlQ29udGFpbmVyIGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBBc3NldExvYWRlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHRocm93cyB7UmVmZXJlbmNlRXJyb3J9IFRoZSBsb2FkZXIgc3lzdGVtIHdhcyBvdmVyaGF1bGVkIGluIFBpeGlKUyB2MyxcbiAgICAgICAgICogcGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEFzc2V0TG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1RoZSBsb2FkZXIgc3lzdGVtIHdhcyBvdmVyaGF1bGVkIGluIFBpeGlKUyB2MywgJyArICdwbGVhc2Ugc2VlIHRoZSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFN0YWdlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5Db250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3RhZ2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1lvdSBkbyBub3QgbmVlZCB0byB1c2UgYSBQSVhJIFN0YWdlIGFueSBtb3JlLCB5b3UgY2FuIHNpbXBseSByZW5kZXIgYW55IGNvbnRhaW5lci4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIERpc3BsYXlPYmplY3RDb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBEaXNwbGF5T2JqZWN0Q29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdEaXNwbGF5T2JqZWN0Q29udGFpbmVyIGhhcyBiZWVuIHNob3J0ZW5lZCB0byBDb250YWluZXIsIHBsZWFzZSB1c2UgQ29udGFpbmVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQ29udGFpbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3RyaXBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTdHJpcDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFN0cmlwIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gTWVzaCBhbmQgbW92ZWQgdG8gbWVzaC5NZXNoLCBwbGVhc2UgdXNlIG1lc2guTWVzaCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNoLk1lc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBSb3BlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFJvcGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gbWVzaC5Sb3BlLCBwbGVhc2UgdXNlIG1lc2guUm9wZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBtZXNoLlJvcGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlQ29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gcGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyLCAnICsgJ3BsZWFzZSB1c2UgcGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIE1vdmllQ2xpcFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLk1vdmllQ2xpcFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNb3ZpZUNsaXA6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkFuaW1hdGVkU3ByaXRlLCBwbGVhc2UgdXNlIGV4dHJhcy5BbmltYXRlZFNwcml0ZS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBUaWxpbmdTcHJpdGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgVGlsaW5nU3ByaXRlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5UaWxpbmdTcHJpdGUsICcgKyAncGxlYXNlIHVzZSBleHRyYXMuVGlsaW5nU3ByaXRlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhcy5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBCaXRtYXBUZXh0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgQml0bWFwVGV4dCBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuQml0bWFwVGV4dCwgJyArICdwbGVhc2UgdXNlIGV4dHJhcy5CaXRtYXBUZXh0IGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhcy5CaXRtYXBUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgYmxlbmRNb2Rlc1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgYmxlbmRNb2Rlczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIGJsZW5kTW9kZXMgaGFzIGJlZW4gbW92ZWQgdG8gQkxFTkRfTU9ERVMsIHBsZWFzZSB1c2UgQkxFTkRfTU9ERVMgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5CTEVORF9NT0RFUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIHNjYWxlTW9kZXNcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlNDQUxFX01PREVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHNjYWxlTW9kZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBzY2FsZU1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIFNDQUxFX01PREVTLCBwbGVhc2UgdXNlIFNDQUxFX01PREVTIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuU0NBTEVfTU9ERVM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5CYXNlVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBCYXNlVGV4dHVyZUNhY2hlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUsICcgKyAncGxlYXNlIHVzZSB1dGlscy5CYXNlVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMuQmFzZVRleHR1cmVDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRleHR1cmVDYWNoZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5UZXh0dXJlQ2FjaGUsICcgKyAncGxlYXNlIHVzZSB1dGlscy5UZXh0dXJlQ2FjaGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS51dGlscy5UZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lc3BhY2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgbWF0aFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWElcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgbWF0aDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIG1hdGggbmFtZXNwYWNlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSBhY2Nlc3MgbWVtYmVycyBhbHJlYWR5IGFjY2Vzc2libGUgb24gUElYSS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIEFic3RyYWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdBc3RyYWN0RmlsdGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuRmlsdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5GaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLlRyYW5zZm9ybU1hbnVhbFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtQmFzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1NYW51YWw6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RyYW5zZm9ybU1hbnVhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRyYW5zZm9ybUJhc2UsIHBsZWFzZSB1cGRhdGUgeW91ciBwaXhpLXNwaW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UcmFuc2Zvcm1CYXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlRBUkdFVF9GUE1TXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBUQVJHRVRfRlBNUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5UQVJHRVRfRlBNUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5UQVJHRVRfRlBNUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5GSUxURVJfUkVTT0xVVElPTlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgRklMVEVSX1JFU09MVVRJT046IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuRklMVEVSX1JFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuRklMVEVSX1JFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuUkVTT0xVVElPTlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBSRVNPTFVUSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlJFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlJFU09MVVRJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04nKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIE1JUE1BUF9URVhUVVJFUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5NSVBNQVBfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5NSVBNQVBfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUycpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5TUFJJVEVfQkFUQ0hfU0laRVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1BSSVRFX0JBVENIX1NJWkU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuU1BSSVRFX0JBVENIX1NJWkUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuU1BSSVRFX0JBVENIX1NJWkUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuU1BSSVRFX01BWF9URVhUVVJFU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9NQVhfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9NQVhfVEVYVFVSRVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJFVElOQV9QUkVGSVhcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFVElOQV9QUkVGSVhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgUkVUSU5BX1BSRUZJWDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVRJTkFfUFJFRklYIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVRJTkFfUFJFRklYIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRU5ERVJfT1BUSU9OU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBERUZBVUxUX1JFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkRFRkFVTFRfUkVOREVSX09QVElPTlMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLkRFRkFVTFRfUkVOREVSX09QVElPTlMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlJFTkRFUl9PUFRJT05TO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBNb3ZlIHRoZSBkZWZhdWx0IHByb3BlcnRpZXMgdG8gc2V0dGluZ3NcbiAgICB2YXIgZGVmYXVsdHMgPSBbeyBwYXJlbnQ6ICdUUkFOU0ZPUk1fTU9ERScsIHRhcmdldDogJ1RSQU5TRk9STV9NT0RFJyB9LCB7IHBhcmVudDogJ0dDX01PREVTJywgdGFyZ2V0OiAnR0NfTU9ERScgfSwgeyBwYXJlbnQ6ICdXUkFQX01PREVTJywgdGFyZ2V0OiAnV1JBUF9NT0RFJyB9LCB7IHBhcmVudDogJ1NDQUxFX01PREVTJywgdGFyZ2V0OiAnU0NBTEVfTU9ERScgfSwgeyBwYXJlbnQ6ICdQUkVDSVNJT04nLCB0YXJnZXQ6ICdQUkVDSVNJT05fRlJBR01FTlQnIH1dO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICB2YXIgZGVwcmVjYXRpb24gPSBkZWZhdWx0c1tpXTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29yZVtkZXByZWNhdGlvbi5wYXJlbnRdLCAnREVGQVVMVCcsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuJyArIGRlcHJlY2F0aW9uLnBhcmVudCArICcuREVGQVVMVCBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgKCdwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuJyArIGRlcHJlY2F0aW9uLnRhcmdldCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3NbZGVwcmVjYXRpb24udGFyZ2V0XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuJyArIGRlcHJlY2F0aW9uLnBhcmVudCArICcuREVGQVVMVCBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgKCdwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuJyArIGRlcHJlY2F0aW9uLnRhcmdldCkpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5nc1tkZXByZWNhdGlvbi50YXJnZXRdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZmF1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIF9sb29wKGkpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuc2V0dGluZ3MsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAbmFtZSBQUkVDSVNJT05cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHNlZSBQSVhJLlBSRUNJU0lPTlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNC4wXG4gICAgICAgICAqL1xuICAgICAgICBQUkVDSVNJT046IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChleHRyYXMuQW5pbWF0ZWRTcHJpdGUpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXh0cmFzLCB7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAgICAgKiBAbmFtZSBNb3ZpZUNsaXBcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICAgICAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBNb3ZpZUNsaXA6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIE1vdmllQ2xpcCBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIEFuaW1hdGVkU3ByaXRlLCBwbGVhc2UgdXNlIEFuaW1hdGVkU3ByaXRlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZXh0cmFzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4dHJhcywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICAgICAqIEBuYW1lIFRleHR1cmVUcmFuc2Zvcm1cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICAgICAgICAgICAgICogQHNlZSBQSVhJLlRleHR1cmVNYXRyaXhcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC42LjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgVGV4dHVyZVRyYW5zZm9ybToge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgVGV4dHVyZVRyYW5zZm9ybSBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIFRleHR1cmVNYXRyaXgsICcgKyAncGxlYXNlIHVzZSBQSVhJLlRleHR1cmVNYXRyaXggZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dHVyZU1hdHJpeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKHJlbmRlcmVyLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pIHtcbiAgICAgICAgd2FybignZ2VuZXJhdGVUZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QpJyk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0aGlzLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICBjb3JlLkdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHdhcm4oJ2dyYXBoaWNzIGdlbmVyYXRlIHRleHR1cmUgaGFzIG1vdmVkIHRvIHRoZSByZW5kZXJlci4gJyArICdPciB0byByZW5kZXIgYSBncmFwaGljcyB0byBhIHRleHR1cmUgdXNpbmcgY2FudmFzIHBsZWFzZSB1c2UgZ2VuZXJhdGVDYW52YXNUZXh0dXJlJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLkdyb3VwRDguaXNTd2FwV2lkdGhIZWlnaHRcbiAgICAgKiBAc2VlIFBJWEkuR3JvdXBEOC5pc1ZlcnRpY2FsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC42LjBcbiAgICAgKi9cbiAgICBjb3JlLkdyb3VwRDguaXNTd2FwV2lkdGhIZWlnaHQgPSBmdW5jdGlvbiBpc1N3YXBXaWR0aEhlaWdodChyb3RhdGlvbikge1xuICAgICAgICB3YXJuKCdHcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0IHdhcyByZW5hbWVkIHRvIEdyb3VwRDguaXNWZXJ0aWNhbCcpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLkdyb3VwRDguaXNWZXJ0aWNhbChyb3RhdGlvbik7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXlPYmplY3QsIG1hdHJpeCwgY2xlYXIsIHVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmxlZ2FjeVJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCB0aGlzLCBjbGVhciwgbWF0cml4LCAhdXBkYXRlVHJhbnNmb3JtKTtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5yZW5kZXIgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUpJyk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZSh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRJbWFnZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmltYWdlKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmltYWdlKHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0QmFzZTY0ID0gZnVuY3Rpb24gZ2V0QmFzZTY0KHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldEJhc2U2NCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmJhc2U2NCh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRDYW52YXMgPSBmdW5jdGlvbiBnZXRDYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0Q2FudmFzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldFBpeGVscyA9IGZ1bmN0aW9uIGdldFBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRQaXhlbHMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5waXhlbHModGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLnBpeGVscyh0YXJnZXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBQSVhJLlNwcml0ZSNzZXRUZXh0dXJlXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZSN0ZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIGNvcmUuU3ByaXRlLnByb3RvdHlwZS5zZXRUZXh0dXJlID0gZnVuY3Rpb24gc2V0VGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHdhcm4oJ3NldFRleHR1cmUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHR1cmUgcHJvcGVydHksIGUuZyA6IHNwcml0ZS50ZXh0dXJlID0gdGV4dHVyZTsnKTtcbiAgICB9O1xuXG4gICAgaWYgKGV4dHJhcy5CaXRtYXBUZXh0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZXh0cmFzLkJpdG1hcFRleHQjc2V0VGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkJpdG1hcFRleHQjdGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gc2V0IHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgZXh0cmFzLkJpdG1hcFRleHQucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB3YXJuKCdzZXRUZXh0IGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0IHByb3BlcnR5LCBlLmcgOiBteUJpdG1hcFRleHQudGV4dCA9IFxcJ215IHRleHRcXCc7Jyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNzZXRUZXh0XG4gICAgICogQHNlZSBQSVhJLlRleHQjdGV4dFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlRleHQucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgd2Fybignc2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlUZXh0LnRleHQgPSBcXCdteSB0ZXh0XFwnOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udFN0eWxlXG4gICAgICpcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNS4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzKGZvbnQpIHtcbiAgICAgICAgd2FybignVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZS5UZXh0LCB7XG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDYWNoZSBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fZm9udHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzQ2FudmFzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FudmFzIGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzQ29udGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NvbnRleHQgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjc2V0U3R5bGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dCNzdHlsZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0geyp9IHN0eWxlIC0gVGhlIHN0eWxlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlRleHQucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB3YXJuKCdzZXRTdHlsZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgc3R5bGUgcHJvcGVydHksIGUuZyA6IG15VGV4dC5zdHlsZSA9IHN0eWxlOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I2RldGVybWluZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQHNlZSBQSVhJLlRleHQjbWVhc3VyZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTdHlsZSAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5kZXRlcm1pbmVGb250UHJvcGVydGllcyA9IGZ1bmN0aW9uIGRldGVybWluZUZvbnRQcm9wZXJ0aWVzKGZvbnRTdHlsZSkge1xuICAgICAgICB3YXJuKCdkZXRlcm1pbmVGb250UHJvcGVydGllcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCBtZXRob2QnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250U3R5bGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0LmdldEZvbnRTdHlsZVxuICAgICAqIEBzZWUgUElYSS5UZXh0TWV0cmljcy5nZXRGb250U3R5bGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNS4wXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSBUaGUgc3R5bGUgdG8gdXNlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHJpbmdcbiAgICAgKi9cbiAgICBjb3JlLlRleHQuZ2V0Rm9udFN0eWxlID0gZnVuY3Rpb24gZ2V0Rm9udFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHdhcm4oJ2dldEZvbnRTdHlsZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUZXh0U3R5bGUudG9Gb250U3RyaW5nKCkgaW5zdGVhZCcpO1xuXG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG5cbiAgICAgICAgaWYgKCEoc3R5bGUgaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkpIHtcbiAgICAgICAgICAgIHN0eWxlID0gbmV3IGNvcmUuVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZS5UZXh0U3R5bGUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxsIHByb3BlcnRpZXMgb2YgYSBmb250IGFzIGEgc2luZ2xlIHN0cmluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlRleHRTdHlsZSNmb250XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ3RleHQgc3R5bGUgcHJvcGVydHkgXFwnZm9udFxcJyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgJyArICdcXCdmb250RmFtaWx5XFwnLCBcXCdmb250U2l6ZVxcJywgXFwnZm9udFN0eWxlXFwnLCBcXCdmb250VmFyaWFudFxcJyBhbmQgXFwnZm9udFdlaWdodFxcJyBwcm9wZXJ0aWVzIGZyb20gbm93IG9uJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZm9udFNpemVTdHJpbmcgPSB0eXBlb2YgdGhpcy5fZm9udFNpemUgPT09ICdudW1iZXInID8gdGhpcy5fZm9udFNpemUgKyAncHgnIDogdGhpcy5fZm9udFNpemU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlICsgJyAnICsgdGhpcy5fZm9udFZhcmlhbnQgKyAnICcgKyB0aGlzLl9mb250V2VpZ2h0ICsgJyAnICsgZm9udFNpemVTdHJpbmcgKyAnICcgKyB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnQpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCd0ZXh0IHN0eWxlIHByb3BlcnR5IFxcJ2ZvbnRcXCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICcgKyAnXFwnZm9udEZhbWlseVxcJyxcXCdmb250U2l6ZVxcJyxmb250U3R5bGVcXCcsXFwnZm9udFZhcmlhbnRcXCcgYW5kIFxcJ2ZvbnRXZWlnaHRcXCcgcHJvcGVydGllcyBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FuIHdvcmsgb3V0IGZvbnRTdHlsZSBmcm9tIHNlYXJjaCBvZiB3aG9sZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAoZm9udC5pbmRleE9mKCdpdGFsaWMnKSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ2l0YWxpYyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb250LmluZGV4T2YoJ29ibGlxdWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdvYmxpcXVlJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYW4gd29yayBvdXQgZm9udFZhcmlhbnQgZnJvbSBzZWFyY2ggb2Ygd2hvbGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGZvbnQuaW5kZXhPZignc21hbGwtY2FwcycpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSAnc21hbGwtY2Fwcyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmb250V2VpZ2h0IGFuZCBmb250RmFtaWx5IGFyZSB0cmlja2VyIHRvIGZpbmQsIGJ1dCBpdCdzIGVhc2llciB0byBmaW5kIHRoZSBmb250U2l6ZSBkdWUgdG8gaXQncyB1bml0c1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdHMgPSBmb250LnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplSW5kZXggPSAtMTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gMjY7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0c1tpXS5tYXRjaCgvKHB4fHB0fGVtfCUpLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBzcGxpdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBub3cgc2VhcmNoIGZvciBmb250V2VpZ2h0IGFzIHdlIGtub3cgaXQgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGZvbnRTaXplXG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmb250U2l6ZUluZGV4OyArK19pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHNbX2ldLm1hdGNoKC8oYm9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMCkvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IHNwbGl0c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFuZCBmaW5hbGx5IGpvaW4gZXZlcnl0aGluZyB0b2dldGhlciBhZnRlciB0aGUgZm9udFNpemUgaW4gY2FzZSB0aGUgZm9udCBmYW1pbHkgaGFzIG11bHRpcGxlIHdvcmRzXG4gICAgICAgICAgICAgICAgaWYgKGZvbnRTaXplSW5kZXggPiAtMSAmJiBmb250U2l6ZUluZGV4IDwgc3BsaXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBmb250U2l6ZUluZGV4ICsgMTsgX2kyIDwgc3BsaXRzLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgKz0gc3BsaXRzW19pMl0gKyAnICc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gdGhpcy5fZm9udEZhbWlseS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9ICdBcmlhbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHR1cmUjc2V0RnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZSNzZXRGcmFtZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSB0byBzZXQuXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLnByb3RvdHlwZS5zZXRGcmFtZSA9IGZ1bmN0aW9uIHNldEZyYW1lKGZyYW1lKSB7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgd2Fybignc2V0RnJhbWUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIGZyYW1lIHByb3BlcnR5LCBlLmc6IG15VGV4dHVyZS5mcmFtZSA9IGZyYW1lOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuYWRkVG9DYWNoZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuNS4wXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSB0ZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlID0gZnVuY3Rpb24gYWRkVGV4dHVyZVRvQ2FjaGUodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgY29yZS5UZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpO1xuICAgICAgICB3YXJuKCdUZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dHVyZS5hZGRUb0NhY2hlIGZyb20gbm93IG9uLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjUuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgdGV4dHVyZSB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSB0ZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBjb3JlLlRleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZVRleHR1cmVGcm9tQ2FjaGUoaWQpIHtcbiAgICAgICAgd2FybignVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZnJvbSBub3cgb24uICcgKyAnQmUgYXdhcmUgdGhhdCBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IGl0cyBCYXNlVGV4dHVyZSBmcm9tIHRoZSBCYXNlVGV4dHVyZUNhY2hlLiAnICsgJ0ZvciB0aGF0LCB1c2UgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlJyk7XG5cbiAgICAgICAgY29yZS5CYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUoaWQpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGlkKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZmlsdGVycywge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLkFic3RyYWN0RmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBBYnN0cmFjdEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQWJzdHJhY3RGaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLmZpbHRlcnMuU3ByaXRlTWFza0ZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlTWFza0ZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBTcHJpdGVNYXNrRmlsdGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdmaWx0ZXJzLlNwcml0ZU1hc2tGaWx0ZXIgaXMgYW4gdW5kb2N1bWVudGVkIGFsaWFzLCBwbGVhc2UgdXNlIFNwcml0ZU1hc2tGaWx0ZXIgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5TcHJpdGVNYXNrRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLlZvaWRGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuN1xuICAgICAgICAgKi9cbiAgICAgICAgVm9pZEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVm9pZEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEFscGhhRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuQWxwaGFGaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLnV1aWRcbiAgICAgKiBAc2VlIFBJWEkudXRpbHMudWlkXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHVpZFxuICAgICAqL1xuICAgIGNvcmUudXRpbHMudXVpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FybigndXRpbHMudXVpZCgpIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdXRpbHMudWlkKCkgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMudWlkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXNcbiAgICAgKiBAc2VlIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBDYW4gdXNlIGJsZW5kIG1vZGVzLlxuICAgICAqL1xuICAgIGNvcmUudXRpbHMuY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FybigndXRpbHMuY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQ2FudmFzVGludGVyLmNhblVzZU11bHRpcGx5IGZyb20gbm93IG9uJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuQ2FudmFzVGludGVyLmNhblVzZU11bHRpcGx5O1xuICAgIH07XG5cbiAgICB2YXIgc2FpZEhlbGxvID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIFBJWEkudXRpbHMuX3NhaWRIZWxsb1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBzZWUgUElYSS51dGlscy5za2lwSGVsbG9cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjEuMFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb3JlLnV0aWxzLCAnX3NhaWRIZWxsbycsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYm9vbCkge1xuICAgICAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnV0aWxzLl9zYWlkSGVsbG8gaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnV0aWxzLnNraXBIZWxsbygpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwSGVsbG8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhaWRIZWxsbyA9IGJvb2w7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNhaWRIZWxsbztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHByZXBhcmUuQmFzZVByZXBhcmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG5hbWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlI3JlZ2lzdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlI3JlZ2lzdGVyRmluZEhvb2tcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjQuMlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbYWRkSG9va10gLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAgICAgKiAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3VwbG9hZEhvb2tdIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAgICAgKiAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHByZXBhcmUuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoYWRkSG9vaywgdXBsb2FkSG9vaykge1xuICAgICAgICAgICAgd2FybigncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyIGlzIG5vdyBkZXByZWNhdGVkLCAnICsgJ3BsZWFzZSB1c2UgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyRmluZEhvb2sgJiByZW5kZXJlci5wbHVnaW5zLnByZXBhcmUucmVnaXN0ZXJVcGxvYWRIb29rJyk7XG5cbiAgICAgICAgICAgIGlmIChhZGRIb29rKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGFkZEhvb2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodXBsb2FkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocHJlcGFyZS5jYW52YXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZ3JhcGhpY3Mgb3IgdGV4dHVyZXMgdG8gdXBsb2FkIHRvIHRoZSBHUFUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS5jYW52YXMuVVBMT0FEU19QRVJfRlJBTUVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZS5saW1pdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZS5jYW52YXMsICdVUExPQURTX1BFUl9GUkFNRScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2Ugc2V0ICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXIubWF4SXRlbXNQZXJGcmFtZSBvbiB5b3VyIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlciwgd2UgY2FuJ3QgYWN0dWFsbHkgc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHVwbG9hZHMgcGVyIGZyYW1lLCBzbyB3ZSdsbCBoYXZlIHRvIHN0aWNrIHdpdGggdGhlIHdhcm5pbmcuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5DYW52YXNQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSB1c2UgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHByZXBhcmUud2ViZ2wpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgZ3JhcGhpY3Mgb3IgdGV4dHVyZXMgdG8gdXBsb2FkIHRvIHRoZSBHUFUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS53ZWJnbC5VUExPQURTX1BFUl9GUkFNRVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlLmxpbWl0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcmVwYXJlLndlYmdsLCAnVVBMT0FEU19QRVJfRlJBTUUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLldlYkdMUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2Ugc2V0ICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXIubWF4SXRlbXNQZXJGcmFtZSBvbiB5b3VyIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlciwgd2UgY2FuJ3QgYWN0dWFsbHkgc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHVwbG9hZHMgcGVyIGZyYW1lLCBzbyB3ZSdsbCBoYXZlIHRvIHN0aWNrIHdpdGggdGhlIHdhcm5pbmcuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHVzZSAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobG9hZGVycy5Mb2FkZXIpIHtcbiAgICAgICAgdmFyIFJlc291cmNlID0gbG9hZGVycy5SZXNvdXJjZTtcbiAgICAgICAgdmFyIExvYWRlciA9IGxvYWRlcnMuTG9hZGVyO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlc291cmNlLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgaXNKc29uOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0pzb24gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzWG1sOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc1htbCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLlhNTGAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzSW1hZ2U6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzSW1hZ2UgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRWAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBdWRpbzoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNBdWRpbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLkFVRElPYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1ZpZGVvOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc1ZpZGVvIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuVklERU9gLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhMb2FkZXIucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBiZWZvcmU6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGJlZm9yZSgpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHByZSgpLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWZ0ZXI6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGFmdGVyKCkgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdXNlKCkuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0I2RlZmF1bHRDdXJzb3JcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXQjY3Vyc29yXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMy4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXQsICdkZWZhdWx0Q3Vyc29yJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yXFwnLiAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3IgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBcXCdjdXJzb3JcXCcuICcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNkZWZhdWx0Q3Vyc29yU3R5bGVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnNvclN0eWxlc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciwgJ2RlZmF1bHRDdXJzb3JTdHlsZScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yU3R5bGVzLmRlZmF1bHRcXCcuICcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBcXCdjdXJzb3JTdHlsZXMuZGVmYXVsdFxcJy4gJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JTdHlsZXMuZGVmYXVsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnJlbnRDdXJzb3JTdHlsZVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBzZWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY3Vyc29yU3R5bGVzXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMy4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyLCAnY3VycmVudEN1cnNvclN0eWxlJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBjdXJyZW50Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVtb3ZlZC4nICsgJ1NlZSB0aGUgY3VycmVudEN1cnNvck1vZGUgcHJvcGVydHksIHdoaWNoIHdvcmtzIGRpZmZlcmVudGx5LicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBjdXJyZW50Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVtb3ZlZC4nICsgJ1NlZSB0aGUgY3VycmVudEN1cnNvck1vZGUgcHJvcGVydHksIHdoaWNoIHdvcmtzIGRpZmZlcmVudGx5LicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEN1cnNvck1vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlcHJlY2F0aW9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF8gPSByZXF1aXJlKCcuLi8nKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlc2hlZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgX2NyZWF0ZUNsYXNzKFNwcml0ZXNoZWV0LCBudWxsLCBbe1xuICAgICAgICBrZXk6ICdCQVRDSF9TSVpFJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFNwcml0ZXNoZWV0IGltYWdlIGRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzb2x1dGlvbkZpbGVuYW1lXSAtIFRoZSBmaWxlbmFtZSB0byBjb25zaWRlciB3aGVuIGRldGVybWluaW5nXG4gICAgICAgICAqICAgICAgICB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGltYWdlVXJsIHdpbGxcbiAgICAgICAgICogICAgICAgIGJlIHVzZWQgb24gdGhlIEJhc2VUZXh0dXJlLlxuICAgICAgICAgKi9cblxuICAgIH1dKTtcblxuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0KGJhc2VUZXh0dXJlLCBkYXRhKSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uRmlsZW5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZXNoZWV0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IHRleHR1cmVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lIHx8IHRoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAgICAgKiAgICAgICAgdGhlIGRlZmF1bHQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl91cGRhdGVSZXNvbHV0aW9uID0gZnVuY3Rpb24gX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcblxuICAgICAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc2NhbGUgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoc2NhbGUpIDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNvbHV0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXIgc3ByaXRlc2hlZXQgZnJvbSBsb2FkZWQgZGF0YS4gVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5XG4gICAgICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlIHJldHVybnNcbiAgICAgKiAgICAgICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIF9wcm9jZXNzRnJhbWVzKGluaXRpYWxGcmFtZUluZGV4KSB7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gaW5pdGlhbEZyYW1lSW5kZXg7XG4gICAgICAgIHZhciBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuICAgICAgICB2YXIgc291cmNlU2NhbGUgPSB0aGlzLmJhc2VUZXh0dXJlLnNvdXJjZVNjYWxlO1xuXG4gICAgICAgIHdoaWxlIChmcmFtZUluZGV4IC0gaW5pdGlhbEZyYW1lSW5kZXggPCBtYXhGcmFtZXMgJiYgZnJhbWVJbmRleCA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9mcmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGRhdGEuZnJhbWU7XG5cbiAgICAgICAgICAgIGlmIChyZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdHJpbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZSA/IGRhdGEuc291cmNlU2l6ZSA6IGRhdGEuZnJhbWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgb3JpZyA9IG5ldyBfLlJlY3RhbmdsZSgwLCAwLCBNYXRoLmZsb29yKHNvdXJjZVNpemUudyAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihzb3VyY2VTaXplLmggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBfLlJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudyAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgXy5SZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudyAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zcHJpdGVTb3VyY2VTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaW0gPSBuZXcgXy5SZWN0YW5nbGUoTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IF8uVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgZGF0YS5yb3RhdGVkID8gMiA6IDApO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgZnJvbUZyYW1lIGFuZCBmcm9tSW1hZ2UgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgXy5UZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFyc2UgaGFzIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uIF9wYXJzZUNvbXBsZXRlKCkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcblxuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMudGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fbmV4dEJhdGNoID0gZnVuY3Rpb24gX25leHRCYXRjaCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUgPCBfdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgZGVzdHJveUJhc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBTcHJpdGVzaGVldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3ByaXRlc2hlZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVzaGVldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXlcbiAqIG5vdyBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBDYW52YXNHcmFwaGljc1JlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi8xLjAuMC9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZ2x1dGlscy9TaGFwZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBncmFwaGljcyBvYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNHcmFwaGljc1JlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY3VycmVudCBQSVhJIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgR3JhcGhpY3Mgb2JqZWN0IHRvIGEgY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIHRoZSBhY3R1YWwgZ3JhcGhpY3Mgb2JqZWN0IHRvIHJlbmRlclxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgd29ybGRBbHBoYSA9IGdyYXBoaWNzLndvcmxkQWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBncmFwaGljcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAvLyBpZiB0aGUgdGludCBoYXMgY2hhbmdlZCwgc2V0IHRoZSBncmFwaGljcyBvYmplY3QgdG8gZGlydHkuXG4gICAgICAgIGlmICh0aGlzLl9wcmV2VGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmIgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYyAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5kICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR4ICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgaWYgKGdyYXBoaWNzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYXBoaWNzVGludChncmFwaGljcyk7XG4gICAgICAgICAgICBncmFwaGljcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKGdyYXBoaWNzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgdmFyIGZpbGxDb2xvciA9IGRhdGEuX2ZpbGxUaW50O1xuICAgICAgICAgICAgdmFyIGxpbmVDb2xvciA9IGRhdGEuX2xpbmVUaW50O1xuXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IGRhdGEubGluZVdpZHRoO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb2x5Z29uKHNoYXBlLnBvaW50cywgc2hhcGUuY2xvc2VkLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvbHlnb24oZGF0YS5ob2xlc1tqXS5wb2ludHMsIHRydWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbENvbG9yIHx8IGRhdGEuZmlsbENvbG9yID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VSZWN0KHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhzaGFwZS54LCBzaGFwZS55LCBzaGFwZS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIga2FwcGEgPSAwLjU1MjI4NDg7XG4gICAgICAgICAgICAgICAgdmFyIG94ID0gdyAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgIHZhciBveSA9IGggLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgdmFyIHhlID0geCArIHc7IC8vIHgtZW5kXG4gICAgICAgICAgICAgICAgdmFyIHllID0geSArIGg7IC8vIHktZW5kXG4gICAgICAgICAgICAgICAgdmFyIHhtID0geCArIHcgLyAyOyAvLyB4LW1pZGRsZVxuICAgICAgICAgICAgICAgIHZhciB5bSA9IHkgKyBoIC8gMjsgLy8geS1taWRkbGVcblxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeCwgeW0gLSBveSwgeG0gLSBveCwgeSwgeG0sIHkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4bSArIG94LCB5LCB4ZSwgeW0gLSBveSwgeGUsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeGUsIHltICsgb3ksIHhtICsgb3gsIHllLCB4bSwgeWUpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4bSAtIG94LCB5ZSwgeCwgeW0gKyBveSwgeCwgeW0pO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJ4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICB2YXIgcnkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNoYXBlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzaGFwZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHNoYXBlLnJhZGl1cztcblxuICAgICAgICAgICAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDIgfCAwO1xuXG4gICAgICAgICAgICAgICAgcmFkaXVzID0gcmFkaXVzID4gbWF4UmFkaXVzID8gbWF4UmFkaXVzIDogcmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbENvbG9yIHx8IGRhdGEuZmlsbENvbG9yID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdGludCBvZiBhIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gdGhlIGdyYXBoaWNzIHRoYXQgd2lsbCBoYXZlIGl0cyB0aW50IHVwZGF0ZWRcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR3JhcGhpY3NUaW50ID0gZnVuY3Rpb24gdXBkYXRlR3JhcGhpY3NUaW50KGdyYXBoaWNzKSB7XG4gICAgICAgIGdyYXBoaWNzLl9wcmV2VGludCA9IGdyYXBoaWNzLnRpbnQ7XG5cbiAgICAgICAgdmFyIHRpbnRSID0gKGdyYXBoaWNzLnRpbnQgPj4gMTYgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIHRpbnRHID0gKGdyYXBoaWNzLnRpbnQgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgdGludEIgPSAoZ3JhcGhpY3MudGludCAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgdmFyIGZpbGxDb2xvciA9IGRhdGEuZmlsbENvbG9yIHwgMDtcbiAgICAgICAgICAgIHZhciBsaW5lQ29sb3IgPSBkYXRhLmxpbmVDb2xvciB8IDA7XG5cbiAgICAgICAgICAgIC8vIHN1cGVyIGlubGluZSBjb3MgaW0gYW4gb3B0aW1pemF0aW9uIE5BWkkgOilcbiAgICAgICAgICAgIGRhdGEuX2ZpbGxUaW50ID0gKChmaWxsQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NSAqIHRpbnRSICogMjU1IDw8IDE2KSArICgoZmlsbENvbG9yID4+IDggJiAweEZGKSAvIDI1NSAqIHRpbnRHICogMjU1IDw8IDgpICsgKGZpbGxDb2xvciAmIDB4RkYpIC8gMjU1ICogdGludEIgKiAyNTU7XG5cbiAgICAgICAgICAgIGRhdGEuX2xpbmVUaW50ID0gKChsaW5lQ29sb3IgPj4gMTYgJiAweEZGKSAvIDI1NSAqIHRpbnRSICogMjU1IDw8IDE2KSArICgobGluZUNvbG9yID4+IDggJiAweEZGKSAvIDI1NSAqIHRpbnRHICogMjU1IDw8IDgpICsgKGxpbmVDb2xvciAmIDB4RkYpIC8gMjU1ICogdGludEIgKiAyNTU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIHBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gcG9pbnRzIC0gVGhlIHBvaW50cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsb3NlIC0gU2hvdWxkIHRoZSBwb2x5Z29uIGJlIGNsb3NlZFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIHJlbmRlcmluZyBjb250ZXh0IHRvIHVzZVxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJQb2x5Z29uID0gZnVuY3Rpb24gcmVuZGVyUG9seWdvbihwb2ludHMsIGNsb3NlLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHBvaW50cy5sZW5ndGggLyAyOyArK2opIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZSkge1xuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc0dyYXBoaWNzUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0dyYXBoaWNzUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdncmFwaGljcycsIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzR3JhcGhpY3NSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZENpcmNsZTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZENpcmNsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IGNpcmNsZURhdGEueDtcbiAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG4gICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcblxuICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKSB8fCBNYXRoLmZsb29yKDE1ICogTWF0aC5zcXJ0KGNpcmNsZURhdGEud2lkdGggKyBjaXJjbGVEYXRhLmhlaWdodCkpO1xuXG4gICAgdmFyIHNlZyA9IE1hdGguUEkgKiAyIC8gdG90YWxTZWdzO1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzICsgMTsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgsIHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICsgTWF0aC5zaW4oc2VnICogaSkgKiB3aWR0aCwgeSArIE1hdGguY29zKHNlZyAqIGkpICogaGVpZ2h0LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MrKywgdmVjUG9zKyspO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1BvcyAtIDEpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU2VncyArIDE7IF9pKyspIHtcbiAgICAgICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMucHVzaCh4ICsgTWF0aC5zaW4oc2VnICogX2kpICogd2lkdGgsIHkgKyBNYXRoLmNvcyhzZWcgKiBfaSkgKiBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHRlbXBQb2ludHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRDaXJjbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlO1xuXG52YXIgX2VhcmN1dCA9IHJlcXVpcmUoJ2VhcmN1dCcpO1xuXG52YXIgX2VhcmN1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXJjdXQpO1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUm91bmRlZFJlY3RhbmdsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciB4ID0gcnJlY3REYXRhLng7XG4gICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICB2YXIgd2lkdGggPSBycmVjdERhdGEud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICB2YXIgcmFkaXVzID0gcnJlY3REYXRhLnJhZGl1cztcblxuICAgIHZhciByZWNQb2ludHMgPSBbXTtcblxuICAgIHJlY1BvaW50cy5wdXNoKHgsIHkgKyByYWRpdXMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHgsIHkgKyBoZWlnaHQsIHggKyByYWRpdXMsIHkgKyBoZWlnaHQsIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJhZGl1cywgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoIC0gcmFkaXVzLCB5LCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHksIHgsIHksIHgsIHkgKyByYWRpdXMgKyAwLjAwMDAwMDAwMDEsIHJlY1BvaW50cyk7XG5cbiAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAvLyBUT0RPIC0gZml4IHRoaXMgcHJvcGVybHksIHRoaXMgaXMgbm90IHZlcnkgZWxlZ2FudC4uIGJ1dCBpdCB3b3JrcyBmb3Igbm93LlxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIHZhciB0cmlhbmdsZXMgPSAoMCwgX2VhcmN1dDIuZGVmYXVsdCkocmVjUG9pbnRzLCBudWxsLCAyKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9qID0gcmVjUG9pbnRzLmxlbmd0aDsgX2kgPCBfajsgX2krKykge1xuICAgICAgICAgICAgdmVydHMucHVzaChyZWNQb2ludHNbX2ldLCByZWNQb2ludHNbKytfaV0sIHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gcmVjUG9pbnRzO1xuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgYSBzaW5nbGUgcG9pbnQgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS5cbiAqIFV0aWxpdHkgZnVuY3Rpb24gdXNlZCBieSBxdWFkcmF0aWNCZXppZXJDdXJ2ZS5cbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbjEgLSBmaXJzdCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMiAtIHNlY29uZCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjIC0gcGVyY2VudGFnZVxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcmVzdWx0XG4gKlxuICovXG5mdW5jdGlvbiBnZXRQdChuMSwgbjIsIHBlcmMpIHtcbiAgICB2YXIgZGlmZiA9IG4yIC0gbjE7XG5cbiAgICByZXR1cm4gbjEgKyBkaWZmICogcGVyYztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLiAoaGVscGVyIGZ1bmN0aW9uLi4pXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3V0PVtdXSAtIFRoZSBvdXRwdXQgYXJyYXkgdG8gYWRkIHBvaW50cyBpbnRvLiBJZiBub3QgcGFzc2VkLCBhIG5ldyBhcnJheSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIHBvaW50c1xuICovXG5mdW5jdGlvbiBxdWFkcmF0aWNCZXppZXJDdXJ2ZShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgIHZhciBvdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNiAmJiBhcmd1bWVudHNbNl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s2XSA6IFtdO1xuXG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgcG9pbnRzID0gb3V0O1xuXG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgLy8gVGhlIEdyZWVuIExpbmVcbiAgICAgICAgeGEgPSBnZXRQdChmcm9tWCwgY3BYLCBqKTtcbiAgICAgICAgeWEgPSBnZXRQdChmcm9tWSwgY3BZLCBqKTtcbiAgICAgICAgeGIgPSBnZXRQdChjcFgsIHRvWCwgaik7XG4gICAgICAgIHliID0gZ2V0UHQoY3BZLCB0b1ksIGopO1xuXG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJvdW5kZWRSZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRSZWN0YW5nbGU7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUmVjdGFuZ2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIC8vIC0tLSAvL1xuICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgIC8vXG4gICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICB2YXIgeSA9IHJlY3REYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCkge1xuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuXG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgLy8gc3RhcnRcbiAgICAgICAgdmVydHMucHVzaCh4LCB5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4ICsgd2lkdGgsIHkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHggKyB3aWR0aCwgeSArIGhlaWdodCk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIC8vIGluc2VydCAyIGRlYWQgdHJpYW5nbGVzLi5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDMsIHZlcnRQb3MgKyAzKTtcbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICB2YXIgdGVtcFBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IFt4LCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCwgeCwgeV07XG5cbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHRlbXBQb2ludHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRSZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRQb2x5O1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG52YXIgX2VhcmN1dCA9IHJlcXVpcmUoJ2VhcmN1dCcpO1xuXG52YXIgX2VhcmN1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXJjdXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRQb2x5KGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG5cbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCAmJiBwb2ludHMubGVuZ3RoID49IDYpIHtcbiAgICAgICAgdmFyIGhvbGVBcnJheSA9IFtdO1xuICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgdmFyIGhvbGVzID0gZ3JhcGhpY3NEYXRhLmhvbGVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG5cbiAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcblxuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdHJpYW5nbGVzID0gKDAsIF9lYXJjdXQyLmRlZmF1bHQpKHBvaW50cywgaG9sZUFycmF5LCAyKTtcblxuICAgICAgICBpZiAoIXRyaWFuZ2xlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0cmlhbmdsZXMubGVuZ3RoOyBfaSArPSAzKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW19pMiAqIDJdLCBwb2ludHNbX2kyICogMiArIDFdLCByLCBnLCBiLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCA+IDApIHtcbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRQb2x5LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TaGFkZXIyID0gcmVxdWlyZSgnLi4vLi4vLi4vU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhpcyBzaGFkZXIgaXMgdXNlZCB0byBkcmF3IHNpbXBsZSBwcmltaXRpdmUgc2hhcGVzIGZvciB7QGxpbmsgUElYSS5HcmFwaGljc30uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIFByaW1pdGl2ZVNoYWRlciA9IGZ1bmN0aW9uIChfU2hhZGVyKSB7XG4gICAgX2luaGVyaXRzKFByaW1pdGl2ZVNoYWRlciwgX1NoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgd2ViZ2wgc2hhZGVyIG1hbmFnZXIgdGhpcyBzaGFkZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZVNoYWRlcihnbCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJpbWl0aXZlU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1NoYWRlci5jYWxsKHRoaXMsIGdsLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjNCBhQ29sb3I7JywgJ3VuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3VuaWZvcm0gZmxvYXQgYWxwaGE7JywgJ3VuaWZvcm0gdmVjMyB0aW50OycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyAgIHZDb2xvciA9IGFDb2xvciAqIHZlYzQodGludCAqIGFscGhhLCBhbHBoYSk7JywgJ30nXS5qb2luKCdcXG4nKSxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIFsndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBQcmltaXRpdmVTaGFkZXI7XG59KF9TaGFkZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQcmltaXRpdmVTaGFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QcmltaXRpdmVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEFuIG9iamVjdCBjb250YWluaW5nIFdlYkdMIHNwZWNpZmljIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBieSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gVGhlIHNoYWRlclxuICAgKiBAcGFyYW0ge29iamVjdH0gYXR0cmlic1N0YXRlIC0gVGhlIHN0YXRlIGZvciB0aGUgVkFPXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTEdyYXBoaWNzRGF0YShnbCwgc2hhZGVyLCBhdHRyaWJzU3RhdGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xHcmFwaGljc0RhdGEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gVE9ETyBkb2VzIHRoaXMgbmVlZCB0byBiZSBzcGxpdCBiZWZvcmUgdXBsb2FkaW5nPz9cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBjb2xvciBjb21wb25lbnRzIChyLGcsYilcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbG9yID0gWzAsIDAsIDBdOyAvLyBjb2xvciBzcGxpdCFcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3XG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmluZGljZXMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWFpbiBidWZmZXJcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBncmFwaGljcyBpcyBkaXJ0eSBvciBub3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGdyYXBoaWNzIGlzIG5hdGl2ZUxpbmVzIG9yIG5vdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5uYXRpdmVMaW5lcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5nbFBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5nbEluZGljZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsLCBhdHRyaWJzU3RhdGUpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh0aGlzLmJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCBnbC5GTE9BVCwgZmFsc2UsIDQgKiA2LCAwKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFDb2xvciwgZ2wuRkxPQVQsIGZhbHNlLCA0ICogNiwgMiAqIDQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgdmVydGljZXMgYW5kIHRoZSBpbmRpY2VzXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIGJ1ZmZlcnMgYW5kIHVwbG9hZHMgdGhlIGRhdGFcbiAgICovXG5cblxuICBXZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgIHRoaXMuZ2xQb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucG9pbnRzKTtcbiAgICB0aGlzLmJ1ZmZlci51cGxvYWQodGhpcy5nbFBvaW50cyk7XG5cbiAgICB0aGlzLmdsSW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIudXBsb2FkKHRoaXMuZ2xJbmRpY2VzKTtcblxuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRW1wdGllcyBhbGwgdGhlIGRhdGFcbiAgICovXG5cblxuICBXZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jb2xvciA9IG51bGw7XG4gICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG5cbiAgICB0aGlzLnZhby5kZXN0cm95KCk7XG4gICAgdGhpcy5idWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuXG4gICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmdsUG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmdsSW5kaWNlcyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFdlYkdMR3JhcGhpY3NEYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTEdyYXBoaWNzRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMR3JhcGhpY3NEYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyMik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyJyk7XG5cbnZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblxudmFyIF9XZWJHTEdyYXBoaWNzRGF0YSA9IHJlcXVpcmUoJy4vV2ViR0xHcmFwaGljc0RhdGEnKTtcblxudmFyIF9XZWJHTEdyYXBoaWNzRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTEdyYXBoaWNzRGF0YSk7XG5cbnZhciBfUHJpbWl0aXZlU2hhZGVyID0gcmVxdWlyZSgnLi9zaGFkZXJzL1ByaW1pdGl2ZVNoYWRlcicpO1xuXG52YXIgX1ByaW1pdGl2ZVNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QcmltaXRpdmVTaGFkZXIpO1xuXG52YXIgX2J1aWxkUG9seSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRQb2x5Jyk7XG5cbnZhciBfYnVpbGRQb2x5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkUG9seSk7XG5cbnZhciBfYnVpbGRSZWN0YW5nbGUgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUmVjdGFuZ2xlJyk7XG5cbnZhciBfYnVpbGRSZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRSZWN0YW5nbGUpO1xuXG52YXIgX2J1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlJyk7XG5cbnZhciBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkUm91bmRlZFJlY3RhbmdsZSk7XG5cbnZhciBfYnVpbGRDaXJjbGUgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkQ2lyY2xlJyk7XG5cbnZhciBfYnVpbGRDaXJjbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRDaXJjbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogUmVuZGVycyB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEdyYXBoaWNzUmVuZGVyZXIgPSBmdW5jdGlvbiAoX09iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKEdyYXBoaWNzUmVuZGVyZXIsIF9PYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBvYmplY3QgcmVuZGVyZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyYXBoaWNzUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9PYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuZ3JhcGhpY3NEYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIF90aGlzLnByaW1pdGl2ZVNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAvLyBlYXN5IGFjY2VzcyFcbiAgICAgICAgX3RoaXMuQ09OVEVYVF9VSUQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdGhpcy5wcmltaXRpdmVTaGFkZXIgPSBuZXcgX1ByaW1pdGl2ZVNoYWRlcjIuZGVmYXVsdCh0aGlzLmdsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyByZW5kZXJlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX09iamVjdFJlbmRlcmVyMy5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YVBvb2wubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhUG9vbFtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2wgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgZ3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdmFyIHdlYkdMRGF0YSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghd2ViR0wgfHwgZ3JhcGhpY3MuZGlydHkgIT09IHdlYkdMLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYXBoaWNzKGdyYXBoaWNzKTtcblxuICAgICAgICAgICAgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzICBjb3VsZCBiZSBzcGVlZGVkIHVwIGZvciBzdXJlIVxuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5wcmltaXRpdmVTaGFkZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JhcGhpY3MuYmxlbmRNb2RlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbiA9IHdlYkdMLmRhdGEubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB3ZWJHTC5kYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYWRlclRlbXAgPSB3ZWJHTERhdGEuc2hhZGVyO1xuXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlclRlbXApO1xuICAgICAgICAgICAgc2hhZGVyVGVtcC51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IGdyYXBoaWNzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyVGVtcC51bmlmb3Jtcy50aW50ID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljcy50aW50KTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMuYWxwaGEgPSBncmFwaGljcy53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKHdlYkdMRGF0YS52YW8pO1xuXG4gICAgICAgICAgICBpZiAod2ViR0xEYXRhLm5hdGl2ZUxpbmVzKSB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUywgMCwgd2ViR0xEYXRhLnBvaW50cy5sZW5ndGggLyA2KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2ViR0xEYXRhLnZhby5kcmF3KGdsLlRSSUFOR0xFX1NUUklQLCB3ZWJHTERhdGEuaW5kaWNlcy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byB1cGRhdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlR3JhcGhpY3MgPSBmdW5jdGlvbiB1cGRhdGVHcmFwaGljcyhncmFwaGljcykge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8vIGdldCB0aGUgY29udGV4dHMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICAgIHZhciB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAvLyBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGRvZXMgbm90IGV4aXN0IGluIHRoZSB3ZWJHTCBjb250ZXh0IHRpbWUgdG8gY3JlYXRlIGl0IVxuICAgICAgICBpZiAoIXdlYkdMKSB7XG4gICAgICAgICAgICB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXSA9IHsgbGFzdEluZGV4OiAwLCBkYXRhOiBbXSwgZ2w6IGdsLCBjbGVhckRpcnR5OiAtMSwgZGlydHk6IC0xIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmbGFnIHRoZSBncmFwaGljcyBhcyBub3QgZGlydHkgYXMgd2UgYXJlIGFib3V0IHRvIHVwZGF0ZSBpdC4uLlxuICAgICAgICB3ZWJHTC5kaXJ0eSA9IGdyYXBoaWNzLmRpcnR5O1xuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGNsZWFyZWQgdGhlIGdyYXBoaWNzIG9iamVjdCB3ZSB3aWxsIG5lZWQgdG8gY2xlYXIgZXZlcnkgb2JqZWN0XG4gICAgICAgIGlmIChncmFwaGljcy5jbGVhckRpcnR5ICE9PSB3ZWJHTC5jbGVhckRpcnR5KSB7XG4gICAgICAgICAgICB3ZWJHTC5jbGVhckRpcnR5ID0gZ3JhcGhpY3MuY2xlYXJEaXJ0eTtcblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFuZCByZXR1cm4gYWxsIHRoZSB3ZWJHTERhdGFzIHRvIHRoZSBvYmplY3QgcG9vbCBzbyB0aGFuIGNhbiBiZSByZXVzZWQgbGF0ZXIgb25cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2ViR0wuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5wdXNoKHdlYkdMLmRhdGFbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgYXJyYXkgYW5kIHJlc2V0IHRoZSBpbmRleC4uXG4gICAgICAgICAgICB3ZWJHTC5kYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB3ZWJHTC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdlYkdMRGF0YSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHdlYkdMRGF0YU5hdGl2ZUxpbmVzID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgZ3JhcGhpY3MgZGF0YXMgYW5kIGNvbnN0cnVjdCBlYWNoIG9uZS4uXG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgYSBjb21wbGV4IGZpbGwgdGhlbiB0aGUgbmV3IHN0ZW5jaWwgYnVmZmVyIHRlY2huaXF1ZSB3aWxsIGJlIHVzZWRcbiAgICAgICAgLy8gb3RoZXIgd2lzZSBncmFwaGljcyBvYmplY3RzIHdpbGwgYmUgcHVzaGVkIGludG8gYSBiYXRjaC4uXG4gICAgICAgIGZvciAodmFyIF9pID0gd2ViR0wubGFzdEluZGV4OyBfaSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhW19pXTtcblxuICAgICAgICAgICAgLy8gVE9ETyAtIHRoaXMgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHRoaXMuZ2V0V2ViR0xEYXRhKHdlYkdMLCAwKTtcblxuICAgICAgICAgICAgaWYgKGRhdGEubmF0aXZlTGluZXMgJiYgZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGFOYXRpdmVMaW5lcyA9IHRoaXMuZ2V0V2ViR0xEYXRhKHdlYkdMLCAwLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB3ZWJHTC5sYXN0SW5kZXgrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgKDAsIF9idWlsZFBvbHkyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUKSB7XG4gICAgICAgICAgICAgICAgKDAsIF9idWlsZFJlY3RhbmdsZTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDIHx8IGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgKDAsIF9idWlsZENpcmNsZTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgKDAsIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3ZWJHTC5sYXN0SW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICAvLyB1cGxvYWQgYWxsIHRoZSBkaXJ0eSBkYXRhLi4uXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHdlYkdMLmRhdGEubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgd2ViR0xEYXRhID0gd2ViR0wuZGF0YVtfaTJdO1xuXG4gICAgICAgICAgICBpZiAod2ViR0xEYXRhLmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgd2ViR0xEYXRhLnVwbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSB0aGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZSAtIFRPRE8gQEFsdmluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5hdGl2ZUxpbmVzIC0gaW5kaWNhdGUgd2hldGhlciB0aGUgd2ViR0xEYXRhIHVzZSBmb3IgbmF0aXZlTGluZXMuXG4gICAgICogQHJldHVybiB7Kn0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5nZXRXZWJHTERhdGEgPSBmdW5jdGlvbiBnZXRXZWJHTERhdGEoZ2wsIHR5cGUsIG5hdGl2ZUxpbmVzKSB7XG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSBnbC5kYXRhW2dsLmRhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKCF3ZWJHTERhdGEgfHwgd2ViR0xEYXRhLm5hdGl2ZUxpbmVzICE9PSBuYXRpdmVMaW5lcyB8fCB3ZWJHTERhdGEucG9pbnRzLmxlbmd0aCA+IDMyMDAwMCkge1xuICAgICAgICAgICAgd2ViR0xEYXRhID0gdGhpcy5ncmFwaGljc0RhdGFQb29sLnBvcCgpIHx8IG5ldyBfV2ViR0xHcmFwaGljc0RhdGEyLmRlZmF1bHQodGhpcy5yZW5kZXJlci5nbCwgdGhpcy5wcmltaXRpdmVTaGFkZXIsIHRoaXMucmVuZGVyZXIuc3RhdGUuYXR0cmlic1N0YXRlKTtcbiAgICAgICAgICAgIHdlYkdMRGF0YS5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuICAgICAgICAgICAgd2ViR0xEYXRhLnJlc2V0KHR5cGUpO1xuICAgICAgICAgICAgZ2wuZGF0YS5wdXNoKHdlYkdMRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICB3ZWJHTERhdGEuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB3ZWJHTERhdGE7XG4gICAgfTtcblxuICAgIHJldHVybiBHcmFwaGljc1JlbmRlcmVyO1xufShfT2JqZWN0UmVuZGVyZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmFwaGljc1JlbmRlcmVyO1xuXG5cbl9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdncmFwaGljcycsIEdyYXBoaWNzUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NSZW5kZXJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJlemllckN1cnZlVG87XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbcGF0aD1bXV0gLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAqIEByZXR1cm4ge251bWJlcltdfSBBcnJheSBvZiBwb2ludHMgb2YgdGhlIGN1cnZlXG4gKi9cbmZ1bmN0aW9uIGJlemllckN1cnZlVG8oZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICB2YXIgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiA4ICYmIGFyZ3VtZW50c1s4XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzhdIDogW107XG5cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBkdCA9IDA7XG4gICAgdmFyIGR0MiA9IDA7XG4gICAgdmFyIGR0MyA9IDA7XG4gICAgdmFyIHQyID0gMDtcbiAgICB2YXIgdDMgPSAwO1xuXG4gICAgcGF0aC5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICBkdCA9IDEgLSBqO1xuICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICBkdDMgPSBkdDIgKiBkdDtcblxuICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICB0MyA9IHQyICogajtcblxuICAgICAgICBwYXRoLnB1c2goZHQzICogZnJvbVggKyAzICogZHQyICogaiAqIGNwWCArIDMgKiBkdCAqIHQyICogY3BYMiArIHQzICogdG9YLCBkdDMgKiBmcm9tWSArIDMgKiBkdDIgKiBqICogY3BZICsgMyAqIGR0ICogdDIgKiBjcFkyICsgdDMgKiB0b1kpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmV6aWVyQ3VydmVUby5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbnZhciBfUmVuZGVyVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9HcmFwaGljc0RhdGEnKTtcblxudmFyIF9HcmFwaGljc0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NEYXRhKTtcblxudmFyIF9TcHJpdGUgPSByZXF1aXJlKCcuLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG52YXIgX1Nwcml0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuLi9kaXNwbGF5L0JvdW5kcycpO1xuXG52YXIgX0JvdW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Cb3VuZHMpO1xuXG52YXIgX2JlemllckN1cnZlVG8yID0gcmVxdWlyZSgnLi91dGlscy9iZXppZXJDdXJ2ZVRvJyk7XG5cbnZhciBfYmV6aWVyQ3VydmVUbzMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iZXppZXJDdXJ2ZVRvMik7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBjYW52YXNSZW5kZXJlciA9IHZvaWQgMDtcbnZhciB0ZW1wTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xudmFyIHRlbXBQb2ludCA9IG5ldyBfbWF0aC5Qb2ludCgpO1xudmFyIHRlbXBDb2xvcjEgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xudmFyIHRlbXBDb2xvcjIgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBHcmFwaGljcyA9IGZ1bmN0aW9uIChfQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKEdyYXBoaWNzLCBfQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlTGluZXM9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljcygpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUxpbmVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3MpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxwaGEgdmFsdWUgdXNlZCB3aGVuIGZpbGxpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmZpbGxBbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAodGhpY2tuZXNzKSBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGluZVdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xvciBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGluZUNvbG9yID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR3JhcGhpY3MgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ3JhcGhpY3NEYXRhID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEFwcGx5IGEgdmFsdWUgb2YgMHhGRkZGRkYgdG9cbiAgICAgICAgICogcmVzZXQgdGhlIHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVXNlZCB0byBjb21wYXJlIHRvIHRoZSBjdXJyZW50IHRpbnQgYW5kXG4gICAgICAgICAqIGNoZWNrIGlmIHRoZXJlcyBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcmV2VGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcnJheSBjb250YWluaW5nIHNvbWUgV2ViR0wtcmVsYXRlZCBwcm9wZXJ0aWVzIHVzZWQgYnkgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBvYmplY3Q+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gVE9ETyAtIF93ZWJnbCBzaG91bGQgdXNlIGEgcHJvdG90eXBlIG9iamVjdCwgbm90IGEgcmFuZG9tIHVuZG9jdW1lbnRlZCBvYmplY3QuLi5cbiAgICAgICAgX3RoaXMuX3dlYkdMID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzaGFwZSBpcyBiZWluZyB1c2VkIGFzIGEgbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmlzTWFzayA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzJyBwYWRkaW5nIHVzZWQgZm9yIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgdGhlIGxvY2FsIGJvdW5kcyB0byBwcmV2ZW50IHJlY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzID0gbmV3IF9Cb3VuZHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBoYXMgY2hhbmdlZC4gSWYgdGhpcyBpcyBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3Qgd2lsbCBiZSByZWNhbGN1bGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIG5lZWQgdG8gZG8gYSBmYXN0IHJlY3QgY2hlY2sgdXNpbmcgdGhlIGlkIGNvbXBhcmUgbWV0aG9kXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mYXN0UmVjdERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyIHRoZSBncmFwaGljcyB3ZWJHTCBkYXRhXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jbGVhckRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2Ugd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBsb2NhbCBib3VuZHNcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBjYWNoZWQgc3ByaXRlIG9iamVjdCBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FjaGVkU3ByaXRlRGlydHkgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5fc3ByaXRlUmVjdCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9mYXN0UmVjdCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIGNsb25lID0gbmV3IEdyYXBoaWNzKCk7XG5cbiAgICAgICAgY2xvbmUucmVuZGVyYWJsZSA9IHRoaXMucmVuZGVyYWJsZTtcbiAgICAgICAgY2xvbmUuZmlsbEFscGhhID0gdGhpcy5maWxsQWxwaGE7XG4gICAgICAgIGNsb25lLmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjbG9uZS5saW5lQ29sb3IgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgY2xvbmUudGludCA9IHRoaXMudGludDtcbiAgICAgICAgY2xvbmUuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG4gICAgICAgIGNsb25lLmlzTWFzayA9IHRoaXMuaXNNYXNrO1xuICAgICAgICBjbG9uZS5ib3VuZHNQYWRkaW5nID0gdGhpcy5ib3VuZHNQYWRkaW5nO1xuICAgICAgICBjbG9uZS5kaXJ0eSA9IDA7XG4gICAgICAgIGNsb25lLmNhY2hlZFNwcml0ZURpcnR5ID0gdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eTtcblxuICAgICAgICAvLyBjb3B5IGdyYXBoaWNzIGRhdGFcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY2xvbmUuZ3JhcGhpY3NEYXRhLnB1c2godGhpcy5ncmFwaGljc0RhdGFbaV0uY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZS5jdXJyZW50UGF0aCA9IGNsb25lLmdyYXBoaWNzRGF0YVtjbG9uZS5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgY2xvbmUudXBkYXRlTG9jYWxCb3VuZHMoKTtcblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbmVXaWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gbGluZVN0eWxlKCkge1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgY29sb3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5saW5lQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5saW5lQWxwaGEgPSBhbHBoYTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGhhbGZ3YXkgdGhyb3VnaCBhIGxpbmU/IHN0YXJ0IGEgbmV3IG9uZSFcbiAgICAgICAgICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5zbGljZSgtMikpO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUuY2xvc2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpdHMgZW1wdHkgc28gbGV0cyBqdXN0IHNldCB0aGUgbGluZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVDb2xvciA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZUFscGhhID0gdGhpcy5saW5lQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uIG1vdmVUbyh4LCB5KSB7XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBfbWF0aC5Qb2x5Z29uKFt4LCB5XSk7XG5cbiAgICAgICAgc2hhcGUuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVG8gPSBmdW5jdGlvbiBsaW5lVG8oeCwgeSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHgsIHkpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbyA9IGZ1bmN0aW9uIHF1YWRyYXRpY0N1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMgPSBbMCwgMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuID0gMjA7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgdmFyIHhhID0gMDtcbiAgICAgICAgdmFyIHlhID0gMDtcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdmFyIGogPSBpIC8gbjtcblxuICAgICAgICAgICAgeGEgPSBmcm9tWCArIChjcFggLSBmcm9tWCkgKiBqO1xuICAgICAgICAgICAgeWEgPSBmcm9tWSArIChjcFkgLSBmcm9tWSkgKiBqO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArIChjcFggKyAodG9YIC0gY3BYKSAqIGogLSB4YSkgKiBqLCB5YSArIChjcFkgKyAodG9ZIC0gY3BZKSAqIGogLSB5YSkgKiBqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIGJlemllckN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMgPSBbMCwgMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcblxuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggLT0gMjtcblxuICAgICAgICAoMCwgX2JlemllckN1cnZlVG8zLmRlZmF1bHQpKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBwb2ludHMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmNUbyA9IGZ1bmN0aW9uIGFyY1RvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgICAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgICAgICB2YXIgbW0gPSBNYXRoLmFicyhhMSAqIGIyIC0gYjEgKiBhMik7XG5cbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkZCA9IGExICogYTEgKyBiMSAqIGIxO1xuICAgICAgICAgICAgdmFyIGNjID0gYTIgKiBhMiArIGIyICogYjI7XG4gICAgICAgICAgICB2YXIgdHQgPSBhMSAqIGEyICsgYjEgKiBiMjtcbiAgICAgICAgICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgICAgIHZhciBjeCA9IGsxICogYjIgKyBrMiAqIGIxO1xuICAgICAgICAgICAgdmFyIGN5ID0gazEgKiBhMiArIGsyICogYTE7XG4gICAgICAgICAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4ICsgeDEsIGN5ICsgeTEsIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGIxICogYTIgPiBiMiAqIGExKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIGFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUpIHtcbiAgICAgICAgdmFyIGFudGljbG9ja3dpc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gX2NvbnN0LlBJXzI7XG4gICAgICAgIH0gZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IF9jb25zdC5QSV8yO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgc2VncyA9IE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBfY29uc3QuUElfMikgKiA0MDtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXM7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzIDogbnVsbDtcblxuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0gc3RhcnRYIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHN0YXJ0WSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRoZXRhID0gc3dlZXAgLyAoc2VncyAqIDIpO1xuICAgICAgICB2YXIgdGhldGEyID0gdGhldGEgKiAyO1xuXG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG5cbiAgICAgICAgdmFyIHNlZ01pbnVzID0gc2VncyAtIDE7XG5cbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IHNlZ01pbnVzICUgMSAvIHNlZ01pbnVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciByZWFsID0gaSArIHJlbWFpbmRlciAqIGk7XG5cbiAgICAgICAgICAgIHZhciBhbmdsZSA9IHRoZXRhICsgc3RhcnRBbmdsZSArIHRoZXRhMiAqIHJlYWw7XG5cbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaCgoY1RoZXRhICogYyArIHNUaGV0YSAqIHMpICogcmFkaXVzICsgY3gsIChjVGhldGEgKiAtcyArIHNUaGV0YSAqIGMpICogcmFkaXVzICsgY3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIGJlZ2luRmlsbCgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdGhpcy5maWxsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5maWxsQWxwaGEgPSBhbHBoYTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsID0gdGhpcy5maWxsaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbENvbG9yID0gdGhpcy5maWxsQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsQWxwaGEgPSB0aGlzLmZpbGxBbHBoYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZmlsbCB0byB0aGUgbGluZXMgYW5kIHNoYXBlcyB0aGF0IHdlcmUgYWRkZWQgc2luY2UgdGhlIGxhc3QgY2FsbCB0byB0aGUgYmVnaW5GaWxsKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbCA9IGZ1bmN0aW9uIGVuZEZpbGwoKSB7XG4gICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSZWN0ID0gZnVuY3Rpb24gZHJhd1JlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0ID0gZnVuY3Rpb24gZHJhd1JvdW5kZWRSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLkNpcmNsZSh4LCB5LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uIGRyYXdFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLkVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24ocGF0aCkge1xuICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBhc3NpZ25tZW50IGRlb3B0XG4gICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMTogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgIHZhciBwb2ludHMgPSBwYXRoO1xuXG4gICAgICAgIHZhciBjbG9zZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChwb2ludHMgaW5zdGFuY2VvZiBfbWF0aC5Qb2x5Z29uKSB7XG4gICAgICAgICAgICBjbG9zZWQgPSBwb2ludHMuY2xvc2VkO1xuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwb2ludHMpKSB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBsZWFrIGRlb3B0XG4gICAgICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjI6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICAgICAgcG9pbnRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IGFyZ3VtZW50c1tpXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBfbWF0aC5Qb2x5Z29uKHBvaW50cyk7XG5cbiAgICAgICAgc2hhcGUuY2xvc2VkID0gY2xvc2VkO1xuXG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTdGFyID0gZnVuY3Rpb24gZHJhd1N0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzKSB7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAtMSAqIE1hdGguUEkgLyAyICsgcm90YXRpb247XG4gICAgICAgIHZhciBsZW4gPSBwb2ludHMgKiAyO1xuICAgICAgICB2YXIgZGVsdGEgPSBfY29uc3QuUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBpICogZGVsdGEgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goeCArIHIgKiBNYXRoLmNvcyhhbmdsZSksIHkgKyByICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdQb2x5Z29uKHBvbHlnb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVdpZHRoIHx8IHRoaXMuZmlsbGluZyB8fCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmZpbGxpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25seSAxIHJlY3QuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gaXNGYXN0UmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QgJiYgIXRoaXMuZ3JhcGhpY3NEYXRhWzBdLmxpbmVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ICE9PSB0aGlzLmZhc3RSZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZmFzdFJlY3REaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLl9mYXN0UmVjdCA9IHRoaXMuaXNGYXN0UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyB0aGlzIGNoZWNrIGNhbiBiZSBtb3ZlZCB0byBkaXJ0eT9cbiAgICAgICAgaWYgKHRoaXMuX2Zhc3RSZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJTcHJpdGVSZWN0KHJlbmRlcmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIHNwcml0ZSByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlclNwcml0ZVJlY3QgPSBmdW5jdGlvbiBfcmVuZGVyU3ByaXRlUmVjdChyZW5kZXJlcikge1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlO1xuXG4gICAgICAgIGlmICghdGhpcy5fc3ByaXRlUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVjdCA9IG5ldyBfU3ByaXRlMi5kZWZhdWx0KG5ldyBfVGV4dHVyZTIuZGVmYXVsdChfVGV4dHVyZTIuZGVmYXVsdC5XSElURSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNwcml0ZSA9IHRoaXMuX3Nwcml0ZVJlY3Q7XG5cbiAgICAgICAgaWYgKHRoaXMudGludCA9PT0gMHhmZmZmZmYpIHtcbiAgICAgICAgICAgIHNwcml0ZS50aW50ID0gdGhpcy5ncmFwaGljc0RhdGFbMF0uZmlsbENvbG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQxID0gdGVtcENvbG9yMTtcbiAgICAgICAgICAgIHZhciB0MiA9IHRlbXBDb2xvcjI7XG5cbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodGhpcy5ncmFwaGljc0RhdGFbMF0uZmlsbENvbG9yLCB0MSk7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHRoaXMudGludCwgdDIpO1xuXG4gICAgICAgICAgICB0MVswXSAqPSB0MlswXTtcbiAgICAgICAgICAgIHQxWzFdICo9IHQyWzFdO1xuICAgICAgICAgICAgdDFbMl0gKj0gdDJbMl07XG5cbiAgICAgICAgICAgIHNwcml0ZS50aW50ID0gKDAsIF91dGlscy5yZ2IyaGV4KSh0MSk7XG4gICAgICAgIH1cbiAgICAgICAgc3ByaXRlLmFscGhhID0gdGhpcy5ncmFwaGljc0RhdGFbMF0uZmlsbEFscGhhO1xuICAgICAgICBzcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIHNwcml0ZS5hbHBoYTtcbiAgICAgICAgc3ByaXRlLmJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuXG4gICAgICAgIHNwcml0ZS5fdGV4dHVyZS5fZnJhbWUud2lkdGggPSByZWN0LndpZHRoO1xuICAgICAgICBzcHJpdGUuX3RleHR1cmUuX2ZyYW1lLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuXG4gICAgICAgIHNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICBzcHJpdGUuYW5jaG9yLnNldCgtcmVjdC54IC8gcmVjdC53aWR0aCwgLXJlY3QueSAvIHJlY3QuaGVpZ2h0KTtcbiAgICAgICAgc3ByaXRlLl9vbkFuY2hvclVwZGF0ZSgpO1xuXG4gICAgICAgIHNwcml0ZS5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5pc01hc2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgaWYgKHRoaXMuYm91bmRzRGlydHkgIT09IHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgICAgICB0aGlzLmNhY2hlZFNwcml0ZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsYiA9IHRoaXMuX2xvY2FsQm91bmRzO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbGIubWluWCwgbGIubWluWSwgbGIubWF4WCwgbGIubWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGRlYWwgd2l0aCBmaWxscy4uXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGFwZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBkYXRhLmhvbGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xlID0gZGF0YS5ob2xlc1tfaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUudXBkYXRlTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiB1cGRhdGVMb2NhbEJvdW5kcygpIHtcbiAgICAgICAgdmFyIG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFggPSAtSW5maW5pdHk7XG5cbiAgICAgICAgdmFyIG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gMDtcbiAgICAgICAgICAgIHZhciB4ID0gMDtcbiAgICAgICAgICAgIHZhciB5ID0gMDtcbiAgICAgICAgICAgIHZhciB3ID0gMDtcbiAgICAgICAgICAgIHZhciBoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGRhdGEubGluZVdpZHRoO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCB8fCB0eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLnggLSBsaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueSAtIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS5yYWRpdXMgKyBsaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUucmFkaXVzICsgbGluZVdpZHRoIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgbGluZVdpZHRoIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUE9MWVxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcncgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3ggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3kgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqICsgMiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBwb2ludHNbaiArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSBwb2ludHNbaiArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBNYXRoLmFicyh4MiAtIHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyh5MiAtIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA8IDFlLTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcncgPSAoaCAvIHcgKiBkeSArIGR4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICByaCA9IChoIC8gdyAqIGR4ICsgZHkpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4ID0gKHgyICsgeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSAoeTIgKyB5KSAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblggPSBjeCAtIHJ3IDwgbWluWCA/IGN4IC0gcncgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IGN4ICsgcncgPiBtYXhYID8gY3ggKyBydyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblkgPSBjeSAtIHJoIDwgbWluWSA/IGN5IC0gcmggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WSA9IGN5ICsgcmggPiBtYXhZID8gY3kgKyByaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtaW5YID0gMDtcbiAgICAgICAgICAgIG1heFggPSAwO1xuICAgICAgICAgICAgbWluWSA9IDA7XG4gICAgICAgICAgICBtYXhZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5ib3VuZHNQYWRkaW5nO1xuXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1pblggPSBtaW5YIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WCA9IG1heFggKyBwYWRkaW5nO1xuXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1pblkgPSBtaW5ZIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WSA9IG1heFkgKyBwYWRkaW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBUaGUgZ2VuZXJhdGVkIEdyYXBoaWNzRGF0YSBvYmplY3QuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiBkcmF3U2hhcGUoc2hhcGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGN1cnJlbnQgcGF0aCFcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPD0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgX0dyYXBoaWNzRGF0YTIuZGVmYXVsdCh0aGlzLmxpbmVXaWR0aCwgdGhpcy5saW5lQ29sb3IsIHRoaXMubGluZUFscGhhLCB0aGlzLmZpbGxDb2xvciwgdGhpcy5maWxsQWxwaGEsIHRoaXMuZmlsbGluZywgdGhpcy5uYXRpdmVMaW5lcywgc2hhcGUpO1xuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICBkYXRhLnNoYXBlLmNsb3NlZCA9IGRhdGEuc2hhcGUuY2xvc2VkIHx8IHRoaXMuZmlsbGluZztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBjYW52YXMgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBUaGUgc2NhbGUgbW9kZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ldyB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVDYW52YXNUZXh0dXJlKHNjYWxlTW9kZSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgIHZhciBjYW52YXNCdWZmZXIgPSBfUmVuZGVyVGV4dHVyZTIuZGVmYXVsdC5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGlmICghY2FudmFzUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGNhbnZhc1JlbmRlcmVyID0gbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weSh0ZW1wTWF0cml4KTtcblxuICAgICAgICB0ZW1wTWF0cml4LmludmVydCgpO1xuXG4gICAgICAgIHRlbXBNYXRyaXgudHggLT0gYm91bmRzLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgLT0gYm91bmRzLnk7XG5cbiAgICAgICAgY2FudmFzUmVuZGVyZXIucmVuZGVyKHRoaXMsIGNhbnZhc0J1ZmZlciwgdHJ1ZSwgdGVtcE1hdHJpeCk7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBfVGV4dHVyZTIuZGVmYXVsdC5mcm9tQ2FudmFzKGNhbnZhc0J1ZmZlci5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNhbnZhcywgc2NhbGVNb2RlLCAnZ3JhcGhpY3MnKTtcblxuICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gY2xvc2VQYXRoKCkge1xuICAgICAgICAvLyBvayBzbyBjbG9zZSBwYXRoIGFzc3VtZXMgbmV4dCBvbmUgaXMgYSBob2xlIVxuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGF0aCAmJiBjdXJyZW50UGF0aC5zaGFwZSkge1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2hhcGUuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgaG9sZSBpbiB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZSgpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIGhvbGUhXG4gICAgICAgIHZhciBob2xlID0gdGhpcy5ncmFwaGljc0RhdGEucG9wKCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IHRoaXMuZ3JhcGhpY3NEYXRhW3RoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGguYWRkSG9sZShob2xlLnNoYXBlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3IgZWFjaCB3ZWJnbCBkYXRhIGVudHJ5LCBkZXN0cm95IHRoZSBXZWJHTEdyYXBoaWNzRGF0YVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl93ZWJnbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl93ZWJnbFtpZF0uZGF0YS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlYmdsW2lkXS5kYXRhW2pdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zcHJpdGVSZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZWN0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2ViZ2wgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBHcmFwaGljcztcbn0oX0NvbnRhaW5lcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzO1xuXG5cbkdyYXBoaWNzLl9TUFJJVEVfVEVYVFVSRSA9IG51bGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB0cmltQ2FudmFzO1xuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaW1DYW52YXMoY2FudmFzKSB7XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcblxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsXG4gICAgfTtcbiAgICB2YXIgaSA9IHZvaWQgMDtcbiAgICB2YXIgeCA9IHZvaWQgMDtcbiAgICB2YXIgeSA9IHZvaWQgMDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMCkge1xuICAgICAgICAgICAgeCA9IGkgLyA0ICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oaSAvIDQgLyB3aWR0aCk7XG5cbiAgICAgICAgICAgIGlmIChib3VuZC50b3AgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh4IDwgYm91bmQubGVmdCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZC5yaWdodCA8IHgpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm91bmQuYm90dG9tIDwgeSkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICBoZWlnaHQgPSBib3VuZC5ib3R0b20gLSBib3VuZC50b3AgKyAxO1xuXG4gICAgdmFyIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmltQ2FudmFzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9TcHJpdGUyID0gcmVxdWlyZSgnLi4vc3ByaXRlcy9TcHJpdGUnKTtcblxudmFyIF9TcHJpdGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlMik7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX1RleHRTdHlsZSA9IHJlcXVpcmUoJy4vVGV4dFN0eWxlJyk7XG5cbnZhciBfVGV4dFN0eWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRTdHlsZSk7XG5cbnZhciBfVGV4dE1ldHJpY3MgPSByZXF1aXJlKCcuL1RleHRNZXRyaWNzJyk7XG5cbnZhciBfVGV4dE1ldHJpY3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dE1ldHJpY3MpO1xuXG52YXIgX3RyaW1DYW52YXMgPSByZXF1aXJlKCcuLi91dGlscy90cmltQ2FudmFzJyk7XG5cbnZhciBfdHJpbUNhbnZhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cmltQ2FudmFzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKiBlc2xpbnQgbWF4LWRlcHRoOiBbMiwgOF0gKi9cblxuXG52YXIgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICAgIHRleHR1cmU6IHRydWUsXG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlXG59O1xuXG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLFxuICogb3IgYWRkIGEgd29yZFdyYXAgcHJvcGVydHkgc2V0IHRvIHRydWUgYW5kIGFuZCB3b3JkV3JhcFdpZHRoIHByb3BlcnR5IHdpdGggYSB2YWx1ZSBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdFxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ1RoaXMgaXMgYSBQaXhpSlMgdGV4dCcse2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dCA9IGZ1bmN0aW9uIChfU3ByaXRlKSB7XG4gICAgX2luaGVyaXRzKFRleHQsIF9TcHJpdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIFRoZSBjYW52YXMgZWxlbWVudCBmb3IgZHJhd2luZyB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dCh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0KTtcblxuICAgICAgICBjYW52YXMgPSBjYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBfVGV4dHVyZTIuZGVmYXVsdC5mcm9tQ2FudmFzKGNhbnZhcywgX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUsICd0ZXh0Jyk7XG5cbiAgICAgICAgdGV4dHVyZS5vcmlnID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICB0ZXh0dXJlLnRyaW0gPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLy8gYmFzZSB0ZXh0dXJlIGlzIGFscmVhZHkgYXV0b21hdGljYWxseSBhZGRlZCB0byB0aGUgY2FjaGUsIG5vdyBhZGRpbmcgdGhlIGFjdHVhbCB0ZXh0dXJlXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX1RleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShfdGhpcy5fdGV4dHVyZSwgX3RoaXMuX3RleHR1cmUuYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzWzBdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhbnZhcyA9IGNhbnZhcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy4gVGhpcyBpcyBzZXQgYXV0b21hdGljYWxseSBieSB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGVMaXN0ZW5lciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnQgPSAnJztcblxuICAgICAgICBfdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgX3RoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICBfdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dChyZXNwZWN0RGlydHkpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgc3R5bGUgaGFzIGNoYW5nZWQuLlxuICAgICAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmRpcnR5ICYmIHJlc3BlY3REaXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZm9udCA9IHRoaXMuX3N0eWxlLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgbWVhc3VyZWQgPSBfVGV4dE1ldHJpY3MyLmRlZmF1bHQubWVhc3VyZVRleHQodGhpcy5fdGV4dCwgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVkLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICB2YXIgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlZC5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IG1lYXN1cmVkLmZvbnRQcm9wZXJ0aWVzO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKCh3aWR0aCArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoaGVpZ2h0ICsgc3R5bGUucGFkZGluZyAqIDIpICogdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMucmVzb2x1dGlvbiwgdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcblxuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblkgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHN0eWxlLmRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvd0JsdXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHhTaGFkb3dPZmZzZXQgPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgdmFyIHlTaGFkb3dPZmZzZXQgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBpICogbGluZUhlaWdodCArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV0sIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV0sIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB0aGUgc2hhZG93IGJsdXIgYW5kIGFscGhhIHRoYXQgd2FzIHNldCBieSB0aGUgZHJvcCBzaGFkb3csIGZvciB0aGUgcmVndWxhciB0ZXh0XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMpO1xuXG4gICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsaW5lcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIgKyBfaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tfaV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tfaV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIGRyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHgsIHkpIHtcbiAgICAgICAgdmFyIGlzU3Ryb2tlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBTdHJpbmcucHJvdG90eXBlLnNwbGl0LmNhbGwodGV4dCwgJycpO1xuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAnJztcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudCA9IGNoYXJhY3RlcnNbaW5kZXgrK107XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50LCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoY3VycmVudCkud2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSgpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9ICgwLCBfdHJpbUNhbnZhczIuZGVmYXVsdCkoY2FudmFzKTtcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgYmFzZVRleHR1cmUucmVhbFdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgYmFzZVRleHR1cmUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuXG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gcGFkZGluZyAqIDI7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSBwYWRkaW5nICogMjtcblxuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLmVtaXQoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5yZW5kZXJXZWJHTC5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcy5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBfU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgdXBvbiBhIFRleHRTdHlsZSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX29uU3R5bGVDaGFuZ2UgPSBmdW5jdGlvbiBfb25TdHlsZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuXG5cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiBfZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb2Nvb24gb24gY2FudmFzKyBjYW5ub3QgZ2VuZXJhdGUgdGV4dHVyZXMsIHNvIHVzZSB0aGUgZmlyc3QgY29sb3VyIGluc3RlYWRcbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gdm9pZCAwO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gc3R5bGUuZmlsbC5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuXG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSAoZmlsbC5sZW5ndGggKyAxKSAqIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGluZXMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCArIF9pMiAvIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgZmlsbC5sZW5ndGg7IF9pMysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tfaTNdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbX2kzXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbX2kzXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHQsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICAgICAqIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3R5bGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBfVGV4dFN0eWxlMi5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgX1RleHRTdHlsZTIuZGVmYXVsdChzdHlsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gJycgfHwgdGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnICcgOiB0ZXh0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHQ7XG59KF9TcHJpdGUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgaW4gYnl0ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBCdWZmZXIoc2l6ZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXIpO1xuXG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHZlcnRpY2VzIGFzIGEgRmxvYXQzMkFycmF5IGZvciBwb3NpdGlvbnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHZlcnRpY2VzIGFzIGEgVWludDMyQXJyYXkgZm9yIHV2c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnZlcnRpY2VzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyLlxuICAgKlxuICAgKi9cblxuXG4gIEJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG51bGw7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gWydwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLCAndm9pZCBtYWluKHZvaWQpeycsICdmbG9hdCB0ZXN0ID0gMC4xOycsICclZm9ybG9vcCUnLCAnZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcihtYXhJZnMsIGdsKSB7XG4gICAgdmFyIGNyZWF0ZVRlbXBDb250ZXh0ID0gIWdsO1xuXG4gICAgLy8gQGlmIERFQlVHXG4gICAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG4gICAgLy8gQGVuZGlmXG5cbiAgICBpZiAoY3JlYXRlVGVtcENvbnRleHQpIHtcbiAgICAgICAgdmFyIHRpbnlDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICB0aW55Q2FudmFzLndpZHRoID0gMTtcbiAgICAgICAgdGlueUNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgICAgIGdsID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuY3JlYXRlQ29udGV4dCh0aW55Q2FudmFzKTtcbiAgICB9XG5cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBtYXhJZnMgPSBtYXhJZnMgLyAyIHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHZhbGlkIVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3JlYXRlVGVtcENvbnRleHQpIHtcbiAgICAgICAgLy8gZ2V0IHJpZCBvZiBjb250ZXh0XG4gICAgICAgIGlmIChnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4SWZzO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heElmcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSAnaWYodGVzdCA9PSAnICsgaSArICcuMCl7fSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTsnLCAndm9pZCBtYWluKHZvaWQpeycsICd2ZWM0IGNvbG9yOycsICdmbG9hdCB0ZXh0dXJlSWQgPSBmbG9vcih2VGV4dHVyZUlkKzAuNSk7JywgJyVmb3Jsb29wJScsICdnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcihnbCwgbWF4VGV4dHVyZXMpIHtcbiAgICB2YXIgdmVydGV4U3JjID0gJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3I7XFxufVxcbic7XG4gICAgdmFyIGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lY291bnQlL2dpLCBtYXhUZXh0dXJlcyk7XG4gICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG5cbiAgICB2YXIgc2hhZGVyID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQoZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHNhbXBsZVZhbHVlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgfVxuXG4gICAgc2hhZGVyLmJpbmQoKTtcbiAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXJzID0gc2FtcGxlVmFsdWVzO1xuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgICAgICAgc3JjICs9ICdpZih0ZXh0dXJlSWQgPT0gJyArIGkgKyAnLjApJztcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxueyc7XG4gICAgICAgIHNyYyArPSAnXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWycgKyBpICsgJ10sIHZUZXh0dXJlQ29vcmQpOyc7XG4gICAgICAgIHNyYyArPSAnXFxufSc7XG4gICAgfVxuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIHJldHVybiBzcmM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2YWxpZGF0ZUNvbnRleHQ7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHQoZ2wpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZUNvbnRleHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gKiBAcGFyYW0ge29iamVjdH0gW29iamVjdD17fV0gLSBUaGUgb2JqZWN0IHRvIG1hcCBpbnRvXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtYXBwZWQgZHJhdyBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkoZ2wpIHtcbiAgdmFyIG9iamVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlBPSU5UU10gPSBnbC5QT0lOVFM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FU10gPSBnbC5MSU5FUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLkxJTkVfTE9PUF0gPSBnbC5MSU5FX0xPT1A7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX1NUUklQXSA9IGdsLkxJTkVfU1RSSVA7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5UUklBTkdMRVNdID0gZ2wuVFJJQU5HTEVTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVBdID0gZ2wuVFJJQU5HTEVfU1RSSVA7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5UUklBTkdMRV9GQU5dID0gZ2wuVFJJQU5HTEVfRkFOO1xuXG4gIHJldHVybiBvYmplY3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCkge1xuICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG5cbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9IFtnbC5PTkUsIGdsLkRTVF9BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUl07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuRFNUX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1JdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aScpO1xuXG52YXIgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQkxFTkQgPSAwO1xudmFyIERFUFRIX1RFU1QgPSAxO1xudmFyIEZST05UX0ZBQ0UgPSAyO1xudmFyIENVTExfRkFDRSA9IDM7XG52YXIgQkxFTkRfRlVOQyA9IDQ7XG5cbi8qKlxuICogQSBXZWJHTCBzdGF0ZSBtYWNoaW5lc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgV2ViR0xTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdlYkdMU3RhdGUoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMU3RhdGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBhY3RpdmUgc3RhdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDhBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBVaW50OEFycmF5KDE2KTtcblxuICAgICAgICAvLyBkZWZhdWx0IGJsZW5kIG1vZGUuLlxuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZVswXSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHN0YXRlIGluZGV4IGluIHRoZSBzdGFja1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWNrSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhY2sgaG9sZGluZyBhbGwgdGhlIGRpZmZlcmVudCBzdGF0ZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICB0aGlzLm1heEF0dHJpYnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKTtcblxuICAgICAgICB0aGlzLmF0dHJpYlN0YXRlID0ge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlOiBuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlOiBuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9ICgwLCBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgLy8gY2hlY2sgd2UgaGF2ZSB2YW8uLlxuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgbmV3IGFjdGl2ZSBzdGF0ZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgLy8gbmV4dCBzdGF0ZS4uXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFja0luZGV4XTtcblxuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhY2tbdGhpcy5zdGFja0luZGV4XSA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICAgICAgfVxuXG4gICAgICAgICsrdGhpcy5zdGFja0luZGV4O1xuXG4gICAgICAgIC8vIGNvcHkgc3RhdGUuLlxuICAgICAgICAvLyBzZXQgYWN0aXZlIHN0YXRlIHNvIHdlIGNhbiBmb3JjZSBvdmVycmlkZXMgb2YgZ2wgc3RhdGVcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFjdGl2ZVN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdGF0ZVtpXSA9IHRoaXMuYWN0aXZlU3RhdGVbaV07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wcyBhIHN0YXRlIG91dFxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhY2tbLS10aGlzLnN0YWNrSW5kZXhdO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnNldEJsZW5kKHN0YXRlW0JMRU5EXSk7XG4gICAgICAgIHRoaXMuc2V0RGVwdGhUZXN0KHN0YXRlW0RFUFRIX1RFU1RdKTtcbiAgICAgICAgdGhpcy5zZXRGcm9udEZhY2Uoc3RhdGVbRlJPTlRfRkFDRV0pO1xuICAgICAgICB0aGlzLnNldEN1bGxGYWNlKHN0YXRlW0NVTExfRkFDRV0pO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZShzdGF0ZVtCTEVORF9GVU5DXSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gc2V0QmxlbmQodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5CTEVORCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgYmxlbmQgbW9kZSB0byBzZXQgdG8uXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRfRlVOQ10pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbQkxFTkRfRlVOQ10gPSB2YWx1ZTtcblxuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG5cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gc2V0RGVwdGhUZXN0KHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtERVBUSF9URVNUXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbREVQVEhfVEVTVF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiBzZXRDdWxsRmFjZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbQ1VMTF9GQUNFXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbQ1VMTF9GQUNFXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2wgZnJvbnQgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUuc2V0RnJvbnRGYWNlID0gZnVuY3Rpb24gc2V0RnJvbnRGYWNlKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtGUk9OVF9GQUNFXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVbRlJPTlRfRkFDRV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbFt2YWx1ZSA/ICdDVycgOiAnQ0NXJ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBhbGwgdGhlIHZhb3MgaW4gdXNlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucmVzZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gcmVzZXRBdHRyaWJ1dGVzKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXR0cmliU3RhdGUudGVtcEF0dHJpYlN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZVtpXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5hdHRyaWJTdGF0ZS5hdHRyaWJTdGF0ZS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmliU3RhdGUuYXR0cmliU3RhdGVbX2ldID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGltIGdvaW5nIHRvIGFzc3VtZSBvbmUgaXMgYWx3YXlzIGFjdGl2ZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMTsgX2kyIDwgdGhpcy5tYXhBdHRyaWJzOyBfaTIrKykge1xuICAgICAgICAgICAgdGhpcy5nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoX2kyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnJlc2V0VG9EZWZhdWx0ID0gZnVuY3Rpb24gcmVzZXRUb0RlZmF1bHQoKSB7XG4gICAgICAgIC8vIHVuYmluZCBhbnkgVkFPIGlmIHRoZXkgZXhpc3QuLlxuICAgICAgICBpZiAodGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGFsbCBhdHRyaWJ1dGVzLi5cbiAgICAgICAgdGhpcy5yZXNldEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyBzZXQgYWN0aXZlIHN0YXRlIHNvIHdlIGNhbiBmb3JjZSBvdmVycmlkZXMgb2YgZ2wgc3RhdGVcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFjdGl2ZVN0YXRlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW2ldID0gMzI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xTdGF0ZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xTdGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMU3RhdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIEdQVSBhbmQgZW5zdXJlcyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkXG4gKiB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1heElkbGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0lETEU7XG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IF9zZXR0aW5nczIuZGVmYXVsdC5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG4gICAgICAgIHRoaXMubW9kZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5HQ19NT0RFO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG5cblxuICAgIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuY291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBfY29uc3QuR0NfTU9ERVMuTUFOVUFMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG5cblxuICAgIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4oKSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSB0bS5fbWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cyAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKSB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YXNSZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tfaV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gdW5sb2FkKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlTWFuYWdlcjtcblxuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5fdGV4dHVyZSAmJiBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMpIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHR1cmVNYW5hZ2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrIHRleHR1cmVzIGluIHRoZSByZW5kZXJlciBzbyB3ZSBjYW4gbm8gbG9uZ2VyIGxpc3RlbiB0byB0aGVtIG9uIGRlc3RydWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuYmluZFRleHR1cmUgPSBmdW5jdGlvbiBiaW5kVGV4dHVyZSgpIHt9XG4gICAgLy8gZW1wdHlcblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cbiAgICA7XG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZ2V0VGV4dHVyZSA9IGZ1bmN0aW9uIGdldFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYW5kL29yIENyZWF0ZXMgYSBXZWJHTCB0ZXh0dXJlIGZvciB0aGUgcmVuZGVyZXIncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb2NhdGlvbiAtIHRoZSBsb2NhdGlvbiB0aGUgdGV4dHVyZSB3aWxsIGJlIGJvdW5kIHRvLlxuICAgICAqIEByZXR1cm4ge0dMVGV4dHVyZX0gVGhlIGdsIHRleHR1cmUuXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlKHRleHR1cmUsIGxvY2F0aW9uKSB7XG4gICAgICAgIC8vIGFzc3VtZSBpdCBnb29kIVxuICAgICAgICAvLyB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdmFyIGlzUmVuZGVyVGV4dHVyZSA9ICEhdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXM7XG5cbiAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIGlzIHVuZGVmaW5lZCB0aGVuIHRoaXMgbWF5IGhhdmUgYmVlbiBjYWxsZWQgYnkgbiBldmVudC5cbiAgICAgICAgLy8gdGhpcyBiZWluZyB0aGUgY2FzZSB0aGUgdGV4dHVyZSBtYXkgYWxyZWFkeSBiZSBib3VuZCB0byBhIHNsb3QuIEFzIGEgdGV4dHVyZSBjYW4gb25seSBiZSBib3VuZCBvbmNlXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmluZCBpdHMgY3VycmVudCBsb2NhdGlvbiBpZiBpdCBleGlzdHMuXG4gICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gbWF5YmUgd2UgY2FuIHVzZSB0ZXh0dXJlIGJvdW5kIGlkcyBsYXRlciBvbi4uLlxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGV4dHVyZSBpcyBhbHJlYWR5IGJvdW5kLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSB0ZXh0dXJlO1xuXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG5cbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gbmV3IF9SZW5kZXJUYXJnZXQyLmRlZmF1bHQodGhpcy5nbCwgdGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHRleHR1cmUuc2NhbGVNb2RlLCB0ZXh0dXJlLnJlc29sdXRpb24pO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyVGFyZ2V0LnJlc2l6ZSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZSA9IHJlbmRlclRhcmdldC50ZXh0dXJlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSBuZXcgX3BpeGlHbENvcmUuR0xUZXh0dXJlKHRoaXMuZ2wsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5iaW5kKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgICAgIHRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMudXBkYXRlVGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX21hbmFnZWRUZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS5taXBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZU1pcG1hcCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlLndyYXBNb2RlID09PSBfY29uc3QuV1JBUF9NT0RFUy5DTEFNUCkge1xuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlLndyYXBNb2RlID09PSBfY29uc3QuV1JBUF9NT0RFUy5SRVBFQVQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlV3JhcE1pcnJvclJlcGVhdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5ORUFSRVNUKSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVMaW5lYXJTY2FsaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHRleHR1cmUgYWxyZWFkeSBleGlzdHMgc28gd2Ugb25seSBuZWVkIHRvIHVwZGF0ZSBpdC4uXG4gICAgICAgIGVsc2UgaWYgKGlzUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUudXBsb2FkKHRleHR1cmUuc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0xcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHNraXBSZW1vdmUpIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdWlkID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGdsVGV4dHVyZXMgPSB0ZXh0dXJlLl9nbFRleHR1cmVzO1xuICAgICAgICB2YXIgZ2xSZW5kZXJUYXJnZXRzID0gdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmVzW3VpZF0pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudW5iaW5kVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgZ2xUZXh0dXJlc1t1aWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICAgICAgZGVsZXRlIGdsVGV4dHVyZXNbdWlkXTtcblxuICAgICAgICAgICAgaWYgKCFza2lwUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLl9tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbFJlbmRlclRhcmdldHMgJiYgZ2xSZW5kZXJUYXJnZXRzW3VpZF0pIHtcbiAgICAgICAgICAgIGdsUmVuZGVyVGFyZ2V0c1t1aWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSBnbFJlbmRlclRhcmdldHNbdWlkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGFsbCB0aGUgdGV4dHVyZXMgZnJvbSBXZWJHTFxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuICAgICAgICAvLyBlbXB0eSBhbGwgdGhlIG9sZCBnbCB0ZXh0dXJlcyBhcyB0aGV5IGFyZSB1c2VsZXNzIG5vd1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX21hbmFnZWRUZXh0dXJlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl9tYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBtYW5hZ2VyIGFuZCByZW1vdmVzIGFsbCBpdHMgdGV4dHVyZXNcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvLyBkZXN0cm95IG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCA9IGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4O1xuZXhwb3J0cy5jYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXggPSBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXg7XG5leHBvcnRzLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCA9IGNhbGN1bGF0ZVNwcml0ZU1hdHJpeDtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIG1hcHBlZCBtYXRyaXhcbiAqIEBwYXJhbSBmaWx0ZXJBcmVhIHtSZWN0YW5nbGV9IFRoZSBmaWx0ZXIgYXJlYVxuICogQHBhcmFtIHNwcml0ZSB7U3ByaXRlfSB0aGUgdGFyZ2V0IHNwcml0ZVxuICogQHBhcmFtIG91dHB1dE1hdHJpeCB7TWF0cml4fSBAYWx2aW5cbiAqIEBwcml2YXRlXG4gKi9cbi8vIFRPRE8gcGxheWluZyBhcm91bmQgaGVyZS4uIHRoaXMgaXMgdGVtcG9yYXJ5IC0gKHdpbGwgZW5kIHVwIGluIHRoZSBzaGFkZXIpXG4vLyB0aGlzIHJldHVybnMgYSBtYXRyaXggdGhhdCB3aWxsIG5vcm1hbGlzZSBtYXAgZmlsdGVyIGNvcmRzIGluIHRoZSBmaWx0ZXIgdG8gc2NyZWVuIHNwYWNlXG5mdW5jdGlvbiBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplKSB7XG4gICAgLy8gbGV0IHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHkoTWF0cml4LlRFTVBfTUFUUklYKSxcbiAgICAvLyBsZXQgdGV4dHVyZSA9IHt3aWR0aDoxMTM2LCBoZWlnaHQ6NzAwfTsvL3Nwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgIC8vIFRPRE8gdW53cmFwP1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoZmlsdGVyQXJlYS54IC8gdGV4dHVyZVNpemUud2lkdGgsIGZpbHRlckFyZWEueSAvIHRleHR1cmVTaXplLmhlaWdodCk7XG5cbiAgICBtYXBwZWRNYXRyaXguc2NhbGUodGV4dHVyZVNpemUud2lkdGgsIHRleHR1cmVTaXplLmhlaWdodCk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSkge1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoZmlsdGVyQXJlYS54IC8gdGV4dHVyZVNpemUud2lkdGgsIGZpbHRlckFyZWEueSAvIHRleHR1cmVTaXplLmhlaWdodCk7XG5cbiAgICB2YXIgdHJhbnNsYXRlU2NhbGVYID0gdGV4dHVyZVNpemUud2lkdGggLyBmaWx0ZXJBcmVhLndpZHRoO1xuICAgIHZhciB0cmFuc2xhdGVTY2FsZVkgPSB0ZXh0dXJlU2l6ZS5oZWlnaHQgLyBmaWx0ZXJBcmVhLmhlaWdodDtcblxuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0cmFuc2xhdGVTY2FsZVgsIHRyYW5zbGF0ZVNjYWxlWSk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuXG4vLyB0aGlzIHdpbGwgbWFwIHRoZSBmaWx0ZXIgY29vcmQgc28gdGhhdCBhIHRleHR1cmUgY2FuIGJlIHVzZWQgYmFzZWQgb24gdGhlIHRyYW5zZm9ybSBvZiBhIHNwcml0ZVxuZnVuY3Rpb24gY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUsIHNwcml0ZSkge1xuICAgIHZhciBvcmlnID0gc3ByaXRlLl90ZXh0dXJlLm9yaWc7XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQodGV4dHVyZVNpemUud2lkdGgsIDAsIDAsIHRleHR1cmVTaXplLmhlaWdodCwgZmlsdGVyQXJlYS54LCBmaWx0ZXJBcmVhLnkpO1xuICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5KF9tYXRoLk1hdHJpeC5URU1QX01BVFJJWCk7XG5cbiAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcblxuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXJUcmFuc2Zvcm1zLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi4vdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRhcmdldCk7XG5cbnZhciBfUXVhZCA9IHJlcXVpcmUoJy4uL3V0aWxzL1F1YWQnKTtcblxudmFyIF9RdWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1F1YWQpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfU2hhZGVyID0gcmVxdWlyZSgnLi4vLi4vLi4vU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcik7XG5cbnZhciBfZmlsdGVyVHJhbnNmb3JtcyA9IHJlcXVpcmUoJy4uL2ZpbHRlcnMvZmlsdGVyVHJhbnNmb3JtcycpO1xuXG52YXIgZmlsdGVyVHJhbnNmb3JtcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9maWx0ZXJUcmFuc2Zvcm1zKTtcblxudmFyIF9iaXRUd2lkZGxlID0gcmVxdWlyZSgnYml0LXR3aWRkbGUnKTtcblxudmFyIF9iaXRUd2lkZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdFR3aWRkbGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGlnbm9yZVxuICogQGNsYXNzXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9XG4vKipcbiAqXG4gKi9cbmZ1bmN0aW9uIEZpbHRlclN0YXRlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJTdGF0ZSk7XG5cbiAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG59O1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKi9cblxuXG52YXIgRmlsdGVyTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKEZpbHRlck1hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuZ2wgPSBfdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgLy8ga25vdyBhYm91dCBzcHJpdGVzIVxuICAgICAgICBfdGhpcy5xdWFkID0gbmV3IF9RdWFkMi5kZWZhdWx0KF90aGlzLmdsLCByZW5kZXJlci5zdGF0ZS5hdHRyaWJTdGF0ZSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgLy8gdG9kbyBhZGQgZGVmYXVsdCFcbiAgICAgICAgX3RoaXMucG9vbCA9IHt9O1xuXG4gICAgICAgIF90aGlzLmZpbHRlckRhdGEgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLm1hbmFnZWRGaWx0ZXJzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5wdXNoRmlsdGVyID0gZnVuY3Rpb24gcHVzaEZpbHRlcih0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IHRoaXMuZmlsdGVyRGF0YTtcblxuICAgICAgICBpZiAoIWZpbHRlckRhdGEpIHtcbiAgICAgICAgICAgIGZpbHRlckRhdGEgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZmlsdGVyU3RhY2s7XG5cbiAgICAgICAgICAgIC8vIGFkZCBuZXcgc3RhY2tcbiAgICAgICAgICAgIHZhciBmaWx0ZXJTdGF0ZSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuXG4gICAgICAgICAgICBmaWx0ZXJTdGF0ZS5zb3VyY2VGcmFtZSA9IGZpbHRlclN0YXRlLmRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuc2l6ZTtcbiAgICAgICAgICAgIGZpbHRlclN0YXRlLnJlbmRlclRhcmdldCA9IHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJEYXRhID0gZmlsdGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICBzdGFjazogW2ZpbHRlclN0YXRlXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhID0gZmlsdGVyRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBmaWx0ZXIgc3RhdGUuLlxuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1srK2ZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIGlmICghY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrW2ZpbHRlckRhdGEuaW5kZXhdID0gbmV3IEZpbHRlclN0YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3Igbm93IHdlIGdvIG9mZiB0aGUgZmlsdGVyIG9mIHRoZSBmaXJzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nIHwgMDtcbiAgICAgICAgdmFyIHRhcmdldEJvdW5kcyA9IHRhcmdldC5maWx0ZXJBcmVhIHx8IHRhcmdldC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSBjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICBzb3VyY2VGcmFtZS54ID0gKHRhcmdldEJvdW5kcy54ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUueSA9ICh0YXJnZXRCb3VuZHMueSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLndpZHRoID0gKHRhcmdldEJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLmhlaWdodCA9ICh0YXJnZXRCb3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoZmlsdGVyRGF0YS5zdGFja1swXS5yZW5kZXJUYXJnZXQudHJhbnNmb3JtKSB7Ly9cblxuICAgICAgICAgICAgLy8gVE9ETyB3ZSBzaG91bGQgZml0IHRoZSByZWN0IGFyb3VuZCB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzWzBdLmF1dG9GaXQpIHtcbiAgICAgICAgICAgIHNvdXJjZUZyYW1lLmZpdChmaWx0ZXJEYXRhLnN0YWNrWzBdLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhcHBseSB0aGUgcGFkZGluZyBBZnRlciB3ZSBmaXQgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgLy8gdGhpcyBzaG91bGQgc3RvcCB0aGUgc3RyYW5nZSBzaWRlIGVmZmVjdHMgdGhhdCBjYW4gb2NjdXIgd2hlbiBjcm9wcGluZyB0byB0aGUgZWRnZXNcbiAgICAgICAgc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuXG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gbGV0cyBwbGF5IHRoZSBwYWRkaW5nIGFmdGVyIHdlIGZpdCB0aGUgZWxlbWVudCB0byB0aGUgc2NyZWVuLlxuICAgICAgICAvLyB0aGlzIHNob3VsZCBzdG9wIHRoZSBzdHJhbmdlIHNpZGUgZWZmZWN0cyB0aGF0IGNhbiBvY2N1ciB3aGVuIGNyb3BwaW5nIHRvIHRoZSBlZGdlc1xuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldChyZW5kZXJlci5nbCwgc291cmNlRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgY3VycmVudFN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgY3VycmVudFN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICBjdXJyZW50U3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcmVuZGVyIHRhcmdldCB0byBkcmF3IHRoZSBzaGFwZSBpbiB0aGUgdG9wIGNvcm5lci4uXG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucG9wRmlsdGVyID0gZnVuY3Rpb24gcG9wRmlsdGVyKCkge1xuICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IHRoaXMuZmlsdGVyRGF0YTtcblxuICAgICAgICB2YXIgbGFzdFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4IC0gMV07XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrW2ZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHRoaXMucXVhZC5tYXAoY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpLnVwbG9hZCgpO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzID0gY3VycmVudFN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQsIGxhc3RTdGF0ZS5yZW5kZXJUYXJnZXQsIGZhbHNlLCBjdXJyZW50U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldCh0aGlzLnJlbmRlcmVyLmdsLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIGN1cnJlbnRTdGF0ZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgZmxvcC5zZXRGcmFtZShjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKTtcblxuICAgICAgICAgICAgLy8gZmluYWxseSBsZXRzIGNsZWFyIHRoZSByZW5kZXIgdGFyZ2V0IGJlZm9yZSBkcmF3aW5nIHRvIGl0Li5cbiAgICAgICAgICAgIGZsb3AuY2xlYXIoKTtcblxuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGFyZ2V0LCBmYWxzZSwgY3VycmVudFN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGZsaXApO1xuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyRGF0YS5pbmRleC0tO1xuXG4gICAgICAgIGlmIChmaWx0ZXJEYXRhLmluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlckRhdGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIGFwcGx5RmlsdGVyKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGNhY2hlaW5nLi5cbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2xTaGFkZXJLZXkpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIgPSB0aGlzLnNoYWRlckNhY2hlW2ZpbHRlci5nbFNoYWRlcktleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIgPSBuZXcgX1NoYWRlcjIuZGVmYXVsdCh0aGlzLmdsLCBmaWx0ZXIudmVydGV4U3JjLCBmaWx0ZXIuZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gdGhpcy5zaGFkZXJDYWNoZVtmaWx0ZXIuZ2xTaGFkZXJLZXldID0gc2hhZGVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlciA9IGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQodGhpcy5nbCwgZmlsdGVyLnZlcnRleFNyYywgZmlsdGVyLmZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVE9ETyAtIHRoaXMgb25seSBuZWVkcyB0byBiZSBkb25lIG9uY2U/XG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgICAgICB0aGlzLnF1YWQuaW5pdFZhbyhzaGFkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyh0aGlzLnF1YWQudmFvKTtcblxuICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KG91dHB1dCk7XG5cbiAgICAgICAgaWYgKGNsZWFyKSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICByZW5kZXJlci5jbGVhcigpOyAvLyBbMSwgMSwgMSwgMV0pO1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbiBjYXNlIHRoZSByZW5kZXIgdGFyZ2V0IGlzIGJlaW5nIG1hc2tlZCB1c2luZyBhIHNjaXNzb3IgcmVjdFxuICAgICAgICBpZiAob3V0cHV0ID09PSByZW5kZXJlci5tYXNrTWFuYWdlci5zY2lzc29yUmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wdXNoU2Npc3Nvck1hc2sobnVsbCwgcmVuZGVyZXIubWFza01hbmFnZXIuc2Npc3NvckRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIC8vIGZyZWUgdW5pdCAwIGZvciB1cywgZG9lc24ndCBtYXR0ZXIgd2hhdCB3YXMgdGhlcmVcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIHJlc3RvcmUgaXQsIGJlY2F1c2Ugc3luY1VuaWZvcm1zIGNhbiB1cGxvYWQgaXQgdG8gYW5vdGhlciBzbG90XG4gICAgICAgIC8vIGFuZCBpdCdsbCBiZSBhIHByb2JsZW1cbiAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1swXTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbMF0gPSB0ZXg7XG4gICAgICAgIC8vIHRoaXMgc3luY3MgdGhlIFBpeGlKUyBmaWx0ZXJzICB1bmlmb3JtcyB3aXRoIGdsc2wgdW5pZm9ybXNcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoc2hhZGVyLCBmaWx0ZXIpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShmaWx0ZXIuYmxlbmRNb2RlKTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXQudGV4dHVyZS50ZXh0dXJlKTtcblxuICAgICAgICB0aGlzLnF1YWQudmFvLmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleC5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgb2YgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R0xTaGFkZXJ9IHNoYWRlciAtIFRoZSB1bmRlcmx5aW5nIGdsIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHdlIGFyZSBzeW5jaHJvbml6aW5nLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybXMoc2hhZGVyLCBmaWx0ZXIpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0gZmlsdGVyLnVuaWZvcm1EYXRhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBmaWx0ZXIudW5pZm9ybXM7XG5cbiAgICAgICAgLy8gMCBpcyByZXNlcnZlZCBmb3IgdGhlIFBpeGlKUyB0ZXh0dXJlIHNvIHdlIHN0YXJ0IGF0IDEhXG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAxO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGZpbHRlckFyZWEgYW5kIGZpbHRlckNsYW1wIHRoYXQgYXJlIGhhbmRsZWQgYnkgRmlsdGVyTWFuYWdlciBkaXJlY3RseVxuICAgICAgICAvLyB0aGV5IG11c3Qgbm90IGFwcGVhciBpbiB1bmlmb3JtRGF0YVxuXG4gICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUueTtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWEgPSBmaWx0ZXJBcmVhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHRoaXMgdG8gY2xhbXAgZGlzcGxhY2VkIHRleHR1cmUgY29vcmRzIHNvIHRoZXkgYmVsb25nIHRvIGZpbHRlckFyZWFcbiAgICAgICAgLy8gc2VlIGRpc3BsYWNlbWVudEZpbHRlciBmcmFnbWVudCBzaGFkZXIgZm9yIGFuIGV4YW1wbGVcbiAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcCkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlIHx8IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyQ2xhbXAgPSBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXA7XG5cbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzBdID0gMDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzFdID0gMDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzJdID0gKGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAtIDEpIC8gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbM10gPSAoY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAtIDEpIC8gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLmhlaWdodDtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wID0gZmlsdGVyQ2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIENhY2hlaW5nIGxheWVyLi5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB1bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSB1bmlmb3JtRGF0YVtpXS50eXBlO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3NhbXBsZXIyZCcgJiYgdW5pZm9ybXNbaV0gIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0uYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdGhpcy5yZW5kZXJlci5iaW5kVGV4dHVyZSh1bmlmb3Jtc1tpXS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNvdW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB0ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGhlbHBmdWwgYXMgcmVuZGVyVGFyZ2V0cyBjYW4gYWxzbyBiZSBzZXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsdGhvdWdoIHRoaW5raW5nIGFib3V0IGl0LCB3ZSBjb3VsZCBwcm9iYWJseVxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHRoZSBmaWx0ZXIgdGV4dHVyZSBjYWNoZSByZXR1cm4gYSBSZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJhdGhlciB0aGFuIGEgcmVuZGVyVGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzW3RleHR1cmVDb3VudF0gPSB0aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbdGV4dHVyZUNvdW50XTtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRleHR1cmVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdW5pZm9ybXNbaV0udGV4dHVyZS5iaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtYXQzJykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBQaXhpSlMgbWF0cml4Li5cbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0uYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndmVjMicpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdHMgYSBwb2ludC4uXG4gICAgICAgICAgICAgICAgaWYgKHVuaWZvcm1zW2ldLnggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gc2hhZGVyLnVuaWZvcm1zW2ldIHx8IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsWzBdID0gdW5pZm9ybXNbaV0ueDtcbiAgICAgICAgICAgICAgICAgICAgdmFsWzFdID0gdW5pZm9ybXNbaV0ueTtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdmFsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Zsb2F0Jykge1xuICAgICAgICAgICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZGF0YVtpXS52YWx1ZSAhPT0gdW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmVuZGVyIHRhcmdldCBmcm9tIHRoZSBwb29sLCBvciBjcmVhdGVzIGEgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgd2UgY2xlYXIgdGhlIHJlbmRlciB0ZXh0dXJlIHdoZW4gd2UgZ2V0IGl0P1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHRhcmdldC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRhcmdldH0gVGhlIG5ldyByZW5kZXIgdGFyZ2V0XG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFJlbmRlclRhcmdldChjbGVhciwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldCh0aGlzLnJlbmRlcmVyLmdsLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24gfHwgY3VycmVudFN0YXRlLnJlc29sdXRpb24pO1xuXG4gICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVuZGVyIHRhcmdldCB0byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIFRoZSByZW5kZXIgdGFyZ2V0IHRvIHJldHVybi5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucmV0dXJuUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gcmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgICAgICB0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIFRPRE8gcGxheWluZyBhcm91bmQgaGVyZS4uIHRoaXMgaXMgdGVtcG9yYXJ5IC0gKHdpbGwgZW5kIHVwIGluIHRoZSBzaGFkZXIpXG4gICAgICogdGhpcyByZXR1cm5zIGEgbWF0cml4IHRoYXQgd2lsbCBub3JtYWxpc2UgbWFwIGZpbHRlciBjb3JkcyBpbiB0aGUgZmlsdGVyIHRvIHNjcmVlbiBzcGFjZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gdGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCkge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRyYW5zZm9ybXMuY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHZUZXh0dXJlQ29vcmQgdG8gdGhpcyBtYXRyaXggdG8gYWNoaWV2ZSAoMCwwLDEsMSkgZm9yIGZpbHRlckFyZWFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCkge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRyYW5zZm9ybXMuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUsIGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIG1hcCB0aGUgZmlsdGVyIGNvb3JkIHNvIHRoYXQgYSB0ZXh0dXJlIGNhbiBiZSB1c2VkIGJhc2VkIG9uIHRoZSB0cmFuc2Zvcm0gb2YgYSBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgc3ByaXRlKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgc3ByaXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBGaWx0ZXIgTWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBjb250ZXh0IHdhcyBsb3N0LCBkbyBub3QgZnJlZSBzaGFkZXJzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBjb250ZXh0TG9zdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLm1hbmFnZWRGaWx0ZXJzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgZmlsdGVyc1tpXS5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXJDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICB0aGlzLmVtcHR5UG9vbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIFRPRE8gbW92ZSB0byBhIHNlcGVyYXRlIGNsYXNzIGNvdWxkIGJlIG9uIHJlbmRlcmVyP1xuICAgICAqIGFsc28gLSBjb3VsZCBjYXVzZSBpc3N1ZSB3aXRoIG11bHRpcGxlIGNvbnRleHRzP1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgd2ViZ2wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUYXJnZXR9IFRoZSBuZXcgcmVuZGVyIHRhcmdldC5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZ2V0UG90UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZ2V0UG90UmVuZGVyVGFyZ2V0KGdsLCBtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIC8vIFRPRE8geW91IGNvdWxkIHJldHVybiBhIGJpZ2dlciB0ZXh0dXJlIGlmIHRoZXJlIGlzIG5vdCBvbmUgaW4gdGhlIHBvb2w/XG4gICAgICAgIG1pbldpZHRoID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubmV4dFBvdzIobWluV2lkdGggKiByZXNvbHV0aW9uKTtcbiAgICAgICAgbWluSGVpZ2h0ID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubmV4dFBvdzIobWluSGVpZ2h0ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdmFyIGtleSA9IChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYgfCBtaW5IZWlnaHQgJiAweEZGRkY7XG5cbiAgICAgICAgaWYgKCF0aGlzLnBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5wb29sW2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLnBvb2xba2V5XS5wb3AoKTtcblxuICAgICAgICAvLyBjcmVhdGluZyByZW5kZXIgdGFyZ2V0IHdpbGwgY2F1c2UgdGV4dHVyZSB0byBiZSBib3VuZCFcbiAgICAgICAgaWYgKCFyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBieXBhc3MgY2FjaGUuLlxuICAgICAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1swXTtcblxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgICAgIC8vIGludGVybmFsbHkgLSB0aGlzIHdpbGwgY2F1c2UgYSB0ZXh0dXJlIHRvIGJlIGJvdW5kLi5cbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCBtaW5XaWR0aCwgbWluSGVpZ2h0LCBudWxsLCAxKTtcblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IG9uZSBiYWNrXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYW51YWxseSB0d2VhayB0aGUgcmVzb2x1dGlvbi4uLlxuICAgICAgICAvLyB0aGlzIHdpbGwgbm90IG1vZGlmeSB0aGUgc2l6ZSBvZiB0aGUgZnJhbWUgYnVmZmVyLCBqdXN0IGl0cyByZXNvbHV0aW9uLlxuICAgICAgICByZW5kZXJUYXJnZXQucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUud2lkdGggPSByZW5kZXJUYXJnZXQuc2l6ZS53aWR0aCA9IG1pbldpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlZmF1bHRGcmFtZS5oZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgPSBtaW5IZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtcHRpZXMgdGhlIHRleHR1cmUgcG9vbC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiBlbXB0eVBvb2woKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnBvb2xbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvb2wgPSB7fTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgYSByZW5kZXIgdGFyZ2V0IGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5mcmVlUG90UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gZnJlZVBvdFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgdmFyIG1pbldpZHRoID0gcmVuZGVyVGFyZ2V0LnNpemUud2lkdGggKiByZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1pbkhlaWdodCA9IHJlbmRlclRhcmdldC5zaXplLmhlaWdodCAqIHJlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIga2V5ID0gKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNiB8IG1pbkhlaWdodCAmIDB4RkZGRjtcblxuICAgICAgICB0aGlzLnBvb2xba2V5XS5wdXNoKHJlbmRlclRhcmdldCk7XG4gICAgfTtcblxuICAgIHJldHVybiBGaWx0ZXJNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRmlsdGVyTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlck1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5XZWJHTE1hbmFnZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGVuY2lsTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKFN0ZW5jaWxNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVuY2lsTWFuYWdlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NbXX0gc3RlbmNpbE1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiBzZXRNYXNrU3RhY2soc3RlbmNpbE1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBzdGVuY2lsTWFza1N0YWNrO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBtYXNrXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3RlbmNpbCA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsKGdyYXBoaWNzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuYXR0YWNoU3RlbmNpbEJ1ZmZlcigpO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDtcblxuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucHVzaChncmFwaGljcyk7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcihncmFwaGljcyk7XG5cbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wb3BTdGVuY2lsID0gZnVuY3Rpb24gcG9wU3RlbmNpbCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcih0aGlzLnJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MpO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBncmFwaGljcyA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAodGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcihncmFwaGljcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc3RlbmNpbCBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiBfdXNlQ3VycmVudCgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiBfZ2V0Qml0d2lzZU1hc2soKSB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX1dlYkdMTWFuYWdlcjMuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5zdGVuY2lsU3RhY2sgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3RlbmNpbE1hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTdGVuY2lsTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0ZW5jaWxNYW5hZ2VyLmpzLm1hcCIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3JjO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdFZhbHVlID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuc2hhZGVyLmRlZmF1bHRWYWx1ZTtcblxuZnVuY3Rpb24gZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBtYXNrKSB7XG4gICAgdmFyIHZlcnRVbmlmb3JtcyA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcodmVydGV4U3JjLCBtYXNrKTtcbiAgICB2YXIgZnJhZ1VuaWZvcm1zID0gZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyhmcmFnbWVudFNyYywgbWFzayk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih2ZXJ0VW5pZm9ybXMsIGZyYWdVbmlmb3Jtcyk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcoc3RyaW5nKSB7XG4gICAgdmFyIG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnxmaWx0ZXJBcmVhfGZpbHRlckNsYW1wKSQnKTtcblxuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgIHZhciBuYW1lU3BsaXQgPSB2b2lkIDA7XG5cbiAgICAvLyBjbGVhbiB0aGUgbGluZXMgYSBsaXR0bGUgLSByZW1vdmUgZXh0cmEgc3BhY2VzIC8gdGFicyBldGNcbiAgICAvLyB0aGVuIHNwbGl0IGFsb25nICc7J1xuICAgIHZhciBsaW5lcyA9IHN0cmluZy5yZXBsYWNlKC9cXHMrL2csICcgJykuc3BsaXQoL1xccyo7XFxzKi8pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuXG4gICAgICAgIGlmIChsaW5lLmluZGV4T2YoJ3VuaWZvcm0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRMaW5lID0gbGluZS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBzcGxpdExpbmVbMV07XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gc3BsaXRMaW5lWzJdO1xuICAgICAgICAgICAgdmFyIHNpemUgPSAxO1xuXG4gICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdbJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IVxuICAgICAgICAgICAgICAgIG5hbWVTcGxpdCA9IG5hbWUuc3BsaXQoL1xcW3xdLyk7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVTcGxpdFswXTtcbiAgICAgICAgICAgICAgICBzaXplICo9IE51bWJlcihuYW1lU3BsaXRbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5hbWUubWF0Y2gobWFza1JlZ2V4KSkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyID0gcmVxdWlyZSgnLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInKTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZU1hc2tGaWx0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoTWFza01hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza01hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tNYW5hZ2VyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zY2lzc29yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuZW5hYmxlU2Npc3NvciA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoTWFzayA9IGZ1bmN0aW9uIHB1c2hNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgLy8gVE9ETyB0aGUgcm9vdCBjaGVjayBtZWFucyBzY2lzc29yIHJlY3Qgd2lsbCBub3RcbiAgICAgICAgLy8gYmUgdXNlZCBvbiByZW5kZXIgdGV4dHVyZXMgbW9yZSBpbmZvIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9wdWxsLzM1NDVcblxuICAgICAgICBpZiAobWFza0RhdGEudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMuc2Npc3NvciAmJiB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucm9vdCAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCAmJiBtYXNrRGF0YS5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXNrRGF0YS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgdmFyIHJvdCA9IE1hdGguYXRhbjIobWF0cml4LmIsIG1hdHJpeC5hKTtcblxuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSFcbiAgICAgICAgICAgIHJvdCA9IE1hdGgucm91bmQocm90ICogKDE4MCAvIE1hdGguUEkpKTtcblxuICAgICAgICAgICAgaWYgKHJvdCAlIDkwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgbWFzayBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcG9wIHRoZSBtYXNrIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcE1hc2sgPSBmdW5jdGlvbiBwb3BNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgaWYgKG1hc2tEYXRhLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvcFN0ZW5jaWxNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgc3ByaXRlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBfU3ByaXRlTWFza0ZpbHRlcjIuZGVmYXVsdChtYXNrRGF0YSldO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza0RhdGE7XG5cbiAgICAgICAgLy8gVE9ETyAtIG1heSBjYXVzZSBpc3N1ZXMhXG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza0RhdGEuZ2V0Qm91bmRzKHRydWUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwb3BTcHJpdGVNYXNrKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWxNYXNrKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIucG9wU3RlbmNpbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU2Npc3Nvck1hc2sgPSBmdW5jdGlvbiBwdXNoU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrRGF0YS5nZXRCb3VuZHMoKTtcblxuICAgICAgICBib3VuZHMuZml0KHJlbmRlclRhcmdldC5zaXplKTtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IoYm91bmRzLnggKiByZXNvbHV0aW9uLCAocmVuZGVyVGFyZ2V0LnJvb3QgPyByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgLSBib3VuZHMueSAtIGJvdW5kcy5oZWlnaHQgOiBib3VuZHMueSkgKiByZXNvbHV0aW9uLCBib3VuZHMud2lkdGggKiByZXNvbHV0aW9uLCBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbWFza0RhdGE7XG4gICAgICAgIHRoaXMuc2Npc3NvciA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcG9wU2Npc3Nvck1hc2soKSB7XG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBtdXN0IGJlIHNjaXNzb3IhXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWFza01hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXNrTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hc2tNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcjIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzJyk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUluZGljZXNGb3JRdWFkcyk7XG5cbnZhciBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIgPSByZXF1aXJlKCcuL2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyJyk7XG5cbnZhciBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIpO1xuXG52YXIgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXInKTtcblxudmFyIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyKTtcblxudmFyIF9CYXRjaEJ1ZmZlciA9IHJlcXVpcmUoJy4vQmF0Y2hCdWZmZXInKTtcblxudmFyIF9CYXRjaEJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaEJ1ZmZlcik7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVElDSyA9IDA7XG52YXIgVEVYVFVSRV9USUNLID0gMDtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5cbnZhciBTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlUmVuZGVyZXIsIF9PYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB2YWx1ZXMgc2VudCBpbiB0aGUgdmVydGV4IGJ1ZmZlci5cbiAgICAgICAgICogYVZlcnRleFBvc2l0aW9uKDIpLCBhVGV4dHVyZUNvb3JkKDEpLCBhQ29sb3IoMSksIGFUZXh0dXJlSWQoMSkgPSA1XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9PYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudmVydFNpemUgPSA1O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgdmVydGV4IGluZm9ybWF0aW9uIGluIGJ5dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0Qnl0ZVNpemUgPSBfdGhpcy52ZXJ0U2l6ZSAqIDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaW1hZ2VzIGluIHRoZSBTcHJpdGVSZW5kZXJlciBiZWZvcmUgaXQgZmx1c2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5TUFJJVEVfQkFUQ0hfU0laRTsgLy8gMjAwMCBpcyBhIG5pY2UgYmFsYW5jZSBiZXR3ZWVuIG1vYmlsZSAvIGRlc2t0b3BcblxuICAgICAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIGluIG91ciBiYXRjaFxuICAgICAgICAvLyBsZXQgbnVtVmVydHMgPSB0aGlzLnNpemUgKiA0ICogdGhpcy52ZXJ0Qnl0ZVNpemU7XG5cbiAgICAgICAgX3RoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93MihfdGhpcy5zaXplKTsgaSAqPSAyKSB7XG4gICAgICAgICAgICBfdGhpcy5idWZmZXJzLnB1c2gobmV3IF9CYXRjaEJ1ZmZlcjIuZGVmYXVsdChpICogNCAqIF90aGlzLnZlcnRCeXRlU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKF90aGlzLnNpemUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXJzIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICogdGhlcmUgaXMgYSBzaGFkZXIgZm9yIGVhY2ggbnVtYmVyIG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHJlbmRlcmVyZC5cbiAgICAgICAgICogVGhlc2Ugc2hhZGVycyB3aWxsIGFsc28gYmUgZ2VuZXJhdGVkIG9uIHRoZSBmbHkgYXMgcmVxdWlyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLmdyb3VwcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgX3RoaXMuc2l6ZTsgaysrKSB7XG4gICAgICAgICAgICBfdGhpcy5ncm91cHNba10gPSB7IHRleHR1cmVzOiBbXSwgdGV4dHVyZUNvdW50OiAwLCBpZHM6IFtdLCBzaXplOiAwLCBzdGFydDogMCwgYmxlbmQ6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNwcml0ZXMgPSBbXTtcblxuICAgICAgICBfdGhpcy52ZXJ0ZXhCdWZmZXJzID0gW107XG4gICAgICAgIF90aGlzLnZhb3MgPSBbXTtcblxuICAgICAgICBfdGhpcy52YW9NYXggPSAyO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyZXIub24oJ3ByZXJlbmRlcicsIF90aGlzLm9uUHJlcmVuZGVyLCBfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIubGVnYWN5KSB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIF9zZXR0aW5nczIuZGVmYXVsdC5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9ICgwLCBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMi5kZWZhdWx0KSh0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSAoMCwgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMi5kZWZhdWx0KShnbCwgdGhpcy5NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIGNvdXBsZSBvZiBidWZmZXJzXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlciBtYXkgb21pdCBhVGV4dHVyZUlkXG4gICAgICAgIC8vIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5zaGFkZXIuYXR0cmlidXRlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAvLyBidWlsZCB0aGUgdmFvIG9iamVjdCB0aGF0IHdpbGwgcmVuZGVyLi5cbiAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0cnMuYVRleHR1cmVJZCkge1xuICAgICAgICAgICAgICAgIHZhby5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUlkLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCA0ICogNCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmFvc1tpXSA9IHZhbztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFvID0gdGhpcy52YW9zWzBdO1xuICAgICAgICB0aGlzLmN1cnJlbnRCbGVuZE1vZGUgPSA5OTk5OTtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSByZW5kZXJlciBzdGFydHMgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnZlcnRleENvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSBzcHJpdGUgdG8gcmVuZGVyIHdoZW4gdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHNwcml0ZSkge1xuICAgICAgICAvLyBUT0RPIHNldCBibGVuZCBtb2Rlcy4uXG4gICAgICAgIC8vIGNoZWNrIHRleHR1cmUuLlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIHV2cyBmb3IgdGhlIHRleHR1cmVcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIGlmICghc3ByaXRlLl90ZXh0dXJlLl91dnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHB1c2ggYSB0ZXh0dXJlLlxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGJhdGNoc2l6ZVxuICAgICAgICB0aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50SW5kZXgrK10gPSBzcHJpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRlbnQgYW5kIGVtcHRpZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IHRoaXMuTUFYX1RFWFRVUkVTO1xuXG4gICAgICAgIHZhciBucDIgPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93Mih0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgIHZhciBsb2cyID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubG9nMihucDIpO1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2xvZzJdO1xuXG4gICAgICAgIHZhciBzcHJpdGVzID0gdGhpcy5zcHJpdGVzO1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG5cbiAgICAgICAgdmFyIGZsb2F0MzJWaWV3ID0gYnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgdWludDMyVmlldyA9IGJ1ZmZlci51aW50MzJWaWV3O1xuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5ib3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgcmVuZGVyZXJCb3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGdyb3VwQ291bnQgPSAxO1xuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9IGdyb3Vwc1swXTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1dnMgPSB2b2lkIDA7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSBfdXRpbHMucHJlbXVsdGlwbHlCbGVuZE1vZGVbc3ByaXRlc1swXS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAxIDogMF1bc3ByaXRlc1swXS5ibGVuZE1vZGVdO1xuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG5cbiAgICAgICAgVElDSysrO1xuXG4gICAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGNvcHkgdGV4dHVyZXMuLlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgTUFYX1RFWFRVUkVTOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBidCA9IHJlbmRlcmVyQm91bmRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJ0Ll9lbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IGJ0O1xuICAgICAgICAgICAgYnQuX3ZpcnRhbEJvdW5kSWQgPSBpO1xuICAgICAgICAgICAgYnQuX2VuYWJsZWQgPSBUSUNLO1xuICAgICAgICB9XG4gICAgICAgIFRJQ0srKztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50SW5kZXg7ICsraSkge1xuICAgICAgICAgICAgLy8gdXBsb2FkIHRoZSBzcHJpdGUgZWxlbWV0bnMuLi5cbiAgICAgICAgICAgIC8vIHRoZXkgaGF2ZSBhbGwgcmVhZHkgYmVlbiBjYWxjdWxhdGVkIHNvIHdlIGp1c3QgbmVlZCB0byBwdXNoIHRoZW0gaW50byB0aGUgYnVmZmVyLlxuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHNwcml0ZXNbaV07XG5cbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW051bWJlcihuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIGEgZ3JvdXAuLlxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2VuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZ3JvdXBzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gdG91Y2g7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBNQVhfVEVYVFVSRVM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0SW5kZXggPSAoaiArIFRFWFRVUkVfVElDSykgJSBNQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGJvdW5kVGV4dHVyZXNbdEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Ll9lbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRFWFRVUkVfVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IHRJbmRleDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW3RJbmRleF0gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2VuYWJsZWQgPSBUSUNLO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmlkc1t0ZXh0dXJlQ291bnRdID0gbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1t0ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnRleERhdGEgPSBzcHJpdGUudmVydGV4RGF0YTtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIHN1bSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNldCBlYWNoIGZyYW1lLi5cbiAgICAgICAgICAgIHV2cyA9IHNwcml0ZS5fdGV4dHVyZS5fdXZzLnV2c1VpbnQzMjtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gKHZlcnRleERhdGFbMF0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMV0gPSAodmVydGV4RGF0YVsxXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSAodmVydGV4RGF0YVsyXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9ICh2ZXJ0ZXhEYXRhWzNdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMF0gPSAodmVydGV4RGF0YVs0XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSAodmVydGV4RGF0YVs1XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gKHZlcnRleERhdGFbNl0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTZdID0gKHZlcnRleERhdGFbN10gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9IHZlcnRleERhdGFbMF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9IHZlcnRleERhdGFbMV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSB2ZXJ0ZXhEYXRhWzJdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSB2ZXJ0ZXhEYXRhWzNdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9IHZlcnRleERhdGFbNF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSB2ZXJ0ZXhEYXRhWzVdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHZlcnRleERhdGFbNl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMl0gPSB1dnNbMF07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgN10gPSB1dnNbMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTJdID0gdXZzWzJdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDE3XSA9IHV2c1szXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKHNwcml0ZS53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgM10gPSB1aW50MzJWaWV3W2luZGV4ICsgOF0gPSB1aW50MzJWaWV3W2luZGV4ICsgMTNdID0gdWludDMyVmlld1tpbmRleCArIDE4XSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyA5XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgMTRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxOV0gPSBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBpbmRleCArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICBpZiAoIV9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHN0aWxsIG5lZWRlZCBmb3IgSU9TIHBlcmZvcm1hbmNlLi5cbiAgICAgICAgICAgIC8vIGl0IHJlYWxseSBkb2VzIG5vdCBsaWtlIHVwbG9hZGluZyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUhXG4gICAgICAgICAgICBpZiAodGhpcy52YW9NYXggPD0gdGhpcy52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvTWF4Kys7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0gPSB2YW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGJ1ZmZlci52ZXJ0aWNlcywgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoYnVmZmVyLnZlcnRpY2VzLCAwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldLl92aXJ0YWxCb3VuZElkID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgdGhlIGdyb3Vwcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBfaisrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBncm91cC50ZXh0dXJlc1tfal07XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB2aXJ0dWFsIGlkcy4uXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBkbyBhIHF1aWNrIGNoZWNrLi5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZXJCb3VuZFRleHR1cmVzW2dyb3VwLmlkc1tfal1dICE9PSBjdXJyZW50VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKGN1cnJlbnRUZXh0dXJlLCBncm91cC5pZHNbX2pdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgdmlydHVhbElkLi5cbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJsZW5kIG1vZGUuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBncm91cC5zaXplICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogNiAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFNoYWRlcih0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgaWYgKF9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0uYmluZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRleEJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgX09iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbX2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZVJlbmRlcmVyO1xuXG5cbl9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzJyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBNYXBzIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBDYW52YXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkoKSB7XG4gICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgIGlmICgoMCwgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyLmRlZmF1bHQpKCkpIHtcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ211bHRpcGx5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc2NyZWVuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ292ZXJsYXknO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdkYXJrZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnbGlnaHRlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnY29sb3ItZG9kZ2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnY29sb3ItYnVybic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9ICdoYXJkLWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvZnQtbGlnaHQnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnZGlmZmVyZW5jZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gJ2V4Y2x1c2lvbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ2h1ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzYXR1cmF0ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnY29sb3InO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnbHVtaW5vc2l0eSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGNvb2wgbmV3IGJsZW5kIG1vZGVzIGluIGNhbnZhcyAnY291Z2gnIGllICdjb3VnaCdcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MSUdIVEVOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNBVFVSQVRJT05dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgfVxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkLCBvbmx5IGZvciB3ZWJnbFxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc2V0IG9mIGZ1bmN0aW9ucyB1c2VkIHRvIGhhbmRsZSBtYXNraW5nLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc01hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc01hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWFza0RhdGEgLSB0aGUgbWFza0RhdGEgdGhhdCB3aWxsIGJlIHB1c2hlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIHZhciBjYWNoZUFscGhhID0gbWFza0RhdGEuYWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtYXNrRGF0YS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIC8vIFRPRE8gc3Vwb3J0IHNwcml0ZSBhbHBoYSBtYXNrcz8/XG4gICAgICAgIC8vIGxvdHMgb2YgZWZmb3J0IHJlcXVpcmVkLiBJZiBkZW1hbmQgaXMgZ3JlYXQgZW5vdWdoLi5cbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHcmFwaGljc1NoYXBlKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuY2xpcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEud29ybGRBbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBQSVhJLkdyYXBoaWNzIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucmVuZGVyR3JhcGhpY3NTaGFwZSA9IGZ1bmN0aW9uIHJlbmRlckdyYXBoaWNzU2hhcGUoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBsZW4gPSBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnQgYXJlIHRoZSBzYW1lIGNsb3NlIHRoZSBwYXRoIC0gbXVjaCBuZWF0ZXIgOilcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzWzBdID09PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICYmIHBvaW50c1sxXSA9PT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgY29udGV4dCB0byB0aGUgc3RhdGUgaXQgd2FzIGJlZm9yZSB0aGUgbWFzayB3YXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgY29udGV4dCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayhyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcyBtYXNrIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzTWFza01hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc01hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzTWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uL21hdGgnKTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuL0NhbnZhc1RpbnRlcicpO1xuXG52YXIgX0NhbnZhc1RpbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzU3ByaXRlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIENhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtVGhlIHJlbmRlcmVyIHNwcml0ZSB0aGlzIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB3dCA9IHNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgIHZhciBkeSA9IDA7XG5cbiAgICAgICAgaWYgKHRleHR1cmUub3JpZy53aWR0aCA8PSAwIHx8IHRleHR1cmUub3JpZy5oZWlnaHQgPD0gMCB8fCAhdGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShzcHJpdGUuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyAgSWdub3JlIG51bGwgc291cmNlc1xuICAgICAgICBpZiAodGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IHNwcml0ZS53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICAvLyBJZiBzbW9vdGhpbmdFbmFibGVkIGlzIHN1cHBvcnRlZCBhbmQgd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHNtb290aGluZyBwcm9wZXJ0eSBmb3Igc3ByaXRlIHRleHR1cmVcbiAgICAgICAgICAgIHZhciBzbW9vdGhpbmdFbmFibGVkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eSAmJiByZW5kZXJlci5jb250ZXh0W3JlbmRlcmVyLnNtb290aFByb3BlcnR5XSAhPT0gc21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHRbcmVuZGVyZXIuc21vb3RoUHJvcGVydHldID0gc21vb3RoaW5nRW5hYmxlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudHJpbSkge1xuICAgICAgICAgICAgICAgIGR4ID0gdGV4dHVyZS50cmltLndpZHRoIC8gMiArIHRleHR1cmUudHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGR5ID0gdGV4dHVyZS50cmltLmhlaWdodCAvIDIgKyB0ZXh0dXJlLnRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR4ID0gKDAuNSAtIHNwcml0ZS5hbmNob3IueCkgKiB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgZHkgPSAoMC41IC0gc3ByaXRlLmFuY2hvci55KSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHd0LmNvcHkoY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHd0ID0gY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgX21hdGguR3JvdXBEOC5tYXRyaXhBcHBlbmRSb3RhdGlvbkludih3dCwgdGV4dHVyZS5yb3RhdGUsIGR4LCBkeSk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGFuY2hvciBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgYWJvdmUsIHNvIGxldHMgc2V0IGl0IHRvIHplcm9cbiAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkeCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBkeSAtPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgICAgICAvLyBBbGxvdyBmb3IgcGl4ZWwgcm91bmRpbmdcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuXG4gICAgICAgICAgICAgICAgZHggPSBkeCB8IDA7XG4gICAgICAgICAgICAgICAgZHkgPSBkeSB8IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd3QudHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChzcHJpdGUudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLmNhY2hlZFRpbnQgIT09IHNwcml0ZS50aW50IHx8IHNwcml0ZS50aW50ZWRUZXh0dXJlLnRpbnRJZCAhPT0gc3ByaXRlLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuY2FjaGVkVGludCA9IHNwcml0ZS50aW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2xlYW4gdXAgY2FjaGluZyAtIGhvdyB0byBjbGVhbiB1cCB0aGUgY2FjaGVzP1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUudGludGVkVGV4dHVyZSA9IF9DYW52YXNUaW50ZXIyLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIHNwcml0ZS50aW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZShzcHJpdGUudGludGVkVGV4dHVyZSwgMCwgMCwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIHRleHR1cmUuX2ZyYW1lLnggKiByZXNvbHV0aW9uLCB0ZXh0dXJlLl9mcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNTcHJpdGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzU3ByaXRlUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBDYW52YXNTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHQ9bnVsbF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb25jZT1mYWxzZV0gLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4pIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIG9uY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWNrZXJMaXN0ZW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChmbiwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiBjb25uZWN0KHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgaGFyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5wcmV2aW91cztcblxuICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlja2VyTGlzdGVuZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJMaXN0ZW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIgPSByZXF1aXJlKCcuL1RpY2tlckxpc3RlbmVyJyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlja2VyTGlzdGVuZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzXG4gKiBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSxcbiAqIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS50aWNrZXJcbiAqL1xudmFyIFRpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3N0YXJ0fSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uIF9yZXF1ZXN0SWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uIF9jYW5jZWxJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiBfc3RhcnRJZlBvc3NpYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiBhZGRPbmNlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogX2NvbnN0LlVQREFURV9QUklPUklUWS5OT1JNQUw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgIHZhciBlbGFwc2VkTVMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IGVsYXBzZWRNUyAqIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUyAqIHRoaXMuc3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgKiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRpY2tlciwgW3tcbiAgICAgICAga2V5OiAnRlBTJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtaW5GUFMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDbGFtcDogMCB0byBUQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmcHMpIC8gMTAwMCwgX3NldHRpbmdzMi5kZWZhdWx0LlRBUkdFVF9GUE1TKTtcblxuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGlja2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXIuanMubWFwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn07XHJcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcztcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gW2FycmF5XSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSBfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbi8qKlxuICogUmVtb3ZlIGEgcmFuZ2Ugb2YgaXRlbXMgZnJvbSBhbiBhcnJheVxuICpcbiAqIEBmdW5jdGlvbiByZW1vdmVJdGVtc1xuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSB0YXJnZXQgYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBUaGUgaW5kZXggdG8gYmVnaW4gcmVtb3ZpbmcgZnJvbSAoaW5jbHVzaXZlKVxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IEhvdyBtYW55IGl0ZW1zIHRvIHJlbW92ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KVxue1xuICB2YXIgaSwgbGVuZ3RoID0gYXJyLmxlbmd0aFxuXG4gIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KVxuXG4gIHZhciBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudFxuXG4gIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XVxuICB9XG5cbiAgYXJyLmxlbmd0aCA9IGxlblxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm1peGluID0gbWl4aW47XG5leHBvcnRzLmRlbGF5TWl4aW4gPSBkZWxheU1peGluO1xuZXhwb3J0cy5wZXJmb3JtTWl4aW5zID0gcGVyZm9ybU1peGlucztcbi8qKlxuICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gbWl4aW5cbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgVGhlIHByb3RvdHlwZSBvciBpbnN0YW5jZSB0aGF0IHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICovXG5mdW5jdGlvbiBtaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIGlmICghdGFyZ2V0IHx8ICFzb3VyY2UpIHJldHVybjtcbiAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG5cbiAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICB9XG59XG5cbnZhciBtaXhpbnMgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZXMgYSBtaXhpbiB0byBiZSBoYW5kbGVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgaW5pdGlhbGl6YXRpb24gb2YgUElYSSwgc28gdGhhdCBkZXByZWNhdGlvblxuICogY2FuIHRha2UgZWZmZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gZGVsYXlNaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIG1peGlucy5wdXNoKHRhcmdldCwgc291cmNlKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIGFsbCBtaXhpbnMgcXVldWVkIHZpYSBkZWxheU1peGluKCkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGVyZm9ybU1peGlucygpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBtaXhpbihtaXhpbnNbaV0sIG1peGluc1tpICsgMV0pO1xuICAgIH1cbiAgICBtaXhpbnMubGVuZ3RoID0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBNaXhpbnMgZnVuY3Rpb25hbGl0eSB0byBtYWtlIGFuIG9iamVjdCBoYXZlIFwicGx1Z2luc1wiLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIHBsdWdpblRhcmdldC5taXhpbihNeU9iamVjdCk7XG4gKlxuICogQG1peGluXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmplY3QgdG8gbWl4IGludG8uXG4gKi9cbmZ1bmN0aW9uIHBsdWdpblRhcmdldChvYmopIHtcbiAgICBvYmouX19wbHVnaW5zID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIGxpc3RlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIG9iai5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbk5hbWUsIGN0b3IpIHtcbiAgICAgICAgb2JqLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhbGwgdGhlIHBsdWdpbnMgb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIG9iai5wcm90b3R5cGUuaW5pdFBsdWdpbnMgPSBmdW5jdGlvbiBpbml0UGx1Z2lucygpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gdGhpcy5wbHVnaW5zIHx8IHt9O1xuXG4gICAgICAgIGZvciAodmFyIG8gaW4gb2JqLl9fcGx1Z2lucykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IG9iai5fX3BsdWdpbnNbb10odGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHBsdWdpbnMgb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIG9iai5wcm90b3R5cGUuZGVzdHJveVBsdWdpbnMgPSBmdW5jdGlvbiBkZXN0cm95UGx1Z2lucygpIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zID0gbnVsbDtcbiAgICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgLyoqXG4gICAgICogTWl4ZXMgaW4gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHBsdWdpblRhcmdldCBpbnRvIGFub3RoZXIgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iaiB0byBtaXggaW50b1xuICAgICAqL1xuICAgIG1peGluOiBmdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgICAgICAgcGx1Z2luVGFyZ2V0KG9iaik7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWdpblRhcmdldC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhblVwbG9hZFNhbWVCdWZmZXI7XG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuXHQvLyBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmIGlzc3Vlcy5cblx0Ly8gQXBwYXJlbnQgb24gSU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuXHQvLyB0aGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG5cdHZhciBpb3MgPSAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG5cdHJldHVybiAhaW9zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXBsb2FkU2FtZUJ1ZmZlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXhSZWNvbW1lbmRlZFRleHR1cmVzO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBfaXNtb2JpbGVqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc21vYmlsZWpzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgICBpZiAoX2lzbW9iaWxlanMyLmRlZmF1bHQudGFibGV0IHx8IF9pc21vYmlsZWpzMi5kZWZhdWx0LnBob25lKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSByZXMgaXMgaXBob25lIDYgb3IgaGlnaGVyLi5cbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfVxuXG4gICAgLy8gZGVza3RvcCBzaG91bGQgYmUgb2tcbiAgICByZXR1cm4gbWF4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF4UmVjb21tZW5kZWRUZXh0dXJlcy5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjb21waWxlUHJvZ3JhbTogcmVxdWlyZSgnLi9jb21waWxlUHJvZ3JhbScpLFxuICAgIGRlZmF1bHRWYWx1ZTogcmVxdWlyZSgnLi9kZWZhdWx0VmFsdWUnKSxcbiAgICBleHRyYWN0QXR0cmlidXRlczogcmVxdWlyZSgnLi9leHRyYWN0QXR0cmlidXRlcycpLFxuICAgIGV4dHJhY3RVbmlmb3JtczogcmVxdWlyZSgnLi9leHRyYWN0VW5pZm9ybXMnKSxcbiAgICBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q6IHJlcXVpcmUoJy4vZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0JyksXG4gICAgc2V0UHJlY2lzaW9uOiByZXF1aXJlKCcuL3NldFByZWNpc2lvbicpLFxuICAgIG1hcFNpemU6IHJlcXVpcmUoJy4vbWFwU2l6ZScpLFxuICAgIG1hcFR5cGU6IHJlcXVpcmUoJy4vbWFwVHlwZScpXG59OyIsIlxuLy8gc3RhdGUgb2JqZWN0Ly9cbnZhciBzZXRWZXJ0ZXhBdHRyaWJBcnJheXMgPSByZXF1aXJlKCAnLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMnICk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIHdvcmsgd2l0aCBXZWJHTCBWZXJ0ZXhBcnJheU9iamVjdHMgKHZhb3MpXG4gKiBPbmx5IHdvcmtzIGlmIFdlYkdMIGV4dGVuc2lvbnMgYXJlIGVuYWJsZWQgKHRoZXkgdXN1YWxseSBhcmUpXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICovXG5mdW5jdGlvbiBWZXJ0ZXhBcnJheU9iamVjdChnbCwgc3RhdGUpXG57XG4gICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBudWxsO1xuXG4gICAgaWYoIVZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSlcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5uYXRpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgaWYodGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhbyA9IHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG5cbiAgICAgICAgdmFyIG1heEF0dHJpYnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKTtcblxuICAgICAgICAvLyBWQU8gLSBvdmVyd3JpdGUgdGhlIHN0YXRlLi5cbiAgICAgICAgdGhpcy5uYXRpdmVTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KG1heEF0dHJpYnMpLFxuICAgICAgICAgICAgYXR0cmliU3RhdGU6IG5ldyBBcnJheShtYXhBdHRyaWJzKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYXR0cmlidXRlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmdsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgYm9vbGVhbiBmbGFnXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbn1cblxuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVydGV4QXJyYXlPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IFZlcnRleEFycmF5T2JqZWN0O1xuXG4vKipcbiogU29tZSBkZXZpY2VzIGJlaGF2ZSBhIGJpdCBmdW5ueSB3aGVuIHVzaW5nIHRoZSBuZXdlciBleHRlbnNpb25zIChpbSBsb29raW5nIGF0IHlvdSBpcGFkIDIhKVxuKiBJZiB5b3UgZmluZCBvbiBvbGRlciBkZXZpY2VzIHRoYXQgdGhpbmdzIGhhdmUgZ29uZSBhIGJpdCB3ZWlyZCB0aGVuIHNldCB0aGlzIHRvIHRydWUuXG4qL1xuLyoqXG4gKiBMZXRzIHRoZSBWQU8ga25vdyBpZiB5b3Ugc2hvdWxkIHVzZSB0aGUgV2ViR0wgZXh0ZW5zaW9uIG9yIHRoZSBuYXRpdmUgbWV0aG9kcy5cbiAqIFNvbWUgZGV2aWNlcyBiZWhhdmUgYSBiaXQgZnVubnkgd2hlbiB1c2luZyB0aGUgbmV3ZXIgZXh0ZW5zaW9ucyAoaW0gbG9va2luZyBhdCB5b3UgaXBhZCAyISlcbiAqIElmIHlvdSBmaW5kIG9uIG9sZGVyIGRldmljZXMgdGhhdCB0aGluZ3MgaGF2ZSBnb25lIGEgYml0IHdlaXJkIHRoZW4gc2V0IHRoaXMgdG8gdHJ1ZS5cbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gRk9SQ0VfTkFUSVZFXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSA9IGZhbHNlO1xuXG4vKipcbiAqIEJpbmRzIHRoZSBidWZmZXJcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5uYXRpdmVWYW8pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuXG4gICAgICAgIGlmKHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIGJ1ZmZlclxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKG51bGwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVc2VzIHRoaXMgdmFvXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKClcbntcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgIGlmKGxhc3RCdWZmZXIgIT09IGF0dHJpYi5idWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYi5idWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGF0dHJpYi5idWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJpYi5hdHRyaWJ1dGUubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLmF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi50eXBlIHx8IGdsLkZMT0FULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5zdHJpZGUgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuc3RhcnQgfHwgMCk7XG4gICAgfVxuXG4gICAgc2V0VmVydGV4QXR0cmliQXJyYXlzKGdsLCB0aGlzLmF0dHJpYnV0ZXMsIHRoaXMubmF0aXZlU3RhdGUpO1xuXG4gICAgaWYodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAgICAge1BJWEkuZ2wuR0xCdWZmZXJ9XG4gKiBAcGFyYW0gYXR0cmlidXRlICB7Kn1cbiAqIEBwYXJhbSB0eXBlICAgICAgIHtTdHJpbmd9XG4gKiBAcGFyYW0gbm9ybWFsaXplZCB7Qm9vbGVhbn1cbiAqIEBwYXJhbSBzdHJpZGUgICAgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc3RhcnQgICAgICB7TnVtYmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24oYnVmZmVyLCBhdHRyaWJ1dGUsIHR5cGUsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgc3RhcnQpXG57XG4gICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2goe1xuICAgICAgICBidWZmZXI6ICAgICBidWZmZXIsXG4gICAgICAgIGF0dHJpYnV0ZTogIGF0dHJpYnV0ZSxcblxuICAgICAgICBsb2NhdGlvbjogICBhdHRyaWJ1dGUubG9jYXRpb24sXG4gICAgICAgIHR5cGU6ICAgICAgIHR5cGUgfHwgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgbm9ybWFsaXplZDogbm9ybWFsaXplZCB8fCBmYWxzZSxcbiAgICAgICAgc3RyaWRlOiAgICAgc3RyaWRlIHx8IDAsXG4gICAgICAgIHN0YXJ0OiAgICAgIHN0YXJ0IHx8IDBcbiAgICB9KTtcblxuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gYnVmZmVyICAge1BJWEkuZ2wuR0xCdWZmZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uKGJ1ZmZlci8qLCBvcHRpb25zKi8pXG57XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcblxuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhpcyB2YW8gYW5kIGRpc2FibGVzIGl0XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKClcbntcbiAgICAvLyB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy8gVE9ETyAtIHNob3VsZCB0aGlzIGZ1bmN0aW9uIHVuYmluZCBhZnRlciBjbGVhcj9cbiAgICAvLyBmb3Igbm93LCBubyBidXQgbGV0cyBzZWUgd2hhdCBoYXBwZW5zIGluIHRoZSByZWFsIHdvcmxkIVxuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcbiAgICB9XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gdHlwZSAge051bWJlcn1cbiAqIEBwYXJhbSBzaXplICB7TnVtYmVyfVxuICogQHBhcmFtIHN0YXJ0IHtOdW1iZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24odHlwZSwgc2l6ZSwgc3RhcnQpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIGlmKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCB0aGlzLmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgKHN0YXJ0IHx8IDApICogMiApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCB0aGlzLmdldFNpemUoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgdGhpcyB2YW9cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG4gICAgLy8gbG9zZSByZWZlcmVuY2VzXG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZVN0YXRlID0gbnVsbDtcblxuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZVZhbyA9IG51bGw7XG59O1xuXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzWzBdO1xuICAgIHJldHVybiBhdHRyaWIuYnVmZmVyLmRhdGEubGVuZ3RoIC8gKCggYXR0cmliLnN0cmlkZS80ICkgfHwgYXR0cmliLmF0dHJpYnV0ZS5zaXplKTtcbn07XG4iLCJcbnZhciBjb21waWxlUHJvZ3JhbSA9IHJlcXVpcmUoJy4vc2hhZGVyL2NvbXBpbGVQcm9ncmFtJyksXG5cdGV4dHJhY3RBdHRyaWJ1dGVzID0gcmVxdWlyZSgnLi9zaGFkZXIvZXh0cmFjdEF0dHJpYnV0ZXMnKSxcblx0ZXh0cmFjdFVuaWZvcm1zID0gcmVxdWlyZSgnLi9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zJyksXG5cdHNldFByZWNpc2lvbiA9IHJlcXVpcmUoJy4vc2hhZGVyL3NldFByZWNpc2lvbicpLFxuXHRnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QgPSByZXF1aXJlKCcuL3NoYWRlci9nZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QnKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgU2hhZGVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIHByZWNpc2lvbiB7c3RyaW5nfSBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtvYmplY3R9IEEga2V5IHZhbHVlIHBhaXIgc2hvd2luZyB3aGljaCBsb2NhdGlvbiBlYWN0IGF0dHJpYnV0ZSBzaG91bGQgc2l0IGVnIHtwb3NpdGlvbjowLCB1dnM6MX1cbiAqL1xudmFyIFNoYWRlciA9IGZ1bmN0aW9uKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBwcmVjaXNpb24sIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXHRpZihwcmVjaXNpb24pXG5cdHtcblx0XHR2ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odmVydGV4U3JjLCBwcmVjaXNpb24pO1xuXHRcdGZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKGZyYWdtZW50U3JjLCBwcmVjaXNpb24pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG5cdCAqL1xuXHQvLyBGaXJzdCBjb21waWxlIHRoZSBwcm9ncmFtLi5cblx0dGhpcy5wcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucyk7XG5cblx0LyoqXG5cdCAqIFRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBzaGFkZXIgYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzXG5cdCAqIHtcblx0ICogXHR0eXBlLFxuXHQgKiBcdHNpemUsXG5cdCAqIFx0bG9jYXRpb24sXG5cdCAqIFx0cG9pbnRlclxuXHQgKiB9XG5cdCAqIEBtZW1iZXIge09iamVjdH1cblx0ICovXG5cdC8vIG5leHQgZXh0cmFjdCB0aGUgYXR0cmlidXRlc1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBleHRyYWN0QXR0cmlidXRlcyhnbCwgdGhpcy5wcm9ncmFtKTtcblxuICAgIHRoaXMudW5pZm9ybURhdGEgPSBleHRyYWN0VW5pZm9ybXMoZ2wsIHRoaXMucHJvZ3JhbSk7XG5cblx0LyoqXG5cdCAqIFRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGFzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuXHQgKiB7XG5cdCAqIFx0Z2wsXG5cdCAqIFx0ZGF0YVxuXHQgKiB9XG5cdCAqIEBtZW1iZXIge09iamVjdH1cblx0ICovXG5cdHRoaXMudW5pZm9ybXMgPSBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QoIGdsLCB0aGlzLnVuaWZvcm1EYXRhICk7XG5cbn07XG4vKipcbiAqIFVzZXMgdGhpcyBzaGFkZXJcbiAqIFxuICogQHJldHVybiB7UElYSS5nbENvcmUuR0xTaGFkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5TaGFkZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBzaGFkZXJcbiAqIFRPRE9cbiAqL1xuU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuXHR0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcblx0dGhpcy51bmlmb3JtcyA9IG51bGw7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYWRlcjtcbiIsIlxudmFyIFRleHR1cmUgPSByZXF1aXJlKCcuL0dMVGV4dHVyZScpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBGcmFtZWJ1ZmZlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbnZhciBGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0KVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoIHx8IDEwMDtcbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDEwMDtcbn07XG5cbi8qKlxuICogQWRkcyBhIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVRleHR1cmUgPSBmdW5jdGlvbih0ZXh0dXJlKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBUZXh0dXJlKGdsKTtcblxuICAgIHRoaXMudGV4dHVyZS5iaW5kKCk7XG5cbiAgICAvL2dsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICAgIHRoaXMuYmluZCgpO1xuXG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUudGV4dHVyZSwgMCk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpc2VzIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLnN0ZW5jaWwpcmV0dXJuO1xuXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIHRoaXMuc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG5cbiAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG4gICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsICB0aGlzLndpZHRoICAsIHRoaXMuaGVpZ2h0ICk7XG5cblxufTtcblxuLyoqXG4gKiBFcmFzZXMgdGhlIGRyYXdpbmcgYXJlYSBhbmQgZmlsbHMgaXQgd2l0aCBhIGNvbG91clxuICogQHBhcmFtICByIHtOdW1iZXJ9IHRoZSByZWQgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBnIHtOdW1iZXJ9IHRoZSBncmVlbiB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKiBAcGFyYW0gIGIge051bWJlcn0gdGhlIGJsdWUgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBhIHtOdW1iZXJ9IHRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCByLCBnLCBiLCBhIClcbntcbiAgICB0aGlzLmJpbmQoKTtcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbn07XG5cbi8qKlxuICogQmluZHMgdGhlIGZyYW1lIGJ1ZmZlciB0byB0aGUgV2ViR0wgY29udGV4dFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mcmFtZWJ1ZmZlciApO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSBmcmFtZSBidWZmZXIgdG8gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCApO1xufTtcbi8qKlxuICogUmVzaXplcyB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXIgdG8gdGhlIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcbiAqIEBwYXJhbSAgd2lkdGggIHtOdW1iZXJ9IHRoZSBuZXcgd2lkdGhcbiAqIEBwYXJhbSAgaGVpZ2h0IHtOdW1iZXJ9IHRoZSBuZXcgaGVpZ2h0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICBpZiAoIHRoaXMudGV4dHVyZSApXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUudXBsb2FkRGF0YShudWxsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoIHRoaXMuc3RlbmNpbCApXG4gICAge1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHN0ZW5jaWwgYnVmZmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvL1RPRE9cbiAgICBpZih0aGlzLnRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO1xuXG4gICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmFtZSBidWZmZXIgd2l0aCBhIHRleHR1cmUgY29udGFpbmluZyB0aGUgZ2l2ZW4gZGF0YVxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGFcbiAqL1xuRnJhbWVidWZmZXIuY3JlYXRlUkdCQSA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCBkYXRhKVxue1xuICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgIHRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG5cbiAgICAvL25vdyBjcmVhdGUgdGhlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgYXR0YWNoIHRoZSB0ZXh0dXJlIHRvIGl0LlxuICAgIHZhciBmYm8gPSBuZXcgRnJhbWVidWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGZiby5lbmFibGVUZXh0dXJlKHRleHR1cmUpO1xuICAgIC8vZmJvLmVuYWJsZVN0ZW5jaWwoKTsgLy8gZ2V0IHRoaXMgYmFjayBvbiBzb29uIVxuXG4gICAgLy9mYm8uZW5hYmxlU3RlbmNpbCgpOyAvLyBnZXQgdGhpcyBiYWNrIG9uIHNvb24hXG5cbiAgICBmYm8udW5iaW5kKCk7XG5cbiAgICByZXR1cm4gZmJvO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnJhbWUgYnVmZmVyIHdpdGggYSB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGRhdGFcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKi9cbkZyYW1lYnVmZmVyLmNyZWF0ZUZsb2F0MzIgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZGF0YSlcbntcbiAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZS4uXG4gICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZS5mcm9tRGF0YShnbCwgZGF0YSwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgIHRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG5cbiAgICAvL25vdyBjcmVhdGUgdGhlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgYXR0YWNoIHRoZSB0ZXh0dXJlIHRvIGl0LlxuICAgIHZhciBmYm8gPSBuZXcgRnJhbWVidWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGZiby5lbmFibGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgZmJvLnVuYmluZCgpO1xuXG4gICAgcmV0dXJuIGZibztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRnJhbWVidWZmZXI7XG4iLCJ2YXIgRU1QVFlfQVJSQVlfQlVGRkVSID0gbmV3IEFycmF5QnVmZmVyKDApO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBidWZmZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gdHlwZSB7Z2wuQVJSQVlfQlVGRkVSIHwgZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJ9IEBtYXRcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKiBAcGFyYW0gZHJhd1R5cGUge2dsLlNUQVRJQ19EUkFXfGdsLkRZTkFNSUNfRFJBV3xnbC5TVFJFQU1fRFJBV31cbiAqL1xudmFyIEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSlcbntcblxuXHQvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblx0LyoqXG4gICAgICogVGhlIFdlYkdMIGJ1ZmZlciwgY3JlYXRlZCB1cG9uIGluc3RhbnRpYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuXHR0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXG5cdC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsLkFSUkFZX0JVRkZFUnxnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUn1cbiAgICAgKi9cblx0dGhpcy50eXBlID0gdHlwZSB8fCBnbC5BUlJBWV9CVUZGRVI7XG5cblx0LyoqXG4gICAgICogVGhlIGRyYXcgdHlwZSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbC5TVEFUSUNfRFJBV3xnbC5EWU5BTUlDX0RSQVd8Z2wuU1RSRUFNX0RSQVd9XG4gICAgICovXG5cdHRoaXMuZHJhd1R5cGUgPSBkcmF3VHlwZSB8fCBnbC5TVEFUSUNfRFJBVztcblxuXHQvKipcbiAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fVxuICAgICAqL1xuXHR0aGlzLmRhdGEgPSBFTVBUWV9BUlJBWV9CVUZGRVI7XG5cblx0aWYoZGF0YSlcblx0e1xuXHRcdHRoaXMudXBsb2FkKGRhdGEpO1xuXHR9XG5cblx0dGhpcy5fdXBkYXRlSUQgPSAwO1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBidWZmZXIgdG8gdGhlIEdQVVxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGEgdG8gdXBsb2FkXG4gKiBAcGFyYW0gb2Zmc2V0IHtOdW1iZXJ9IGlmIG9ubHkgYSBzdWJzZXQgb2YgdGhlIGRhdGEgc2hvdWxkIGJlIHVwbG9hZGVkLCB0aGlzIGlzIHRoZSBhbW91bnQgb2YgZGF0YSB0byBzdWJ0cmFjdFxuICogQHBhcmFtIGRvbnRCaW5kIHtCb29sZWFufSB3aGV0aGVyIHRvIGJpbmQgdGhlIGJ1ZmZlciBiZWZvcmUgdXBsb2FkaW5nIGl0XG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24oZGF0YSwgb2Zmc2V0LCBkb250QmluZClcbntcblx0Ly8gdG9kbyAtIG5lZWRlZD9cblx0aWYoIWRvbnRCaW5kKSB0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdGRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcblx0b2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cblx0aWYodGhpcy5kYXRhLmJ5dGVMZW5ndGggPj0gZGF0YS5ieXRlTGVuZ3RoKVxuXHR7XG5cdFx0Z2wuYnVmZmVyU3ViRGF0YSh0aGlzLnR5cGUsIG9mZnNldCwgZGF0YSk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wuYnVmZmVyRGF0YSh0aGlzLnR5cGUsIGRhdGEsIHRoaXMuZHJhd1R5cGUpO1xuXHR9XG5cblx0dGhpcy5kYXRhID0gZGF0YTtcbn07XG4vKipcbiAqIEJpbmRzIHRoZSBidWZmZXJcbiAqXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuYmluZEJ1ZmZlcih0aGlzLnR5cGUsIHRoaXMuYnVmZmVyKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIgPSBmdW5jdGlvbihnbCwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCBnbC5BUlJBWV9CVUZGRVIsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG5CdWZmZXIuY3JlYXRlID0gZnVuY3Rpb24oZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gKlxuICovXG5CdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuXHR0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcjtcbiIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgQ29udGV4dFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0IGZvciB0aGUgb3B0aW9ucyBhdmFpbGFibGVcbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xudmFyIGNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbihjYW52YXMsIG9wdGlvbnMpXG57XG4gICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgXG4gICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWdsKVxuICAgIHtcbiAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHJldHVybiBnbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQ29udGV4dDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICAgICAgdmFyIHJhZGl1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMjA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdW5kZWRSZWN0YW5nbGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5SUkVDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyB8fCB4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3VuZGVkUmVjdGFuZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91bmRlZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBvaW50cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgcG9pbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvbHlnb24pO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvaW50c1swXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBfUG9pbnQyLmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlBPTFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2x5Z29ufSBhIGNvcHkgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMucG9pbnRzLnNsaWNlKCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHBvbHlnb24sIGFkZGluZyBwb2ludHMgaWYgbmVjZXNzYXJ5LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBjbG9zZSB0aGUgcG9seSBpZiB0aGUgdmFsdWUgaXMgdHJ1ZSFcbiAgICAgICAgaWYgKHBvaW50c1swXSAhPT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSB8fCBwb2ludHNbMV0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbaSAqIDIgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzW2ogKiAyICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkgKyB4aTtcblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUG9seWdvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvbHlnb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICovXG4gIGZ1bmN0aW9uIEVsbGlwc2UoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxsaXBzZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLkVMSVA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgIHZhciBub3JteCA9ICh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGg7XG4gICAgdmFyIG5vcm15ID0gKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQ7XG5cbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcblxuICAgIHJldHVybiBub3JteCArIG5vcm15IDw9IDE7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9O1xuXG4gIHJldHVybiBFbGxpcHNlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFbGxpcHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RWxsaXBzZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9SZWN0YW5nbGUnKTtcblxudmFyIF9SZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICovXG4gIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5DSVJDO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIHZhciBkeCA9IHRoaXMueCAtIHg7XG4gICAgdmFyIGR5ID0gdGhpcy55IC0geTtcblxuICAgIGR4ICo9IGR4O1xuICAgIGR5ICo9IGR5O1xuXG4gICAgcmV0dXJuIGR4ICsgZHkgPD0gcjI7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgKlxuICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgfTtcblxuICByZXR1cm4gQ2lyY2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pIHtcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KSB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRoLnNpZ24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxuXG52YXIgT05FX0ZSQU1FX1RJTUUgPSAxNjtcblxuLy8gRGF0ZS5ub3dcbmlmICghKERhdGUubm93ICYmIERhdGUucHJvdG90eXBlLmdldFRpbWUpKSB7XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xufVxuXG4vLyBwZXJmb3JtYW5jZS5ub3dcbmlmICghKGdsb2JhbC5wZXJmb3JtYW5jZSAmJiBnbG9iYWwucGVyZm9ybWFuY2Uubm93KSkge1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFnbG9iYWwucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgfTtcbn1cblxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW3AgKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW3AgKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCBnbG9iYWxbcCArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbn1cblxuaWYgKCFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgJ2lzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9O1xufVxuXG5pZiAoIWdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzLm1hcCIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5pZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuYXNzaWduID0gX29iamVjdEFzc2lnbjIuZGVmYXVsdDtcbn0gLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvb2JqZWN0LWFzc2lnblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmFzc2lnbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xuXG5yZXF1aXJlKCcuL3JlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuXG5yZXF1aXJlKCcuL01hdGguc2lnbicpO1xuXG5pZiAoIXdpbmRvdy5BcnJheUJ1ZmZlcikge1xuICAgIHdpbmRvdy5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuRmxvYXQzMkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQzMkFycmF5KSB7XG4gICAgd2luZG93LlVpbnQzMkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQxNkFycmF5KSB7XG4gICAgd2luZG93LlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmxvYWRlciA9IGV4cG9ydHMucHJlcGFyZSA9IGV4cG9ydHMucGFydGljbGVzID0gZXhwb3J0cy5tZXNoID0gZXhwb3J0cy5sb2FkZXJzID0gZXhwb3J0cy5pbnRlcmFjdGlvbiA9IGV4cG9ydHMuZmlsdGVycyA9IGV4cG9ydHMuZXh0cmFzID0gZXhwb3J0cy5leHRyYWN0ID0gZXhwb3J0cy5hY2Nlc3NpYmlsaXR5ID0gdW5kZWZpbmVkO1xuXG52YXIgX3BvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xuXG5PYmplY3Qua2V5cyhfcG9seWZpbGwpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9wb2x5ZmlsbFtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbk9iamVjdC5rZXlzKF9jb3JlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY29yZVtrZXldO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxudmFyIF9kZXByZWNhdGlvbiA9IHJlcXVpcmUoJy4vZGVwcmVjYXRpb24nKTtcblxudmFyIF9kZXByZWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGlvbik7XG5cbnZhciBfYWNjZXNzaWJpbGl0eSA9IHJlcXVpcmUoJy4vYWNjZXNzaWJpbGl0eScpO1xuXG52YXIgYWNjZXNzaWJpbGl0eSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hY2Nlc3NpYmlsaXR5KTtcblxudmFyIF9leHRyYWN0ID0gcmVxdWlyZSgnLi9leHRyYWN0Jyk7XG5cbnZhciBleHRyYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2V4dHJhY3QpO1xuXG52YXIgX2V4dHJhcyA9IHJlcXVpcmUoJy4vZXh0cmFzJyk7XG5cbnZhciBleHRyYXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZXh0cmFzKTtcblxudmFyIF9maWx0ZXJzID0gcmVxdWlyZSgnLi9maWx0ZXJzJyk7XG5cbnZhciBmaWx0ZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2ZpbHRlcnMpO1xuXG52YXIgX2ludGVyYWN0aW9uID0gcmVxdWlyZSgnLi9pbnRlcmFjdGlvbicpO1xuXG52YXIgaW50ZXJhY3Rpb24gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaW50ZXJhY3Rpb24pO1xuXG52YXIgX2xvYWRlcnMgPSByZXF1aXJlKCcuL2xvYWRlcnMnKTtcblxudmFyIGxvYWRlcnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbG9hZGVycyk7XG5cbnZhciBfbWVzaCA9IHJlcXVpcmUoJy4vbWVzaCcpO1xuXG52YXIgbWVzaCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tZXNoKTtcblxudmFyIF9wYXJ0aWNsZXMgPSByZXF1aXJlKCcuL3BhcnRpY2xlcycpO1xuXG52YXIgcGFydGljbGVzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3BhcnRpY2xlcyk7XG5cbnZhciBfcHJlcGFyZSA9IHJlcXVpcmUoJy4vcHJlcGFyZScpO1xuXG52YXIgcHJlcGFyZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wcmVwYXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gZXhwb3J0IGNvcmVcbl9jb3JlLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zKCk7XG5cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBQSVhJLmxvYWRlcnMuc2hhcmVkfS5cbiAqIEBuYW1lIGxvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtQSVhJLmxvYWRlci5Mb2FkZXJ9XG4gKi9cblxuXG4vLyBoYW5kbGUgbWl4aW5zIG5vdywgYWZ0ZXIgYWxsIGNvZGUgaGFzIGJlZW4gYWRkZWQsIGluY2x1ZGluZyBkZXByZWNhdGlvblxuXG5cbi8vIGV4cG9ydCBsaWJzXG4vLyBpbXBvcnQgcG9seWZpbGxzLiBEb25lIGFzIGFuIGV4cG9ydCB0byBtYWtlIHN1cmUgcG9seWZpbGxzIGFyZSBpbXBvcnRlZCBmaXJzdFxudmFyIGxvYWRlciA9IGxvYWRlcnMuc2hhcmVkIHx8IG51bGw7XG5cbmV4cG9ydHMuYWNjZXNzaWJpbGl0eSA9IGFjY2Vzc2liaWxpdHk7XG5leHBvcnRzLmV4dHJhY3QgPSBleHRyYWN0O1xuZXhwb3J0cy5leHRyYXMgPSBleHRyYXM7XG5leHBvcnRzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuZXhwb3J0cy5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uO1xuZXhwb3J0cy5sb2FkZXJzID0gbG9hZGVycztcbmV4cG9ydHMubWVzaCA9IG1lc2g7XG5leHBvcnRzLnBhcnRpY2xlcyA9IHBhcnRpY2xlcztcbmV4cG9ydHMucHJlcGFyZSA9IHByZXBhcmU7XG5leHBvcnRzLmxvYWRlciA9IGxvYWRlcjtcblxuLy8gQXBwbHkgdGhlIGRlcHJlY2F0aW9uc1xuXG5pZiAodHlwZW9mIF9kZXByZWNhdGlvbjIuZGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICgwLCBfZGVwcmVjYXRpb24yLmRlZmF1bHQpKGV4cG9ydHMpO1xufVxuXG4vLyBBbHdheXMgZXhwb3J0IFBpeGlKUyBnbG9iYWxseS5cbmdsb2JhbC5QSVhJID0gZXhwb3J0czsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZXMuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZXMuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xyXG5pbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnXHJcbmltcG9ydCBTS1VMTCBmcm9tICcuL3NrdWxsLnBuZyc7XHJcbmltcG9ydCBMT0xQSVhFTFMgZnJvbSAnLi9sb2xwaXhlbHMucG5nJztcclxuaW1wb3J0IENvbmZpZyBmcm9tICcuL2NvbmZpZyc7XHJcbmltcG9ydCBDb21wb25lbnRzIGZyb20gJy4vY29tcG9uZW50cyc7XHJcblxyXG5mdW5jdGlvbiBsb2FkUmVzb3VyY2VzKCkge1xyXG4gIFBJWEkubG9hZGVyLmFkZCgnbG9scGl4ZWxzJywgTE9MUElYRUxTKVxyXG4gIC5hZGQoJ3NrdWxsJywgU0tVTEwpXHJcbiAgLm9uKFwicHJvZ3Jlc3NcIiwgbG9hZFByb2dyZXNzSGFuZGxlcilcclxuICAubG9hZChhZnRlclJlc291cmNlc0xvYWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkUHJvZ3Jlc3NIYW5kbGVyKGxvYWRlciwgcmVzb3VyY2UpIHtcclxuICAgIGNvbnNvbGUubG9nKFwibG9hZGluZzogXCIgKyByZXNvdXJjZS51cmwpO1xyXG4gICAgY29uc29sZS5sb2coXCJwcm9ncmVzczogXCIgKyBsb2FkZXIucHJvZ3Jlc3MgKyBcIiVcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFmdGVyUmVzb3VyY2VzTG9hZCgpIHtcclxuICBjb25zdCByZW5kZXJlcl9vcHRpb25zID0ge1xyXG4gICAgd2lkdGg6IENvbmZpZy5XT1JMRF9XSURUSCxcclxuICAgIGhlaWdodDogQ29uZmlnLldPUkxEX0hFSUdIVCxcclxuICAgIGJhY2tncm91bmRDb2xvcjogQ29uZmlnLkJHX0NPTE9SLFxyXG4gIH07XHJcbiAgY29uc3QgYm9keV9jb21wb25lbnRzID0gQ29tcG9uZW50cy5ib2RpZXM7XHJcbiAgY29uc3QgcG9zaXRpb25fY29tcG9uZW50cyA9IENvbXBvbmVudHMucG9zaXRpb25zO1xyXG5cclxuICBsZXQgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24ocmVuZGVyZXJfb3B0aW9ucyk7XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lX2NvbnRhaW5lcicpLmFwcGVuZENoaWxkKGFwcC52aWV3KTtcclxuXHJcbiAgT2JqZWN0LmtleXMoYm9keV9jb21wb25lbnRzKS5mb3JFYWNoKGlkID0+IHtcclxuICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLmxvYWRlci5yZXNvdXJjZXMubG9scGl4ZWxzLnRleHR1cmUpO1xyXG4gICAgc3ByaXRlLnggPSBwb3NpdGlvbl9jb21wb25lbnRzW2lkXS54O1xyXG4gICAgc3ByaXRlLnkgPSBwb3NpdGlvbl9jb21wb25lbnRzW2lkXS55O1xyXG4gICAgc3ByaXRlLndpZHRoID0gYm9keV9jb21wb25lbnRzW2lkXS53aWR0aDtcclxuICAgIHNwcml0ZS5oZWlnaHQgPSBib2R5X2NvbXBvbmVudHNbaWRdLmhlaWdodDtcclxuICAgIHNwcml0ZS5hbmNob3IgPSBuZXcgUElYSS5PYnNlcnZhYmxlUG9pbnQobnVsbCwgbnVsbCwgMC41LCAwLjUpO1xyXG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XHJcbiAgfSk7XHJcblxyXG4gIGFwcC5zdGFnZS5hZGRDaGlsZChuZXcgUElYSS5TcHJpdGUoUElYSS5sb2FkZXIucmVzb3VyY2VzLnNrdWxsLnRleHR1cmUpKTtcclxuXHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgbG9hZFJlc291cmNlcyk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=