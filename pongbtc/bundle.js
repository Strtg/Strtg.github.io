!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=199)}([function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.7.0",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var n=r(0);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(4);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(5);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return z(o).default}});var s=r(30);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return z(s).default}});var a=r(77);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return z(a).default}});var u=r(15);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return z(u).default}});var h=r(75);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return z(h).default}});var l=r(76);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return z(l).default}});var c=r(28);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return z(c).default}});var f=r(27);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return z(f).default}});var d=r(163);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return z(d).default}});var p=r(23);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return z(p).default}});var v=r(160);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return z(v).default}});var y=r(144);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return z(y).default}});var g=r(62);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return z(g).default}});var _=r(61);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return z(_).default}});var m=r(142);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return z(m).default}});var b=r(60);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return z(b).default}});var x=r(140);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return z(x).default}});var T=r(133);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return z(T).default}});var w=r(132);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return z(w).default}});var E=r(7);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return z(E).default}});var O=r(64);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return z(O).default}});var S=r(9);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return z(S).default}});var M=r(24);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return z(M).default}});var P=r(69);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return z(P).default}});var C=r(72);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return z(C).default}});var A=r(71);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return z(A).default}});var R=r(68);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return z(R).default}});var I=r(12);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return z(I).default}});var D=r(13);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return z(D).default}});var L=r(19);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return z(L).default}});var N=r(17);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return z(N).default}});var k=r(63);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z(k).default}});var F=r(66);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return z(F).default}});var j=r(65);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return z(j).default}});var B=r(58);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return z(B).default}});var U=r(57);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(r(2)),H=V(r(25)),W=z(r(3)),G=z(r(14)),Y=z(r(18));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=W.default,e.utils=X,e.ticker=H,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++d},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]};return},e.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){p=!0},e.sayHello=function(t){if(p)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");p=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in v)v[t].destroy();for(t in y)y[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in v)delete v[t];for(t in y)delete y[t]},e.correctBlendMode=function(t,e){return g[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(0),i=f(r(3)),o=f(r(8)),s=f(r(175)),a=c(r(174)),u=c(r(29)),h=f(r(173)),l=f(r(172));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var d=0,p=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a;var v=e.TextureCache=Object.create(null),y=e.BaseTextureCache=Object.create(null);var g=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(177)),i=o(r(176));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(34);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=r(88);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=r(33);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(87);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(187);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(186);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(185);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(32);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(184);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){var n={createContext:r(183),setVertexAttribArrays:r(86),GLBuffer:r(182),GLFramebuffer:r(181),GLShader:r(180),GLTexture:r(85),VertexArrayObject:r(179),shader:r(178)};void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var h=[];for(u=a;u<i.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(157))},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(9)),o=c(r(72)),s=c(r(71)),a=c(r(8)),u=r(4),h=r(2),l=c(r(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,n||(a.noFrame=!0,n=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=n,a.trim=o,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=i||n,a._rotate=Number(s||0),!0===s)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(n=new u.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=n):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,o){var s=h.TextureCache[t];return s||(s=new e(i.default.fromImage(t,r,n,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(o.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(o.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,r,n){var o=new i.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(i.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var n=new s(e,r||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.once=function(t,e,r){var n=new s(e,r||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=u(r(3)),o=u(r(8)),s=u(r(74)),a=u(r(26));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||i.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=i.default.MIPMAP_TEXTURES,a.wrapMode=i.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,n.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,n.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,n.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,n.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,n.uid)(),s.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,i,o){var a=n.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,i)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,i){if("string"==typeof t)return e.fromImage(t,void 0,r,i);if(t instanceof HTMLImageElement){var o=t.src,s=n.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,i&&(s.sourceScale=i),s.resolution=(0,n.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),n.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=n.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete n.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(7),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=new o.Polygon,l=function(t){function e(r,n,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||a.default.EMPTY,h.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=s||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.blendMode=o.BLEND_MODES.NORMAL,h.canvasPadding=o.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new o.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var r=this.vertices,n=h.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var l=2*i[a],c=2*i[a+1],f=2*i[a+2];if(n[0]=r[l],n[1]=r[l+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],h.contains(u.x,u.y))return!0}return!1},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";var n=r(108).default,i=r(21).default,o=r(42),s=r(41);n.Resource=i,n.async=o,n.base64=s,t.exports=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(r,n,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,a(n,u||s.default.PRECISION_VERTEX),a(i,u||s.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(70)),i=l(r(162)),o=l(r(68)),s=l(r(161)),a=r(2),u=r(0),h=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new i.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(n.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(2),s=r(77);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,m=v[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,O=0,S=-(x-w),M=b-T,P=0,C=0,A=0,R=0,I=Math.sqrt(S*S+M*M);S/=I,M/=I,S*=p,M*=p,h.push(b-S,x-M,g,_,m,y),h.push(b+S,x+M,g,_,m,y);for(var D=1;D<c-1;++D){b=r[2*(D-1)],x=r[2*(D-1)+1],T=r[2*D],w=r[2*D+1],E=r[2*(D+1)],O=r[2*(D+1)+1],S=-(x-w),M=b-T,I=Math.sqrt(S*S+M*M),S/=I,M/=I,S*=p,M*=p,P=-(w-O),C=T-E,I=Math.sqrt(P*P+C*C),P/=I,C/=I;var L=-M+x-(-M+w),N=-S+T-(-S+b),k=(-S+b)*(-M+w)-(-S+T)*(-M+x),F=-(C*=p)+O-(-C+w),j=-(P*=p)+T-(-P+E),B=(-P+E)*(-C+w)-(-P+T)*(-C+O),U=L*j-F*N;if(Math.abs(U)<.1)U+=10.1,h.push(T-S,w-M,g,_,m,y),h.push(T+S,w+M,g,_,m,y);else{var X=(N*B-j*k)/U,H=(F*k-L*B)/U,W=(X-T)*(X-T)+(H-w)*(H-w);W>196*p*p?(A=S-P,R=M-C,I=Math.sqrt(A*A+R*R),A/=I,R/=I,A*=p,R*=p,h.push(T-A,w-R),h.push(g,_,m,y),h.push(T+A,w+R),h.push(g,_,m,y),h.push(T-A,w-R),h.push(g,_,m,y),f++):(h.push(X,H),h.push(g,_,m,y),h.push(T-(X-T),w-(H-w)),h.push(g,_,m,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],S=-(x-w),M=b-T,I=Math.sqrt(S*S+M*M),S/=I,M/=I,S*=p,M*=p,h.push(T-S,w-M),h.push(g,_,m,y),h.push(T+S,w+M),h.push(g,_,m,y),l.push(d);for(var G=0;G<f;++G)l.push(d++);l.push(d-1)}(t,e)};var n=r(4),i=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(4),o=r(0),s=r(3),a=(n=s)&&n.__esModule?n:{default:n},u=r(5);var h=function(){function t(e,r,n,s,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=h||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==s?s:a.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=_(r(70)),i=_(r(159)),o=_(r(156)),s=_(r(155)),a=_(r(17)),u=_(r(19)),h=_(r(153)),l=_(r(9)),c=_(r(152)),f=_(r(151)),d=_(r(149)),p=_(r(148)),v=r(2),y=_(r(5)),g=r(0);function _(t){return t&&t.__esModule?t:{default:t}}var m=0,b=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new i.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=m++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(n.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(37),s=(n=o)&&n.__esModule?n:{default:n};var a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=s(r(43)),o=s(r(44));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(2),o=r(67);var s={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var a=(0,i.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;n.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=o)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(69));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof n.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],i=null,r=new n.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,i,o){return new e(new n.default(t,r,i,o))},e}(i(r(7)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var n,i=r(165),o=(n=i)&&n.__esModule?n:{default:n};var s=new o.default;s.autoStart=!0,s.destroy=function(){},e.shared=s,e.Ticker=o.default},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(4),o=r(2),s=r(0),a=h(r(7)),u=h(r(15));function h(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||a.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(a.default.fromImage(t,r,n))},n(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,r){var n,i,o,s,a,u,h,l,c,f,d,p,v,y,g,_,m,b,x,T,w,E;s=this,a=/iPhone/i,u=/iPod/i,h=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,v=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),T=function(t,e){return t.test(e)},w=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:T(a,e),ipod:T(u,e),tablet:!T(a,e)&&T(h,e),device:T(a,e)||T(u,e)||T(h,e)},this.amazon={phone:T(f,e),tablet:!T(f,e)&&T(d,e),device:T(f,e)||T(d,e)},this.android={phone:T(f,e)||T(l,e),tablet:!T(f,e)&&!T(l,e)&&(T(d,e)||T(c,e)),device:T(f,e)||T(d,e)||T(l,e)||T(c,e)},this.windows={phone:T(p,e),tablet:T(v,e),device:T(p,e)||T(v,e)},this.other={blackberry:T(y,e),blackberry10:T(g,e),opera:T(_,e),firefox:T(b,e),chrome:T(m,e),device:T(y,e)||T(g,e)||T(_,e)||T(b,e)||T(m,e)},this.seven_inch=T(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},E=function(){var t=new w;return t.Class=w,t},void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=w:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=E():(i=[],n=s.isMobile=E(),void 0===(o="function"==typeof n?n.apply(e,i):n)||(t.exports=o))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*r+c,f=(y=s*n+u*r+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*e+h*i+c,f=(y=s*e+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*i+c,f=(y=s*n+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],_=o*y+a*g+h,m=u*g+s*y+l;c=_<c?_:c,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();e.default=i},function(t,e){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var s=i[o];r[t[s]]=n[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(34),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){var h=Math.sin(s),l=Math.cos(s),c=Math.cos(u),f=Math.sin(u),d=-Math.sin(a),p=Math.cos(a),v=l*i,y=h*i,g=-h*o,_=l*o;return this.a=c*v+f*g,this.b=c*y+f*_,this.c=d*v+p*g,this.d=d*y+p*_,this.tx=t+(r*v+n*g),this.ty=e+(r*y+n*_),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e);return Math.abs(o+s)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={BG_COLOR:4352,WORLD_WIDTH:600,WORLD_HEIGHT:400,BALL_WIDTH:19,BALL_HEIGHT:19,PADDLE_WIDTH:101,PADDLE_HEIGHT:19,PADDLE_1_POSITION:{X:300,Y:20},PADDLE_2_POSITION:{X:300,Y:380},BALL_POSITION:{X:300,Y:200}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(10),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=i||10,s.drawMode=o.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),n.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,_=(v+1)*this.verticesX+p,m=(v+1)*this.verticesX+p+1;i.push(y,g,_),i.push(g,m,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(11),o=r(7),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(r,o,n,function(r){if(r.error)e(r.error);else{var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},e.getResourcePath=u;var n,i=r(11),o=r(73),s=(n=o)&&n.__esModule?n:{default:n},a=r(1);function u(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,i(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===o.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":n.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(i.utils.TextureCache[s])a(t,i.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",s,u,function(r){a(t,r.texture),e()})}}else e();else e()}};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(6)),i=r(1),o=r(11),s=r(55);function a(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype._copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=t.buttons,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype._reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(53)),s=u(r(52)),a=u(r(51));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(53)),s=u(r(52)),a=u(r(51));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(125);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=r(124);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=r(123);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(122);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(121),r(120),r(119)},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&n.isWebGLSupported())return new o.default(t,e,r);return new i.default(t,e,r)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(14)),o=s(r(18));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(57),o=h(r(15)),s=r(25),a=h(r(3)),u=r(0);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,n,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){var e=this._ticker;this.ticker=null,e.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,_=i(t,0,g,r,!0),m=[];if(!_)return m;if(y&&(_=function(t,e,r,n){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,(l=i(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,_,r)),t.length>80*r){n=u=t[0],a=h=t[1];for(var b=r;b<g;b+=r)l=t[b],d=t[b+1],l<n&&(n=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-n,h-a))?1/v:0}return s(_,m,r,n,a,v),m}function i(t,e,r,n,i){var o,s;if(i===O(t,e,r,n)>0)for(o=e;o<r;o+=n)s=T(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=T(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(w(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(w(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1)}(i)}(t,n,i,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),w(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,n,i,c,2):2===f&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(h,l,e,r,n),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!_(i,o)&&m(i,n,n.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),w(n),w(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=x(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&v(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&b(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=x(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&m(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,r,n){return!!(_(t,e)&&_(r,n)||_(t,n)&&_(r,e))||g(t,e,r)>0!=g(t,e,n)>0&&g(r,n,t)>0!=g(r,n,e)>0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function T(t,e,r,n){var i=new E(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(O(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(O(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=n||r.wordWrap;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i="",o=e.charAt(0),s=e.split("\n"),a=r.wordWrapWidth,u={},h=0;h<s.length;h++){for(var l=a,c=s[h].split(" "),f=0;f<c.length;f++){var d=n.measureText(c[f]).width;if(r.breakWords&&d>a)for(var p=c[f].split(""),v=0;v<p.length;v++){var y=p[v],g=u[y];void 0===g&&(g=n.measureText(y).width,u[y]=g),g>l?(i+="\n"+y,l=a-g):(0===v&&(f>0||" "===o)&&(i+=" "),i+=y,l-=g)}else{var _=d+n.measureText(" ").width;0===f||_>l?(f>0&&(i+="\n"),i+=c[f],l=a-d):(l-=_,i+=" "+c[f])}}h<s.length-1&&(i+="\n")}return i},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u=i.getImageData(0,0,o,a).data,h=u.length,l=4*o,c=0,f=0,d=!1;for(c=0;c<s;++c){for(var p=0;p<l;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=l}for(r.ascent=s-c,f=h-l,d=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=l}return r.descent=c-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t}();e.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),l(this,e,e)}return t.prototype.clone=function(){var e={};return l(e,this,s),new t(e)},t.prototype.reset=function(){l(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function l(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(22));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(33),s=(n=o)&&n.__esModule?n:{default:n};var a=new s.default,u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(158)),o=r(2),s=r(0),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,n){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(65)),i=r(4),o=(r(6),s(r(64)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(n.default);e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(9)),i=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||i.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(4),s=r(0),a=c(r(3)),u=c(r(15)),h=c(r(24)),l=c(r(8));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,n,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:h||a.default.RENDER_OPTIONS.height},l)),n=Object.assign({},a.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||a.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=h.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,i,!1,f,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(87),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=h(r(9)),o=r(2),s=r(25),a=r(0),u=h(r(74));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var n=o.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),i.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,r,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var s=0;s<t.length;++s)i.appendChild(c(t[s].src||t[s],t[s].mime));else i.appendChild(c(o,t.mime));return i.load(),e.fromVideo(i,r)},n(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";var n=r(171),i=r(169);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=m(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(168);function m(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var m=t=h.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(m);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,m=m.substr(x.length)}if(r||x||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===m.substr(0,2);!w||x&&y[x]||(m=m.substr(2),this.slashes=!0)}if(!y[x]&&(w||x&&!g[x])){for(var E,O,S=-1,M=0;M<f.length;M++){-1!==(P=m.indexOf(f[M]))&&(-1===S||P<S)&&(S=P)}-1!==(O=-1===S?m.lastIndexOf("@"):m.lastIndexOf("@",S))&&(E=m.slice(0,O),m=m.slice(O+1),this.auth=decodeURIComponent(E)),S=-1;for(M=0;M<c.length;M++){var P;-1!==(P=m.indexOf(c[M]))&&(-1===S||P<S)&&(S=P)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),R=(M=0,A.length);M<R;M++){var I=A[M];if(I&&!I.match(d)){for(var D="",L=0,N=I.length;L<N;L++)I.charCodeAt(L)>127?D+="x":D+=I[L];if(!D.match(d)){var k=A.slice(0,M),F=A.slice(M+1),j=I.match(p);j&&(k.push(j[1]),F.unshift(j[2])),F.length&&(m="/"+F.join(".")+m),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[T])for(M=0,R=l.length;M<R;M++){var X=l[M];if(-1!==m.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),m=m.split(X).join(H)}}var W=m.indexOf("#");-1!==W&&(this.hash=m.substr(W),m=m.slice(0,W));var G=m.indexOf("?");if(-1!==G?(this.search=m.substr(G),this.query=m.substr(G+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,G)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var Y=this.search||"";this.path=B+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||m||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],S=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,M=0,P=w.length;P>=0;P--)"."===(O=w[P])?w.splice(P,1):".."===O?(w.splice(P,1),M++):M&&(w.splice(P,1),M--);if(!x&&!T)for(;M--;M)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var C,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=A?"":w.length?w.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&w.length)&&!A&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a"));s.href=t;var r=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var n,i=r(73),o=(n=i)&&n.__esModule?n:{default:n};var s=void 0},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(28);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(28);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(8)),o=r(0),s=c(r(3)),a=c(r(76)),u=c(r(75)),h=c(r(30)),l=r(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e){var r=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},i={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?n[e.type](this.gl,o,r):i[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,e){var n={data:{}};n.gl=t;for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a],h=u.split("."),l=h[h.length-1],c=s(h,n),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return n}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e,r){var n=r(31),i=r(80);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var n=r(31),i=r(82),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(33),o=(n=i)&&n.__esModule?n:{default:n};var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=f(s[t]*s[r]+u[t]*a[r]),i=f(a[t]*s[r]+h[t]*a[r]),d=f(s[t]*u[r]+u[t]*h[r]),p=f(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===i&&u[v]===d&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(36),o=(n=i)&&n.__esModule?n:{default:n};var s={bodies:{1:{width:o.default.PADDLE_WIDTH,height:o.default.PADDLE_HEIGHT},2:{width:o.default.PADDLE_WIDTH,height:o.default.PADDLE_HEIGHT},3:{width:o.default.BALL_WIDTH,height:o.default.BALL_HEIGHT}},positions:{1:{x:o.default.PADDLE_1_POSITION.X,y:o.default.PADDLE_1_POSITION.Y},2:{x:o.default.PADDLE_2_POSITION.X,y:o.default.PADDLE_2_POSITION.Y},3:{x:o.default.BALL_POSITION.X,y:o.default.BALL_POSITION.Y}}};e.default=s},function(t,e,r){t.exports=r.p+"209a6d164a4b34b51f698b80e5effb11.png"},function(t,e,r){t.exports=r.p+"e0ddd4d1cbd6f77b772ba2e8953de384.png"},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20);var s=16,a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=s,n.canvas.height=s,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(((n=o)&&n.__esModule?n:{default:n}).default);function u(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=a,i.CanvasRenderer.registerPlugin("prepare",a)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(20);var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(h),n.registerUploadHook(a),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=o)&&n.__esModule?n:{default:n}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=s,i.WebGLRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(94);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=r(93);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=r(20);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(37);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(92);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(5)),i=o(r(22));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(12);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(97)),o=a(r(96)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=0,f=0;c<s;c+=i,f+=1){var d=s-c;if(d>i&&(d=i),f>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var p=a[f];p.uploadDynamic(e,c,d),t._bufferToUpdate===f&&(p.uploadStatic(e,c,d),t._bufferToUpdate=f+1),o.bindVao(p.vao),p.vao.draw(h.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,s=t._properties,a=0;a<n;a+=i)r.push(new o.default(e,this.properties,s,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new o.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferToUpdate=0,a.interactiveChildren=!1,a.blendMode=i.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(99);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(98);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(10);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;i=-((r=a<t.length-1?t[a+1]:u).x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(38);var s=10,a=function(t){function e(r,n,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth=void 0!==n?n:s,u.rightWidth=void 0!==o?o:s,u.topHeight=void 0!==i?i:s,u.bottomHeight=void 0!==a?a:s,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width*i.resolution,a=i.height*i.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=h[s]-h[i],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(((n=o)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(10),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,p=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height,g=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var m=s[e],b=s[r],x=s[n],T=s[e+1],w=s[r+1],E=s[n+1],O=t.canvasPadding/this.renderer.resolution;if(O>0){var S=O/Math.abs(t.worldTransform.a),M=O/Math.abs(t.worldTransform.d),P=(m+b+x)/3,C=(T+w+E)/3,A=m-P,R=T-C,I=Math.sqrt(A*A+R*R);m=P+A/I*(I+S),T=C+R/I*(I+M),R=w-C,b=P+(A=b-P)/(I=Math.sqrt(A*A+R*R))*(I+S),w=C+R/I*(I+M),R=E-C,x=P+(A=x-P)/(I=Math.sqrt(A*A+R*R))*(I+S),E=C+R/I*(I+M)}i.save(),i.beginPath(),i.moveTo(m,T),i.lineTo(b,w),i.lineTo(x,E),i.closePath(),i.clip();var D=f*y+v*p+d*g-y*p-v*d-f*g,L=m*y+v*x+b*g-y*x-v*b-m*g,N=f*b+m*p+d*x-b*p-m*d-f*x,k=f*y*x+v*b*p+m*d*g-m*y*p-v*d*x-f*b*g,F=T*y+v*E+w*g-y*E-v*w-T*g,j=f*w+T*p+d*E-w*p-T*d-f*E,B=f*y*E+v*w*p+T*d*g-T*y*p-v*d*E-f*w*g;i.transform(L/D,F/D,N/D,j/D,k/D,B/D),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(5)),o=s(r(10));r(6);function s(t){return t&&t.__esModule?t:{default:t}}var a=n.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),u.vertexBuffer.upload(t.vertices),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(n.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(10);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(n).default}});var i=r(104);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(i).default}});var o=r(103);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(38);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(102);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(101);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(u=a.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===r?"undefined":n(r)))return r.v}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var i=s(r(21)),o=s(r(41));function s(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(11)),i=r(106),o=h(r(8)),s=h(r(39)),a=h(r(40)),u=h(r(45));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));o.default.call(i);for(var s=0;s<e._pixiMiddleware.length;++s)i.use(e._pixiMiddleware[s]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(n.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[i.blobMiddlewareFactory,s.default,a.default,u.default];var f=n.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=h(r(44)),s=h(r(43)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(42)),u=h(r(21));function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":n(t))&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(45);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(40);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(39);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(11);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(58)),u=h(r(107));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=l(r(49)),s=l(r(48)),a=l(r(47)),u=l(r(8)),h=l(r(46));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},a.renderer=r,a.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,a.interactionFrequency=n.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new i.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,n,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new a.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType;if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button,h=a.default.FLAGS,l=u?h.RIGHT_DOWN:h.LEFT_DOWN,c=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new a.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r._copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e._reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(49);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}});var i=r(110);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=r(46);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(47);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(48);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=a(r(54)),s=a(r(50));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,n,a,u),h.blurYFilter=new s.default(r,n,a,u),h.padding=0,h.resolution=a||i.settings.RESOLUTION,h.quality=n||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new i.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(6);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(117);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=r(116);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=r(115);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(114);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(54);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(50);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(113);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(112);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(7)),o=a(r(9)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=n.DisplayObject,h=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=n.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new n.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=n.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(88)),s=r(2),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new i.Point,o=[],s=[],a=null,u=0,h=0,l=0,c=-1,f=0,d=0,p=0,v=0;v<this.text.length;v++){var y=this.text.charCodeAt(v);if(/(\s)/.test(this.text.charAt(v))&&(c=v,f=u),/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))s.push(u),h=Math.max(h,u),l++,n.x=0,n.y+=t.lineHeight,a=null;else if(-1!==c&&this._maxWidth>0&&n.x*r>this._maxWidth)i.utils.removeItems(o,c-d,v-c),v=c,c=-1,++d,s.push(f),h=Math.max(h,f),l++,n.x=0,n.y+=t.lineHeight,a=null;else{var g=t.chars[y];g&&(a&&g.kerning[a]&&(n.x+=g.kerning[a]),o.push({texture:g.texture,line:l,charCode:y,position:new i.Point(n.x+g.xOffset,n.y+g.yOffset)}),u=n.x+(g.texture.width+g.xOffset),n.x+=g.xAdvance,p=Math.max(p,g.yOffset+g.texture.height),a=y)}}s.push(u),h=Math.max(h,u);for(var _=[],m=0;m<=l;m++){var b=0;"right"===this._font.align?b=h-s[m]:"center"===this._font.align&&(b=(h-s[m])/2),_.push(b)}for(var x=o.length,T=this.tint,w=0;w<x;w++){var E=this._glyphs[w];E?E.texture=o[w].texture:(E=new i.Sprite(o[w].texture),this._glyphs.push(E)),E.position.x=(o[w].position.x+_[o[w].line])*r,E.position.y=o[w].position.y*r,E.scale.x=E.scale.y=r,E.tint=T,E.parent||this.addChild(E)}for(var O=x;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=h*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<x;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page")[0].getAttribute("file"),l=(0,s.getResolutionOfUrl)(h,a.default.RESOLUTION);n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,n.chars={};for(var c=t.getElementsByTagName("char"),f=0;f<c.length;f++){var d=c[f],p=parseInt(d.getAttribute("id"),10),v=new i.Rectangle(parseInt(d.getAttribute("x"),10)/l+r.frame.x/l,parseInt(d.getAttribute("y"),10)/l+r.frame.y/l,parseInt(d.getAttribute("width"),10)/l,parseInt(d.getAttribute("height"),10)/l);n.chars[p]={xOffset:parseInt(d.getAttribute("xoffset"),10)/l,yOffset:parseInt(d.getAttribute("yoffset"),10)/l,xAdvance:parseInt(d.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(r.baseTexture,v)}}for(var y=t.getElementsByTagName("kerning"),g=0;g<y.length;g++){var _=y[g],m=parseInt(_.getAttribute("first"),10)/l,b=parseInt(_.getAttribute("second"),10)/l,x=parseInt(_.getAttribute("amount"),10)/l;n.chars[b]&&(n.chars[b].kerning[m]=x)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=r(0);r(6);var o=new n.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);e.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(23),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,s=e.baseTexture,u=s.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=a.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(s.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(h,l),r.fillRect(-h+f,-l+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(r.translate(h+f,l+d),r.fillRect(-h,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,n=-e*this.anchor._x;if(u.x>=n&&u.x<n+e){var i=-r*this.anchor._y;if(u.y>=i&&u.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(o.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,s){return new e(o.Texture.fromImage(t,i,s),r,n)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new n.CanvasRenderTarget(u,h),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof n.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=i).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new n.CanvasRenderTarget(l,c);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=i).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(127);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(126);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(29)),o=s(r(56));function s(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*r+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,n.WebGLRenderer.registerPlugin("accessibility",c),n.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(56);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(129);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";function n(t){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e)))}e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,i=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}});i&&Object.defineProperties(i,{TextureTransform:{get:function(){return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,i){this.legacyRenderer.render(t,this,r,e,!i),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){r=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(2);var s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new i.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,h,f,l,a.rotated?2:0),i.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(14),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*h.width,p=2*h.height,v=h.x-d/2,y=h.y-p/2;r.beginPath();var g=d/2*.5522848,_=p/2*.5522848,m=v+d,b=y+p,x=v+d/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-_,x-g,y,x,y),r.bezierCurveTo(x+g,y,m,T-_,m,T),r.bezierCurveTo(m,T+_,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+_,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var w=h.x,E=h.y,O=h.width,S=h.height,M=h.radius,P=Math.min(O,S)/2|0;M=M>P?P:M,r.beginPath(),r.moveTo(w,E+M),r.lineTo(w,E+S-M),r.quadraticCurveTo(w,E+S,w+M,E+S),r.lineTo(w+O-M,E+S),r.quadraticCurveTo(w+O,E+S,w+O,E+S-M),r.lineTo(w+O,E+M),r.quadraticCurveTo(w+O,E,w+O-M,E),r.lineTo(w+M,E),r.quadraticCurveTo(w,E,w,E+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,o.default.registerPlugin("graphics",a)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),f=2*Math.PI/c;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<c+1;x++)_.push(i,u,v,y,g,p),_.push(i+Math.sin(f*x)*h,u+Math.cos(f*x)*l,v,y,g,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c+1;w++)t.points.push(i+Math.sin(f*w)*h,u+Math.cos(f*w)*l);(0,o.default)(t,e,r),t.points=T}};var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n},s=r(0),a=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a,h+f),u(a,h+c-f,a,h+c,a+f,h+c,d),u(a+l-f,h+c,a+l,h+c,a+l,h+c-f,d),u(a+l,h+f,a+l,h,a+l-f,h,d),u(a+f,h,a,h,a,h+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,T=(0,n.default)(d,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var O=0,S=d.length;O<S;O++)m.push(d[O],d[++O],y,g,_,v)}if(t.lineWidth){var M=t.points;t.points=d,(0,i.default)(t,e,r),t.points=M}};var n=s(r(59)),i=s(r(16)),o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,n,v),l=a(r,i,v),c=a(n,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(i,a),v.push(f,d,p,c),v.push(i+u,a),v.push(f,d,p,c),v.push(i,a+h),v.push(f,d,p,c),v.push(i+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=_}};var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n},s=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=(0,o.default)(s,a,2);if(!m)return;for(var b=c.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var T=0;T<d;T++)c.push(s[2*T],s[2*T+1],y,g,_,v)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(16)),i=r(2),o=s(r(59));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(12);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=r(0),o=d(r(19)),s=d(r(18)),a=d(r(139)),u=d(r(138)),h=d(r(137)),l=d(r(136)),c=d(r(135)),f=d(r(134));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(i=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===i.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===i.SHAPES.RECT?(0,l.default)(u,o,s):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],h=0,l=0,c=0,f=0,d=0;u.push(t,e);for(var p=1,v=0;p<=20;++p)c=(l=(h=1-(v=p/20))*h)*h,d=(f=v*v)*v,u.push(c*t+3*l*v*r+3*h*f*i+d*s,c*e+3*l*v*n+3*h*f*o+d*a);return u}},function(t,e,r){"use strict";e.__esModule=!0;var n=p(r(15)),i=p(r(24)),o=p(r(7)),s=p(r(60)),a=p(r(27)),u=r(4),h=r(2),l=r(0),c=p(r(30)),f=p(r(141)),d=p(r(14));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,_=new Float32Array(4),m=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new c.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new u.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,s=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],u=i[i.length-1],h=1;h<=20;++h){var l=h/20;o=a+(t-a)*l,s=u+(e-u)*l,i.push(o+(t+(r-t)*l-o)*l,s+(e+(n-e)*l-s)*l)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,f.default)(a,u,t,e,r,n,i,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=i*Math.sqrt(f)/c,y=i*Math.sqrt(d)/c,g=v*p/f,_=y*p/d,m=v*l+y*u,b=v*h+y*a,x=u*(y+g),T=a*(y+g),w=l*(v+_),E=h*(v+_),O=Math.atan2(T-b,x-m),S=Math.atan2(E-b,w-m);this.arc(m+t,b+e,i,O,S,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=l.PI_2:o&&n<=i&&(n+=l.PI_2);var s=i-n,a=40*Math.ceil(Math.abs(s)/l.PI_2);if(0===s)return this;var u=t+Math.cos(n)*r,h=e+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===h||c.push(u,h):(this.moveTo(u,h),c=this.currentPath.shape.points);for(var f=s/(2*a),d=2*f,p=Math.cos(f),v=Math.sin(f),y=a-1,g=y%1/y,_=0;_<=y;++_){var m=f+n+d*(_+g*_),b=Math.cos(m),x=-Math.sin(m);c.push((p*b+v*x)*r+t,(p*-x+v*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=_,i=m;(0,h.hex2rgb)(this.graphicsData[0].fillColor,n),(0,h.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,h.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(g.x,g.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){if(n.holes[i].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth;if(i=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=i.x-d/2,s=i.y-d/2,a=i.width+d,u=i.height+d,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+d/2,u=i.radius+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+d/2,u=i.height+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,v=0,y=0,g=0,_=0,m=0,b=0,x=0,T=0,w=0;w+2<p.length;w+=2)o=p[w],s=p[w+1],v=p[w+2],y=p[w+3],g=Math.abs(v-o),_=Math.abs(y-s),u=d,(a=Math.sqrt(g*g+_*_))<1e-9||(b=(u/a*g+_)/2,T=(y+s)/2,t=(x=(v+o)/2)-(m=(u/a*_+g)/2)<t?x-m:t,e=x+m>e?x+m:e,r=T-b<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=r-E,this._localBounds.maxY=n+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,n,!0,y);var s=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(n.default);e.default=b,b._SPRITE_TEXTURE=null},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=void 0,u=void 0,h=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%e,h=~~(a/4/e),null===s.top&&(s.top=h),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=h:s.bottom<h&&(s.bottom=h));e=s.right-s.left,r=s.bottom-s.top+1;var l=n.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:l}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=d(r(27)),o=d(r(7)),s=r(4),a=r(2),u=r(0),h=d(r(3)),l=d(r(62)),c=d(r(61)),f=d(r(143));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var a=o.default.fromCanvas(i,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((i+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((o+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],n?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+i;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(h.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/n,r.addColorStop(o,h[p]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=h.length+1,i=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:i/n,r.addColorStop(o,h[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=o.default.createContext(n)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=s.replace(/%forloop%/gi,a(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n,i=r(5),o=(n=i)&&n.__esModule?n:{default:n};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),i=[],a=0;a<e;a++)i[a]=a;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=r(12),o=(n=i)&&n.__esModule?n:{default:n};r(6);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(150),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(0),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(5),o=r(0),s=r(17),a=(n=s)&&n.__esModule?n:{default:n},u=r(2);var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new i.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(t),n[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(13)),i=l(r(17)),o=l(r(63)),s=r(4),a=l(r(12)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(154)),h=l(r(26));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function t(){c(this,t),this.renderTarget=null,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[],this.target=null,this.resolution=1},d=function(t){function e(r){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new f);var s=e[0].resolution,a=0|e[0].padding,u=t.filterArea||t.getBounds(!0),h=o.sourceFrame,l=o.destinationFrame;h.x=(u.x*s|0)/s,h.y=(u.y*s|0)/s,h.width=(u.width*s|0)/s,h.height=(u.height*s|0)/s,n.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(n.stack[0].destinationFrame),h.pad(a),l.width=h.width,l.height=h.height;var c=this.getPotRenderTarget(r.gl,h.width,h.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=c,c.setFrame(l,h),r.bindRenderTarget(c),c.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters,n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var o=(65535&(e=h.default.nextPow2(e*n)))<<16|65535&(r=h.default.nextPow2(r*n));this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=(65535&t.size.width*t.resolution)<<16|65535&t.size.height*t.resolution;this.pool[e].push(t)},e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=s},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=s(t),i=s(e);return Object.assign(n,i)};var n,i=r(5);var o=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function s(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<i.length;s++){var a=i[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(l=(n=l.split(/\[|]/))[0],c*=Number(n[1])),l.match(e)||(r[l]={value:o(h,c),name:l,type:h})}}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(13)),i=o(r(66));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=d(r(19)),i=d(r(18)),o=d(r(22)),s=d(r(147)),a=d(r(146)),u=d(r(145)),h=d(r(3)),l=r(2),c=d(r(5)),f=d(r(26));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=h.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=f.default.nextPow2(n.size);i*=2)n.buffers.push(new u.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),n=f.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,_=0,m=void 0,b=void 0,x=1,T=0,w=s[0],E=void 0,O=void 0,S=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];w.textureCount=0,w.start=0,w.blend=S,p++;var M=void 0;for(M=0;M<e;++M){var P=y[M];P._enabled!==p?(d[M]=P,P._virtalBoundId=M,P._enabled=p):d[M]=this.renderer.emptyTextures[M]}for(p++,M=0;M<this.currentIndex;++M){var C=o[M];m=C._texture.baseTexture;var A=l.premultiplyBlendMode[Number(m.premultipliedAlpha)][C.blendMode];if(S!==A&&(S=A,b=null,T=e,p++),b!==m&&(b=m,m._enabled!==p)){if(T===e&&(p++,w.size=M-w.start,T=0,(w=s[x++]).blend=S,w.textureCount=0,w.start=M),m.touched=g,-1===m._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,m._virtalBoundId=I,d[I]=m;break}}m._enabled=p,w.textureCount++,w.ids[T]=m._virtalBoundId,w.textures[T++]=m}if(E=C.vertexData,O=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[_]=(E[0]*L|0)/L,a[_+1]=(E[1]*L|0)/L,a[_+5]=(E[2]*L|0)/L,a[_+6]=(E[3]*L|0)/L,a[_+10]=(E[4]*L|0)/L,a[_+11]=(E[5]*L|0)/L,a[_+15]=(E[6]*L|0)/L,a[_+16]=(E[7]*L|0)/L}else a[_]=E[0],a[_+1]=E[1],a[_+5]=E[2],a[_+6]=E[3],a[_+10]=E[4],a[_+11]=E[5],a[_+15]=E[6],a[_+16]=E[7];u[_+2]=O[0],u[_+7]=O[1],u[_+12]=O[2],u[_+17]=O[3];var N=Math.min(C.worldAlpha,1),k=N<1&&m.premultipliedAlpha?(0,l.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[_+3]=u[_+8]=u[_+13]=u[_+18]=k,a[_+4]=a[_+9]=a[_+14]=a[_+19]=m._virtalBoundId,_+=20}if(w.size=M-w.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,j=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(j,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(j,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(j,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&B.addAttribute(j,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(M=0;M<e;++M)y[M]._virtalBoundId=-1;for(M=0;M<x;++M){for(var U=s[M],X=U.textureCount,H=0;H<X;H++)b=U.textures[H],y[U.ids[H]]!==b&&this.renderer.bindTexture(b,U.ids[H],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(n.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(0),o=r(67),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,f=s.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,y=f+l,g=c+h/2,_=f+l/2;e.moveTo(c,_),e.bezierCurveTo(c,_-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-p,v,_),e.bezierCurveTo(v,_+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,c,_+p,c,_),e.closePath()}else if(o.type===n.SHAPES.RREC){var m=s.x,b=s.y,x=s.width,T=s.height,w=s.radius,E=Math.min(x,T)/2|0;w=w>E?E:w,e.moveTo(m,b+w),e.lineTo(m,b+T-w),e.quadraticCurveTo(m,b+T,m+w,b+T),e.lineTo(m+x-w,b+T),e.quadraticCurveTo(m+x,b+T,m+x,b+T-w),e.lineTo(m+x,b+w),e.quadraticCurveTo(m+x,b,m+x-w,b),e.lineTo(m+w,b),e.quadraticCurveTo(m,b,m,b+w),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=a(r(14)),i=r(0),o=r(4),s=a(r(23));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=n/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,n.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=a(r(3)),o=r(0),s=a(r(164));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(167),e.encode=e.stringify=r(166)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t,n){var i;!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,T=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(b[t])}function O(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function S(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+O((t=t.replace(m,".")).split("."),e).join(".")}function M(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function P(t){return O(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var n=0;for(t=r?T(t/d):t>>1,t+=T(t/e);t>x*c>>1;n+=h)t=T(t/x);return T(n+(x+1)*t/(t+f))}function R(t){var e,r,n,i,o,s,a,f,d,g,_,m=[],b=t.length,x=0,w=v,O=p;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E("not-basic"),m.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=x,s=1,a=h;i>=b&&E("invalid-input"),((f=(_=t.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h)>=h||f>T((u-x)/s))&&E("overflow"),x+=f*s,!(f<(d=a<=O?l:a>=O+c?c:a-O));a+=h)s>T(u/(g=h-d))&&E("overflow"),s*=g;O=A(x-o,e=m.length+1,0==o),T(x/e)>u-w&&E("overflow"),w+=T(x/e),x%=e,m.splice(x++,0,w)}return P(m)}function I(t){var e,r,n,i,o,s,a,f,d,g,_,m,b,x,O,S=[];for(m=(t=M(t)).length,e=v,r=0,o=p,s=0;s<m;++s)(_=t[s])<128&&S.push(w(_));for(n=i=S.length,i&&S.push(y);n<m;){for(a=u,s=0;s<m;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>T((u-r)/(b=n+1))&&E("overflow"),r+=(a-e)*b,e=a,s=0;s<m;++s)if((_=t[s])<e&&++r>u&&E("overflow"),_==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)O=f-g,x=h-g,S.push(w(C(g+O%x,0))),f=T(O/x);S.push(w(C(f,0))),o=A(r,b,n==i),r=0,++n}++r,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:M,encode:P},decode:R,encode:I,toASCII:function(t){return S(t,function(t){return _.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return S(t,function(t){return g.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(170)(t),r(35))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(0)},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var n,i=r(29),o=(n=i)&&n.__esModule?n:{default:n}},function(t,e,r){t.exports={compileProgram:r(84),defaultValue:r(80),extractAttributes:r(83),extractUniforms:r(81),generateUniformAccessObject:r(78),setPrecision:r(79),mapSize:r(82),mapType:r(31)}},function(t,e,r){var n=r(86);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){var n=r(84),i=r(83),o=r(81),s=r(79),a=r(78),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var n=r(85),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(34),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var i=[],a=0,u=r.length;a<u;a++)i.push(r[a].x,r[a].y);r=i}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(32),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(32),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(35))},function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))i.call(r,h)&&(a[h]=r[h]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";var n,i=r(190),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";r(191),r(189),r(188),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var n=r(192);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(1);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,s=r(131),a=(o=s)&&o.__esModule?o:{default:o},u=g(r(130)),h=g(r(128)),l=g(r(55)),c=g(r(118)),f=g(r(111)),d=g(r(109)),p=g(r(105)),v=g(r(100)),y=g(r(95));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.utils.mixins.performMixins();var _=d.shared||null;e.accessibility=u,e.extract=h,e.extras=l,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=y,e.loader=_,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,r(35))},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){var n,i,o={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,h=0,l=[],c=r(194);function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(_(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(_(n.parts[s],e));o[n.id]={id:n.id,refs:1,parts:a}}}}function d(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function p(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function y(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),p(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function _(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=h++;r=u||(u=y(e)),n=x.bind(null,r,s,!1),i=x.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=c(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,e),i=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=y(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){v(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=d(t,e);return f(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var s=r[i];(a=o[s.id]).refs--,n.push(a)}t&&f(d(t,e),e);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function x(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var s;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(t,e,r){(t.exports=r(196)(!1)).push([t.i,"body {\r\n  background-color: grey;\r\n}\r\n",""])},function(t,e,r){var n=r(197);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(195)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(198);var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(193)),o=u(r(91)),s=u(r(90)),a=(u(r(36)),u(r(89)));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.body_components=a.default.bodies,this.position_components=a.default.positions,this.app=new i.Application({width:400,height:400}),document.body.appendChild(this.app.view),this.update=this.update.bind(this),this.skull=new i.Sprite(i.Texture.fromImage(o.default)),this.skull.x=150,this.skull.y=150,this.skull.tint=16711918,this.skull.anchor=new i.Point(.5,.5),this.sprites={},Object.keys(this.body_components).forEach(function(t){var r=new i.Sprite(i.Texture.fromImage(s.default));r.x=e.position_components[t].x,r.y=e.position_components[t].y,r.width=e.body_components[t].width,r.height=e.body_components[t].height,r.anchor=new i.Point(.5,.5),e.app.stage.addChild(r),e.sprites[t]=r}),this.app.stage.addChild(this.skull),this.app.ticker.add(this.update)}return n(t,[{key:"update",value:function(){var t=this;this.skull.rotation+=.01,Object.keys(this.sprites).forEach(function(e){t.sprites[e].x=t.position_components[e].x,t.sprites[e].y=t.position_components[e].y})}}]),t}();window.addEventListener("load",function(){new h,console.log("lollolololololoo"),window.addEventListener("keydown",function(t){switch(t.keyCode){case 37:console.log("LEFT"),a.default.positions[2].x-=5;break;case 39:console.log("RIGHT"),a.default.positions[2].x+=5}})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvTWVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9TaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1dlYkdMTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkTGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9PYmplY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9CYXNlUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaXQtdHdpZGRsZS90d2lkZGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0JvdW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvbWFwVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9SZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9NYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9Qb2ludC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvbGltaXRlcnMvQ291bnRMaW1pdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL1BsYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL3RleHR1cmVQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvc3ByaXRlc2hlZXRQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvYjY0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wYXJzZS11cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL2JpdG1hcEZvbnRQYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL2ludGVyYWN0aXZlVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25EYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvQmx1cllGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZXRNYXhCbHVyS2VybmVsU2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvQmx1clhGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9hY2Nlc3NpYmxlVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2F1dG9EZXRlY3RSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9BcHBsaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dE1ldHJpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0U3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvU3lzdGVtUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZVV2cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9WaWRlb0Jhc2VUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtU3RhdGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvRGlzcGxheU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9zZXRQcmVjaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2RlZmF1bHRWYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9tYXBTaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9leHRyYWN0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvY29tcGlsZVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NldFZlcnRleEF0dHJpYkFycmF5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL0dyb3VwRDguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9PYnNlcnZhYmxlUG9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvbHBpeGVscy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NrdWxsLnBuZyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9saW1pdGVycy9UaW1lTGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9jYW52YXMvQ2FudmFzUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS93ZWJnbC9XZWJHTFByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy93ZWJnbC9QYXJ0aWNsZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL1BhcnRpY2xlQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvUm9wZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9OaW5lU2xpY2VQbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL3dlYmdsL01lc2hSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL0xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9hbHBoYS9BbHBoYUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ub2lzZS9Ob2lzZUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9meGFhL0ZYQUFGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9nZXRHbG9iYWxQb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2dldENoaWxkQnlOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvY2FjaGVBc0JpdG1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0JpdG1hcFRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL1RpbGluZ1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0FuaW1hdGVkU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L2NhbnZhcy9DYW52YXNFeHRyYWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L3dlYmdsL1dlYkdMRXh0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZGVwcmVjYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvU3ByaXRlc2hlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRDaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUG9seS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9zaGFkZXJzL1ByaW1pdGl2ZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9XZWJHTEdyYXBoaWNzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3V0aWxzL2JlemllckN1cnZlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvdHJpbUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0L1RleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9CYXRjaEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL3ZhbGlkYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1RleHR1cmVNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL0ZpbHRlck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL2ZpbHRlcnMvZXh0cmFjdFVuaWZvcm1zRnJvbVNyYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvTWFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9DYW52YXNNYXNrTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNTcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90aWNrZXIvVGlja2VyTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL1RpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVtb3ZlLWFycmF5LWl0ZW1zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL3BsdWdpblRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9jYW5VcGxvYWRTYW1lQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL1ZlcnRleEFycmF5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMRnJhbWVidWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvR0xCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvY3JlYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL1BvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvRWxsaXBzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL01hdGguc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9PYmplY3QuYXNzaWduLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzPzAyYWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJWRVJTSU9OIiwiUElfMiIsIk1hdGgiLCJQSSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwiUkVOREVSRVJfVFlQRSIsIlVOS05PV04iLCJXRUJHTCIsIkNBTlZBUyIsIkJMRU5EX01PREVTIiwiTk9STUFMIiwiQUREIiwiTVVMVElQTFkiLCJTQ1JFRU4iLCJPVkVSTEFZIiwiREFSS0VOIiwiTElHSFRFTiIsIkNPTE9SX0RPREdFIiwiQ09MT1JfQlVSTiIsIkhBUkRfTElHSFQiLCJTT0ZUX0xJR0hUIiwiRElGRkVSRU5DRSIsIkVYQ0xVU0lPTiIsIkhVRSIsIlNBVFVSQVRJT04iLCJDT0xPUiIsIkxVTUlOT1NJVFkiLCJOT1JNQUxfTlBNIiwiQUREX05QTSIsIlNDUkVFTl9OUE0iLCJEUkFXX01PREVTIiwiUE9JTlRTIiwiTElORVMiLCJMSU5FX0xPT1AiLCJMSU5FX1NUUklQIiwiVFJJQU5HTEVTIiwiVFJJQU5HTEVfU1RSSVAiLCJUUklBTkdMRV9GQU4iLCJTQ0FMRV9NT0RFUyIsIkxJTkVBUiIsIk5FQVJFU1QiLCJXUkFQX01PREVTIiwiQ0xBTVAiLCJSRVBFQVQiLCJNSVJST1JFRF9SRVBFQVQiLCJHQ19NT0RFUyIsIkFVVE8iLCJNQU5VQUwiLCJVUkxfRklMRV9FWFRFTlNJT04iLCJEQVRBX1VSSSIsIlNWR19TSVpFIiwiU0hBUEVTIiwiUE9MWSIsIlJFQ1QiLCJDSVJDIiwiRUxJUCIsIlJSRUMiLCJQUkVDSVNJT04iLCJMT1ciLCJNRURJVU0iLCJISUdIIiwiVFJBTlNGT1JNX01PREUiLCJTVEFUSUMiLCJEWU5BTUlDIiwiVEVYVF9HUkFESUVOVCIsIkxJTkVBUl9WRVJUSUNBTCIsIkxJTkVBUl9IT1JJWk9OVEFMIiwiVVBEQVRFX1BSSU9SSVRZIiwiSU5URVJBQ1RJT04iLCJVVElMSVRZIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiQXBwbGljYXRpb24iLCJGaWx0ZXIiLCJTcHJpdGVNYXNrRmlsdGVyIiwiUXVhZCIsIlJlbmRlclRhcmdldCIsIk9iamVjdFJlbmRlcmVyIiwiV2ViR0xNYW5hZ2VyIiwiU2hhZGVyIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwiVGV4dHVyZVV2cyIsIlZpZGVvQmFzZVRleHR1cmUiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJCYXNlVGV4dHVyZSIsIlRleHR1cmVNYXRyaXgiLCJUZXh0dXJlIiwiU3ByaXRlc2hlZXQiLCJDYW52YXNHcmFwaGljc1JlbmRlcmVyIiwiR3JhcGhpY3NSZW5kZXJlciIsIkdyYXBoaWNzRGF0YSIsIkdyYXBoaWNzIiwiVGV4dE1ldHJpY3MiLCJUZXh0U3R5bGUiLCJUZXh0IiwiU3ByaXRlUmVuZGVyZXIiLCJDYW52YXNUaW50ZXIiLCJDYW52YXNTcHJpdGVSZW5kZXJlciIsIlNwcml0ZSIsIlRyYW5zZm9ybUJhc2UiLCJUcmFuc2Zvcm1TdGF0aWMiLCJUcmFuc2Zvcm0iLCJDb250YWluZXIiLCJEaXNwbGF5T2JqZWN0IiwiQm91bmRzIiwiZ2xDb3JlIiwiV2ViR0xSZW5kZXJlciIsIkNhbnZhc1JlbmRlcmVyIiwidGlja2VyIiwidXRpbHMiLCJzZXR0aW5ncyIsInVuZGVmaW5lZCIsIl9jb25zdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwiX21hdGgiLCJfcGl4aUdsQ29yZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJkZWZhdWx0IiwiX0JvdW5kcyIsIl9EaXNwbGF5T2JqZWN0IiwiX0NvbnRhaW5lciIsIl9UcmFuc2Zvcm0iLCJfVHJhbnNmb3JtU3RhdGljIiwiX1RyYW5zZm9ybUJhc2UiLCJfU3ByaXRlIiwiX0NhbnZhc1Nwcml0ZVJlbmRlcmVyIiwiX0NhbnZhc1RpbnRlciIsIl9TcHJpdGVSZW5kZXJlciIsIl9UZXh0IiwiX1RleHRTdHlsZSIsIl9UZXh0TWV0cmljcyIsIl9HcmFwaGljcyIsIl9HcmFwaGljc0RhdGEiLCJfR3JhcGhpY3NSZW5kZXJlciIsIl9DYW52YXNHcmFwaGljc1JlbmRlcmVyIiwiX1Nwcml0ZXNoZWV0IiwiX1RleHR1cmUiLCJfVGV4dHVyZU1hdHJpeCIsIl9CYXNlVGV4dHVyZSIsIl9SZW5kZXJUZXh0dXJlIiwiX0Jhc2VSZW5kZXJUZXh0dXJlIiwiX1ZpZGVvQmFzZVRleHR1cmUiLCJfVGV4dHVyZVV2cyIsIl9DYW52YXNSZW5kZXJUYXJnZXQiLCJfU2hhZGVyIiwiX1dlYkdMTWFuYWdlciIsIl9PYmplY3RSZW5kZXJlciIsIl9SZW5kZXJUYXJnZXQiLCJfUXVhZCIsIl9TcHJpdGVNYXNrRmlsdGVyIiwiX0ZpbHRlciIsIl9BcHBsaWNhdGlvbiIsIl9hdXRvRGV0ZWN0UmVuZGVyZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9zZXR0aW5nczIiLCJfQ2FudmFzUmVuZGVyZXIyIiwiX1dlYkdMUmVuZGVyZXIyIiwib2JqIiwibmV3T2JqIiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwibWl4aW5zIiwicGx1Z2luVGFyZ2V0IiwiRXZlbnRFbWl0dGVyIiwicmVtb3ZlSXRlbXMiLCJpc01vYmlsZSIsInVpZCIsIm5leHRVaWQiLCJoZXgycmdiIiwiaGV4Iiwib3V0IiwiaGV4MnN0cmluZyIsInRvU3RyaW5nIiwic3Vic3RyIiwibGVuZ3RoIiwicmdiMmhleCIsInJnYiIsImdldFJlc29sdXRpb25PZlVybCIsInVybCIsImRlZmF1bHRWYWx1ZSIsInJlc29sdXRpb24iLCJSRVRJTkFfUFJFRklYIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJkZWNvbXBvc2VEYXRhVXJpIiwiZGF0YVVyaSIsImRhdGFVcmlNYXRjaCIsIm1lZGlhVHlwZSIsInRvTG93ZXJDYXNlIiwic3ViVHlwZSIsImVuY29kaW5nIiwiZGF0YSIsImdldFVybEZpbGVFeHRlbnNpb24iLCJleHRlbnNpb24iLCJnZXRTdmdTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwic2l6ZSIsInJvdW5kIiwic2tpcEhlbGxvIiwic2FpZEhlbGxvIiwic2F5SGVsbG8iLCJ0eXBlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImFyZ3MiLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIiwiYXBwbHkiLCJpc1dlYkdMU3VwcG9ydGVkIiwiY29udGV4dE9wdGlvbnMiLCJzdGVuY2lsIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdsIiwiZ2V0Q29udGV4dCIsInN1Y2Nlc3MiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImxvc2VDb250ZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiZSIsInNpZ24iLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiZGVzdHJveSIsImNsZWFyVGV4dHVyZUNhY2hlIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiYWxwaGEiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVJnYmEiLCJwcmVtdWx0aXBseSIsIkZsb2F0MzJBcnJheSIsInByZW11bHRpcGx5VGludFRvUmdiYSIsIl9ldmVudGVtaXR0ZXIyIiwiX3BsdWdpblRhcmdldDIiLCJfcmVtb3ZlQXJyYXlJdGVtczIiLCJfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyIiwiY3JlYXRlIiwiX21heFJlY29tbWVuZGVkVGV4dHVyZXMyIiwiX2NhblVwbG9hZFNhbWVCdWZmZXIyIiwiVEFSR0VUX0ZQTVMiLCJNSVBNQVBfVEVYVFVSRVMiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvUmVzaXplIiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInJvdW5kUGl4ZWxzIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJNRVNIX0NBTlZBU19QQURESU5HIiwiX1BvaW50IiwiX09ic2VydmFibGVQb2ludCIsIl9NYXRyaXgiLCJfR3JvdXBEIiwiX0NpcmNsZSIsIl9FbGxpcHNlIiwiX1BvbHlnb24iLCJfUmVjdGFuZ2xlIiwiX1JvdW5kZWRSZWN0YW5nbGUiLCJjcmVhdGVDb250ZXh0Iiwic2V0VmVydGV4QXR0cmliQXJyYXlzIiwiR0xCdWZmZXIiLCJHTEZyYW1lYnVmZmVyIiwiR0xTaGFkZXIiLCJHTFRleHR1cmUiLCJWZXJ0ZXhBcnJheU9iamVjdCIsInNoYWRlciIsIlBJWEkiLCJwcm9jZXNzIiwibm9ybWFsaXplQXJyYXkiLCJwYXJ0cyIsImFsbG93QWJvdmVSb290IiwidXAiLCJsYXN0Iiwic3BsaWNlIiwidW5zaGlmdCIsInNwbGl0UGF0aFJlIiwic3BsaXRQYXRoIiwiZmlsZW5hbWUiLCJzbGljZSIsImZpbHRlciIsInhzIiwiZiIsInJlcyIsInB1c2giLCJyZXNvbHZlIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsImFyZ3VtZW50cyIsInBhdGgiLCJjd2QiLCJUeXBlRXJyb3IiLCJjaGFyQXQiLCJzcGxpdCIsImpvaW4iLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInBhdGhzIiwiQXJyYXkiLCJpbmRleCIsInJlbGF0aXZlIiwiZnJvbSIsInRvIiwidHJpbSIsImFyciIsInN0YXJ0IiwiZW5kIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsIm1pbiIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwiY29uY2F0Iiwic2VwIiwiZGVsaW1pdGVyIiwiZGlybmFtZSIsInJlc3VsdCIsInJvb3QiLCJkaXIiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLCJzdHIiLCJsZW4iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9CYXNlVGV4dHVyZTIiLCJfVmlkZW9CYXNlVGV4dHVyZTIiLCJfVGV4dHVyZVV2czIiLCJfdXRpbHMiLCJfRXZlbnRFbWl0dGVyIiwiYmFzZVRleHR1cmUiLCJmcmFtZSIsIm9yaWciLCJyb3RhdGUiLCJpbnN0YW5jZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGhpcyIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwibm9GcmFtZSIsIlJlY3RhbmdsZSIsIl9mcmFtZSIsInZhbGlkIiwicmVxdWlyZXNVcGRhdGUiLCJfdXZzIiwiX3JvdGF0ZSIsIk51bWJlciIsIkVycm9yIiwiaGFzTG9hZGVkIiwib24iLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsIm9uY2UiLCJvbkJhc2VUZXh0dXJlTG9hZGVkIiwiX3VwZGF0ZUlEIiwidHJhbnNmb3JtIiwidGV4dHVyZUNhY2hlSWRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInVwZGF0ZSIsImVtaXQiLCJkZXN0cm95QmFzZSIsImltYWdlVXJsIiwicmVtb3ZlRnJvbUNhY2hlIiwib2ZmIiwiY2xvbmUiLCJfdXBkYXRlVXZzIiwic2V0IiwiZnJvbUltYWdlIiwiY3Jvc3NvcmlnaW4iLCJzY2FsZU1vZGUiLCJzb3VyY2VTY2FsZSIsInRleHR1cmUiLCJhZGRUb0NhY2hlIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21DYW52YXMiLCJvcmlnaW4iLCJmcm9tVmlkZW8iLCJ2aWRlbyIsImZyb21WaWRlb1VybCIsInZpZGVvVXJsIiwiZnJvbVVybCIsInNvdXJjZSIsIm1hdGNoIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxDYW52YXNFbGVtZW50IiwiSFRNTFZpZGVvRWxlbWVudCIsImZyb21Mb2FkZXIiLCJpZCIsIndhcm4iLCJ0ZXh0dXJlRnJvbUNhY2hlIiwieCIsInkiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiRU1QVFkiLCJXSElURSIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiZXZlbnQiLCJleGlzdHMiLCJldnQiLCJhdmFpbGFibGUiLCJlZSIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJyZW1vdmVMaXN0ZW5lciIsImoiLCJsaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImFkZExpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwicHJlZml4ZWQiLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yIiwiX2JpdFR3aWRkbGUyIiwidG91Y2hlZCIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJpc0xvYWRpbmciLCJvcmlnU291cmNlIiwiaW1hZ2VUeXBlIiwicHJlbXVsdGlwbGllZEFscGhhIiwiaXNQb3dlck9mVHdvIiwibWlwbWFwIiwid3JhcE1vZGUiLCJfZ2xUZXh0dXJlcyIsIl9lbmFibGVkIiwiX3ZpcnRhbEJvdW5kSWQiLCJfZGVzdHJveWVkIiwibG9hZFNvdXJjZSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJfdXBkYXRlRGltZW5zaW9ucyIsImlzUG93MiIsIndhc0xvYWRpbmciLCJvbmxvYWQiLCJvbmVycm9yIiwiZmlyc3RTb3VyY2VMb2FkZWQiLCJzcmMiLCJjb21wbGV0ZSIsIl91cGRhdGVJbWFnZVR5cGUiLCJfbG9hZFN2Z1NvdXJjZSIsIl9zb3VyY2VMb2FkZWQiLCJzY29wZSIsImZpcnN0U3ViVHlwZSIsIl9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpIiwiX2xvYWRTdmdTb3VyY2VVc2luZ1hociIsImF0b2IiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nIiwiX3RoaXMyIiwic3ZnWGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWFkeVN0YXRlIiwiRE9ORSIsInN0YXR1cyIsInJlc3BvbnNlIiwib3BlbiIsInNlbmQiLCJzdmdTaXplIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJfcGl4aUlkIiwiZHJhd0ltYWdlIiwiaXNDb2Nvb25KUyIsImRpc3Bvc2UiLCJ1cGRhdGVTb3VyY2VJbWFnZSIsIm5ld1NyYyIsImltYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiY29yZSIsIl9UZXh0dXJlMiIsInRlbXBQb2ludCIsIlBvaW50IiwidGVtcFBvbHlnb24iLCJQb2x5Z29uIiwiTWVzaCIsIl9jb3JlJENvbnRhaW5lciIsInZlcnRpY2VzIiwidXZzIiwiaW5kaWNlcyIsImRyYXdNb2RlIiwiX3RleHR1cmUiLCJVaW50MTZBcnJheSIsImRpcnR5IiwiaW5kZXhEaXJ0eSIsImNhbnZhc1BhZGRpbmciLCJUUklBTkdMRV9NRVNIIiwidGludFJnYiIsIl9nbERhdGFzIiwiX3V2VHJhbnNmb3JtIiwidXBsb2FkVXZUcmFuc2Zvcm0iLCJwbHVnaW5OYW1lIiwiX3JlbmRlcldlYkdMIiwicmVuZGVyZXIiLCJyZWZyZXNoIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJwbHVnaW5zIiwicmVuZGVyIiwiX3JlbmRlckNhbnZhcyIsIl9vblRleHR1cmVVcGRhdGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwiX3JlZnJlc2giLCJfY2FsY3VsYXRlQm91bmRzIiwiX2JvdW5kcyIsImFkZFZlcnRpY2VzIiwiY29udGFpbnNQb2ludCIsInBvaW50IiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJ3b3JsZFRyYW5zZm9ybSIsImFwcGx5SW52ZXJzZSIsInBvaW50cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJMb2FkZXIiLCJSZXNvdXJjZSIsImFzeW5jIiwiYjY0IiwiYmFzZTY0IiwiX3NldHRpbmdzIiwiY2hlY2tQcmVjaXNpb24iLCJkZWYiLCJzdWJzdHJpbmciLCJjb3B5IiwiX0dMU2hhZGVyIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJwcmVjaXNpb24iLCJvbkNvbnRleHRDaGFuZ2UiLCJfU3lzdGVtUmVuZGVyZXIzIiwiX0NhbnZhc01hc2tNYW5hZ2VyMiIsIl9DYW52YXNSZW5kZXJUYXJnZXQyIiwiX21hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkyIiwiX1N5c3RlbVJlbmRlcmVyIiwib3B0aW9ucyIsImFyZzIiLCJhcmczIiwicm9vdENvbnRleHQiLCJtYXNrTWFuYWdlciIsInNtb290aFByb3BlcnR5IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwib0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW5pdFBsdWdpbnMiLCJibGVuZE1vZGVzIiwiX2FjdGl2ZUJsZW5kTW9kZSIsInJlbmRlcmluZ1RvU2NyZWVuIiwicmVzaXplIiwiZGlzcGxheU9iamVjdCIsInJlbmRlclRleHR1cmUiLCJjbGVhciIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJyb290UmVzb2x1dGlvbiIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiY2FjaGVQYXJlbnQiLCJwYXJlbnQiLCJ0ZW1wV3QiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfd29ybGRJRCIsImlkZW50aXR5IiwidXBkYXRlVHJhbnNmb3JtIiwic2F2ZSIsInNldFRyYW5zZm9ybSIsImdsb2JhbEFscGhhIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic2NyZWVuY2FudmFzIiwiY2xlYXJSZWN0IiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRlbXBDb250ZXh0IiwicmVuZGVyQ2FudmFzIiwicmVzdG9yZSIsImNsZWFyQ29sb3IiLCJzZXRCbGVuZE1vZGUiLCJyZW1vdmVWaWV3IiwiZGVzdHJveVBsdWdpbnMiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImludmFsaWRhdGVCbGVuZE1vZGUiLCJtaXhpbiIsIl9EaXNwbGF5T2JqZWN0MiIsImNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImFkZENoaWxkIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJyZW1vdmVDaGlsZCIsIl9wYXJlbnRJRCIsIl9ib3VuZHNJRCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJiZWdpbiIsInJhbmdlIiwicmVtb3ZlZCIsIl9pIiwiUmFuZ2VFcnJvciIsIndvcmxkQWxwaGEiLCJ2aXNpYmxlIiwiY2FsY3VsYXRlQm91bmRzIiwicmVuZGVyYWJsZSIsIl9tYXNrIiwiYWRkQm91bmRzTWFzayIsImZpbHRlckFyZWEiLCJhZGRCb3VuZHNBcmVhIiwiYWRkQm91bmRzIiwiX2xhc3RCb3VuZHNJRCIsInJlbmRlcldlYkdMIiwiX2ZpbHRlcnMiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiZmx1c2giLCJmaWx0ZXJzIiwibWFzayIsIl9lbmFibGVkRmlsdGVycyIsImVuYWJsZWQiLCJmaWx0ZXJNYW5hZ2VyIiwicHVzaEZpbHRlciIsInB1c2hNYXNrIiwiX2kyIiwicG9wTWFzayIsInBvcEZpbHRlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwic2NhbGUiLCJnZXRMb2NhbEJvdW5kcyIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJncmFwaGljc0RhdGEiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsIm5hdGl2ZUxpbmVzIiwidmVydHMiLCJjb2xvciIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImciLCJiIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwiYnVpbGROYXRpdmVMaW5lIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsInBvcCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwibGluZVdpZHRoIiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJzcXJ0IiwiYjEiLCJjMSIsImIyIiwiYzIiLCJkZW5vbSIsImFicyIsInB4IiwicHkiLCJwZGlzdCIsImJ1aWxkTGluZSIsImZyYW1lQnVmZmVyIiwicHJvamVjdGlvbk1hdHJpeCIsIk1hdHJpeCIsImRlZmF1bHRGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJzb3VyY2VGcmFtZSIsInN0ZW5jaWxCdWZmZXIiLCJzdGVuY2lsTWFza1N0YWNrIiwiZmlsdGVyRGF0YSIsImZyYW1lYnVmZmVyIiwiY3JlYXRlUkdCQSIsImVuYWJsZU5lYXJlc3RTY2FsaW5nIiwiZW5hYmxlTGluZWFyU2NhbGluZyIsInNldEZyYW1lIiwiY2MiLCJhdHRhY2hTdGVuY2lsQnVmZmVyIiwiZW5hYmxlU3RlbmNpbCIsImFjdGl2YXRlIiwiYmluZCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJhcHBlbmQiLCJlbmFibGUiLCJTQ0lTU09SX1RFU1QiLCJzY2lzc29yIiwiZGlzYWJsZSIsInZpZXdwb3J0IiwicG0iLCJhIiwidHgiLCJ0eSIsInByb2plY3Rpb25GcmFtZSIsIl9NYXNrTWFuYWdlcjIiLCJfU3RlbmNpbE1hbmFnZXIyIiwiX0ZpbHRlck1hbmFnZXIyIiwiX1JlbmRlclRhcmdldDIiLCJfT2JqZWN0UmVuZGVyZXIyIiwiX1RleHR1cmVNYW5hZ2VyMiIsIl9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIiLCJfV2ViR0xTdGF0ZTIiLCJfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyIiwiX3ZhbGlkYXRlQ29udGV4dDIiLCJfcGl4aUdsQ29yZTIiLCJDT05URVhUX1VJRCIsIkZPUkNFX05BVElWRSIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jb250ZXh0T3B0aW9ucyIsInBvd2VyUHJlZmVyZW5jZSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwic3RlbmNpbE1hbmFnZXIiLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwidGV4dHVyZU1hbmFnZXIiLCJzdGF0ZSIsImJvdW5kVGV4dHVyZXMiLCJfYWN0aXZlU2hhZGVyIiwiX2FjdGl2ZVZhbyIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJfaW5pdENvbnRleHQiLCJkcmF3TW9kZXMiLCJfbmV4dFRleHR1cmVMb2NhdGlvbiIsImlzQ29udGV4dExvc3QiLCJyZXN0b3JlQ29udGV4dCIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwidGV4dHVyZUdDIiwicmVzZXRUb0RlZmF1bHQiLCJyb290UmVuZGVyVGFyZ2V0IiwiYmluZFJlbmRlclRhcmdldCIsImVtcHR5R0xUZXh0dXJlIiwiZnJvbURhdGEiLCJ0ZW1wT2JqIiwiZW1wdHkiLCJiaW5kVGV4dHVyZSIsInNjcmVlbiIsImJpbmRSZW5kZXJUZXh0dXJlIiwib2JqZWN0UmVuZGVyZXIiLCJzdG9wIiwidW5pZm9ybXMiLCJ0b0FycmF5IiwibWF0cml4IiwiY2xlYXJSZW5kZXJUZXh0dXJlIiwicmVuZGVyVGFyZ2V0IiwiX2dsUmVuZGVyVGFyZ2V0cyIsInVwZGF0ZVRleHR1cmUiLCJ1bmJpbmRUZXh0dXJlIiwic2V0TWFza1N0YWNrIiwiYmluZFNoYWRlciIsImF1dG9Qcm9qZWN0IiwibG9jYXRpb24iLCJmb3JjZUxvY2F0aW9uIiwiY291bnQiLCJnbFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJURVhUVVJFXzJEIiwiY3JlYXRlVmFvIiwiYXR0cmliU3RhdGUiLCJiaW5kVmFvIiwidmFvIiwidW5iaW5kIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUFsbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1c2VQcm9ncmFtIiwiX1dlYkdMTWFuYWdlcjIiLCJfQ291bnRMaW1pdGVyIiwiX0NvdW50TGltaXRlcjIiLCJTaGFyZWRUaWNrZXIiLCJzaGFyZWQiLCJVUExPQURTX1BFUl9GUkFNRSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJxdWV1ZSIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsInVwbG9hZCIsIml0ZW0iLCJkb25lIiwiYWRkIiwiYWRkT25jZSIsInRpY2siLCJzZXRUaW1lb3V0IiwiYmVnaW5GcmFtZSIsImFsbG93ZWRUb1VwbG9hZCIsInVwbG9hZGVkIiwic2hpZnQiLCJfbGVuIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJyZW1vdmUiLCJfdGV4dHVyZXMiLCJoZWxwZXIiLCJ1cGRhdGVUZXh0IiwiZm9udCIsInRvRm9udFN0cmluZyIsIm1lYXN1cmVGb250Iiwic3R5bGUiLCJfcGFyc2VVcmkyIiwiX21pbmlTaWduYWxzMiIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwidGVtcEFuY2hvciIsIl9ub29wIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsImVycm9yIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX29uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwiX2JvdW5kWGRyT25UaW1lb3V0IiwiX3hkck9uVGltZW91dCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiaXNDb21wbGV0ZSIsIkNPTVBMRVRFIiwiTE9BRElORyIsImRpc3BhdGNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImxvYWQiLCJjYiIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsImZsYWciLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQXJyYXkiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsImFwcGVuZENoaWxkIiwiX2NyZWF0ZVNvdXJjZSIsIl9taW1lVHlwZXMiLCJfZGV0ZXJtaW5lWGhyVHlwZSIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInRpbWVvdXQiLCJtaW1lIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzVGV4dCIsInRleHQiLCJyZXNwb25zZVRleHQiLCJCVUZGRVIiLCJwYXJzZSIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRpdiIsImlubmVySFRNTCIsIlhNTCIsInJlc3BvbnNlVVJMIiwibG9jIiwiaHJlZiIsInNhbWVQb3J0Iiwic3RyaWN0TW9kZSIsInBvcnQiLCJwcm90b2NvbCIsImhvc3QiLCJob3N0bmFtZSIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwibGFzdEluZGV4T2YiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJtYXAiLCJ2YWwiLCJyZXBsYWNlIiwiTk9ORSIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsInN2ZyIsInN2Zyt4bWwiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsInRvdGFsSW5kaWNlcyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzIiwiZ2V0VGludGVkVGV4dHVyZSIsInNwcml0ZSIsInN0cmluZ0NvbG9yIiwicm91bmRDb2xvciIsInRpbnRDYWNoZSIsImNhY2hlZFRleHR1cmUiLCJ0aW50SWQiLCJ0aW50TWV0aG9kIiwiY29udmVydFRpbnRUb0ltYWdlIiwidGludEltYWdlIiwidG9EYXRhVVJMIiwidGludFdpdGhNdWx0aXBseSIsImNyb3AiLCJjZWlsIiwidGludFdpdGhPdmVybGF5IiwidGludFdpdGhQZXJQaXhlbCIsInJnYlZhbHVlcyIsInBpeGVsRGF0YSIsImdldEltYWdlRGF0YSIsInBpeGVscyIsInB1dEltYWdlRGF0YSIsImNhY2hlU3RlcHNQZXJDb2xvckNoYW5uZWwiLCJjYW5Vc2VNdWx0aXBseSIsIl9CYXNlUmVuZGVyVGV4dHVyZTIiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSIsIlRpY2tlciIsIl9UaWNrZXIiLCJfVGlja2VyMiIsImF1dG9TdGFydCIsImNvdW50VHJhaWxpbmdaZXJvcyIsInYiLCJJTlRfQklUUyIsIklOVF9NQVgiLCJJTlRfTUlOIiwibWF4IiwibG9nMiIsImxvZzEwIiwicG9wQ291bnQiLCJuZXh0UG93MiIsInByZXZQb3cyIiwicGFyaXR5IiwiUkVWRVJTRV9UQUJMRSIsInRhYiIsInJldmVyc2UiLCJpbnRlcmxlYXZlMiIsImRlaW50ZXJsZWF2ZTIiLCJpbnRlcmxlYXZlMyIsInoiLCJkZWludGVybGVhdmUzIiwibmV4dENvbWJpbmF0aW9uIiwidCIsIl9Db250YWluZXIzIiwiX2FuY2hvciIsIk9ic2VydmFibGVQb2ludCIsIl9vbkFuY2hvclVwZGF0ZSIsIl90aW50IiwiX3RpbnRSR0IiLCJjYWNoZWRUaW50IiwidmVydGV4RGF0YSIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybUlEIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsImNhbGN1bGF0ZVZlcnRpY2VzIiwid3QiLCJhbmNob3IiLCJ3MCIsIncxIiwiaDAiLCJoMSIsIl94IiwiX3kiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJhZGRRdWFkIiwicmVjdCIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJfbG9jYWxCb3VuZHNSZWN0IiwiZ2V0UmVjdGFuZ2xlIiwieDEiLCJ5MSIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsImltYWdlSWQiLCJsb2NhbFRyYW5zZm9ybSIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJsdCIsInVwZGF0ZVdvcmxkVHJhbnNmb3JtIiwiSURFTlRJVFkiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJnbG9iYWwiLCJhcHBsZV9waG9uZSIsImFwcGxlX2lwb2QiLCJhcHBsZV90YWJsZXQiLCJhbmRyb2lkX3Bob25lIiwiYW5kcm9pZF90YWJsZXQiLCJhbWF6b25fcGhvbmUiLCJhbWF6b25fdGFibGV0Iiwid2luZG93c19waG9uZSIsIndpbmRvd3NfdGFibGV0Iiwib3RoZXJfYmxhY2tiZXJyeSIsIm90aGVyX2JsYWNrYmVycnlfMTAiLCJvdGhlcl9vcGVyYSIsIm90aGVyX2Nocm9tZSIsIm90aGVyX2ZpcmVmb3giLCJzZXZlbl9pbmNoIiwiSXNNb2JpbGVDbGFzcyIsImluc3RhbnRpYXRlIiwiUmVnRXhwIiwicmVnZXgiLCJ0ZXN0IiwidWEiLCJ0bXAiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiSU0iLCJDbGFzcyIsIkluZmluaXR5IiwiaXNFbXB0eSIsInVwZGF0ZUlEIiwiYWRkUG9pbnQiLCJhZGRGcmFtZSIsIngwIiwieTAiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsInJhd1giLCJyYXdZIiwiYm91bmRzIiwiX21pblgiLCJfbWluWSIsIl9tYXhYIiwiX21heFkiLCJhcmVhIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVQiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsInR5cGVOYW1lcyIsInRuIiwicmVjdGFuZ2xlIiwicGFkIiwicGFkZGluZ1giLCJwYWRkaW5nWSIsImZpdCIsImVubGFyZ2UiLCJ4MiIsInkyIiwiX1BvaW50MiIsImFycmF5IiwiZnJvbUFycmF5IiwidHJhbnNwb3NlIiwicG9zIiwibmV3UG9zIiwidHJhbnNsYXRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJ0eDEiLCJkMSIsInBpdm90WCIsInBpdm90WSIsInNjYWxlWCIsInNjYWxlWSIsInJvdGF0aW9uIiwic2tld1giLCJza2V3WSIsInNyIiwiY3IiLCJjeSIsInN5IiwibnN4IiwiY3giLCJwcmVwZW5kIiwiZGVjb21wb3NlIiwiYXRhbjIiLCJza2V3IiwicG9zaXRpb24iLCJpbnZlcnQiLCJlcXVhbHMiLCJGdW5jdGlvbiIsImV2YWwiLCJCR19DT0xPUiIsIldPUkxEX1dJRFRIIiwiV09STERfSEVJR0hUIiwiQkFMTF9XSURUSCIsIkJBTExfSEVJR0hUIiwiUEFERExFX1dJRFRIIiwiUEFERExFX0hFSUdIVCIsIlBBRERMRV8xX1BPU0lUSU9OIiwiWCIsIlkiLCJQQURETEVfMl9QT1NJVElPTiIsIkJBTExfUE9TSVRJT04iLCJDb3VudExpbWl0ZXIiLCJtYXhJdGVtc1BlckZyYW1lIiwiaXRlbXNMZWZ0IiwiX01lc2gyIiwiX01lc2gzIiwiUGxhbmUiLCJfTWVzaCIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsIl9yZWFkeSIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiY29sb3JzIiwicmVzb3VyY2UiLCJuZXh0IiwiX3Jlc291cmNlTG9hZGVyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJmcmFtZXMiLCJyZXNvdXJjZXMiLCJsb2FkT3B0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJwYXJlbnRSZXNvdXJjZSIsInJlc291cmNlUGF0aCIsImdldFJlc291cmNlUGF0aCIsImJhc2VVcmwiLCJzcHJpdGVzaGVldCIsIl9jb3JlIiwidGV4dHVyZXMiLCJfdXJsIiwiX3VybDIiLCJtZXRhIiwiZW5jb2RlQmluYXJ5IiwiaW5wdXQiLCJvdXRwdXQiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiY2hhckNvZGVBdCIsInBhZGRpbmdCeXRlcyIsIl9qbngiLCJfa2V5U3RyIiwib25seU9uY2UiLCJjYWxsRm4iLCJlYWNoU2VyaWVzIiwiaXRlcmF0b3IiLCJjYWxsYmFjayIsImRlZmVyTmV4dCIsImVyciIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsInEiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImJ1ZmZlciIsImRyYWluIiwic3RhcnRlZCIsInBhdXNlZCIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsIl9uZXh0IiwicnVubmluZyIsImlkbGUiLCJwYXVzZSIsInJlc3VtZSIsInciLCJpbnNlcnRBdEZyb250Iiwib3B0cyIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRBdHRyaWJ1dGUiLCJ4bWxVcmwiLCJ0ZXh0dXJlVXJsIiwiX2V4dHJhcyIsImJpdG1hcEZvbnQiLCJCaXRtYXBUZXh0IiwicmVnaXN0ZXJGb250IiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwiaGl0QXJlYSIsImJ1dHRvbk1vZGUiLCJjdXJzb3IiLCJ0cmFja2VkUG9pbnRlcnMiLCJfdHJhY2tlZFBvaW50ZXJzIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJwb2ludGVySWQiLCJfcG9pbnRlcklkIiwiRkxBR1MiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJfcmVzZXQiLCJJbnRlcmFjdGlvbkRhdGEiLCJvcmlnaW5hbEV2ZW50IiwiaWRlbnRpZmllciIsImlzUHJpbWFyeSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJfY29weUV2ZW50IiwiX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyIiwiX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyIiwiX2dldE1heEJsdXJLZXJuZWxTaXplMiIsIkJsdXJZRmlsdGVyIiwiX2NvcmUkRmlsdGVyIiwic3RyZW5ndGgiLCJxdWFsaXR5Iiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJmcmFnU3JjIiwiX3F1YWxpdHkiLCJmaXJzdFJ1biIsInBhc3NlcyIsImFwcGx5RmlsdGVyIiwiZ2V0UmVuZGVyVGFyZ2V0IiwiZmxpcCIsImZsb3AiLCJ0ZW1wIiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwicGFkZGluZyIsIm1heFZhcnlpbmdzIiwiTUFYX1ZBUllJTkdfVkVDVE9SUyIsImtlcm5lbCIsIkdBVVNTSUFOX1ZBTFVFUyIsImhhbGZMZW5ndGgiLCJmcmFnU291cmNlIiwiZnJhZ1RlbXBsYXRlIiwiYmx1ckxvb3AiLCJibHVyIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwidmVydFNvdXJjZSIsInZlcnRUZW1wbGF0ZSIsInRlbXBsYXRlIiwiQmx1clhGaWx0ZXIiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsIlRpbGluZ1Nwcml0ZSIsIkFuaW1hdGVkU3ByaXRlIiwiX0FuaW1hdGVkU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZSIsIl9UaWxpbmdTcHJpdGVSZW5kZXJlciIsIl9CaXRtYXBUZXh0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYXJnMSIsImZvcmNlQ2FudmFzIiwiX0NvbnRhaW5lcjIiLCJfdGlja2VyIiwiYXJnNCIsImFyZzUiLCJhc3NpZ24iLCJzaGFyZWRUaWNrZXIiLCJfb3B0aW9ucyIsInNoYXJlZExvYWRlciIsInN0YWdlIiwib2xkVGlja2VyIiwiZWFyY3V0IiwiaG9sZUluZGljZXMiLCJkaW0iLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJsaXN0Iiwic3RlaW5lciIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiZWFyY3V0TGlua2VkIiwiY2xvY2t3aXNlIiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJwcmV2IiwiZWFyIiwicGFzcyIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJoeCIsImh5IiwicXgiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJhbiIsImJwIiwic3VtIiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsImZpbGxDb2xvciIsImZpbGxBbHBoYSIsImZpbGwiLCJzaGFwZSIsIl9saW5lVGludCIsIl9maWxsVGludCIsImFkZEhvbGUiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJsaW5lSGVpZ2h0IiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIndvcmRXcmFwIiwiX2NhbnZhcyIsImxldHRlclNwYWNpbmciLCJzdHJva2VUaGlja25lc3MiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZm9udFNpemUiLCJsZWFkaW5nIiwiZmlyc3RDaGFyIiwid29yZFdyYXBXaWR0aCIsImNoYXJhY3RlckNhY2hlIiwic3BhY2VMZWZ0Iiwid29yZHMiLCJ3b3JkV2lkdGgiLCJicmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlciIsImNoYXJhY3RlcldpZHRoIiwid29yZFdpZHRoV2l0aFNwYWNlIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwiYmFzZWxpbmUiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImxpbmUiLCJpZHgiLCJhc2NlbnQiLCJfaiIsImRlc2NlbnQiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZmlsbEdyYWRpZW50VHlwZSIsImZpbGxHcmFkaWVudFN0b3BzIiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsInN0cm9rZSIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJjbG9uZWRQcm9wZXJ0aWVzIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsInByb3AiLCJfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiIsImludGVybGVhdmVkIiwidmVydGV4QnVmZmVyIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwiU1RBVElDX0RSQVciLCJpbmRleEJ1ZmZlciIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5pdFZhbyIsImFkZEluZGV4IiwiYWRkQXR0cmlidXRlIiwiYXR0cmlidXRlcyIsImFWZXJ0ZXhQb3NpdGlvbiIsImFUZXh0dXJlQ29vcmQiLCJ0YXJnZXRUZXh0dXJlRnJhbWUiLCJkZWxldGVCdWZmZXIiLCJfTWF0cml4MiIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJfbGFzdFRleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwibWF0IiwieDMiLCJ5MyIsInRleEJhc2UiLCJtYXJnaW4iLCJvZmZzZXQiLCJfZXh0cmFjdFVuaWZvcm1zRnJvbVNyYzIiLCJTT1VSQ0VfS0VZX01BUCIsImRlZmF1bHRWZXJ0ZXhTcmMiLCJkZWZhdWx0RnJhZ21lbnRTcmMiLCJfYmxlbmRNb2RlIiwidW5pZm9ybURhdGEiLCJnbFNoYWRlcnMiLCJnbFNoYWRlcktleSIsImF1dG9GaXQiLCJjdXJyZW50U3RhdGUiLCJfRmlsdGVyMyIsIl9UZXh0dXJlTWF0cml4MiIsIm1hc2tNYXRyaXgiLCJtYXNrU3ByaXRlIiwib3RoZXJNYXRyaXgiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJtYXNrQ2xhbXAiLCJjcmVhdGVDb2xvcmVkQ2FudmFzIiwibWFnZW50YSIsInllbGxvdyIsImltYWdlRGF0YSIsIl9CYXNlVGV4dHVyZTMiLCJfUmVuZGVyVGV4dHVyZTIiLCJ0ZW1wTWF0cml4IiwiU3lzdGVtUmVuZGVyZXIiLCJzeXN0ZW0iLCJfYmFja2dyb3VuZENvbG9yIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicGFyZW50Tm9kZSIsIl9Hcm91cEQyIiwidXZzVWludDMyIiwiVWludDMyQXJyYXkiLCJiYXNlRnJhbWUiLCJ0dyIsInRoIiwidzIiLCJoMiIsImNYIiwiY1kiLCJOVyIsInVYIiwidVkiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiYXV0b1BsYXkiLCJfb25DYW5QbGF5IiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfX2xvYWRlZCIsIl9pc1NvdXJjZVJlYWR5IiwiX2lzU291cmNlUGxheWluZyIsImN1cnJlbnRUaW1lIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInZpZGVvU3JjIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlU291cmNlIiwiZnJvbVVybHMiLCJwdW55Y29kZSIsInV0aWwiLCJVcmwiLCJzbGFzaGVzIiwiYXV0aCIsImhhc2giLCJzZWFyY2giLCJxdWVyeSIsInBhdGhuYW1lIiwidXJsUGFyc2UiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0IiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiamF2YXNjcmlwdCIsImphdmFzY3JpcHQ6IiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImdvcGhlciIsImZpbGUiLCJodHRwOiIsImh0dHBzOiIsImZ0cDoiLCJnb3BoZXI6IiwiZmlsZToiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwidSIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInJlc3QiLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwiayIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidG9BU0NJSSIsImgiLCJhZSIsImVzYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImVzY2FwZSIsInFtIiwic3RyaW5naWZ5IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsIl91cmwzIiwiX1RyYW5zZm9ybUJhc2UyIiwidXBkYXRlU2tldyIsInBpdm90IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5Iiwic2V0RnJvbU1hdHJpeCIsIm9uQ2hhbmdlIiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfVHJhbnNmb3JtU3RhdGljMiIsIl9UcmFuc2Zvcm0yIiwiX0JvdW5kczIiLCJUcmFuc2Zvcm1DbGFzcyIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiX2JvdW5kc1JlY3QiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiX2N1cnJlbnRCb3VuZHMiLCJpc01hc2siLCJnZW5lcmF0ZUdldHRlciIsIkdMU0xfU0lOR0xFX1NFVFRFUlMiLCJmbG9hdCIsInVuaWZvcm0xZiIsInZlYzIiLCJ1bmlmb3JtMmYiLCJ2ZWMzIiwidW5pZm9ybTNmIiwidmVjNCIsInVuaWZvcm00ZiIsImludCIsInVuaWZvcm0xaSIsIml2ZWMyIiwidW5pZm9ybTJpIiwiaXZlYzMiLCJ1bmlmb3JtM2kiLCJpdmVjNCIsInVuaWZvcm00aSIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwidW5pZm9ybU1hdHJpeDJmdiIsIm1hdDMiLCJ1bmlmb3JtTWF0cml4M2Z2IiwibWF0NCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJzYW1wbGVyMkQiLCJHTFNMX0FSUkFZX1NFVFRFUlMiLCJ1bmlmb3JtMWZ2IiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpdiIsInVuaWZvcm0yaXYiLCJ1bmlmb3JtM2l2IiwidW5pZm9ybTRpdiIsImdlbmVyYXRlU2V0dGVyIiwidW5pZm9ybSIsImdldFVuaWZvcm1Hcm91cCIsIm5hbWVUb2tlbnMiLCJjdXIiLCJ1bmlmb3JtS2V5cyIsImZ1bGxOYW1lIiwidW5pZm9ybUdyb3VwIiwiYm9vbGVhbkFycmF5IiwiSW50MzJBcnJheSIsIm1hcFR5cGUiLCJwcm9ncmFtIiwidG90YWxVbmlmb3JtcyIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiR0xTTF9UT19TSVpFIiwibWFwU2l6ZSIsInBvaW50ZXIiLCJub3JtYWxpemVkIiwic3RyaWRlIiwidmVydGV4QXR0cmliUG9pbnRlciIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlVGV4dHVyZSIsInByZW11bHRpcGx5QWxwaGEiLCJSR0JBIiwiVU5TSUdORURfQllURSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJ0ZXhJbWFnZTJEIiwidGV4U3ViSW1hZ2UyRCIsIkZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSIsInVwbG9hZERhdGEiLCJtaW5GaWx0ZXIiLCJsaW5lYXIiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJORUFSRVNUX01JUE1BUF9ORUFSRVNUIiwibWFnRmlsdGVyIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiZW5hYmxlTWlwbWFwIiwiZ2VuZXJhdGVNaXBtYXAiLCJlbmFibGVXcmFwQ2xhbXAiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsImVuYWJsZVdyYXBSZXBlYXQiLCJlbmFibGVXcmFwTWlycm9yUmVwZWF0IiwiZGVsZXRlVGV4dHVyZSIsImZyb21Tb3VyY2UiLCJhdHRyaWJzIiwidGVtcEF0dHJpYlN0YXRlIiwiYXR0cmlidXRlIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJhdHRyaWIiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRlbXBNYXRyaWNlcyIsIm11bCIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImluaXQiLCJHcm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiaW5kIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIl9jb25maWciLCJDb21wb25lbnRzIiwiYm9kaWVzIiwiMSIsIl9jb25maWcyIiwiMiIsIjMiLCJwb3NpdGlvbnMiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJEYXRlIiwibm93IiwiX0Jhc2VQcmVwYXJlMiIsIkNBTlZBU19TVEFSVF9TSVpFIiwiQ2FudmFzUHJlcGFyZSIsIl9CYXNlUHJlcGFyZSIsImN0eCIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInByZXBhcmUiLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJyZWdpc3RlclBsdWdpbiIsIldlYkdMUHJlcGFyZSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEdyYXBoaWNzIiwiY2xlYXJEaXJ0eSIsIl93ZWJHTCIsImdyYXBoaWNzIiwidXBkYXRlR3JhcGhpY3MiLCJfV2ViR0xQcmVwYXJlIiwiX0NhbnZhc1ByZXBhcmUiLCJfVGltZUxpbWl0ZXIiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwidXBsb2FkRnVuY3Rpb24iLCJ1bnNpZ25lZEJ5dGUiLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsImR5bkJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiU1RSRUFNX0RSQVciLCJzdGF0aWNPZmZzZXQiLCJfcHJvcGVydHkiLCJzdGF0QnVmZmVyIiwiX3Byb3BlcnR5MiIsIl9pMyIsIl9wcm9wZXJ0eTMiLCJ1cGxvYWREeW5hbWljIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIl9TaGFkZXIyIiwiUGFydGljbGVTaGFkZXIiLCJfUGFydGljbGVTaGFkZXIyIiwiX1BhcnRpY2xlQnVmZmVyMiIsIlBhcnRpY2xlUmVuZGVyZXIiLCJfY29yZSRPYmplY3RSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwiYVBvc2l0aW9uQ29vcmQiLCJ1cGxvYWRQb3NpdGlvbiIsImFSb3RhdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwiYUNvbG9yIiwidXBsb2FkVGludCIsIm1heFNpemUiLCJfbWF4U2l6ZSIsImJhdGNoU2l6ZSIsIl9iYXRjaFNpemUiLCJ0b3RhbENoaWxkcmVuIiwiYnVmZmVycyIsIl9nbEJ1ZmZlcnMiLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1U2FtcGxlciIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJfYnVmZmVyVG9VcGRhdGUiLCJkcmF3IiwiX3Byb3BlcnRpZXMiLCJzeCIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiYXJnYiIsIlBhcnRpY2xlQ29udGFpbmVyIiwic2V0UHJvcGVydGllcyIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiYnVmZmVySW5kZXgiLCJmbG9vciIsImlzUm90YXRlZCIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsImZpbmFsV2lkdGgiLCJmaW5hbEhlaWdodCIsImNoaWxkVHJhbnNmb3JtIiwiX2J1ZmZlcnMiLCJfUGFydGljbGVDb250YWluZXIiLCJfUGFydGljbGVSZW5kZXJlciIsIlJvcGUiLCJyZWZyZXNoVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicmF0aW8iLCJwZXJwTGVuZ3RoIiwibnVtIiwiX1BsYW5lMiIsIkRFRkFVTFRfQk9SREVSX1NJWkUiLCJOaW5lU2xpY2VQbGFuZSIsIl9QbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJ1cGRhdGVIb3Jpem9udGFsVmVydGljZXMiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsInVwZGF0ZVZlcnRpY2FsVmVydGljZXMiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJiYXNlIiwidGV4dHVyZVNvdXJjZSIsImRyYXdTZWdtZW50Iiwic3ciLCJzaCIsImR3IiwiZGgiLCJfdXZ3IiwiX3V2aCIsIk1lc2hTcHJpdGVSZW5kZXJlciIsIm1lc2giLCJfcmVuZGVyVHJpYW5nbGVNZXNoIiwiX3JlbmRlclRyaWFuZ2xlcyIsIl9yZW5kZXJEcmF3VHJpYW5nbGUiLCJpbmRleDAiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwidTAiLCJ1MSIsInUyIiwidjAiLCJ2MSIsInYyIiwidXQiLCJjZW50ZXJYIiwiY2VudGVyWSIsIm5vcm1YIiwibm9ybVkiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJjbGlwIiwiZGVsdGEiLCJkZWx0YUEiLCJkZWx0YUIiLCJkZWx0YUMiLCJkZWx0YUQiLCJkZWx0YUUiLCJkZWx0YUYiLCJyZW5kZXJNZXNoRmxhdCIsIm1hdHJpeElkZW50aXR5IiwiTWVzaFJlbmRlcmVyIiwiZ2xEYXRhIiwidXZCdWZmZXIiLCJ1VHJhbnNmb3JtIiwidHJhbnNsYXRpb25NYXRyaXgiLCJfTWVzaFJlbmRlcmVyIiwiX0NhbnZhc01lc2hSZW5kZXJlciIsIl9OaW5lU2xpY2VQbGFuZSIsIl9Sb3BlIiwiX3R5cGVvZiIsIlN5bWJvbCIsImJsb2JNaWRkbGV3YXJlRmFjdG9yeSIsIl9SZXNvdXJjZTIiLCJCbG9iIiwiX3JldCIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsIl9iMiIsIlVSTCIsIndlYmtpdFVSTCIsIl9yZXNvdXJjZUxvYWRlcjIiLCJfYmxvYiIsIl90ZXh0dXJlUGFyc2VyMiIsIl9zcHJpdGVzaGVldFBhcnNlcjIiLCJfYml0bWFwRm9udFBhcnNlcjIiLCJfUmVzb3VyY2VMb2FkZXIiLCJfcGl4aU1pZGRsZXdhcmUiLCJ1c2UiLCJvbkVycm9yIiwib25Mb2FkIiwiYWRkUGl4aU1pZGRsZXdhcmUiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwicHJlIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiZGVxdWV1ZSIsIl9vbkxvYWQiLCJfdGhpczMiLCJ0ZXh0dXJlUGFyc2VyIiwic3ByaXRlc2hlZXRQYXJzZXIiLCJwYXJzZUJpdG1hcEZvbnREYXRhIiwiYml0bWFwRm9udFBhcnNlciIsIl9iaXRtYXBGb250UGFyc2VyIiwiX3Nwcml0ZXNoZWV0UGFyc2VyIiwiX3RleHR1cmVQYXJzZXIiLCJfQXBwbGljYXRpb24yIiwiX2xvYWRlcjIiLCJBcHBQcm90b3R5cGUiLCJfbG9hZGVyIiwiX3BhcmVudERlc3Ryb3kiLCJfSW50ZXJhY3Rpb25EYXRhMiIsIl9JbnRlcmFjdGlvbkV2ZW50MiIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIiLCJfaW50ZXJhY3RpdmVUYXJnZXQyIiwiZGVsYXlNaXhpbiIsIk1PVVNFX1BPSU5URVJfSUQiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImV2ZW50RGF0YSIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsImN1cnJlbnRDdXJzb3JNb2RlIiwiX3RlbXBQb2ludCIsInNldFRhcmdldEVsZW1lbnQiLCJoaXRUZXN0IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJlbGVtZW50IiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsImRlbHRhVGltZSIsIl9kZWx0YVRpbWUiLCJkaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25FdmVudCIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJtb2RlIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50U3RyaW5nIiwibWFwUG9zaXRpb25Ub1BvaW50IiwicGFyZW50RWxlbWVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwibGVmdCIsInRvcCIsImZ1bmMiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNoaWxkSGl0Iiwibm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInJpZ2h0RG93biIsImxlZnREb3duIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNEb3duIiwib3ZlciIsIm5vbmUiLCJpc01vdXNlIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJfSW50ZXJhY3Rpb25EYXRhIiwiX0ludGVyYWN0aW9uTWFuYWdlciIsIl9pbnRlcmFjdGl2ZVRhcmdldCIsIl9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9JbnRlcmFjdGlvbkV2ZW50IiwiQWxwaGFGaWx0ZXIiLCJ1QWxwaGEiLCJDb2xvck1hdHJpeEZpbHRlciIsIl9sb2FkTWF0cml4IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiYnJpZ2h0bmVzcyIsIm11bHRpcGx5IiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIl9CbHVyWEZpbHRlcjIiLCJfQmx1cllGaWx0ZXIyIiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIkZYQUFGaWx0ZXIiLCJfRlhBQUZpbHRlciIsIl9Ob2lzZUZpbHRlciIsIl9EaXNwbGFjZW1lbnRGaWx0ZXIiLCJfQmx1ckZpbHRlciIsIl9CbHVyWEZpbHRlciIsIl9CbHVyWUZpbHRlciIsIl9Db2xvck1hdHJpeEZpbHRlciIsIl9BbHBoYUZpbHRlciIsImdldEdsb2JhbFBvc2l0aW9uIiwiZ2V0Q2hpbGRCeU5hbWUiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXJXZWJHTCIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZFdlYkdMIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJzdGFjayIsImZpbHRlclN0YWNrIiwiY2FjaGVkU3ByaXRlIiwiX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyIsIl9nZXRDYWNoZWRMb2NhbEJvdW5kcyIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyIsIl9PYnNlcnZhYmxlUG9pbnQyIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2dseXBocyIsIl9mb250IiwiX3RleHQiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsImZvbnRzIiwiY2hhcnMiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdFNwYWNlIiwibGFzdFNwYWNlV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJDb2RlIiwiY2hhckRhdGEiLCJrZXJuaW5nIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwiX2k0IiwidmFsaWRhdGUiLCJpbmZvIiwiY29tbW9uIiwiZmlsZU5hbWUiLCJwYXJzZUludCIsImxldHRlcnMiLCJsZXR0ZXIiLCJ0ZXh0dXJlUmVjdCIsImtlcm5pbmdzIiwiX2k1IiwiZmlyc3QiLCJzZWNvbmQiLCJzaW1wbGVTaGFkZXIiLCJxdWFkIiwidHMiLCJ1dlJlc3BlY3RBbmNob3IiLCJiYXNlVGV4IiwidGlsZVRyYW5zZm9ybSIsInV2IiwidXZUcmFuc2Zvcm0iLCJpc1NpbXBsZSIsIkgiLCJ1TWFwQ29vcmQiLCJfQ2FudmFzVGludGVyMiIsIl9jb3JlJFNwcml0ZSIsIl9jYW52YXNQYXR0ZXJuIiwiYmFzZVRleHR1cmVSZXNvbHV0aW9uIiwibW9kWCIsInRpbGVQb3NpdGlvbiIsInRpbGVTY2FsZSIsIm1vZFkiLCJ0ZW1wQ2FudmFzIiwidGludGVkVGV4dHVyZSIsImNyZWF0ZVBhdHRlcm4iLCJhbmNob3JYIiwiYW5jaG9yWSIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwicGxheWluZyIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJ0aW1lIiwiVEVNUF9SRUNUIiwiQ2FudmFzRXh0cmFjdCIsImV4dHJhY3QiLCJjYW52YXNCdWZmZXIiLCJjYW52YXNEYXRhIiwiV2ViR0xFeHRyYWN0IiwidGV4dHVyZUJ1ZmZlciIsImZsaXBZIiwiZ2VuZXJhdGVkIiwid2ViZ2xQaXhlbHMiLCJVaW50OEFycmF5IiwicmVhZFBpeGVscyIsIl9XZWJHTEV4dHJhY3QiLCJfQ2FudmFzRXh0cmFjdCIsIl9pc21vYmlsZWpzMiIsIl9hY2Nlc3NpYmxlVGFyZ2V0MiIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiRElWX1RPVUNIX1pJTkRFWCIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiY3JlYXRlVG91Y2hIb29rIiwiekluZGV4IiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2FiaWxsaXR5IiwiaG9va0RpdiIsIkRJVl9IT09LX1NJWkUiLCJESVZfSE9PS19QT1NfWCIsIkRJVl9IT09LX1BPU19ZIiwidGl0bGUiLCJib2R5IiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiY2FwSGl0QXJlYSIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwiaW50ZXJhY3Rpb24iLCJrZXlDb2RlIiwiX2FjY2Vzc2libGVUYXJnZXQiLCJfQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJtc2ciLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwicGFydGljbGVzIiwiZXh0cmFzIiwibG9hZGVycyIsIlNwcml0ZUJhdGNoIiwiQXNzZXRMb2FkZXIiLCJTdGFnZSIsIkRpc3BsYXlPYmplY3RDb250YWluZXIiLCJTdHJpcCIsIk1vdmllQ2xpcCIsInNjYWxlTW9kZXMiLCJtYXRoIiwiQWJzdHJhY3RGaWx0ZXIiLCJUcmFuc2Zvcm1NYW51YWwiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiZGVmYXVsdHMiLCJfbG9vcCIsImRlcHJlY2F0aW9uIiwiVGV4dHVyZVRyYW5zZm9ybSIsImdlbmVyYXRlQ2FudmFzVGV4dHVyZSIsImlzU3dhcFdpZHRoSGVpZ2h0IiwiZ2V0SW1hZ2UiLCJnZXRCYXNlNjQiLCJnZXRDYW52YXMiLCJnZXRQaXhlbHMiLCJzZXRUZXh0dXJlIiwic2V0VGV4dCIsImNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzIiwiZm9udFByb3BlcnRpZXNDYWNoZSIsImZvbnRQcm9wZXJ0aWVzQ2FudmFzIiwiZm9udFByb3BlcnRpZXNDb250ZXh0Iiwic2V0U3R5bGUiLCJkZXRlcm1pbmVGb250UHJvcGVydGllcyIsImdldEZvbnRTdHlsZSIsInNwbGl0cyIsImZvbnRTaXplSW5kZXgiLCJhZGRUZXh0dXJlVG9DYWNoZSIsInJlbW92ZVRleHR1cmVGcm9tQ2FjaGUiLCJWb2lkRmlsdGVyIiwidXVpZCIsImNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJyZWdpc3RlciIsIk5hTiIsIndlYmdsIiwiaXNKc29uIiwiaXNYbWwiLCJpc0ltYWdlIiwiaXNBdWRpbyIsImlzVmlkZW8iLCJiZWZvcmUiLCJhZnRlciIsImludGVyYWN0aXZlVGFyZ2V0IiwiXyIsInJlc29sdXRpb25GaWxlbmFtZSIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIkJBVENIX1NJWkUiLCJfcHJvY2Vzc0ZyYW1lcyIsIl9wYXJzZUNvbXBsZXRlIiwiX25leHRCYXRjaCIsImluaXRpYWxGcmFtZUluZGV4IiwiZnJhbWVJbmRleCIsIm1heEZyYW1lcyIsInNvdXJjZVNpemUiLCJ0cmltbWVkIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJfQ2FudmFzUmVuZGVyZXIiLCJfcHJldlRpbnQiLCJ1cGRhdGVHcmFwaGljc1RpbnQiLCJyZW5kZXJQb2x5Z29uIiwiY2xvc2VkIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiYXJjIiwicmFkaXVzIiwib3giLCJveSIsInhlIiwieWUiLCJ4bSIsInltIiwiYmV6aWVyQ3VydmVUbyIsInJ4IiwicnkiLCJtYXhSYWRpdXMiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwidGludFIiLCJ0aW50RyIsInRpbnRCIiwiY2xvc2UiLCJjaXJjbGVEYXRhIiwidG90YWxTZWdzIiwic2VnIiwidmVjUG9zIiwidGVtcFBvaW50cyIsIl9idWlsZExpbmUyIiwiX2J1aWxkTGluZSIsInJyZWN0RGF0YSIsInJlY1BvaW50cyIsInF1YWRyYXRpY0JlemllckN1cnZlIiwiX2VhcmN1dDIiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwicmVjdERhdGEiLCJ2ZXJ0UG9zIiwiaG9sZUFycmF5IiwiUHJpbWl0aXZlU2hhZGVyIiwiV2ViR0xHcmFwaGljc0RhdGEiLCJhdHRyaWJzU3RhdGUiLCJnbFBvaW50cyIsImdsSW5kaWNlcyIsIl9PYmplY3RSZW5kZXJlcjMiLCJfV2ViR0xHcmFwaGljc0RhdGEyIiwiX1ByaW1pdGl2ZVNoYWRlcjIiLCJfYnVpbGRQb2x5MiIsIl9idWlsZFJlY3RhbmdsZTIiLCJfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiIsIl9idWlsZENpcmNsZTIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwid2ViR0wiLCJzaGFkZXJUZW1wIiwiZHJhd0FycmF5cyIsImxhc3RJbmRleCIsImdldFdlYkdMRGF0YSIsImNwWDIiLCJjcFkyIiwiZHQiLCJkdDIiLCJkdDMiLCJ0MiIsInQzIiwiX0dyYXBoaWNzRGF0YTIiLCJfU3ByaXRlMiIsIl9iZXppZXJDdXJ2ZVRvMyIsImNhbnZhc1JlbmRlcmVyIiwidGVtcENvbG9yMSIsInRlbXBDb2xvcjIiLCJjdXJyZW50UGF0aCIsImJvdW5kc1BhZGRpbmciLCJfbG9jYWxCb3VuZHMiLCJmYXN0UmVjdERpcnR5IiwiYm91bmRzRGlydHkiLCJjYWNoZWRTcHJpdGVEaXJ0eSIsIl9zcHJpdGVSZWN0IiwiX2Zhc3RSZWN0IiwidXBkYXRlTG9jYWxCb3VuZHMiLCJsaW5lU3R5bGUiLCJkcmF3U2hhcGUiLCJhcmNUbyIsIm1tIiwiZGQiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJzZWdzIiwic3RhcnRYIiwic3RhcnRZIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsImJlZ2luRmlsbCIsImZpbGxpbmciLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJSb3VuZGVkUmVjdGFuZ2xlIiwiZHJhd0NpcmNsZSIsIkNpcmNsZSIsImRyYXdFbGxpcHNlIiwiRWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJpbm5lclJhZGl1cyIsInBvbHlnb24iLCJpc0Zhc3RSZWN0IiwiX3JlbmRlclNwcml0ZVJlY3QiLCJ0MSIsImxiIiwicnciLCJyaCIsIl93ZWJnbCIsIl9TUFJJVEVfVEVYVFVSRSIsImJvdW5kIiwicmlnaHQiLCJib3R0b20iLCJfU3ByaXRlMyIsIl9UZXh0U3R5bGUyIiwiX1RleHRNZXRyaWNzMiIsIl90cmltQ2FudmFzMiIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwibG9jYWxTdHlsZUlEIiwicmVzcGVjdERpcnR5IiwibWVhc3VyZWQiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciIsInhTaGFkb3dPZmZzZXQiLCJ5U2hhZG93T2Zmc2V0IiwiZHJhd0xldHRlclNwYWNpbmciLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJpc1N0cm9rZSIsIlN0cmluZyIsImN1cnJlbnRQb3NpdGlvbiIsImN1cnJlbnQiLCJzdHJva2VUZXh0IiwiX29uU3R5bGVDaGFuZ2UiLCJncmFkaWVudCIsInRvdGFsSXRlcmF0aW9ucyIsImN1cnJlbnRJdGVyYXRpb24iLCJsZW5ndGhQbHVzMSIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiQnVmZmVyIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3IiwibWF4SWZzIiwiY3JlYXRlVGVtcENvbnRleHQiLCJ0aW55Q2FudmFzIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJnZW5lcmF0ZVNhbXBsZVNyYyIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJEU1RfQ09MT1IiLCJPTkVfTUlOVVNfU1JDX0NPTE9SIiwiU1JDX0FMUEhBIiwiX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsIl9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyIiwiV2ViR0xTdGF0ZSIsImFjdGl2ZVN0YXRlIiwiZGVmYXVsdFN0YXRlIiwic3RhY2tJbmRleCIsIm1heEF0dHJpYnMiLCJNQVhfVkVSVEVYX0FUVFJJQlMiLCJuYXRpdmVWYW9FeHRlbnNpb24iLCJzZXRTdGF0ZSIsInNldEJsZW5kIiwic2V0RGVwdGhUZXN0Iiwic2V0RnJvbnRGYWNlIiwic2V0Q3VsbEZhY2UiLCJCTEVORCIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInJlc2V0QXR0cmlidXRlcyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR2FyYmFnZUNvbGxlY3RvciIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsInJ1biIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwiX21hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsIlRleHR1cmVNYW5hZ2VyIiwiZ2V0VGV4dHVyZSIsImlzUmVuZGVyVGV4dHVyZSIsInNraXBSZW1vdmUiLCJnbFRleHR1cmVzIiwiZ2xSZW5kZXJUYXJnZXRzIiwiY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJ0ZXh0dXJlU2l6ZSIsIm1hcHBlZE1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIlRFTVBfTUFUUklYIiwiX1dlYkdMTWFuYWdlcjMiLCJfUXVhZDIiLCJmaWx0ZXJUcmFuc2Zvcm1zIiwiRmlsdGVyU3RhdGUiLCJGaWx0ZXJNYW5hZ2VyIiwic2hhZGVyQ2FjaGUiLCJtYW5hZ2VkRmlsdGVycyIsImZpbHRlclN0YXRlIiwidGFyZ2V0Qm91bmRzIiwiZ2V0UG90UmVuZGVyVGFyZ2V0IiwibGFzdFN0YXRlIiwiZnJlZVBvdFJlbmRlclRhcmdldCIsInNjaXNzb3JSZW5kZXJUYXJnZXQiLCJwdXNoU2Npc3Nvck1hc2siLCJzY2lzc29yRGF0YSIsInN5bmNVbmlmb3JtcyIsInRleHR1cmVDb3VudCIsImZpbHRlckNsYW1wIiwiY29udGV4dExvc3QiLCJlbXB0eVBvb2wiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlN0ZW5jaWxNYW5hZ2VyIiwiU1RFTkNJTF9URVNUIiwicHVzaFN0ZW5jaWwiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiX3VzZUN1cnJlbnQiLCJwb3BTdGVuY2lsIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsInN0ZW5jaWxTdGFjayIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJuZXh0VGljayIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjaGRpciIsInVtYXNrIiwidmVydFVuaWZvcm1zIiwiZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyIsImZyYWdVbmlmb3JtcyIsInN0cmluZyIsIm1hc2tSZWdleCIsIm5hbWVTcGxpdCIsInNwbGl0TGluZSIsIl9TcHJpdGVNYXNrRmlsdGVyMiIsIk1hc2tNYW5hZ2VyIiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJhbHBoYU1hc2tJbmRleCIsIm1hc2tEYXRhIiwicHVzaFNwcml0ZU1hc2siLCJyb3QiLCJwdXNoU3RlbmNpbE1hc2siLCJwb3BTcHJpdGVNYXNrIiwicG9wU2Npc3Nvck1hc2siLCJwb3BTdGVuY2lsTWFzayIsImFscGhhTWFza0ZpbHRlciIsIl9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjIiLCJfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMiIsIl9CYXRjaEJ1ZmZlcjIiLCJUSUNLIiwiVEVYVFVSRV9USUNLIiwidmVydFNpemUiLCJ2ZXJ0Qnl0ZVNpemUiLCJncm91cHMiLCJpZHMiLCJibGVuZCIsInNwcml0ZXMiLCJ2ZXJ0ZXhCdWZmZXJzIiwidmFvcyIsInZhb01heCIsInZlcnRleENvdW50Iiwib25QcmVyZW5kZXIiLCJNQVhfVEVYVFVSRVMiLCJhdHRycyIsIlVOU0lHTkVEX1NIT1JUIiwiYVRleHR1cmVJZCIsImN1cnJlbnRCbGVuZE1vZGUiLCJucDIiLCJyZW5kZXJlckJvdW5kVGV4dHVyZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiZ3JvdXBDb3VudCIsImN1cnJlbnRHcm91cCIsImJ0Iiwic3ByaXRlQmxlbmRNb2RlIiwidEluZGV4IiwiZ3JvdXAiLCJncm91cFRleHR1cmVDb3VudCIsImRyYXdFbGVtZW50cyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiIsIkNhbnZhc01hc2tNYW5hZ2VyIiwicmVuZGVyR3JhcGhpY3NTaGFwZSIsImNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtIiwic21vb3RoaW5nRW5hYmxlZCIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJfVGlja2VyTGlzdGVuZXIyIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJlbGFwc2VkTVMiLCJsYXN0VGltZSIsInNwZWVkIiwiX3RpY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJoZWFkIiwiZnBzIiwibWluRlBNUyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwiZXEiLCJvYmplY3RLZXlzIiwia3MiLCJxcyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsImRlY29kZSIsImVuY29kZSIsImFyZyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsInRNaW4iLCJ0TWF4IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJmcm9tQ2hhckNvZGUiLCJtYXBEb21haW4iLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiYWRhcHQiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ1Y3MyIiwidG9Vbmljb2RlIiwibnBtIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInBlcmZvcm1NaXhpbnMiLCJfX3BsdWdpbnMiLCJjdG9yIiwicGxhdGZvcm0iLCJfaXNtb2JpbGVqcyIsImNvbXBpbGVQcm9ncmFtIiwiZXh0cmFjdEF0dHJpYnV0ZXMiLCJleHRyYWN0VW5pZm9ybXMiLCJnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QiLCJzZXRQcmVjaXNpb24iLCJuYXRpdmVTdGF0ZSIsIm5hdGl2ZVZhbyIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwibGFzdEJ1ZmZlciIsImdldFNpemUiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsIkZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJlbmFibGVUZXh0dXJlIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJGUkFNRUJVRkZFUiIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwiYmluZFJlbmRlcmJ1ZmZlciIsIlJFTkRFUkJVRkZFUiIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImJpbmRGcmFtZWJ1ZmZlciIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZmJvIiwiY3JlYXRlRmxvYXQzMiIsIkVNUFRZX0FSUkFZX0JVRkZFUiIsImRyYXdUeXBlIiwiY3JlYXRlQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZG9udEJpbmQiLCJieXRlTGVuZ3RoIiwiYnVmZmVyU3ViRGF0YSIsImJ1ZmZlckRhdGEiLCJiaW5kQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJyYWRpdXMyIiwiX2tleSIsImlsIiwieGkiLCJ5aSIsInhqIiwieWoiLCJfUmVjdGFuZ2xlMiIsIm5vcm14Iiwibm9ybXkiLCJyMiIsImlzTmFOIiwiZ2V0VGltZSIsInN0YXJ0VGltZSIsInZlbmRvcnMiLCJkZWxheSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRlc3QxIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwidGVzdDMiLCJzaG91bGRVc2VOYXRpdmUiLCJzeW1ib2xzIiwidG9PYmplY3QiLCJfb2JqZWN0QXNzaWduIiwiX29iamVjdEFzc2lnbjIiLCJsb2FkZXIiLCJhY2Nlc3NpYmlsaXR5IiwiX3BvbHlmaWxsIiwiX2RlcHJlY2F0aW9uIiwiX2RlcHJlY2F0aW9uMiIsImNzcyIsImN1cnJlbnREaXIiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhZGRBdHRycyIsImVsIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJidG9hIiwibGluayIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsIm9sZFNyYyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiR2FtZSIsImJvZHlfY29tcG9uZW50cyIsIl9jb21wb25lbnRzMiIsInBvc2l0aW9uX2NvbXBvbmVudHMiLCJhcHAiLCJza3VsbCIsIl9za3VsbDIiLCJfbG9scGl4ZWxzMiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFB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R0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FHQXJtQixFQUFBLEdBQUFxbUIsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsR0FBQXFtQixFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQ0F4aUIsRUFBQSxHQUFBcW1CLEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsR0FBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFBQTZELEVBQUEsR0FBQTdELEVBQUEsSUFDQXhpQixFQUFBLEdBQUFxbUIsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxHQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsR0FBQXFtQixFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBQUE3RCxFQUFBLElBQUE2RCxFQUFBLEdBR0FybUIsRUFBQSxJQUFBcW1CLEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsR0FBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFBQTZELEVBQUEsSUFBQTdELEVBQUEsSUFDQXhpQixFQUFBLElBQUFxbUIsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxHQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUFBNkQsRUFBQSxJQUFBN0QsRUFBQSxJQUNBeGlCLEVBQUEsSUFBQXFtQixFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxFQUFBLElBQUE3RCxFQUFBLEdBQUE2RCxF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LElBQ3BDdkssRUFBS3EyRixJQUFJL3ZELE1BQU0xMEIsU0FBU3FaLEdBQ3hCanJCLEVBQUs2bEYsUUFBUXBpRixHQUFNd25CLElBSXJCbHJCLEtBQUtzMkYsSUFBSS92RCxNQUFNMTBCLFNBQVM3UixLQUFLdTJGLE9BQzdCdjJGLEtBQUtzMkYsSUFBSWxuRyxPQUFPb3hCLElBQUl4Z0IsS0FBSzRCLG1EQUdsQixJQUFBbUgsRUFBQS9JLEtBQ1BBLEtBQUt1MkYsTUFBTTkrRCxVQUFZLElBQ3ZCandDLE9BQU9pSSxLQUFLdVEsS0FBSzhsRixTQUFTcDJGLFFBQVEsU0FBQWdVLEdBQ2hDcUYsRUFBSys4RSxRQUFRcGlGLEdBQUlHLEVBQUlrRixFQUFLc3RGLG9CQUFvQjN5RixHQUFJRyxFQUNsRGtGLEVBQUsrOEUsUUFBUXBpRixHQUFJSSxFQUFJaUYsRUFBS3N0RixvQkFBb0IzeUYsR0FBSUksYUF3QnhEcE8sT0FBT21sQixpQkFBaUIsT0FsQnhCLFdBQ2EsSUFBSXE3RSxFQUNmdmdHLFFBQVFDLElBQUksb0JBQ1pGLE9BQU9tbEIsaUJBQWlCLFVBQVcsU0FBU3JWLEdBQzFDLE9BQVFBLEVBQU0rbUUsU0FDWixLQUFLLEdBQ0g1MkUsUUFBUUMsSUFBSSxRQUNad2dHLEVBQUFybUcsUUFBV3U1RCxVQUFVLEdBQUd6bEQsR0FBSyxFQUMvQixNQUNBLEtBQUssR0FDSGxPLFFBQVFDLElBQUksU0FDWndnRyxFQUFBcm1HLFFBQVd1NUQsVUFBVSxHQUFHemxELEdBQUsiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOTkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFZFUlNJT05cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBWRVJTSU9OID0gZXhwb3J0cy5WRVJTSU9OID0gJzQuNy4wJztcblxuLyoqXG4gKiBUd28gUGkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIFBJXzIgPSBleHBvcnRzLlBJXzIgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIFJBRF9UT19ERUcgPSBleHBvcnRzLlJBRF9UT19ERUcgPSAxODAgLyBNYXRoLlBJO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVHX1RPX1JBRCA9IGV4cG9ydHMuREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODA7XG5cbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEUgPSBleHBvcnRzLlJFTkRFUkVSX1RZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIFdFQkdMOiAxLFxuICBDQU5WQVM6IDJcbn07XG5cbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKi9cbnZhciBCTEVORF9NT0RFUyA9IGV4cG9ydHMuQkxFTkRfTU9ERVMgPSB7XG4gIE5PUk1BTDogMCxcbiAgQUREOiAxLFxuICBNVUxUSVBMWTogMixcbiAgU0NSRUVOOiAzLFxuICBPVkVSTEFZOiA0LFxuICBEQVJLRU46IDUsXG4gIExJR0hURU46IDYsXG4gIENPTE9SX0RPREdFOiA3LFxuICBDT0xPUl9CVVJOOiA4LFxuICBIQVJEX0xJR0hUOiA5LFxuICBTT0ZUX0xJR0hUOiAxMCxcbiAgRElGRkVSRU5DRTogMTEsXG4gIEVYQ0xVU0lPTjogMTIsXG4gIEhVRTogMTMsXG4gIFNBVFVSQVRJT046IDE0LFxuICBDT0xPUjogMTUsXG4gIExVTUlOT1NJVFk6IDE2LFxuICBOT1JNQUxfTlBNOiAxNyxcbiAgQUREX05QTTogMTgsXG4gIFNDUkVFTl9OUE06IDE5XG59O1xuXG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVMgPSBleHBvcnRzLkRSQVdfTU9ERVMgPSB7XG4gIFBPSU5UUzogMCxcbiAgTElORVM6IDEsXG4gIExJTkVfTE9PUDogMixcbiAgTElORV9TVFJJUDogMyxcbiAgVFJJQU5HTEVTOiA0LFxuICBUUklBTkdMRV9TVFJJUDogNSxcbiAgVFJJQU5HTEVfRkFOOiA2XG59O1xuXG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUyA9IGV4cG9ydHMuU0NBTEVfTU9ERVMgPSB7XG4gIExJTkVBUjogMCxcbiAgTkVBUkVTVDogMVxufTtcblxuLyoqXG4gKiBUaGUgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFfSB3cmFwIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCB3cmFwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgd2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVMgPSBleHBvcnRzLldSQVBfTU9ERVMgPSB7XG4gIENMQU1QOiAwLFxuICBSRVBFQVQ6IDEsXG4gIE1JUlJPUkVEX1JFUEVBVDogMlxufTtcblxuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTID0gZXhwb3J0cy5HQ19NT0RFUyA9IHtcbiAgQVVUTzogMCxcbiAgTUFOVUFMOiAxXG59O1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgaW1hZ2UgdHlwZSBieSBleHRlbnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSBgaW1hZ2UucG5nYFxuICovXG52YXIgVVJMX0ZJTEVfRVhURU5TSU9OID0gZXhwb3J0cy5VUkxfRklMRV9FWFRFTlNJT04gPSAvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2k7XG5cbi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IGV4cG9ydHMuREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7KGNoYXJzZXQ9W1xcdy1dK3xiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgU1ZHIHNpemUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTVkdfU0laRVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG52YXIgU1ZHX1NJWkUgPSBleHBvcnRzLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xudmFyIFNIQVBFUyA9IGV4cG9ydHMuU0hBUEVTID0ge1xuICBQT0xZOiAwLFxuICBSRUNUOiAxLFxuICBDSVJDOiAyLFxuICBFTElQOiAzLFxuICBSUkVDOiA0XG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT04gPSBleHBvcnRzLlBSRUNJU0lPTiA9IHtcbiAgTE9XOiAnbG93cCcsXG4gIE1FRElVTTogJ21lZGl1bXAnLFxuICBISUdIOiAnaGlnaHAnXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAqL1xudmFyIFRSQU5TRk9STV9NT0RFID0gZXhwb3J0cy5UUkFOU0ZPUk1fTU9ERSA9IHtcbiAgU1RBVElDOiAwLFxuICBEWU5BTUlDOiAxXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbnZhciBURVhUX0dSQURJRU5UID0gZXhwb3J0cy5URVhUX0dSQURJRU5UID0ge1xuICBMSU5FQVJfVkVSVElDQUw6IDAsXG4gIExJTkVBUl9IT1JJWk9OVEFMOiAxXG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbnZhciBVUERBVEVfUFJJT1JJVFkgPSBleHBvcnRzLlVQREFURV9QUklPUklUWSA9IHtcbiAgSU5URVJBQ1RJT046IDUwLFxuICBISUdIOiAyNSxcbiAgTk9STUFMOiAwLFxuICBMT1c6IC0yNSxcbiAgVVRJTElUWTogLTUwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hdXRvRGV0ZWN0UmVuZGVyZXIgPSBleHBvcnRzLkFwcGxpY2F0aW9uID0gZXhwb3J0cy5GaWx0ZXIgPSBleHBvcnRzLlNwcml0ZU1hc2tGaWx0ZXIgPSBleHBvcnRzLlF1YWQgPSBleHBvcnRzLlJlbmRlclRhcmdldCA9IGV4cG9ydHMuT2JqZWN0UmVuZGVyZXIgPSBleHBvcnRzLldlYkdMTWFuYWdlciA9IGV4cG9ydHMuU2hhZGVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJUYXJnZXQgPSBleHBvcnRzLlRleHR1cmVVdnMgPSBleHBvcnRzLlZpZGVvQmFzZVRleHR1cmUgPSBleHBvcnRzLkJhc2VSZW5kZXJUZXh0dXJlID0gZXhwb3J0cy5SZW5kZXJUZXh0dXJlID0gZXhwb3J0cy5CYXNlVGV4dHVyZSA9IGV4cG9ydHMuVGV4dHVyZU1hdHJpeCA9IGV4cG9ydHMuVGV4dHVyZSA9IGV4cG9ydHMuU3ByaXRlc2hlZXQgPSBleHBvcnRzLkNhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSBleHBvcnRzLkdyYXBoaWNzUmVuZGVyZXIgPSBleHBvcnRzLkdyYXBoaWNzRGF0YSA9IGV4cG9ydHMuR3JhcGhpY3MgPSBleHBvcnRzLlRleHRNZXRyaWNzID0gZXhwb3J0cy5UZXh0U3R5bGUgPSBleHBvcnRzLlRleHQgPSBleHBvcnRzLlNwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNUaW50ZXIgPSBleHBvcnRzLkNhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5TcHJpdGUgPSBleHBvcnRzLlRyYW5zZm9ybUJhc2UgPSBleHBvcnRzLlRyYW5zZm9ybVN0YXRpYyA9IGV4cG9ydHMuVHJhbnNmb3JtID0gZXhwb3J0cy5Db250YWluZXIgPSBleHBvcnRzLkRpc3BsYXlPYmplY3QgPSBleHBvcnRzLkJvdW5kcyA9IGV4cG9ydHMuZ2xDb3JlID0gZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJlciA9IGV4cG9ydHMudGlja2VyID0gZXhwb3J0cy51dGlscyA9IGV4cG9ydHMuc2V0dGluZ3MgPSB1bmRlZmluZWQ7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbk9iamVjdC5rZXlzKF9jb25zdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0W2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuL21hdGgnKTtcblxuT2JqZWN0LmtleXMoX21hdGgpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9tYXRoW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnbENvcmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQm91bmRzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQm91bmRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9EaXNwbGF5T2JqZWN0ID0gcmVxdWlyZSgnLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEaXNwbGF5T2JqZWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcGxheU9iamVjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ29udGFpbmVyID0gcmVxdWlyZSgnLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvbnRhaW5lcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybVN0YXRpYycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybVN0YXRpYycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybVN0YXRpYykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZSA9IHJlcXVpcmUoJy4vZGlzcGxheS9UcmFuc2Zvcm1CYXNlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtQmFzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZSA9IHJlcXVpcmUoJy4vc3ByaXRlcy9TcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNTcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzVGludGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHQgPSByZXF1aXJlKCcuL3RleHQvVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0U3R5bGUgPSByZXF1aXJlKCcuL3RleHQvVGV4dFN0eWxlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dFN0eWxlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dFN0eWxlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0TWV0cmljcyA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0TWV0cmljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHRNZXRyaWNzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dE1ldHJpY3MpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzID0gcmVxdWlyZSgnLi9ncmFwaGljcy9HcmFwaGljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyYXBoaWNzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3MpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzRGF0YSA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvR3JhcGhpY3NEYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3NEYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NEYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9HcmFwaGljc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3NSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSByZXF1aXJlKCcuL2dyYXBoaWNzL2NhbnZhcy9DYW52YXNHcmFwaGljc1JlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzR3JhcGhpY3NSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZXNoZWV0ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9TcHJpdGVzaGVldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZXNoZWV0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlc2hlZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1RleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeCA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmVNYXRyaXgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvQmFzZVRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCYXNlVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVuZGVyVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VSZW5kZXJUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVJlbmRlclRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1ZpZGVvQmFzZVRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdWaWRlb0Jhc2VUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlkZW9CYXNlVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZVV2cyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZVV2cycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmVVdnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlVXZzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzUmVuZGVyVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TaGFkZXIgPSByZXF1aXJlKCcuL1NoYWRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1NoYWRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvV2ViR0xNYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnV2ViR0xNYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9PYmplY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT2JqZWN0UmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVuZGVyVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9RdWFkID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUXVhZCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1F1YWQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGVNYXNrRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlTWFza0ZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRmlsdGVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FwcGxpY2F0aW9uID0gcmVxdWlyZSgnLi9BcHBsaWNhdGlvbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FwcGxpY2F0aW9uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXBwbGljYXRpb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2F1dG9EZXRlY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vYXV0b0RldGVjdFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYXV0b0RldGVjdFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2F1dG9EZXRlY3RSZW5kZXJlci5hdXRvRGV0ZWN0UmVuZGVyZXI7XG4gIH1cbn0pO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4vdGlja2VyJyk7XG5cbnZhciB0aWNrZXIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGlja2VyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLnNldHRpbmdzID0gX3NldHRpbmdzMi5kZWZhdWx0O1xuZXhwb3J0cy51dGlscyA9IHV0aWxzO1xuZXhwb3J0cy50aWNrZXIgPSB0aWNrZXI7XG5leHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0O1xuZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQ7IC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuYW1lc3BhY2UgUElYSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wcmVtdWx0aXBseUJsZW5kTW9kZSA9IGV4cG9ydHMuQmFzZVRleHR1cmVDYWNoZSA9IGV4cG9ydHMuVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5taXhpbnMgPSBleHBvcnRzLnBsdWdpblRhcmdldCA9IGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gZXhwb3J0cy5yZW1vdmVJdGVtcyA9IGV4cG9ydHMuaXNNb2JpbGUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLnVpZCA9IHVpZDtcbmV4cG9ydHMuaGV4MnJnYiA9IGhleDJyZ2I7XG5leHBvcnRzLmhleDJzdHJpbmcgPSBoZXgyc3RyaW5nO1xuZXhwb3J0cy5yZ2IyaGV4ID0gcmdiMmhleDtcbmV4cG9ydHMuZ2V0UmVzb2x1dGlvbk9mVXJsID0gZ2V0UmVzb2x1dGlvbk9mVXJsO1xuZXhwb3J0cy5kZWNvbXBvc2VEYXRhVXJpID0gZGVjb21wb3NlRGF0YVVyaTtcbmV4cG9ydHMuZ2V0VXJsRmlsZUV4dGVuc2lvbiA9IGdldFVybEZpbGVFeHRlbnNpb247XG5leHBvcnRzLmdldFN2Z1NpemUgPSBnZXRTdmdTaXplO1xuZXhwb3J0cy5za2lwSGVsbG8gPSBza2lwSGVsbG87XG5leHBvcnRzLnNheUhlbGxvID0gc2F5SGVsbG87XG5leHBvcnRzLmlzV2ViR0xTdXBwb3J0ZWQgPSBpc1dlYkdMU3VwcG9ydGVkO1xuZXhwb3J0cy5zaWduID0gc2lnbjtcbmV4cG9ydHMuZGVzdHJveVRleHR1cmVDYWNoZSA9IGRlc3Ryb3lUZXh0dXJlQ2FjaGU7XG5leHBvcnRzLmNsZWFyVGV4dHVyZUNhY2hlID0gY2xlYXJUZXh0dXJlQ2FjaGU7XG5leHBvcnRzLmNvcnJlY3RCbGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlO1xuZXhwb3J0cy5wcmVtdWx0aXBseVRpbnQgPSBwcmVtdWx0aXBseVRpbnQ7XG5leHBvcnRzLnByZW11bHRpcGx5UmdiYSA9IHByZW11bHRpcGx5UmdiYTtcbmV4cG9ydHMucHJlbXVsdGlwbHlUaW50VG9SZ2JhID0gcHJlbXVsdGlwbHlUaW50VG9SZ2JhO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9wbHVnaW5UYXJnZXQgPSByZXF1aXJlKCcuL3BsdWdpblRhcmdldCcpO1xuXG52YXIgX3BsdWdpblRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5UYXJnZXQpO1xuXG52YXIgX21peGluID0gcmVxdWlyZSgnLi9taXhpbicpO1xuXG52YXIgbWl4aW5zID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21peGluKTtcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgaXNNb2JpbGUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaXNtb2JpbGVqcyk7XG5cbnZhciBfcmVtb3ZlQXJyYXlJdGVtcyA9IHJlcXVpcmUoJ3JlbW92ZS1hcnJheS1pdGVtcycpO1xuXG52YXIgX3JlbW92ZUFycmF5SXRlbXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVtb3ZlQXJyYXlJdGVtcyk7XG5cbnZhciBfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMgPSByZXF1aXJlKCcuL21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzJyk7XG5cbnZhciBfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgbmV4dFVpZCA9IDA7XG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cbmV4cG9ydHMuaXNNb2JpbGUgPSBpc01vYmlsZTtcbmV4cG9ydHMucmVtb3ZlSXRlbXMgPSBfcmVtb3ZlQXJyYXlJdGVtczIuZGVmYXVsdDtcbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdDtcbmV4cG9ydHMucGx1Z2luVGFyZ2V0ID0gX3BsdWdpblRhcmdldDIuZGVmYXVsdDtcbmV4cG9ydHMubWl4aW5zID0gbWl4aW5zO1xuXG4vKipcbiAqIEdldHMgdGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UuXG4gKi9cblxuZnVuY3Rpb24gdWlkKCkge1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXggY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0KSB7XG4gICAgb3V0ID0gb3V0IHx8IFtdO1xuXG4gICAgb3V0WzBdID0gKGhleCA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsxXSA9IChoZXggPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXggY29sb3IgbnVtYmVyIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXhcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvci5cbiAqL1xuZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpIHtcbiAgICBoZXggPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleCA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4Lmxlbmd0aCkgKyBoZXg7XG5cbiAgICByZXR1cm4gJyMnICsgaGV4O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5IHRvIGEgaGV4IG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gcmdiIGFycmF5XG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjb2xvciBudW1iZXJcbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpIHtcbiAgICByZXR1cm4gKHJnYlswXSAqIDI1NSA8PCAxNikgKyAocmdiWzFdICogMjU1IDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciByZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuXG4gICAgaWYgKHJlc29sdXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuLyoqXG4gKiBUeXBlZGVmIGZvciBkZWNvbXBvc2VEYXRhVXJpIHJldHVybiBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS51dGlsc35EZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHttZWRpYVR5cGV9IE1lZGlhIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAcHJvcGVydHkge3N1YlR5cGV9IFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBwcm9wZXJ0eSB7ZW5jb2Rpbmd9IERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtkYXRhfSBUaGUgYWN0dWFsIGRhdGFcbiAqL1xuXG4vKipcbiAqIFNwbGl0IGEgZGF0YSBVUkkgaW50byBjb21wb25lbnRzLiBSZXR1cm5zIHVuZGVmaW5lZCBpZlxuICogcGFyYW1ldGVyIGBkYXRhVXJpYCBpcyBub3QgYSB2YWxpZCBkYXRhIFVSSS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmlcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gdGhlIGRhdGEgVVJJIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzfkRlY29tcG9zZWREYXRhVXJpfHVuZGVmaW5lZH0gVGhlIGRlY29tcG9zZWQgZGF0YSB1cmkgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmkoZGF0YVVyaSkge1xuICAgIHZhciBkYXRhVXJpTWF0Y2ggPSBfY29uc3QuREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcblxuICAgIGlmIChkYXRhVXJpTWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs0XVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0IHR5cGUgb2YgdGhlIGltYWdlIGJ5IHJlZ2V4cCBmb3IgZXh0ZW5zaW9uLiBSZXR1cm5zIHVuZGVmaW5lZCBmb3IgdW5rbm93biBleHRlbnNpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0VXJsRmlsZUV4dGVuc2lvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBpbWFnZSBleHRlbnNpb25cbiAqL1xuZnVuY3Rpb24gZ2V0VXJsRmlsZUV4dGVuc2lvbih1cmwpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gX2NvbnN0LlVSTF9GSUxFX0VYVEVOU0lPTi5leGVjKHVybCk7XG5cbiAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiBleHRlbnNpb25bMV0udG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFR5cGVkZWYgZm9yIFNpemUgb2JqZWN0LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBJWEkudXRpbHN+U2l6ZVxuICogQHByb3BlcnR5IHt3aWR0aH0gV2lkdGggY29tcG9uZW50XG4gKiBAcHJvcGVydHkge2hlaWdodH0gSGVpZ2h0IGNvbXBvbmVudFxuICovXG5cbi8qKlxuICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIHJlZ2V4cC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFN2Z1NpemVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAqIEByZXR1cm4ge1BJWEkudXRpbHN+U2l6ZXx1bmRlZmluZWR9IGltYWdlIGV4dGVuc2lvblxuICovXG5mdW5jdGlvbiBnZXRTdmdTaXplKHN2Z1N0cmluZykge1xuICAgIHZhciBzaXplTWF0Y2ggPSBfY29uc3QuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgIHZhciBzaXplID0ge307XG5cbiAgICBpZiAoc2l6ZU1hdGNoKSB7XG4gICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgIH1cblxuICAgIHJldHVybiBzaXplO1xufVxuXG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpIHtcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2VzIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpIHtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbJ1xcbiAlYyAlYyAlYyBQaXhpSlMgJyArIF9jb25zdC5WRVJTSU9OICsgJyAtIFxcdTI3MzAgJyArIHR5cGUgKyAnIFxcdTI3MzAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMgXFx1MjY2NSVjXFx1MjY2NSVjXFx1MjY2NSBcXG5cXG4nLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjY2YTU7IGJhY2tncm91bmQ6ICMwMzAzMDc7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZmMzZGM7IHBhZGRpbmc6NXB4IDA7JywgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7J107XG5cbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdQaXhpSlMgJyArIF9jb25zdC5WRVJTSU9OICsgJyAtICcgKyB0eXBlICsgJyAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8nKTtcbiAgICB9XG5cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIHdlYmdsIHN1cHBvcnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlzIHdlYmdsIHN1cHBvcnRlZFxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCkge1xuICAgIHZhciBjb250ZXh0T3B0aW9ucyA9IHsgc3RlbmNpbDogdHJ1ZSwgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogdHJ1ZSB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnbCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgc2lnbiBvZiBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHNpZ25cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gdGhlIG51bWJlciB0byBjaGVjayB0aGUgc2lnbiBvZlxuICogQHJldHVybnMge251bWJlcn0gMCBpZiBgbmAgaXMgMCwgLTEgaWYgYG5gIGlzIG5lZ2F0aXZlLCAxIGlmIGBuYCBpcyBwb3NpdGl2ZVxuICovXG5mdW5jdGlvbiBzaWduKG4pIHtcbiAgICBpZiAobiA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHR1cmVDYWNoZSA9IGV4cG9ydHMuVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IGV4cG9ydHMuQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogRGVzdHJveXMgYWxsIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleSA9IHZvaWQgMDtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleSA9IHZvaWQgMDtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG59XG5cbi8qKlxuICogbWFwcyBwcmVtdWx0aXBseSBmbGFnIGFuZCBibGVuZE1vZGUgdG8gYWRqdXN0ZWQgYmxlbmRNb2RlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlXG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyW10+fVxuICovXG52YXIgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBleHBvcnRzLnByZW11bHRpcGx5QmxlbmRNb2RlID0gKDAsIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIuZGVmYXVsdCkoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkICB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZCkge1xuICAgIHJldHVybiBwcmVtdWx0aXBseUJsZW5kTW9kZVtwcmVtdWx0aXBsaWVkID8gMSA6IDBdW2JsZW5kTW9kZV07XG59XG5cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGludGVnZXQgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKSB7XG4gICAgaWYgKGFscGhhID09PSAxLjApIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIFIgPSB0aW50ID4+IDE2ICYgMHhGRjtcbiAgICB2YXIgRyA9IHRpbnQgPj4gOCAmIDB4RkY7XG4gICAgdmFyIEIgPSB0aW50ICYgMHhGRjtcblxuICAgIFIgPSBSICogYWxwaGEgKyAwLjUgfCAwO1xuICAgIEcgPSBHICogYWxwaGEgKyAwLjUgfCAwO1xuICAgIEIgPSBCICogYWxwaGEgKyAwLjUgfCAwO1xuXG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG5cbi8qKlxuICogY29tYmluZXMgcmdiIGFuZCBhbHBoYSB0byBvdXQgYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IHJnYiBpbnB1dCByZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdICogYWxwaGE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIGNvbnZlcnRzIGludGVnZXIgdGludCBhbmQgZmxvYXQgYWxwaGEgdG8gdmVjNCBmb3JtLCBwcmVtdWx0aXBsaWVzIGJ5IGRlZmF1bHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICh0aW50ID4+IDE2ICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAodGludCA+PiA4ICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMl0gPSAodGludCAmIDB4RkYpIC8gMjU1LjA7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX21heFJlY29tbWVuZGVkVGV4dHVyZXMgPSByZXF1aXJlKCcuL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMnKTtcblxudmFyIF9tYXhSZWNvbW1lbmRlZFRleHR1cmVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21heFJlY29tbWVuZGVkVGV4dHVyZXMpO1xuXG52YXIgX2NhblVwbG9hZFNhbWVCdWZmZXIgPSByZXF1aXJlKCcuL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXInKTtcblxudmFyIF9jYW5VcGxvYWRTYW1lQnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVwbG9hZFNhbWVCdWZmZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFVzZXIncyBjdXN0b21pemFibGUgZ2xvYmFscyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBQSVhJIHNldHRpbmdzLCBzdWNoXG4gKiBhcyBhIHJlbmRlcmVyJ3MgZGVmYXVsdCByZXNvbHV0aW9uLCBmcmFtZXJhdGUsIGZsb2F0IHBlcmNpc2lvbiwgZXRjLlxuICogQGV4YW1wbGVcbiAqIC8vIFVzZSB0aGUgbmF0aXZlIHdpbmRvdyByZXNvbHV0aW9uIGFzIHRoZSBkZWZhdWx0IHJlc29sdXRpb25cbiAqIC8vIHdpbGwgc3VwcG9ydCBoaWdoLWRlbnNpdHkgZGlzcGxheXMgd2hlbiByZW5kZXJpbmdcbiAqIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLlxuICpcbiAqIC8vIERpc2FibGUgaW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcsIHdpbGwgbWFrZSB0ZXh0dXJlIGJlIHBpeGVsYXRlZFxuICogUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuICogQG5hbWVzcGFjZSBQSVhJLnNldHRpbmdzXG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcblxuICAvKipcbiAgICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMC4wNlxuICAgKi9cbiAgVEFSR0VUX0ZQTVM6IDAuMDYsXG5cbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIE1JUE1BUF9URVhUVVJFUzogdHJ1ZSxcblxuICAvKipcbiAgICogRGVmYXVsdCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBSRVNPTFVUSU9OOiAxLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGZpbHRlciByZXNvbHV0aW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDMyXG4gICAqL1xuICBTUFJJVEVfTUFYX1RFWFRVUkVTOiAoMCwgX21heFJlY29tbWVuZGVkVGV4dHVyZXMyLmRlZmF1bHQpKDMyKSxcblxuICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgLy8gVE9ETzogbWF5YmUgYWRkIFBBUlRJQ0xFLkJBVENIX1NJWkU6IDE1MDAwXG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgNDA5NlxuICAgKi9cbiAgU1BSSVRFX0JBVENIX1NJWkU6IDQwOTYsXG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmaXggdGhhdCBkZW5vdGVzIGEgVVJMIGlzIGZvciBhIHJldGluYSBhc3NldC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgKiBAZXhhbXBsZSBgQDJ4YFxuICAgKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAgICovXG4gIFJFVElOQV9QUkVGSVg6IC9AKFswLTlcXC5dKyl4LyxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdGFudFxuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRlhBQT1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9SZXNpemU9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc3BhcmVudD1mYWxzZVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHJvdW5kUGl4ZWxzPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aD04MDBcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodD02MDBcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICovXG4gIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgdmlldzogbnVsbCxcbiAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgIGZvcmNlRlhBQTogZmFsc2UsXG4gICAgYXV0b1Jlc2l6ZTogZmFsc2UsXG4gICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgIGJhY2tncm91bmRDb2xvcjogMHgwMDAwMDAsXG4gICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICByb3VuZFBpeGVsczogZmFsc2UsXG4gICAgd2lkdGg6IDgwMCxcbiAgICBoZWlnaHQ6IDYwMCxcbiAgICBsZWdhY3k6IGZhbHNlXG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAqL1xuICBUUkFOU0ZPUk1fTU9ERTogMCxcblxuICAvKipcbiAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5HQ19NT0RFUy5BVVRPXG4gICAqL1xuICBHQ19NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAzNjAwXG4gICAqL1xuICBHQ19NQVhfSURMRTogNjAgKiA2MCxcblxuICAvKipcbiAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4aW11bSBjaGVjayBjb3VudC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA2MDBcbiAgICovXG4gIEdDX01BWF9DSEVDS19DT1VOVDogNjAgKiAxMCxcblxuICAvKipcbiAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLldSQVBfTU9ERVN9XG4gICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgKi9cbiAgV1JBUF9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAqL1xuICBTQ0FMRV9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHZlcnRleCBzaGFkZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5ISUdIXG4gICAqL1xuICBQUkVDSVNJT05fVkVSVEVYOiAnaGlnaHAnLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgKi9cbiAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiAnbWVkaXVtcCcsXG5cbiAgLyoqXG4gICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBjb25zdGFudFxuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIENBTl9VUExPQURfU0FNRV9CVUZGRVI6ICgwLCBfY2FuVXBsb2FkU2FtZUJ1ZmZlcjIuZGVmYXVsdCkoKSxcblxuICAvKipcbiAgICogRGVmYXVsdCBNZXNoIGBjYW52YXNQYWRkaW5nYC5cbiAgICpcbiAgICogQHNlZSBQSVhJLm1lc2guTWVzaCNjYW52YXNQYWRkaW5nXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBNRVNIX0NBTlZBU19QQURESU5HOiAwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi9Qb2ludCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BvaW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9pbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX09ic2VydmFibGVQb2ludCA9IHJlcXVpcmUoJy4vT2JzZXJ2YWJsZVBvaW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT2JzZXJ2YWJsZVBvaW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JzZXJ2YWJsZVBvaW50KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9NYXRyaXggPSByZXF1aXJlKCcuL01hdHJpeCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01hdHJpeCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfR3JvdXBEID0gcmVxdWlyZSgnLi9Hcm91cEQ4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JvdXBEOCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwRCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2lyY2xlID0gcmVxdWlyZSgnLi9zaGFwZXMvQ2lyY2xlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2lyY2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2lyY2xlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9FbGxpcHNlID0gcmVxdWlyZSgnLi9zaGFwZXMvRWxsaXBzZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0VsbGlwc2UnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbGxpcHNlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Qb2x5Z29uID0gcmVxdWlyZSgnLi9zaGFwZXMvUG9seWdvbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BvbHlnb24nLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2x5Z29uKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZWN0YW5nbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9SZWN0YW5nbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSZWN0YW5nbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWN0YW5nbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JvdW5kZWRSZWN0YW5nbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUm91bmRlZFJlY3RhbmdsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvdW5kZWRSZWN0YW5nbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwidmFyIGdsID0ge1xuICAgIGNyZWF0ZUNvbnRleHQ6ICAgICAgICAgIHJlcXVpcmUoJy4vY3JlYXRlQ29udGV4dCcpLFxuICAgIHNldFZlcnRleEF0dHJpYkFycmF5czogIHJlcXVpcmUoJy4vc2V0VmVydGV4QXR0cmliQXJyYXlzJyksXG4gICAgR0xCdWZmZXI6ICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTEJ1ZmZlcicpLFxuICAgIEdMRnJhbWVidWZmZXI6ICAgICAgICAgIHJlcXVpcmUoJy4vR0xGcmFtZWJ1ZmZlcicpLFxuICAgIEdMU2hhZGVyOiAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xTaGFkZXInKSxcbiAgICBHTFRleHR1cmU6ICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMVGV4dHVyZScpLFxuICAgIFZlcnRleEFycmF5T2JqZWN0OiAgICAgIHJlcXVpcmUoJy4vVmVydGV4QXJyYXlPYmplY3QnKSxcbiAgICBzaGFkZXI6ICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3NoYWRlcicpXG59O1xuXG4vLyBFeHBvcnQgZm9yIE5vZGUtY29tcGF0aWJsZSBlbnZpcm9ubWVudHNcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cylcbntcbiAgICAvLyBFeHBvcnQgdGhlIG1vZHVsZVxuICAgIG1vZHVsZS5leHBvcnRzID0gZ2w7XG59XG5cbi8vIEFkZCB0byB0aGUgYnJvd3NlciB3aW5kb3cgcGl4aS5nbFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxue1xuICAgIC8vIGFkZCB0aGUgd2luZG93IG9iamVjdFxuICAgIHdpbmRvdy5QSVhJID0gd2luZG93LlBJWEkgfHwge307XG4gICAgd2luZG93LlBJWEkuZ2xDb3JlID0gZ2w7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZSk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vVmlkZW9CYXNlVGV4dHVyZScpO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlkZW9CYXNlVGV4dHVyZSk7XG5cbnZhciBfVGV4dHVyZVV2cyA9IHJlcXVpcmUoJy4vVGV4dHVyZVV2cycpO1xuXG52YXIgX1RleHR1cmVVdnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZVV2cyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS4gSXQgY2Fubm90IGJlIGFkZGVkXG4gKiB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5LiBJbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkXG4gKiB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoVGV4dHVyZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlKGJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgcm90YXRlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYF91cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCBhIHJlbmRlcmVyIGtub3cgdGhhdCBhIHRleHR1cmUgaGFzIGJlZW4gdXBkYXRlZCAodXNlZCBtYWlubHkgZm9yIHdlYkdMIHV2IHVwZGF0ZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXF1aXJlc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3V2cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsgLy8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcblxuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIF90aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKF90aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZUxvYWRlZCwgX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZC4gVGhpcyBoYXBwZW5zIGlmIHRoZSBmcmFtZSBvciB0aGUgYmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udGFpbnMgZGF0YSBmb3IgdXZzLiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBhbmQgc29tZSBtYXRyaWNlcy5cbiAgICAgICAgICogSXRzIGEgYml0IGhlYXZ5LCBzbyBieSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIFRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVMb2FkZWQgPSBmdW5jdGlvbiBvbkJhc2VUZXh0dXJlTG9hZGVkKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIG9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koZGVzdHJveUJhc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgdGV4dHVyZSBpZiBpdCBleGlzdHMgaW4gdGhlIHRleHR1cmUgY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgb25seSBuZWVkcyB0byBiZSByZW1vdmVkIGlmIHRoZSBiYXNlIHRleHR1cmUgaXMgYWN0dWFsbHkgZGVzdHJveWVkIHRvby4uXG4gICAgICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbdGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVMb2FkZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmltID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0ZXh0dXJlIG9iamVjdCB0aGF0IGFjdHMgdGhlIHNhbWUgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZSwgdGhpcy5vcmlnLCB0aGlzLnRyaW0sIHRoaXMucm90YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgV2ViR0wgVVYgY2FjaGUuIFVzZSBpdCBhZnRlciB5b3UgY2hhbmdlIGBmcmFtZWAgb3IgYHRyaW1gIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlVXZzID0gZnVuY3Rpb24gX3VwZGF0ZVV2cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl91dnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBfVGV4dHVyZVV2czIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBUZXh0dXJlIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBpbWFnZSB1cmwuXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlICBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlVXJsIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luXSAtIFdoZXRoZXIgcmVxdWVzdHMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VTY2FsZT0oYXV0byldIC0gU2NhbGUgZm9yIHRoZSBvcmlnaW5hbCBpbWFnZSwgdXNlZCB3aXRoIFNWRyBpbWFnZXMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tSW1hZ2UoaW1hZ2VVcmwsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVDYWNoZSBiYXNlZCBvbiB0aGUgZnJhbWVJZFxuICAgICAqIFRoZSBmcmFtZSBpZHMgYXJlIGNyZWF0ZWQgd2hlbiBhIFRleHR1cmUgcGFja2VyIGZpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lSWQgLSBUaGUgZnJhbWUgSWQgb2YgdGhlIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ZyYW1lSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicgKyBmcmFtZUlkICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBnaXZlbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGVsZW1lbnQgc291cmNlIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JpZ2luPSdjYW52YXMnXSAtIEEgc3RyaW5nIG9yaWdpbiBvZiB3aG8gY3JlYXRlZCB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NhbnZhcyc7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlLCBvcmlnaW4pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBnaXZlbiB2aWRlbyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxzdHJpbmd9IHZpZGVvIC0gVGhlIFVSTCBvciBhY3R1YWwgZWxlbWVudCBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlb1VybCh2aWRlbywgc2NhbGVNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfVmlkZW9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tVmlkZW8odmlkZW8sIHNjYWxlTW9kZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHZpZGVvIHVybC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmlkZW9VcmwgLSBVUkwgb2YgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21WaWRlb1VybCA9IGZ1bmN0aW9uIGZyb21WaWRlb1VybCh2aWRlb1VybCwgc2NhbGVNb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfVmlkZW9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tVXJsKHZpZGVvVXJsLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9XG4gICAgICogICAgICAgIHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlKSB7XG4gICAgICAgIC8vIFRPRE8gYXV0byBkZXRlY3QgY3Jvc3Mgb3JpZ2luLi5cbiAgICAgICAgLy8gVE9ETyBwYXNzIGluIHNjYWxlIG1vZGU/XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW3NvdXJjZV07XG5cbiAgICAgICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBhIHZpZGVvLi5cbiAgICAgICAgICAgICAgICB2YXIgaXNWaWRlbyA9IHNvdXJjZS5tYXRjaCgvXFwuKG1wNHx3ZWJtfG9nZ3xoMjY0fGF2aXxtb3YpJC8pICE9PSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzVmlkZW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbUltYWdlKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbShzb3VyY2UpKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbUNhbnZhcyhzb3VyY2UsIF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFLCAnSFRNTENhbnZhc0VsZW1lbnQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW8oc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBfQmFzZVRleHR1cmUyLmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGlibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUxvYWRlciA9IGZ1bmN0aW9uIGZyb21Mb2FkZXIoc291cmNlLCBpbWFnZVVybCwgbmFtZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KHNvdXJjZSwgdW5kZWZpbmVkLCAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpKTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yIGZyb21GcmFtZSBhbmQgZnJvbUltYWdlIGZ1Y250aW9uc1xuICAgICAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuXG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBUZXh0dXJlIHRvIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBAaWYgREVCVUdcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJyArIGlkICsgJ10gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICAvLyBAZW5kaWZcblxuICAgICAgICAgICAgX3V0aWxzLlRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhY2hlKHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcm9tQ2FjaGUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgKiBQbGVhc2UgY2FsbCBgX3VwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHR1cmUsIFt7XG4gICAgICAgIGtleTogJ2ZyYW1lJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZyYW1lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciB4ID0gZnJhbWUueCxcbiAgICAgICAgICAgICAgICB5ID0gZnJhbWUueSxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGZyYW1lLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IGZyYW1lLmhlaWdodDtcblxuICAgICAgICAgICAgdmFyIHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclggPSAnWDogJyArIHggKyAnICsgJyArIHdpZHRoICsgJyA9ICcgKyAoeCArIHdpZHRoKSArICcgPiAnICsgdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JZID0gJ1k6ICcgKyB5ICsgJyArICcgKyBoZWlnaHQgKyAnID0gJyArICh5ICsgaGVpZ2h0KSArICcgPiAnICsgdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnICsgKGVycm9yWCArICcgJyArIHJlbGF0aW9uc2hpcCArICcgJyArIGVycm9yWSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUuc291cmNlICYmIHRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkO1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgcm90YXRlZCBpbnNpZGUgdGhlIGF0bGFzXG4gICAgICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBjYW4gYmUgdXNlZCB0byByb3RhdGUgb3IgbWlycm9yIHNwcml0ZXNcbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyb3RhdGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHJvdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dHVyZTtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmU7XG5cblxuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDEwO1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxMCwgMTApO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoY2FudmFzKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7LyogZW1wdHkgKi99O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgey8qIGVtcHR5ICovfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdCgpKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDEweDEwIHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZXhpc3RzIE9ubHkgY2hlY2sgaWYgdGhlcmUgYXJlIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtBcnJheXxCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQsIGV4aXN0cykge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgYXZhaWxhYmxlID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGV4aXN0cykgcmV0dXJuICEhYXZhaWxhYmxlO1xuICBpZiAoIWF2YWlsYWJsZSkgcmV0dXJuIFtdO1xuICBpZiAoYXZhaWxhYmxlLmZuKSByZXR1cm4gW2F2YWlsYWJsZS5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdmFpbGFibGUubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gYXZhaWxhYmxlW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCB0aGlzLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW3RoaXMuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcywgdHJ1ZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuXG4gICAgICAmJiAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpXG4gICAgICAmJiAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm5cbiAgICAgICAgfHwgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKVxuICAgICAgICB8fCAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIFRoaXMgZnVuY3Rpb24gZG9lc24ndCBhcHBseSBhbnltb3JlLlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luID0gcmVxdWlyZSgnLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4nKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXRlcm1pbmVDcm9zc09yaWdpbik7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS4gQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEJhc2VUZXh0dXJlLCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gW3NvdXJjZV0gLSB0aGUgc291cmNlIG9iamVjdCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZVRleHR1cmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMudWlkID0gKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgLy8gVE9ETyBkb2NzXG4gICAgICAgIC8vIHVzZWQgdG8gc3RvcmUgdGhlIGFjdHVhbCBkaW1lbnNpb25zIG9mIHRoZSBzb3VyY2VcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gc3RvcmUgdGhlIGFjdHVhbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVhbFdpZHRoID0gMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVhbEhlaWdodCA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0NBTEVfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIG9uY2UgdGhlIGJhc2UgdGV4dHVyZSBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBuZXZlciB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBmYWlscyB0byBsb2FkIG9yIGhhcyBubyB0ZXh0dXJlIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIGlmIHRoZSBzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGFuIEltYWdlIHNvdXJjZSBpcyBsb2FkaW5nIHRoZSAnbG9hZGVkJyBvciAnZXJyb3InIGV2ZW50IHdpbGwgYmVcbiAgICAgICAgICogZGlzcGF0Y2hlZCB3aGVuIHRoZSBvcGVyYXRpb24gZW5kcy4gQW4gdW5kZXJ5bGluZyBzb3VyY2UgdGhhdCBpc1xuICAgICAgICAgKiBpbW1lZGlhdGVseS1hdmFpbGFibGUgYnlwYXNzZXMgbG9hZGluZyBlbnRpcmVseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHNvdXJjZSB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBNYWtlIHRoaXMgYSBzZXR0ZXIgdGhhdCBjYWxscyBsb2FkU291cmNlKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlID0gbnVsbDsgLy8gc2V0IGluIGxvYWRTb3VyY2UsIGlmIGF0IGFsbFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2Ugc291cmNlIHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHRleHR1cmUuIFRoaXMgaXMgdXNlZCB0b1xuICAgICAgICAgKiBzdG9yZSB0aGUgb3JpZ2luYWwgU3ZnIHNvdXJjZSB3aGVuIGl0IGlzIHJlcGxhY2VkIHdpdGggYSBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogQ3VycmVudGx5IG5vdCBpbiB1c2UgYnV0IGNvdWxkIGJlIHVzZWQgd2hlbiByZS1zY2FsaW5nIHN2Zy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ1NvdXJjZSA9IG51bGw7IC8vIHNldCBpbiBsb2FkU3ZnLCBpZiBhdCBhbGxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiBpbWFnZSBkZWZpbmVkIGluIHNvdXJjZSwgZWcuIGBwbmdgIG9yIGBzdmdgXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVR5cGUgPSBudWxsOyAvLyBzZXQgaW4gdXBkYXRlSW1hZ2VUeXBlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlIGZvciBzb3VyY2UgaW1hZ2UuIFVzZWQgd2l0aCBTdmcgaW1hZ2VzIHRvIHNjYWxlIHRoZW0gYmVmb3JlIHJhc3Rlcml6YXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VTY2FsZSA9IDEuMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgaWYgUkdCIGNoYW5uZWxzIHNob3VsZCBiZSBwcmUtbXVsdGlwbGllZCBieSBBbHBoYSAgKFdlYkdMIG9ubHkpXG4gICAgICAgICAqIEFsbCBibGVuZCBtb2RlcywgYW5kIHNoYWRlcnMgd3JpdHRlbiBmb3IgZGVmYXVsdCB2YWx1ZS4gQ2hhbmdlIGl0IG9uIHlvdXIgb3duIHJpc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZW11bHRpcGxpZWRBbHBoYSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VVcmwgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2VkIGZvciB3ZWJHTFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIGEgbWlwbWFwIG9mIHRoaXMgdGV4dHVyZSBuZWVkcyB0byBiZSBnZW5lcmF0ZWQuIFRoaXMgdmFsdWUgbmVlZHNcbiAgICAgICAgICogdG8gYmUgc2V0IGJlZm9yZSB0aGUgdGV4dHVyZSBpcyB1c2VkXG4gICAgICAgICAqIEFsc28gdGhlIHRleHR1cmUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBzaXplIHRvIHdvcmtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHNlZSBQSVhJLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWlwbWFwID0gX3NldHRpbmdzMi5kZWZhdWx0Lk1JUE1BUF9URVhUVVJFUztcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogV2ViR0wgVGV4dHVyZSB3cmFwIG1vZGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuV1JBUF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud3JhcE1vZGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuV1JBUF9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgdGV4dHVyZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbFRleHR1cmVzID0ge307XG5cbiAgICAgICAgX3RoaXMuX2VuYWJsZWQgPSAwO1xuICAgICAgICBfdGhpcy5fdmlydGFsQm91bmRJZCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgQmFzZVRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGJhc2UgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogQmFzZVRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIEJhc2VUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgLy8gaWYgbm8gc291cmNlIHBhc3NlZCBkb24ndCB0cnkgdG8gbG9hZFxuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkU291cmNlKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRleHR1cmUgb24gYWxsIHRoZSB3ZWJnbCByZW5kZXJlcnMsIHRoaXMgYWxzbyBhc3N1bWVzIHRoZSBzcmMgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgLy8gU3ZnIHNpemUgaXMgaGFuZGxlZCBkdXJpbmcgbG9hZFxuICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgIT09ICdzdmcnKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWxXaWR0aCA9IHRoaXMuc291cmNlLm5hdHVyYWxXaWR0aCB8fCB0aGlzLnNvdXJjZS52aWRlb1dpZHRoIHx8IHRoaXMuc291cmNlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5yZWFsSGVpZ2h0ID0gdGhpcy5zb3VyY2UubmF0dXJhbEhlaWdodCB8fCB0aGlzLnNvdXJjZS52aWRlb0hlaWdodCB8fCB0aGlzLnNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBkaW1lbnNpb25zIGZyb20gcmVhbCB2YWx1ZXNcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl91cGRhdGVEaW1lbnNpb25zID0gZnVuY3Rpb24gX3VwZGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnJlYWxXaWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJlYWxIZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5pc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIF9iaXRUd2lkZGxlMi5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgc291cmNlLlxuICAgICAqXG4gICAgICogSWYgdGhlIHNvdXJjZSBpcyBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlLCBzdWNoIGFzIGFuIGltYWdlIHRoYXQgbmVlZHMgdG8gYmVcbiAgICAgKiBkb3dubG9hZGVkLCB0aGVuIHRoZSAnbG9hZGVkJyBvciAnZXJyb3InIGV2ZW50IHdpbGwgYmUgZGlzcGF0Y2hlZCBpbiB0aGUgZnV0dXJlXG4gICAgICogYW5kIGBoYXNMb2FkZWRgIHdpbGwgcmVtYWluIGZhbHNlIGFmdGVyIHRoaXMgY2FsbC5cbiAgICAgKlxuICAgICAqIFRoZSBsb2dpYyBzdGF0ZSBhZnRlciBjYWxsaW5nIGBsb2FkU291cmNlYCBkaXJlY3RseSBvciBpbmRpcmVjdGx5IChlZy4gYGZyb21JbWFnZWAsIGBuZXcgQmFzZVRleHR1cmVgKSBpczpcbiAgICAgKlxuICAgICAqICAgICBpZiAodGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgKiAgICAgICAgLy8gdGV4dHVyZSByZWFkeSBmb3IgdXNlXG4gICAgICogICAgIH0gZWxzZSBpZiAodGV4dHVyZS5pc0xvYWRpbmcpIHtcbiAgICAgKiAgICAgICAgLy8gbGlzdGVuIHRvICdsb2FkZWQnIGFuZC9vciAnZXJyb3InIGV2ZW50cyBvbiB0ZXh0dXJlXG4gICAgICogICAgIH0gZWxzZSB7XG4gICAgICogICAgICAgIC8vIG5vdCBsb2FkaW5nLCBub3QgZ29pbmcgdG8gbG9hZCBVTkxFU1MgdGhlIHNvdXJjZSBpcyByZWxvYWRlZFxuICAgICAqICAgICAgICAvLyAoaXQgbWF5IHN0aWxsIG1ha2Ugc2Vuc2UgdG8gbGlzdGVuIHRvIHRoZSBldmVudHMpXG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIHRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUubG9hZFNvdXJjZSA9IGZ1bmN0aW9uIGxvYWRTb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHZhciB3YXNMb2FkaW5nID0gdGhpcy5pc0xvYWRpbmc7XG5cbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2FzTG9hZGluZyAmJiB0aGlzLnNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpcnN0U291cmNlTG9hZGVkID0gIXRoaXMuc291cmNlO1xuXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuXG4gICAgICAgIC8vIEFwcGx5IHNvdXJjZSBpZiBsb2FkZWQuIE90aGVyd2lzZSBzZXR1cCBhcHByb3ByaWF0ZSBsb2FkaW5nIG1vbml0b3JzLlxuICAgICAgICBpZiAoKHNvdXJjZS5zcmMgJiYgc291cmNlLmNvbXBsZXRlIHx8IHNvdXJjZS5nZXRDb250ZXh0KSAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlSW1hZ2VUeXBlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTb3VyY2VMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzZW5kIGxvYWRlZCBldmVudCBpZiBwcmV2aW91cyBzb3VyY2Ugd2FzIG51bGwgYW5kIHdlIGhhdmUgYmVlbiBwYXNzZWQgYSBwcmUtbG9hZGVkIElNRyBlbGVtZW50XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghc291cmNlLmdldENvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIEltYWdlIGZhaWwgLyBub3QgcmVhZHlcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5fdXBkYXRlSW1hZ2VUeXBlKCk7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLl9zb3VyY2VMb2FkZWQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLl9sb2FkU3ZnU291cmNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmVtaXQoJ2xvYWRlZCcsIHNjb3BlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghc2NvcGUuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5lbWl0KCdlcnJvcicsIHNjb3BlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFBlciBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCN0aGUtaW1nLWVsZW1lbnRcbiAgICAgICAgICAgIC8vICAgXCJUaGUgdmFsdWUgb2YgYGNvbXBsZXRlYCBjYW4gdGh1cyBjaGFuZ2Ugd2hpbGUgYSBzY3JpcHQgaXMgZXhlY3V0aW5nLlwiXG4gICAgICAgICAgICAvLyBTbyBjb21wbGV0ZSBuZWVkcyB0byBiZSByZS1jaGVja2VkIGFmdGVyIHRoZSBjYWxsYmFja3MgaGF2ZSBiZWVuIGFkZGVkLi5cbiAgICAgICAgICAgIC8vIE5PVEU6IGNvbXBsZXRlIHdpbGwgYmUgdHJ1ZSBpZiB0aGUgaW1hZ2UgaGFzIG5vIHNyYyBzbyBiZXN0IHRvIGNoZWNrIGlmIHRoZSBzcmMgaXMgc2V0LlxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKSB7XG4gICAgICAgICAgICAgICAgLy8gLi5hbmQgaWYgd2UncmUgY29tcGxldGUgbm93LCBubyBuZWVkIGZvciBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5fbG9hZFN2Z1NvdXJjZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBwcmV2aW91cyBzdWJzY3JpYmVycyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBpZiAod2FzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBhbnkgcHJldmlvdXMgc3Vic2NyaWJlcnMgcG9zc2libGVcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHR5cGUgb2YgdGhlIHNvdXJjZSBpbWFnZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl91cGRhdGVJbWFnZVR5cGUgPSBmdW5jdGlvbiBfdXBkYXRlSW1hZ2VUeXBlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVXJpID0gKDAsIF91dGlscy5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTtcbiAgICAgICAgdmFyIGltYWdlVHlwZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoZGF0YVVyaSAmJiBkYXRhVXJpLm1lZGlhVHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1YlR5cGUgdmFsaWRpdHlcbiAgICAgICAgICAgIHZhciBmaXJzdFN1YlR5cGUgPSBkYXRhVXJpLnN1YlR5cGUuc3BsaXQoJysnKVswXTtcblxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gKDAsIF91dGlscy5nZXRVcmxGaWxlRXh0ZW5zaW9uKSgnLicgKyBmaXJzdFN1YlR5cGUpO1xuXG4gICAgICAgICAgICBpZiAoIWltYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbWFnZSB0eXBlIGluIGRhdGEgVVJJLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1hZ2VUeXBlID0gKDAsIF91dGlscy5nZXRVcmxGaWxlRXh0ZW5zaW9uKSh0aGlzLmltYWdlVXJsKTtcblxuICAgICAgICAgICAgaWYgKCFpbWFnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVR5cGUgPSAncG5nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW1hZ2VUeXBlID0gaW1hZ2VUeXBlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHNvdXJjZWAgaXMgYW4gU1ZHIGltYWdlIGFuZCB3aGV0aGVyIGl0J3MgbG9hZGVkIHZpYSBhIFVSTCBvciBhIGRhdGEgVVJJLiBUaGVuIGNhbGxzXG4gICAgICogYF9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpYCBvciBgX2xvYWRTdmdTb3VyY2VVc2luZ1hocmAuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlKCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgIT09ICdzdmcnKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHNvdXJjZSBpcyBub3Qgc3ZnXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVVyaSA9ICgwLCBfdXRpbHMuZGVjb21wb3NlRGF0YVVyaSkodGhpcy5pbWFnZVVybCk7XG5cbiAgICAgICAgaWYgKGRhdGFVcmkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkoZGF0YVVyaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBnb3QgYW4gVVJMLCBzbyB3ZSBuZWVkIHRvIGRvIGFuIFhIUiB0byBjaGVjayB0aGUgc3ZnIHNpemVcbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ1hocigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBkYXRhIFVSSSBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIFRoZSBkYXRhIHVyaSB0byBsb2FkIGZyb20uXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaSA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICAgICAgdmFyIHN2Z1N0cmluZyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoZGF0YVVyaS5lbmNvZGluZyA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgICAgICAgIGlmICghYXRvYikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN2Z1N0cmluZyA9IGF0b2IoZGF0YVVyaS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN2Z1N0cmluZyA9IGRhdGFVcmkuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhzdmdTdHJpbmcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgc3RyaW5nIGZyb20gYGltYWdlVXJsYCB1c2luZyBYSFIgYW5kIHRoZW4gY2FsbHMgYF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmdgLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ1hociA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdYaHIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdmdYaHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBUaGlzIHRocm93cyBlcnJvciBvbiBJRSwgc28gU1ZHIERvY3VtZW50IGNhbid0IGJlIHVzZWRcbiAgICAgICAgLy8gc3ZnWGhyLnJlc3BvbnNlVHlwZSA9ICdkb2N1bWVudCc7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBub3QgbmVlZGVkIHNpbmNlIHdlIGxvYWQgdGhlIHN2ZyBhcyBzdHJpbmcgKGJyZWFrcyBJRSB0b28pXG4gICAgICAgIC8vIGJ1dCBvdmVycmlkZU1pbWVUeXBlKCkgY2FuIGJlIHVzZWQgdG8gZm9yY2UgdGhlIHJlc3BvbnNlIHRvIGJlIHBhcnNlZCBhcyBYTUxcbiAgICAgICAgLy8gc3ZnWGhyLm92ZXJyaWRlTWltZVR5cGUoJ2ltYWdlL3N2Zyt4bWwnKTtcblxuICAgICAgICBzdmdYaHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN2Z1hoci5yZWFkeVN0YXRlICE9PSBzdmdYaHIuRE9ORSB8fCBzdmdYaHIuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFNWRyB1c2luZyBYSFIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMi5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1hoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc3ZnWGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmVtaXQoJ2Vycm9yJywgX3RoaXMyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdmdYaHIub3BlbignR0VUJywgdGhpcy5pbWFnZVVybCwgdHJ1ZSk7XG4gICAgICAgIHN2Z1hoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRleHR1cmUgdXNpbmcgYW4gU1ZHIHN0cmluZy4gVGhlIG9yaWdpbmFsIFNWRyBJbWFnZSBpcyBzdG9yZWQgYXMgYG9yaWdTb3VyY2VgIGFuZCB0aGVcbiAgICAgKiBjcmVhdGVkIGNhbnZhcyBpcyB0aGUgbmV3IGBzb3VyY2VgLiBUaGUgU1ZHIGlzIHNjYWxlZCB1c2luZyBgc291cmNlU2NhbGVgLiBDYWxsZWQgYnlcbiAgICAgKiBgX2xvYWRTdmdTb3VyY2VVc2luZ1hocmAgb3IgYF9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gc3ZnU3RyaW5nIFNWRyBzb3VyY2UgYXMgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1N0cmluZykge1xuICAgICAgICB2YXIgc3ZnU2l6ZSA9ICgwLCBfdXRpbHMuZ2V0U3ZnU2l6ZSkoc3ZnU3RyaW5nKTtcblxuICAgICAgICB2YXIgc3ZnV2lkdGggPSBzdmdTaXplLndpZHRoO1xuICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gc3ZnU2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2NhbGUgcmVhbFdpZHRoIGFuZCByZWFsSGVpZ2h0XG4gICAgICAgIHRoaXMucmVhbFdpZHRoID0gTWF0aC5yb3VuZChzdmdXaWR0aCAqIHRoaXMuc291cmNlU2NhbGUpO1xuICAgICAgICB0aGlzLnJlYWxIZWlnaHQgPSBNYXRoLnJvdW5kKHN2Z0hlaWdodCAqIHRoaXMuc291cmNlU2NhbGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gdGhpcy5yZWFsV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLnJlYWxIZWlnaHQ7XG4gICAgICAgIGNhbnZhcy5fcGl4aUlkID0gJ2NhbnZhc18nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKHRoaXMuc291cmNlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB0aGlzLnJlYWxXaWR0aCwgdGhpcy5yZWFsSGVpZ2h0KTtcblxuICAgICAgICAvLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBzb3VyY2UgaW1hZ2Ugd2l0aCB0aGUgY2FudmFzXG4gICAgICAgIHRoaXMub3JpZ1NvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IGNhbnZhcztcblxuICAgICAgICAvLyBBZGQgYWxzbyB0aGUgY2FudmFzIGluIGNhY2hlIChkZXN0cm95IGNsZWFycyBieSBgaW1hZ2VVcmxgIGFuZCBgc291cmNlLl9waXhpSWRgKVxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMsIGNhbnZhcy5fcGl4aUlkKTtcblxuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zb3VyY2VMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBpbnRlcm5hbGx5IHRvIHVwZGF0ZSB0aGUgd2lkdGgsIGhlaWdodCwgYW5kIHNvbWUgb3RoZXIgdHJhY2tpbmcgdmFycyBvbmNlXG4gICAgICogYSBzb3VyY2UgaGFzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3NvdXJjZUxvYWRlZCA9IGZ1bmN0aW9uIF9zb3VyY2VMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlVXJsKSB7XG4gICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0aGlzLmltYWdlVXJsXTtcblxuICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIFRoZSBvcmlnaW5hbCBzb3VyY2UgbXVzdCBiZSBhbiBJbWFnZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1NyYyAtIHRoZSBwYXRoIG9mIHRoZSBpbWFnZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlU291cmNlSW1hZ2UgPSBmdW5jdGlvbiB1cGRhdGVTb3VyY2VJbWFnZShuZXdTcmMpIHtcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gbmV3U3JjO1xuXG4gICAgICAgIHRoaXMubG9hZFNvdXJjZSh0aGlzLnNvdXJjZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgZnJvbSB0aGUgZ2l2ZW4gaW1hZ2UgdXJsLlxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VVcmwgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIFNob3VsZCB1c2UgYW5vbnltb3VzIENPUlM/IERlZmF1bHRzIHRvIHRydWUgaWYgdGhlIFVSTCBpcyBub3QgYSBkYXRhLVVSSS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VTY2FsZT0oYXV0byldIC0gU2NhbGUgZm9yIHRoZSBvcmlnaW5hbCBpbWFnZSwgdXNlZCB3aXRoIFN2ZyBpbWFnZXMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIC8vIG5ldyBJbWFnZSgpIGJyZWFrcyB0ZXggbG9hZGluZyBpbiBzb21lIHZlcnNpb25zIG9mIENocm9tZS5cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjM4MDcxXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsgLy8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIGltYWdlVXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICgwLCBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yLmRlZmF1bHQpKGltYWdlVXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShpbWFnZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2VTY2FsZSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnNvdXJjZVNjYWxlID0gc291cmNlU2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEAyeCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2UgYXJlIGdvaW5nIHRvIGFzc3VtZSBpdHMgYSBoaWdocmVzIGltYWdlXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGltYWdlVXJsKTtcblxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVcmw7IC8vIFNldHRpbmcgdGhpcyB0cmlnZ2VycyBsb2FkXG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBmcm9tIHRoZSBnaXZlbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGVsZW1lbnQgc291cmNlIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JpZ2luPSdjYW52YXMnXSAtIEEgc3RyaW5nIG9yaWdpbiBvZiB3aG8gY3JlYXRlZCB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjYW52YXMnO1xuXG4gICAgICAgIGlmICghY2FudmFzLl9waXhpSWQpIHtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gb3JpZ2luICsgJ18nICsgKDAsIF91dGlscy51aWQpKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtjYW52YXMuX3BpeGlJZF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoY2FudmFzLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FudmFzLl9waXhpSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU3ZnIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb21JbWFnZShzb3VyY2UsIHVuZGVmaW5lZCwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGltYWdlVXJsID0gc291cmNlLnNyYztcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVNjYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnNvdXJjZVNjYWxlID0gc291cmNlU2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gQDJ4IGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3ZSBhcmUgZ29pbmcgdG8gYXNzdW1lIGl0cyBhIGhpZ2hyZXMgaW1hZ2VcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGltYWdlVXJsKTtcblxuICAgICAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbUNhbnZhcyhzb3VyY2UsIHNjYWxlTW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQGlmIERFQlVHXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBpZiAoX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJyArIGlkICsgJ10gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICAvLyBAZW5kaWZcblxuICAgICAgICAgICAgX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZShiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQmFzZVRleHR1cmU7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCYXNlVGV4dHVyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VUZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBjb3JlLlBvbHlnb24oKTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3NcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqL1xuXG52YXIgTWVzaCA9IGZ1bmN0aW9uIChfY29yZSRDb250YWluZXIpIHtcbiAgX2luaGVyaXRzKE1lc2gsIF9jb3JlJENvbnRhaW5lcik7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdmVydGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXNcbiAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZV0gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIE1lc2guRFJBV19NT0RFUyBjb25zdHNcbiAgICovXG4gIGZ1bmN0aW9uIE1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSBvZiB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuVGV4dHVyZS5FTVBUWVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFV2cyBvZiB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIF90aGlzLnV2cyA9IHV2cyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIF90aGlzLnZlcnRpY2VzID0gdmVydGljZXMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgLy8gIFRPRE8gYXV0byBnZW5lcmF0ZSB0aGlzIGJhc2VkIG9uIGRyYXcgbW9kZSFcbiAgICBfdGhpcy5pbmRpY2VzID0gaW5kaWNlcyB8fCBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDMsIDJdKTtcblxuICAgIC8qKlxuICAgICAqIFZlcnNpb24gb2YgbWVzaCB1dnMgYXJlIGRpcnR5IG9yIG5vdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLmRpcnR5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFZlcnNpb24gb2YgbWVzaCBpbmRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgX3RoaXMuaW5kZXhEaXJ0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFNldCB0byBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlbW92ZVxuICAgICAqIGFueSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgX3RoaXMuYmxlbmRNb2RlID0gY29yZS5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAvKipcbiAgICAgKiBUcmlhbmdsZXMgaW4gY2FudmFzIG1vZGUgYXJlIGF1dG9tYXRpY2FsbHkgYW50aWFsaWFzZWQsIHVzZSB0aGlzIHZhbHVlIHRvIGZvcmNlIHRyaWFuZ2xlc1xuICAgICAqIHRvIG92ZXJsYXAgYSBiaXQgd2l0aCBlYWNoIG90aGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLmNhbnZhc1BhZGRpbmcgPSBjb3JlLnNldHRpbmdzLk1FU0hfQ0FOVkFTX1BBRERJTkc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2F5IHRoZSBNZXNoIHNob3VsZCBiZSBkcmF3biwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkubWVzaC5NZXNoLkRSQVdfTU9ERVN9IGNvbnN0c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBzZWUgUElYSS5tZXNoLk1lc2guRFJBV19NT0RFU1xuICAgICAqL1xuICAgIF90aGlzLmRyYXdNb2RlID0gZHJhd01vZGUgfHwgTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0g7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgbWVzaCBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAqL1xuICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBtZXNoLiBUaGlzIGlzIGEgW3IsZyxiXSB2YWx1ZS4gQSB2YWx1ZSBvZiBbMSwxLDFdIHdpbGwgcmVtb3ZlIGFueVxuICAgICAqIHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxXSk7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgKi9cbiAgICBfdGhpcy5fZ2xEYXRhcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogdHJhbnNmb3JtIHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIHRleHR1cmUgY29vcmRzXG4gICAgICogaXRzIHVwZGF0ZWQgaW5kZXBlbmRlbnRseSBmcm9tIHRleHR1cmUgdXZUcmFuc2Zvcm1cbiAgICAgKiB1cGRhdGVzIG9mIHV2cyBhcmUgdGllZCB0byB0aGF0IHRoaW5nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fdXZUcmFuc2Zvcm0gPSBuZXcgY29yZS5UZXh0dXJlTWF0cml4KF90aGlzLl90ZXh0dXJlKTtcblxuICAgIC8qKlxuICAgICAqIHdoZXRoZXIgb3Igbm90IHVwbG9hZCB1dlRyYW5zZm9ybSB0byBzaGFkZXJcbiAgICAgKiBpZiBpdHMgZmFsc2UsIHRoZW4gdXZzIHNob3VsZCBiZSBwcmUtbXVsdGlwbGllZFxuICAgICAqIGlmIHlvdSBjaGFuZ2UgaXQgZm9yIGdlbmVyYXRlZCBtZXNoLCBwbGVhc2UgY2FsbCAncmVmcmVzaCh0cnVlKSdcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgX3RoaXMudXBsb2FkVXZUcmFuc2Zvcm0gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcldlYkdMJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnbWVzaCdcbiAgICAgKi9cbiAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ21lc2gnO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBXZWJHTCByZW5kZXJlclxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgdGhpcy5fdXZUcmFuc2Zvcm0udGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIG11bHRpcGxpZXMgdXZzIG9ubHkgaWYgdXBsb2FkVXZUcmFuc2Zvcm0gaXMgZmFsc2VcbiAgICogY2FsbCBpdCBhZnRlciB5b3UgY2hhbmdlIHV2cyBtYW51YWxseVxuICAgKiBtYWtlIHN1cmUgdGhhdCB0ZXh0dXJlIGlzIHZhbGlkXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cygpIHtcbiAgICBpZiAoIXRoaXMudXBsb2FkVXZUcmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMuX3V2VHJhbnNmb3JtLm11bHRpcGx5VXZzKHRoaXMudXZzKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyB1dnMgZm9yIGdlbmVyYXRlZCBtZXNoZXMgKHJvcGUsIHBsYW5lKVxuICAgKiBzb21ldGltZXMgcmVmcmVzaGVzIHZlcnRpY2VzIHRvb1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2goZm9yY2VVcGRhdGUpIHtcbiAgICBpZiAodGhpcy5fdXZUcmFuc2Zvcm0udXBkYXRlKGZvcmNlVXBkYXRlKSkge1xuICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogcmUtY2FsY3VsYXRlcyBtZXNoIGNvb3Jkc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHt9XG4gIC8qIGVtcHR5ICovXG5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAqXG4gICAqL1xuICA7XG5cbiAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgLy8gVE9ETyAtIHdlIGNhbiBjYWNoZSBsb2NhbCBib3VuZHMgYW5kIHVzZSB0aGVtIGlmIHRoZXkgYXJlIGRpcnR5IChsaWtlIGdyYXBoaWNzKVxuICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0aWNlcyh0aGlzLnRyYW5zZm9ybSwgdGhpcy52ZXJ0aWNlcywgMCwgdGhpcy52ZXJ0aWNlcy5sZW5ndGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFRSSUFOR0xFX01FU0hcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gdGhpcy5pbmRpY2VzO1xuICAgIHZhciBsZW4gPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFUyA/IDMgOiAxO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgbWVzaCB1c2VzLlxuICAgKlxuICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE1lc2gsIFt7XG4gICAga2V5OiAndGV4dHVyZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgbWVzaC4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGludCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY29yZS51dGlscy5yZ2IyaGV4KHRoaXMudGludFJnYik7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy50aW50UmdiID0gY29yZS51dGlscy5oZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZXNoO1xufShjb3JlLkNvbnRhaW5lcik7XG5cbi8qKlxuICogRGlmZmVyZW50IGRyYXdpbmcgYnVmZmVyIG1vZGVzIHN1cHBvcnRlZFxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9NRVNIXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoO1xuTWVzaC5EUkFXX01PREVTID0ge1xuICBUUklBTkdMRV9NRVNIOiAwLFxuICBUUklBTkdMRVM6IDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gaW1wb3J0IExvYWRlciBmcm9tICcuL0xvYWRlcic7XG4vLyBpbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9SZXNvdXJjZSc7XG4vLyBpbXBvcnQgKiBhcyBhc3luYyBmcm9tICcuL2FzeW5jJztcbi8vIGltcG9ydCAqIGFzIGI2NCBmcm9tICcuL2I2NCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5cbnZhciBMb2FkZXIgPSByZXF1aXJlKCcuL0xvYWRlcicpLmRlZmF1bHQ7XG52YXIgUmVzb3VyY2UgPSByZXF1aXJlKCcuL1Jlc291cmNlJykuZGVmYXVsdDtcbnZhciBhc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcbnZhciBiNjQgPSByZXF1aXJlKCcuL2I2NCcpO1xuXG5Mb2FkZXIuUmVzb3VyY2UgPSBSZXNvdXJjZTtcbkxvYWRlci5hc3luYyA9IGFzeW5jO1xuTG9hZGVyLmJhc2U2NCA9IGI2NDtcblxuLy8gZXhwb3J0IG1hbnVhbGx5LCBhbmQgYWxzbyBhcyBkZWZhdWx0XG5tb2R1bGUuZXhwb3J0cyA9IExvYWRlcjtcbi8vIGV4cG9ydCBkZWZhdWx0IExvYWRlcjtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBjaGVja1ByZWNpc2lvbihzcmMsIGRlZikge1xuICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAoc3JjWzBdLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gc3JjLnNsaWNlKDApO1xuXG4gICAgICAgICAgICBjb3B5LnVuc2hpZnQoJ3ByZWNpc2lvbiAnICsgZGVmICsgJyBmbG9hdDsnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNyYy50cmltKCkuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICByZXR1cm4gJ3ByZWNpc2lvbiAnICsgZGVmICsgJyBmbG9hdDtcXG4nICsgc3JjO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG5cbi8qKlxuICogV3JhcHBlciBjbGFzcywgd2ViR0wgU2hhZGVyIGZvciBQaXhpLlxuICogQWRkcyBwcmVjaXNpb24gc3RyaW5nIGlmIHZlcnRleFNyYyBvciBmcmFnbWVudFNyYyBoYXZlIG5vIG1lbnRpb24gb2YgaXQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBHTFNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU2hhZGVyID0gZnVuY3Rpb24gKF9HTFNoYWRlcikge1xuICAgIF9pbmhlcml0cyhTaGFkZXIsIF9HTFNoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHZlcnRleFNyYyAtIFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmcmFnbWVudFNyYyAtIFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVMb2NhdGlvbnNdIC0gQSBrZXkgdmFsdWUgcGFpciBzaG93aW5nIHdoaWNoIGxvY2F0aW9uIGVhY3QgYXR0cmlidXRlIHNob3VsZCBzaXQuXG4gICAgICAgICAgICAgICAgICAgICAgIGUuZy4ge3Bvc2l0aW9uOjAsIHV2czoxfS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWNpc2lvbl0gLSBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMsIHByZWNpc2lvbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0dMU2hhZGVyLmNhbGwodGhpcywgZ2wsIGNoZWNrUHJlY2lzaW9uKHZlcnRleFNyYywgcHJlY2lzaW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5QUkVDSVNJT05fVkVSVEVYKSwgY2hlY2tQcmVjaXNpb24oZnJhZ21lbnRTcmMsIHByZWNpc2lvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUFJFQ0lTSU9OX0ZSQUdNRU5UKSwgdW5kZWZpbmVkLCBhdHRyaWJ1dGVMb2NhdGlvbnMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gU2hhZGVyO1xufShfcGl4aUdsQ29yZS5HTFNoYWRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBtZXRob2QgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZS5cbiAgICpcbiAgICovXG5cblxuICBXZWJHTE1hbmFnZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHt9XG4gIC8vIGRvIHNvbWUgY29kZXMgaW5pdCFcblxuXG4gIC8qKlxuICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgKlxuICAgKi9cbiAgO1xuXG4gIFdlYkdMTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTE1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uL1N5c3RlbVJlbmRlcmVyJyk7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3lzdGVtUmVuZGVyZXIyKTtcblxudmFyIF9DYW52YXNNYXNrTWFuYWdlciA9IHJlcXVpcmUoJy4vdXRpbHMvQ2FudmFzTWFza01hbmFnZXInKTtcblxudmFyIF9DYW52YXNNYXNrTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNNYXNrTWFuYWdlcik7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyVGFyZ2V0KTtcblxudmFyIF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ2FudmFzUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIDJkIGNhbnZhcy4gVGhpcyByZW5kZXJlciBzaG91bGRcbiAqIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgV2ViR0wuIERvbid0IGZvcmdldCB0byBhZGQgdGhlIENhbnZhc1JlbmRlcmVyLnZpZXcgdG9cbiAqIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cbnZhciBDYW52YXNSZW5kZXJlciA9IGZ1bmN0aW9uIChfU3lzdGVtUmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoQ2FudmFzUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIGF1dG9tYXRpY2FsbHkgcmVzaXplZCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuIFRoZVxuICAgICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyZXIob3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdDYW52YXMnLCBvcHRpb25zLCBhcmcyLCBhcmczKSk7XG5cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLkNBTlZBUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvb3RDb250ZXh0ID0gX3RoaXMudmlldy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50IH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBjYW52YXMgMmQgY29udGV4dCAoY291bGQgY2hhbmdlIHdpdGggcmVuZGVyVGV4dHVyZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5yb290Q29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQm9vbGVhbiBmbGFnIGNvbnRyb2xsaW5nIGNhbnZhcyByZWZyZXNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVmcmVzaCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc3RhbmNlIG9mIGEgQ2FudmFzTWFza01hbmFnZXIsIGhhbmRsZXMgbWFza2luZyB3aGVuIHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ2FudmFzTWFza01hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrTWFuYWdlciA9IG5ldyBfQ2FudmFzTWFza01hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIHByb3BlcnR5IHVzZWQgdG8gc2V0IHRoZSBjYW52YXMgc21vb3RoaW5nIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdpbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuXG4gICAgICAgIGlmICghX3RoaXMucm9vdENvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucm9vdENvbnRleHQud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnd2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnbW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQub0ltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ29JbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5yb290Q29udGV4dC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ21zSW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlcyA9ICgwLCBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoKTtcbiAgICAgICAgX3RoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5yZXNpemUoX3RoaXMub3B0aW9ucy53aWR0aCwgX3RoaXMub3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNhbnZhc1JlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5DYW52YXNSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gdGhpcyBjYW52YXMgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIEEgcmVuZGVyIHRleHR1cmUgdG8gYmUgcmVuZGVyZWQgdG8uXG4gICAgICogIElmIHVuc2V0LCBpdCB3aWxsIHJlbmRlciB0byB0aGUgcm9vdCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyPWZhbHNlXSAtIFdoZXRoZXIgdG8gY2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZ1xuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBhcHBsaWVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIGlmICghdGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgdmFyIHJvb3RSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSB8fCByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldCA9IG5ldyBfQ2FudmFzUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHJlbmRlclRleHR1cmUud2lkdGgsIHJlbmRlclRleHR1cmUuaGVpZ2h0LCByZW5kZXJUZXh0dXJlLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuc291cmNlID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNhbnZhcztcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMucm9vdENvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QucGFyZW50O1xuICAgICAgICAgICAgdmFyIHRlbXBXdCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5jb3B5KHRlbXBXdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIG5vdCBmb3JnZXQgdG8gZmxhZyB0aGUgcGFyZW50IHRyYW5zZm9ybSBhcyBkaXJ0eS4uLlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS5fd29ybGRJRCA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wV3QuaWRlbnRpdHkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZXNbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF07XG5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHRoaXMudmlldy5zY3JlZW5jYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGltcGxlbWVudCBiYWNrZ3JvdW5kIGZvciBDYW52YXNSZW5kZXJUYXJnZXQgb3IgUmVuZGVyVGV4dHVyZT9cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gUkVOREVSIFRBUkdFVCBTVFVGRiBIRVJFLi5cbiAgICAgICAgdmFyIHRlbXBDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyQ2FudmFzKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0ZW1wQ29udGV4dDtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByb290UmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNhbnZhcyBvZiByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2xlYXJDb2xvcl0gLSBDbGVhciB0aGUgY2FudmFzIHdpdGggdGhpcyBjb2xvciwgZXhjZXB0IHRoZSBjYW52YXMgaXMgdHJhbnNwYXJlbnQuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nO1xuXG4gICAgICAgIGlmICghdGhpcy50cmFuc3BhcmVudCAmJiBjbGVhckNvbG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNsZWFyQ29sb3I7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSBTZWUge0BsaW5rIFBJWEkuQkxFTkRfTU9ERVN9IGZvciB2YWxpZCB2YWx1ZXMuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUoYmxlbmRNb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPT09IGJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gYmxlbmRNb2RlO1xuICAgICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGVzW2JsZW5kTW9kZV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIGNhbGwgdGhlIGJhc2UgZGVzdHJveVxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCByZW1vdmVWaWV3KTtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVmcmVzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubWFza01hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc21vb3RoUHJvcGVydHkgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyI3Jlc2l6ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNjYWxlIG1vZGUuLiBvZGRseSB0aGlzIHNlZW1zIHRvIGJlIHJlc2V0IHdoZW4gdGhlIGNhbnZhcyBpcyByZXNpemVkLlxuICAgICAgICAvLyBzdXJlbHkgYSBicm93c2VyIGJ1Zz8/IExldCBQaXhpSlMgZml4IHRoYXQgZm9yIHlvdS4uXG4gICAgICAgIGlmICh0aGlzLnNtb290aFByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RDb250ZXh0W3RoaXMuc21vb3RoUHJvcGVydHldID0gX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJsZW5kIG1vZGUgaGFzIGNoYW5nZWQuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5pbnZhbGlkYXRlQmxlbmRNb2RlID0gZnVuY3Rpb24gaW52YWxpZGF0ZUJsZW5kTW9kZSgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGVzLmluZGV4T2YodGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbik7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc1xuICogQHR5cGUge29iamVjdH1cbiAqIEByZWFkb25seVxuICogQHByb3BlcnR5IHtQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9IGFjY2Vzc2liaWxpdHkgU3VwcG9ydCB0YWJiaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlxuICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuQ2FudmFzUmVuZGVyZXIjcmVnaXN0ZXJQbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUmVuZGVyZXI7XG5fdXRpbHMucGx1Z2luVGFyZ2V0Lm1peGluKENhbnZhc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfRGlzcGxheU9iamVjdDIgPSByZXF1aXJlKCcuL0Rpc3BsYXlPYmplY3QnKTtcblxudmFyIF9EaXNwbGF5T2JqZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYXlPYmplY3QyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IGZ1bmN0aW9uIChfRGlzcGxheU9iamVjdCkge1xuICAgIF9pbmhlcml0cyhDb250YWluZXIsIF9EaXNwbGF5T2JqZWN0KTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGFpbmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRGlzcGxheU9iamVjdC5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlKCkge31cbiAgICAvKiBlbXB0eSAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChjaGlsZCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pc2VkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiBhZGRDaGlsZEF0KGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGlsZCArICdhZGRDaGlsZEF0OiBUaGUgaW5kZXggJyArIGluZGV4ICsgJyBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzICcgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiBzd2FwQ2hpbGRyZW4oY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiBnZXRDaGlsZEluZGV4KGNoaWxkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIHNldENoaWxkSW5kZXgoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIGluZGV4IGlzIG91dCBvZiBib3VuZHMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEF0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRBdChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldENoaWxkQXQ6IEluZGV4ICgnICsgaW5kZXggKyAnKSBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXNlZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkQXQoaW5kZXgpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7RGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKCkge1xuICAgICAgICB2YXIgYmVnaW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJlbW92ZWQubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtfaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX21hc2suY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgY2hpbGQuX21hc2suX2JvdW5kcyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHt9XG4gICAgLy8gRklMTCBJTi8vXG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCB0aGlzLl9maWx0ZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLl9maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgX2kyIDwgajsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bX2kyXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG5cblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXNcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2socmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0Rpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb250YWluZXIsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShfRGlzcGxheU9iamVjdDMuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb250YWluZXI7XG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udGFpbmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIGlmIChncmFwaGljc0RhdGEubmF0aXZlTGluZXMpIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSk7XG4gICAgfVxufTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbGlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICAvLyBUT0RPIE9QVElNSVNFIVxuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICB2YXIgZmlyc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgdmFyIGxhc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGZpcnN0UG9pbnQueCA9PT0gbGFzdFBvaW50LnggJiYgZmlyc3RQb2ludC55ID09PSBsYXN0UG9pbnQueSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICBwb2ludHMucG9wKCk7XG5cbiAgICAgICAgbGFzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgIHZhciBtaWRQb2ludFggPSBsYXN0UG9pbnQueCArIChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSBsYXN0UG9pbnQueSArIChmaXJzdFBvaW50LnkgLSBsYXN0UG9pbnQueSkgKiAwLjU7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgLy8gRFJBVyB0aGUgTGluZVxuICAgIHZhciB3aWR0aCA9IGdyYXBoaWNzRGF0YS5saW5lV2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIHZhciBwMXggPSBwb2ludHNbMF07XG4gICAgdmFyIHAxeSA9IHBvaW50c1sxXTtcbiAgICB2YXIgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIHZhciBwMnkgPSBwb2ludHNbM107XG4gICAgdmFyIHAzeCA9IDA7XG4gICAgdmFyIHAzeSA9IDA7XG5cbiAgICB2YXIgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgdmFyIHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIHZhciBwZXJwMnggPSAwO1xuICAgIHZhciBwZXJwMnkgPSAwO1xuICAgIHZhciBwZXJwM3ggPSAwO1xuICAgIHZhciBwZXJwM3kgPSAwO1xuXG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuXG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKHAxeCAtIHBlcnB4LCBwMXkgLSBwZXJweSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMXggKyBwZXJweCwgcDF5ICsgcGVycHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1tpICogMiArIDFdO1xuXG4gICAgICAgIHAzeCA9IHBvaW50c1soaSArIDEpICogMl07XG4gICAgICAgIHAzeSA9IHBvaW50c1soaSArIDEpICogMiArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAyeCA9IC0ocDJ5IC0gcDN5KTtcbiAgICAgICAgcGVycDJ5ID0gcDJ4IC0gcDN4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycDJ4ICogcGVycDJ4ICsgcGVycDJ5ICogcGVycDJ5KTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICB2YXIgYTEgPSAtcGVycHkgKyBwMXkgLSAoLXBlcnB5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIxID0gLXBlcnB4ICsgcDJ4IC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIHZhciBjMSA9ICgtcGVycHggKyBwMXgpICogKC1wZXJweSArIHAyeSkgLSAoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpO1xuICAgICAgICB2YXIgYTIgPSAtcGVycDJ5ICsgcDN5IC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICB2YXIgYjIgPSAtcGVycDJ4ICsgcDJ4IC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICB2YXIgYzIgPSAoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkgLSAoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSk7XG5cbiAgICAgICAgdmFyIGRlbm9tID0gYTEgKiBiMiAtIGEyICogYjE7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMSkge1xuICAgICAgICAgICAgZGVub20gKz0gMTAuMTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHgsIHAyeSAtIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHgsIHAyeSArIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHB4ID0gKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoYTIgKiBjMSAtIGExICogYzIpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9IChweCAtIHAyeCkgKiAocHggLSBwMngpICsgKHB5IC0gcDJ5KSAqIChweSAtIHAyeSk7XG5cbiAgICAgICAgaWYgKHBkaXN0ID4gMTk2ICogd2lkdGggKiB3aWR0aCkge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJwM3ggKiBwZXJwM3ggKyBwZXJwM3kgKiBwZXJwM3kpO1xuICAgICAgICAgICAgcGVycDN4IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3kgLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeCAqPSB3aWR0aDtcbiAgICAgICAgICAgIHBlcnAzeSAqPSB3aWR0aDtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3gsIHAyeSAtIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJwM3gsIHAyeSArIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3gsIHAyeSAtIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmVydHMucHVzaChweCwgcHkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHB4IC0gcDJ4KSwgcDJ5IC0gKHB5IC0gcDJ5KSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHAxeCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgICBwMXkgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMiArIDFdO1xuXG4gICAgcDJ4ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHAyeSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHgsIHAyeSAtIHBlcnB5KTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHgsIHAyeSArIHBlcnB5KTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmRleENvdW50OyArK19pKSB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KyspO1xuICAgIH1cblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0IC0gMSk7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqL1xuXG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICB2YXIgcDF5ID0gcG9pbnRzWyhpIC0gMSkgKiAyICsgMV07XG5cbiAgICAgICAgdmFyIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHZhciBwMnkgPSBwb2ludHNbaSAqIDIgKyAxXTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHAxeCwgcDF5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaChwMngsIHAyeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkTGluZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB0aGUgaG9yaXpvbnRhbCByYW5nZSBvZiB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gdGhlIHZlcnRpY2FsIHJhbmdlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jvb3Q9ZmFsc2VdIC0gV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgKi9cbiAgZnVuY3Rpb24gUmVuZGVyVGFyZ2V0KGdsLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVyVGFyZ2V0KTtcblxuICAgIC8vIFRPRE8gUmVzb2x1dGlvbiBjb3VsZCBnbyBoZXJlICggZWcgbG93IHJlcyBibHVycyApXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gbmV4dCB0aW1lIHRvIGNyZWF0ZSBhIGZyYW1lIGJ1ZmZlciBhbmQgdGV4dHVyZVxuXG4gICAgLyoqXG4gICAgICogQSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvdXIgb2YgdGhpcyByZW5kZXIgdGFyZ2V0LCBhcyBhbiBhcnJheSBvZiBbcixnLGIsYV0gdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgb2JqZWN0IGFzIGEgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0J3MgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBzdG9yZXMgbWFza2luZyBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgc3RvcmVzIG1hc2tpbmcgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWxCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGZpbHRlciBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAqL1xuICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgdGhlIHJvb3QgZWxlbWVudCBvciBub3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yb290ID0gcm9vdDtcblxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyID0gX3BpeGlHbENvcmUuR0xGcmFtZWJ1ZmZlci5jcmVhdGVSR0JBKGdsLCAxMDAsIDEwMCk7XG5cbiAgICAgIGlmICh0aGlzLnNjYWxlTW9kZSA9PT0gX2NvbnN0LlNDQUxFX01PREVTLk5FQVJFU1QpIHtcbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgfVxuICAgICAgLypcbiAgICAgICAgICBBIGZyYW1lIGJ1ZmZlciBuZWVkcyBhIHRhcmdldCB0byByZW5kZXIgdG8uLlxuICAgICAgICAgIGNyZWF0ZSBhIHRleHR1cmUgYW5kIGJpbmQgaXQgYXR0YWNoIGl0IHRvIHRoZSBmcmFtZWJ1ZmZlci4uXG4gICAgICAgKi9cblxuICAgICAgLy8gdGhpcyBpcyB1c2VkIGJ5IHRoZSBiYXNlIHRleHR1cmVcbiAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWFrZSBpdCBhIG51bGwgZnJhbWVidWZmZXIuLlxuICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG5ldyBfcGl4aUdsQ29yZS5HTEZyYW1lYnVmZmVyKGdsLCAxMDAsIDEwMCk7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZyYW1lKCk7XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGZpbHRlciB0ZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcj10aGlzLmNsZWFyQ29sb3JdIC0gQXJyYXkgb2YgW3IsZyxiLGFdIHRvIGNsZWFyIHRoZSBmcmFtZWJ1ZmZlclxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgdmFyIGNjID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyLmNsZWFyKGNjWzBdLCBjY1sxXSwgY2NbMl0sIGNjWzNdKTsgLy8gcixnLGIsYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmF0dGFjaFN0ZW5jaWxCdWZmZXIgPSBmdW5jdGlvbiBhdHRhY2hTdGVuY2lsQnVmZmVyKCkge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgc3RlbmNpbCBpcyBkb25lP1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBpcyB1c2VkIGZvciBtYXNraW5nIGluIHBpeGlcbiAgICAgKiBsZXRzIGNyZWF0ZSBvbmUgYW5kIHRoZW4gYWRkIGF0dGFjaCBpdCB0byB0aGUgZnJhbWVidWZmZXIuLlxuICAgICAqL1xuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZyYW1lIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLnNldEZyYW1lID0gZnVuY3Rpb24gc2V0RnJhbWUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCBpbml0aWFsaXNlcyB0aGUgdmlld3BvcnQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgIC8vIFRPT0QgcmVmYWN0b3IgdXNhZ2Ugb2YgZnJhbWUuLlxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgdW5ib3VuZCFcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmJpbmQoKTtcblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUpO1xuXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGFkZCBhIGNoZWNrIGFzIHRoZW0gbWF5IGJlIHRoZSBzYW1lIVxuICAgIGlmICh0aGlzLmRlc3RpbmF0aW9uRnJhbWUgIT09IHRoaXMuc291cmNlRnJhbWUpIHtcbiAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgZ2wuc2Npc3Nvcih0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS55IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLndpZHRoICogdGhpcy5yZXNvbHV0aW9uIHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiB8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyAtIGRvZXMgbm90IG5lZWQgdG8gYmUgdXBkYXRlZCBhbGwgdGhlIHRpbWU/P1xuICAgIGdsLnZpZXdwb3J0KHRoaXMuZGVzdGluYXRpb25GcmFtZS54IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiB0aGlzLnJlc29sdXRpb24gfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uIHwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24oZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICBzb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICBwbS5pZGVudGl0eSgpO1xuXG4gICAgLy8gVE9ETzogbWFrZSBkZXN0IHNjYWxlIHNvdXJjZVxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICBwbS5hID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyO1xuICAgICAgcG0uZCA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDI7XG5cbiAgICAgIHBtLnR4ID0gLTEgLSBzb3VyY2VGcmFtZS54ICogcG0uYTtcbiAgICAgIHBtLnR5ID0gLTEgLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG0uYSA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMjtcbiAgICAgIHBtLmQgPSAtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMjtcblxuICAgICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgICAgcG0udHkgPSAxIC0gc291cmNlRnJhbWUueSAqIHBtLmQ7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSB0ZXh0dXJlIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IHdpZHRoIHwgMDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgfCAwO1xuXG4gICAgaWYgKHRoaXMuc2l6ZS53aWR0aCA9PT0gd2lkdGggJiYgdGhpcy5zaXplLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaXplLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZGVmYXVsdEZyYW1lLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5kZWZhdWx0RnJhbWUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICB2YXIgcHJvamVjdGlvbkZyYW1lID0gdGhpcy5mcmFtZSB8fCB0aGlzLnNpemU7XG5cbiAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24ocHJvamVjdGlvbkZyYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFJlbmRlclRhcmdldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVuZGVyVGFyZ2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWFza01hbmFnZXIpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlcicpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0ZW5jaWxNYW5hZ2VyKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyJyk7XG5cbnZhciBfRmlsdGVyTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNYW5hZ2VyKTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlciA9IHJlcXVpcmUoJy4vVGV4dHVyZU1hbmFnZXInKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWFuYWdlcik7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi8uLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IHJlcXVpcmUoJy4vVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3InKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbnZhciBfV2ViR0xTdGF0ZSA9IHJlcXVpcmUoJy4vV2ViR0xTdGF0ZScpO1xuXG52YXIgX1dlYkdMU3RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xTdGF0ZSk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkpO1xuXG52YXIgX3ZhbGlkYXRlQ29udGV4dCA9IHJlcXVpcmUoJy4vdXRpbHMvdmFsaWRhdGVDb250ZXh0Jyk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbGlkYXRlQ29udGV4dCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ09OVEVYVF9VSUQgPSAwO1xuXG4vKipcbiAqIFRoZSBXZWJHTFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSB3ZWJHTCBlbmFibGVkIGNhbnZhcy4gVGhpcyByZW5kZXJlclxuICogc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB3ZWJHTC4gVGhpcyBSZW5kZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyB3ZWJHTEJhdGNocy5cbiAqIFNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cblxudmFyIFdlYkdMUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFdlYkdMUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMuIElmIG5vdCBhdmFpbGFibGUgbmF0aXZlbHkgdGhlbiBGWEFBXG4gICAgICogIGFudGlhbGlhc2luZyBpcyB1c2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqICBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhclxuICAgICAqICB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy4gSWYgeW91IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UsIHlvdSAqbXVzdCogc2V0XG4gICAgICogIHByZXNlcnZlRHJhd2luZ0J1ZmZlciB0byBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuXG4gICAgICogIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gICAgICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmlhbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFJlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdXZWJHTCcsIG9wdGlvbnMsIGFyZzIsIGFyZzMpKTtcblxuICAgICAgICBfdGhpcy5sZWdhY3kgPSBfdGhpcy5vcHRpb25zLmxlZ2FjeTtcblxuICAgICAgICBpZiAoX3RoaXMubGVnYWN5KSB7XG4gICAgICAgICAgICBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgcmVuZGVyZXIgYXMgYSBzdGFuZGFyZGlzZWQgY29uc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcblxuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgd2ViZ2wgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgYW50aWFsaWFzOiBfdGhpcy5vcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IF90aGlzLm9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhWzNdID0gX3RoaXMudHJhbnNwYXJlbnQgPyAwIDogMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWFza3MgdXNpbmcgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RlbmNpbE1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGVuY2lsTWFuYWdlciA9IG5ldyBfU3RlbmNpbE1hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgX09iamVjdFJlbmRlcmVyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlck1hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LCBpdCBpcyBjcmVhdGVkIGhlcmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgY29udGV4dCBzbyBpdCBpcyByZWFkeSBmb3IgdGhlIG1hbmFnZXJzLlxuICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgdG8gc2VlIGlmIGEgY29udGV4dCBpcyB2YWxpZC4uXG4gICAgICAgICAgICAoMCwgX3ZhbGlkYXRlQ29udGV4dDIuZGVmYXVsdCkoX3RoaXMub3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMub3B0aW9ucy5jb250ZXh0IHx8IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoX3RoaXMudmlldywgX3RoaXMuX2NvbnRleHRPcHRpb25zKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLldlYkdMU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBfV2ViR0xTdGF0ZTIuZGVmYXVsdChfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0ZXh0dXJlcyBib3VuZCB0byB0aGUgR1BVLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUYXJnZXR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5faW5pdENvbnRleHQoKTtcblxuICAgICAgICAvLyBtYXAgc29tZSB3ZWJHTCBibGVuZCBhbmQgZHJhd21vZGVzLi5cbiAgICAgICAgX3RoaXMuZHJhd01vZGVzID0gKDAsIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoX3RoaXMuZ2wpO1xuXG4gICAgICAgIF90aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uID0gMDtcblxuICAgICAgICBfdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5faW5pdENvbnRleHQgPSBmdW5jdGlvbiBfaW5pdENvbnRleHQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIHRleHR1cmUgbWFuYWdlci4uLlxuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyID0gbmV3IF9UZXh0dXJlTWFuYWdlcjIuZGVmYXVsdCh0aGlzKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbmV3IF9GaWx0ZXJNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVHQyA9IG5ldyBfVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IyLmRlZmF1bHQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgbnVsbCwgdGhpcy5yZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmNsZWFyQ29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldCh0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIGZpbGwgdXAgdGhlIHRleHR1cmVzIHdpdGggZW1wdHkgb25lcyFcbiAgICAgICAgdmFyIGVtcHR5R0xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgMSwgMSk7XG5cbiAgICAgICAgdmFyIHRlbXBPYmogPSB7IF9nbFRleHR1cmVzOiB7fSB9O1xuXG4gICAgICAgIHRlbXBPYmouX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoKTtcblxuICAgICAgICAgICAgZW1wdHkuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBlbXB0eUdMVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGVtcE9iajtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tpXSA9IGVtcHR5O1xuICAgICAgICAgICAgdGhpcy5iaW5kVGV4dHVyZShudWxsLCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnY29udGV4dCcsIGdsKTtcblxuICAgICAgICAvLyBzZXR1cCB0aGUgd2lkdGgvaGVpZ2h0IHByb3BlcnRpZXMgYW5kIGdsIHZpZXdwb3J0XG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuc2NyZWVuLndpZHRoLCB0aGlzLnNjcmVlbi5oZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIHdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcl0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgLy8gdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZUdDLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIC8vICBpZih3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gPT09IHRoaXMuaGVpZ2h0KXJldHVybjtcblxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5yZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9PT0gdGhpcy5yb290UmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNoYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSB0aGUgZGVzaXJlZCBibGVuZCBtb2RlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRCbGVuZE1vZGUoYmxlbmRNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKGNsZWFyQ29sb3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtKG1hdHJpeCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQudHJhbnNmb3JtID0gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIGNsZWFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvdXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhclJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBjbGVhclJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgY2xlYXJDb2xvcikge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXIgdGV4dHVyZSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGJhc2VUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51bmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShyZW5kZXJUZXh0dXJlLmZyYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IHRoaXMucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIHRoZSBuZXcgcmVuZGVyIHRhcmdldFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSByZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLnNldE1hc2tTdGFjayhyZW5kZXJUYXJnZXQuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Byb2plY3Q9dHJ1ZV0gLSBXaGV0aGVyIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRTaGFkZXIgPSBmdW5jdGlvbiBiaW5kU2hhZGVyKHNoYWRlciwgYXV0b1Byb2plY3QpIHtcbiAgICAgICAgLy8gVE9ETyBjYWNoZVxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyICE9PSBzaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgICAgIHNoYWRlci5iaW5kKCk7XG5cbiAgICAgICAgICAgIC8vIGBhdXRvUHJvamVjdGAgbm9ybWFsbHkgd291bGQgYmUgYSBkZWZhdWx0IHBhcmFtZXRlciBzZXQgdG8gdHJ1ZVxuICAgICAgICAgICAgLy8gYnV0IGJlY2F1c2Ugb2YgaG93IEJhYmVsIHRyYW5zcGlsZXMgZGVmYXVsdCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAvLyBpdCBoaW5kZXJzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgIGlmIChhdXRvUHJvamVjdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHNldCB0aGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgdGhlIHRleHR1cmUuIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2F0aW9uIG9mIHRoZSBib3VuZCB0ZXh0dXJlLlxuICAgICAqIEl0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG9uZSB5b3UgcGFzcyBpbi4gVGhpcyBpcyBkdWUgdG8gb3B0aW1pc2F0aW9uIHRoYXQgcHJldmVudHNcbiAgICAgKiBuZWVkbGVzcyBiaW5kaW5nIG9mIHRleHR1cmVzLiBGb3IgZXhhbXBsZSBpZiB0aGUgdGV4dHVyZSBpcyBhbHJlYWR5IGJvdW5kIGl0IHdpbGwgcmV0dXJuIHRoZVxuICAgICAqIGN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIHRleHR1cmUgaW5zdGVhZCBvZiB0aGUgb25lIHByb3ZpZGVkLiBUbyBieXBhc3MgdGhpcyB1c2UgZm9yY2UgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIG5ldyB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uIC0gdGhlIHN1Z2dlc3RlZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZUxvY2F0aW9uIC0gZm9yY2UgdGhlIGxvY2F0aW9uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBib3VuZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24sIGZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUgfHwgdGhpcy5lbXB0eVRleHR1cmVzW2xvY2F0aW9uXTtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgaWYgKCFmb3JjZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbG9vayBpbnRvIGFkZGluZyBib3VuZElkcy4uIHNhdmUgdXMgdGhlIGxvb3A/XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24rKztcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uICU9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoIC0gdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYmluZCB0aGUgdGV4dHVyZS4uXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogdW5iaW5kcyB0aGUgdGV4dHVyZSAuLi5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHVuYmluZFxuICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51bmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gdW5iaW5kVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbaV0uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWQU8gZnJvbSB0aGlzIHJlbmRlcmVyJ3MgY29udGV4dCBhbmQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWZXJ0ZXhBcnJheU9iamVjdH0gVGhlIG5ldyBWQU8uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVZhbyA9IGZ1bmN0aW9uIGNyZWF0ZVZhbygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdCh0aGlzLmdsLCB0aGlzLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBWYW8gdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5WZXJ0ZXhBcnJheU9iamVjdH0gdmFvIC0gdGhlIG5ldyBWYW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kVmFvID0gZnVuY3Rpb24gYmluZFZhbyh2YW8pIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIHZhby5iaW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0aXZlVmFvKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB0cnVlIGkgdGhpbms/XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8udW5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuYmluZFZhbyhudWxsKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLmVtcHR5VGV4dHVyZXNbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIHRoZSBtYWluIGZyYW1lIGJ1ZmZlciAodGhlIHNjcmVlbik7XG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucmVzZXRUb0RlZmF1bHQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0ID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dExvc3QoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIHRoaXMuX2luaXRDb250ZXh0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIHRoaXMudWlkID0gMDtcblxuICAgICAgICAvLyBkZXN0cm95IHRoZSBtYW5hZ2Vyc1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb250ZXh0T3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIC8vIHRoaXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuV2ViR0xSZW5kZXJlciNwbHVnaW5zXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuV2ViR0xSZW5kZXJlciNyZWdpc3RlclBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTFJlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihXZWJHTFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgX2luaGVyaXRzKE9iamVjdFJlbmRlcmVyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSByZW5kZXJlciBhbmQgc2V0cyB0aGUgc2hhZGVyXG4gICAqXG4gICAqL1xuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHt9XG4gIC8vIHNldCB0aGUgc2hhZGVyLi5cblxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICovXG4gIDtcblxuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdHViIG1ldGhvZCBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgYW5kIGVtcHR5aW5nIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgKlxuICAgKi9cblxuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge31cbiAgLy8gZmx1c2ghXG5cblxuICAvKipcbiAgICogUmVuZGVycyBhbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICB9O1xuXG4gIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9iamVjdFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0UmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NvdW50TGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvQ291bnRMaW1pdGVyJyk7XG5cbnZhciBfQ291bnRMaW1pdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvdW50TGltaXRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTaGFyZWRUaWNrZXIgPSBjb3JlLnRpY2tlci5zaGFyZWQ7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5jb3JlLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS4gQmFzZVByZXBhcmUgaGFuZGxlc1xuICogYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieSB7QGxpbmsgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIEJhc2VQcmVwYXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TeXN0ZW1SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VQcmVwYXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5Db3VudExpbWl0ZXJ8UElYSS5wcmVwYXJlLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IF9Db3VudExpbWl0ZXIyLmRlZmF1bHQoY29yZS5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFdlYkdMUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIV90aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucHJlcGFyZUl0ZW1zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFBJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dH0gaXRlbSAtXG4gICAgICogICAgICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gICAgICogICAgICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTaGFyZWRUaWNrZXIuYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gcHJlcGFyZUl0ZW1zKCkge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbX2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgU2hhcmVkVGlja2VyLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vaykge1xuICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7UElYSS5DYW52YXNQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2hpbGRlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IF9pMiA+PSAwOyBfaTItLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBTaGFyZWRUaWNrZXIucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlUHJlcGFyZTtcbn0oKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVByZXBhcmU7XG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXV0bGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIC8vIE9iamVjdHMgd2l0aCB0ZXh0dXJlcywgbGlrZSBTcHJpdGVzL1RleHRcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gdGVzdHMgaXMgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtvcHRpb25zLm1ldGFkYXRhLm1pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnQgb2YgYSB2aWRlby9hdWRpb1xuICAgICAqICAgICAgZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGwgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvXG4gICAgICogICAgICB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAgICAgKiAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAgICAgKiAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzXG4gICAgICAgICAqICB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYZHJPblRpbWVvdXQgPSB0aGlzLl94ZHJPblRpbWVvdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgaW4gYSB3cmFwcGVyIG9yIHNvbWV0aGluZy4uLmdyb3NzLi4uLlxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG5cbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRWxlbWVudCgnaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gISEodGhpcy5fZmxhZ3MgJiBmbGFnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/IHRoaXMuX2ZsYWdzIHwgZmxhZyA6IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1Vuc3VwcG9ydGVkIGVsZW1lbnQ6ICcgKyB0eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9taW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYaHIgPSBmdW5jdGlvbiBfbG9hZFhocigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcblxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgICAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgICAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG4gICAgICAgIHhkci50aW1lb3V0ID0gNTAwMDtcblxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGRyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuXG4gICAgICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgICAgICB9LCAxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgICAgICBpZiAoIW1pbWUpIHtcbiAgICAgICAgICAgIG1pbWUgPSB0eXBlICsgJy8nICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgICAgICB0aGlzLmFib3J0KCdGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiAnICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdEVycm9yRXZlbnR8RXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25FcnJvciA9IGZ1bmN0aW9uIF94aHJPbkVycm9yKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyAnIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJywgdGV4dDogXCInICsgeGhyLnN0YXR1c1RleHQgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RBYm9ydEV2ZW50fSBldmVudCAtIEFib3J0IEV2ZW50XG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciB4ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGltZW91dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94ZHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGRyT25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHRpbWVkIG91dC4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgICAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXR1c1R5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1snICsgeGhyLnN0YXR1cyArICddICcgKyB4aHIuc3RhdHVzVGV4dCArICc6ICcgKyB4aHIucmVzcG9uc2VVUkwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICAgICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgICAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgICAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgdXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodGVtcEFuY2hvci5ocmVmLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgICAgIHZhciBwcm90b2NvbCA9IHVybC5wcm90b2NvbCA/IHVybC5wcm90b2NvbCArICc6JyA6ICcnO1xuXG4gICAgICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgICAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZXh0ZW5zaW9uIChzYW5zICcuJykgb2YgdGhlIGZpbGUgYmVpbmcgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZXh0ZW5zaW9uLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICAgICAgdmFyIGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgICAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICAgICAga2V5OiAnaXNEYXRhVXJsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0NvbXBsZXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0xvYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlO1xuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICAgIE5PTkU6IDAsXG4gICAgREFUQV9VUkw6IDEgPDwgMCxcbiAgICBDT01QTEVURTogMSA8PCAxLFxuICAgIExPQURJTkc6IDEgPDwgMlxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIEpTT046IDEsXG4gICAgWE1MOiAyLFxuICAgIElNQUdFOiAzLFxuICAgIEFVRElPOiA0LFxuICAgIFZJREVPOiA1LFxuICAgIFRFWFQ6IDZcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAgIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFhIUjogMSxcbiAgICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBJTUFHRTogMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogMyxcbiAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFZJREVPOiA0XG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICAvKiogQmxvYiAqL1xuICAgIEJMT0I6ICdibG9iJyxcbiAgICAvKiogRG9jdW1lbnQgKi9cbiAgICBET0NVTUVOVDogJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAndGV4dCdcbn07XG5cblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBzdmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgd2F2OiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6IFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5cblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAgIC8vIHhtbFxuICAgIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG06IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBzdmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHBuZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZWc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgd2VicDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcblxuICAgIC8vIGZvbnRzXG4gICAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgb3RmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJcbn07XG5cbi8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzb3VyY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHM7XG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSBpbmRpY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKSB7XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgU3ByaXRlL1RleHR1cmUgdGludGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNUaW50ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHRoaXMgbWV0aG9kIGp1c3QgbmVlZHMgYSBzcHJpdGUgYW5kIGEgY29sb3IgYW5kIHRpbnRzIHRoZSBzcHJpdGUgd2l0aCB0aGUgZ2l2ZW4gY29sb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSB0aW50ZWQgY2FudmFzXG4gICAgICovXG4gICAgZ2V0VGludGVkVGV4dHVyZTogZnVuY3Rpb24gZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuXG4gICAgICAgIGNvbG9yID0gQ2FudmFzVGludGVyLnJvdW5kQ29sb3IoY29sb3IpO1xuXG4gICAgICAgIHZhciBzdHJpbmdDb2xvciA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIHRleHR1cmUudGludENhY2hlID0gdGV4dHVyZS50aW50Q2FjaGUgfHwge307XG5cbiAgICAgICAgdmFyIGNhY2hlZFRleHR1cmUgPSB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZFRleHR1cmUudGludElkID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IENhbnZhc1RpbnRlci5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBDYW52YXNUaW50ZXIudGludE1ldGhvZCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKTtcblxuICAgICAgICBjYW52YXMudGludElkID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgaWYgKENhbnZhc1RpbnRlci5jb252ZXJ0VGludFRvSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIGlzIHRoaXMgYmV0dGVyP1xuICAgICAgICAgICAgdmFyIHRpbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aW50SW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSB0aW50SW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGNvbnZlcnRpbmcgdGhlIHRleHR1cmUgdG8gYW4gaW1hZ2UgdGhlbiB3ZSBuZWVkIHRvIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBDYW52YXNUaW50ZXIuY2FudmFzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHVzaW5nIHRoZSAnbXVsdGlwbHknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE11bHRpcGx5OiBmdW5jdGlvbiB0aW50V2l0aE11bHRpcGx5KHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tYXRvcCc7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdvdmVybGF5JyBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhPdmVybGF5OiBmdW5jdGlvbiB0aW50V2l0aE92ZXJsYXkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIC8vIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSBwaXhlbCBwZXIgcGl4ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhQZXJQaXhlbDogZnVuY3Rpb24gdGludFdpdGhQZXJQaXhlbCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdmFyIHJnYlZhbHVlcyA9ICgwLCBfdXRpbHMuaGV4MnJnYikoY29sb3IpO1xuICAgICAgICB2YXIgciA9IHJnYlZhbHVlc1swXTtcbiAgICAgICAgdmFyIGcgPSByZ2JWYWx1ZXNbMV07XG4gICAgICAgIHZhciBiID0gcmdiVmFsdWVzWzJdO1xuXG4gICAgICAgIHZhciBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHBpeGVscyA9IHBpeGVsRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDBdICo9IHI7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhlIHNwZWNpZmllZCBjb2xvciBhY2NvcmRpbmcgdG8gdGhlIENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHJvdW5kLCBzaG91bGQgYmUgYSBoZXggY29sb3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIGNvbG9yLlxuICAgICAqL1xuICAgIHJvdW5kQ29sb3I6IGZ1bmN0aW9uIHJvdW5kQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBDYW52YXNUaW50ZXIuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG5cbiAgICAgICAgcmdiVmFsdWVzWzBdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMF0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1sxXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzFdIC8gc3RlcCAqIHN0ZXApO1xuICAgICAgICByZ2JWYWx1ZXNbMl0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1syXSAvIHN0ZXAgKiBzdGVwKTtcblxuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5yZ2IyaGV4KShyZ2JWYWx1ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2Ygc3RlcHMgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGEgY2FwIHdoZW4gcm91bmRpbmcgY29sb3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsOiA4LFxuXG4gICAgLyoqXG4gICAgICogVGludCBjYWNoZSBib29sZWFuIGZsYWcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb252ZXJ0VGludFRvSW1hZ2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQsIGNvbnNlcXVlbnRseSB0aGUgYWJpbGl0eSB0byB0aW50IHVzaW5nIHRoZSBtdWx0aXBseSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5Vc2VNdWx0aXBseTogKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnRpbmcgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge3RpbnRNZXRob2RGdW5jdGlvblR5cGV9XG4gICAgICovXG4gICAgdGludE1ldGhvZDogMFxufTtcblxuQ2FudmFzVGludGVyLnRpbnRNZXRob2QgPSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgPyBDYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseSA6IENhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsO1xuXG4vKipcbiAqIFRoZSB0aW50TWV0aG9kIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gKiBAY2FsbGJhY2sgdGludE1ldGhvZEZ1bmN0aW9uVHlwZVxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuVGV4dHVyZX0gdGhlIHRleHR1cmUgdG8gdGludFxuICogQHBhcmFtIGNvbG9yIHtudW1iZXJ9IHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY3VycmVudCBjYW52YXNcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNUaW50ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUaW50ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VSZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlMiA9IHJlcXVpcmUoJy4vVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX1RleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoUmVuZGVyVGV4dHVyZSwgX1RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJlciB1c2VkIGZvciB0aGlzIFJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJyArIHdpZHRoICsgJywgJyArIGhlaWdodCArICcpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuJyk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGV4dHVyZS5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG5cblxuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oX1RleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlRpY2tlciA9IGV4cG9ydHMuc2hhcmVkID0gdW5kZWZpbmVkO1xuXG52YXIgX1RpY2tlciA9IHJlcXVpcmUoJy4vVGlja2VyJyk7XG5cbnZhciBfVGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV9LlxuICogYW5kIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0uXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWBcbiAqIGZvciB0aGlzIGluc3RhbmNlLiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZ1xuICogaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHRpY2tlciA9IFBJWEkudGlja2VyLnNoYXJlZDtcbiAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gKiB0aWNrZXIuc3RvcCgpO1xuICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gKiB0aWNrZXIuc3RhcnQoKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcig4MDAsIDYwMCk7XG4gKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlcik7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQHR5cGUge1BJWEkudGlja2VyLlRpY2tlcn1cbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgc2hhcmVkID0gbmV3IF9UaWNrZXIyLmRlZmF1bHQoKTtcblxuc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gcHJvdGVjdCBkZXN0cm95aW5nIHNoYXJlZCB0aWNrZXJcbiAgLy8gdGhpcyBpcyB1c2VkIGJ5IG90aGVyIGludGVybmFsIHN5c3RlbXNcbiAgLy8gbGlrZSBBbmltYXRlZFNwcml0ZSBhbmQgSW50ZXJhY3Rpb25NYW5hZ2VyXG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGFuIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBQSVhJJ3MgaW50ZXJuYWwgZ2xvYmFsIHVwZGF0ZSBsb29wLlxuICpcbiAqIFRoaXMgdGlja2VyIGlzIHVzZWQgZm9yIHJlbmRlcmluZywge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIEFuaW1hdGVkU3ByaXRlfSxcbiAqIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBJbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBtYW55IG90aGVyIHRpbWUtYmFzZWQgUElYSSBzeXN0ZW1zLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRpY2tlciA9IG5ldyBQSVhJLnRpY2tlci5UaWNrZXIoKTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiB0aWNrZXIuYWRkKChkZWx0YVRpbWUpID0+IHtcbiAqICAgLy8gZG8gc29tZXRoaW5nIGV2ZXJ5IGZyYW1lXG4gKiB9KTtcbiAqIHRpY2tlci5zdGFydCgpO1xuICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICovXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcbmV4cG9ydHMuVGlja2VyID0gX1RpY2tlcjIuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQml0IHR3aWRkbGluZyBoYWNrcyBmb3IgSmF2YVNjcmlwdC5cbiAqXG4gKiBBdXRob3I6IE1pa29sYSBMeXNlbmtvXG4gKlxuICogUG9ydGVkIGZyb20gU3RhbmZvcmQgYml0IHR3aWRkbGluZyBoYWNrIGxpYnJhcnk6XG4gKiAgICBodHRwOi8vZ3JhcGhpY3Muc3RhbmZvcmQuZWR1L35zZWFuZGVyL2JpdGhhY2tzLmh0bWxcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjsgXCJ1c2UgcmVzdHJpY3RcIjtcblxuLy9OdW1iZXIgb2YgYml0cyBpbiBhbiBpbnRlZ2VyXG52YXIgSU5UX0JJVFMgPSAzMjtcblxuLy9Db25zdGFudHNcbmV4cG9ydHMuSU5UX0JJVFMgID0gSU5UX0JJVFM7XG5leHBvcnRzLklOVF9NQVggICA9ICAweDdmZmZmZmZmO1xuZXhwb3J0cy5JTlRfTUlOICAgPSAtMTw8KElOVF9CSVRTLTEpO1xuXG4vL1JldHVybnMgLTEsIDAsICsxIGRlcGVuZGluZyBvbiBzaWduIG9mIHhcbmV4cG9ydHMuc2lnbiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICh2ID4gMCkgLSAodiA8IDApO1xufVxuXG4vL0NvbXB1dGVzIGFic29sdXRlIHZhbHVlIG9mIGludGVnZXJcbmV4cG9ydHMuYWJzID0gZnVuY3Rpb24odikge1xuICB2YXIgbWFzayA9IHYgPj4gKElOVF9CSVRTLTEpO1xuICByZXR1cm4gKHYgXiBtYXNrKSAtIG1hc2s7XG59XG5cbi8vQ29tcHV0ZXMgbWluaW11bSBvZiBpbnRlZ2VycyB4IGFuZCB5XG5leHBvcnRzLm1pbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgcmV0dXJuIHkgXiAoKHggXiB5KSAmIC0oeCA8IHkpKTtcbn1cblxuLy9Db21wdXRlcyBtYXhpbXVtIG9mIGludGVnZXJzIHggYW5kIHlcbmV4cG9ydHMubWF4ID0gZnVuY3Rpb24oeCwgeSkge1xuICByZXR1cm4geCBeICgoeCBeIHkpICYgLSh4IDwgeSkpO1xufVxuXG4vL0NoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3b1xuZXhwb3J0cy5pc1BvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAhKHYgJiAodi0xKSkgJiYgKCEhdik7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMiBvZiB2XG5leHBvcnRzLmxvZzIgPSBmdW5jdGlvbih2KSB7XG4gIHZhciByLCBzaGlmdDtcbiAgciA9ICAgICAodiA+IDB4RkZGRikgPDwgNDsgdiA+Pj49IHI7XG4gIHNoaWZ0ID0gKHYgPiAweEZGICApIDw8IDM7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDB4RiAgICkgPDwgMjsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICBzaGlmdCA9ICh2ID4gMHgzICAgKSA8PCAxOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMTAgb2YgdlxuZXhwb3J0cy5sb2cxMCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICAodiA+PSAxMDAwMDAwMDAwKSA/IDkgOiAodiA+PSAxMDAwMDAwMDApID8gOCA6ICh2ID49IDEwMDAwMDAwKSA/IDcgOlxuICAgICAgICAgICh2ID49IDEwMDAwMDApID8gNiA6ICh2ID49IDEwMDAwMCkgPyA1IDogKHYgPj0gMTAwMDApID8gNCA6XG4gICAgICAgICAgKHYgPj0gMTAwMCkgPyAzIDogKHYgPj0gMTAwKSA/IDIgOiAodiA+PSAxMCkgPyAxIDogMDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIGJpdHNcbmV4cG9ydHMucG9wQ291bnQgPSBmdW5jdGlvbih2KSB7XG4gIHYgPSB2IC0gKCh2ID4+PiAxKSAmIDB4NTU1NTU1NTUpO1xuICB2ID0gKHYgJiAweDMzMzMzMzMzKSArICgodiA+Pj4gMikgJiAweDMzMzMzMzMzKTtcbiAgcmV0dXJuICgodiArICh2ID4+PiA0KSAmIDB4RjBGMEYwRikgKiAweDEwMTAxMDEpID4+PiAyNDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXG5mdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3Modikge1xuICB2YXIgYyA9IDMyO1xuICB2ICY9IC12O1xuICBpZiAodikgYy0tO1xuICBpZiAodiAmIDB4MDAwMEZGRkYpIGMgLT0gMTY7XG4gIGlmICh2ICYgMHgwMEZGMDBGRikgYyAtPSA4O1xuICBpZiAodiAmIDB4MEYwRjBGMEYpIGMgLT0gNDtcbiAgaWYgKHYgJiAweDMzMzMzMzMzKSBjIC09IDI7XG4gIGlmICh2ICYgMHg1NTU1NTU1NSkgYyAtPSAxO1xuICByZXR1cm4gYztcbn1cbmV4cG9ydHMuY291bnRUcmFpbGluZ1plcm9zID0gY291bnRUcmFpbGluZ1plcm9zO1xuXG4vL1JvdW5kcyB0byBuZXh0IHBvd2VyIG9mIDJcbmV4cG9ydHMubmV4dFBvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHYgKz0gdiA9PT0gMDtcbiAgLS12O1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2ICsgMTtcbn1cblxuLy9Sb3VuZHMgZG93biB0byBwcmV2aW91cyBwb3dlciBvZiAyXG5leHBvcnRzLnByZXZQb3cyID0gZnVuY3Rpb24odikge1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2IC0gKHY+Pj4xKTtcbn1cblxuLy9Db21wdXRlcyBwYXJpdHkgb2Ygd29yZFxuZXhwb3J0cy5wYXJpdHkgPSBmdW5jdGlvbih2KSB7XG4gIHYgXj0gdiA+Pj4gMTY7XG4gIHYgXj0gdiA+Pj4gODtcbiAgdiBePSB2ID4+PiA0O1xuICB2ICY9IDB4ZjtcbiAgcmV0dXJuICgweDY5OTYgPj4+IHYpICYgMTtcbn1cblxudmFyIFJFVkVSU0VfVEFCTEUgPSBuZXcgQXJyYXkoMjU2KTtcblxuKGZ1bmN0aW9uKHRhYikge1xuICBmb3IodmFyIGk9MDsgaTwyNTY7ICsraSkge1xuICAgIHZhciB2ID0gaSwgciA9IGksIHMgPSA3O1xuICAgIGZvciAodiA+Pj49IDE7IHY7IHYgPj4+PSAxKSB7XG4gICAgICByIDw8PSAxO1xuICAgICAgciB8PSB2ICYgMTtcbiAgICAgIC0tcztcbiAgICB9XG4gICAgdGFiW2ldID0gKHIgPDwgcykgJiAweGZmO1xuICB9XG59KShSRVZFUlNFX1RBQkxFKTtcblxuLy9SZXZlcnNlIGJpdHMgaW4gYSAzMiBiaXQgd29yZFxuZXhwb3J0cy5yZXZlcnNlID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gIChSRVZFUlNFX1RBQkxFWyB2ICAgICAgICAgJiAweGZmXSA8PCAyNCkgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiA4KSAgJiAweGZmXSA8PCAxNikgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiAxNikgJiAweGZmXSA8PCA4KSAgfFxuICAgICAgICAgICBSRVZFUlNFX1RBQkxFWyh2ID4+PiAyNCkgJiAweGZmXTtcbn1cblxuLy9JbnRlcmxlYXZlIGJpdHMgb2YgMiBjb29yZGluYXRlcyB3aXRoIDE2IGJpdHMuICBVc2VmdWwgZm9yIGZhc3QgcXVhZHRyZWUgY29kZXNcbmV4cG9ydHMuaW50ZXJsZWF2ZTIgPSBmdW5jdGlvbih4LCB5KSB7XG4gIHggJj0gMHhGRkZGO1xuICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHkgJj0gMHhGRkZGO1xuICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vRXh0cmFjdHMgdGhlIG50aCBpbnRlcmxlYXZlZCBjb21wb25lbnRcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMiA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAmIDB4NTU1NTU1NTU7XG4gIHYgPSAodiB8ICh2ID4+PiAxKSkgICYgMHgzMzMzMzMzMztcbiAgdiA9ICh2IHwgKHYgPj4+IDIpKSAgJiAweDBGMEYwRjBGO1xuICB2ID0gKHYgfCAodiA+Pj4gNCkpICAmIDB4MDBGRjAwRkY7XG4gIHYgPSAodiB8ICh2ID4+PiAxNikpICYgMHgwMDBGRkZGO1xuICByZXR1cm4gKHYgPDwgMTYpID4+IDE2O1xufVxuXG5cbi8vSW50ZXJsZWF2ZSBiaXRzIG9mIDMgY29vcmRpbmF0ZXMsIGVhY2ggd2l0aCAxMCBiaXRzLiAgVXNlZnVsIGZvciBmYXN0IG9jdHJlZSBjb2Rlc1xuZXhwb3J0cy5pbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgeCAmPSAweDNGRjtcbiAgeCAgPSAoeCB8ICh4PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeCAgPSAoeCB8ICh4PDw4KSkgICYgMjUxNzE5Njk1O1xuICB4ICA9ICh4IHwgKHg8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB4ICA9ICh4IHwgKHg8PDIpKSAgJiAxMjI3MTMzNTEzO1xuXG4gIHkgJj0gMHgzRkY7XG4gIHkgID0gKHkgfCAoeTw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHkgID0gKHkgfCAoeTw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeSAgPSAoeSB8ICh5PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeSAgPSAoeSB8ICh5PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgeCB8PSAoeSA8PCAxKTtcbiAgXG4gIHogJj0gMHgzRkY7XG4gIHogID0gKHogfCAoejw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHogID0gKHogfCAoejw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeiAgPSAoeiB8ICh6PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeiAgPSAoeiB8ICh6PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgXG4gIHJldHVybiB4IHwgKHogPDwgMik7XG59XG5cbi8vRXh0cmFjdHMgbnRoIGludGVybGVhdmVkIGNvbXBvbmVudCBvZiBhIDMtdHVwbGVcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAgICAgICAmIDEyMjcxMzM1MTM7XG4gIHYgPSAodiB8ICh2Pj4+MikpICAgJiAzMjcyMzU2MDM1O1xuICB2ID0gKHYgfCAodj4+PjQpKSAgICYgMjUxNzE5Njk1O1xuICB2ID0gKHYgfCAodj4+PjgpKSAgICYgNDI3ODE5MDMzNTtcbiAgdiA9ICh2IHwgKHY+Pj4xNikpICAmIDB4M0ZGO1xuICByZXR1cm4gKHY8PDIyKT4+MjI7XG59XG5cbi8vQ29tcHV0ZXMgbmV4dCBjb21iaW5hdGlvbiBpbiBjb2xleGljb2dyYXBoaWMgb3JkZXIgKHRoaXMgaXMgbWlzdGFrZW5seSBjYWxsZWQgbmV4dFBlcm11dGF0aW9uIG9uIHRoZSBiaXQgdHdpZGRsaW5nIGhhY2tzIHBhZ2UpXG5leHBvcnRzLm5leHRDb21iaW5hdGlvbiA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIHQgPSB2IHwgKHYgLSAxKTtcbiAgcmV0dXJuICh0ICsgMSkgfCAoKCh+dCAmIC1+dCkgLSAxKSA+Pj4gKGNvdW50VHJhaWxpbmdaZXJvcyh2KSArIDEpKTtcbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuICpcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU3ByaXRlID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlLCBfQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHNwcml0ZS4gU2V0IHRvIG51bGwgdG8gcmVtb3ZlIGEgY3VycmVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyfFBJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW50ZXJuYWwgY2FjaGVkIHZhbHVlIG9mIHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBfVGV4dHVyZTIuZGVmYXVsdC5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnc3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdzcHJpdGUnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIGFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBhbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCB0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIHZhciBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShfVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBBIG5ldyBTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgY3Jvc3Mtb3JpZ2luIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBzY2FsZSBtb2RlLFxuICAgICAqICBzZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gQSBuZXcgU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBpbWFnZSBpZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoX1RleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcyA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogR2VuZXJpYyBjbGFzcyB0byBkZWFsIHdpdGggdHJhZGl0aW9uYWwgMkQgbWF0cml4IHRyYW5zZm9ybXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm1CYXNlID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIFRyYW5zZm9ybUJhc2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybUJhc2UpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBtYXRyaXggdHJhbnNmb3JtLiBJdCBjYW4gYmUgc3dhcHBlZCB0ZW1wb3JhcmlseSBieSBzb21lIGZ1bmN0aW9ucyBsaWtlIGdldExvY2FsQm91bmRzKClcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgbWF0cml4IHRyYW5zZm9ybVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgIHRoaXMuX3dvcmxkSUQgPSAwO1xuICAgIHRoaXMuX3BhcmVudElEID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm1CYXNlIGRvZXMgbm90IGhhdmUgZGVjb21wb3NpdGlvbiwgc28gdGhpcyBmdW5jdGlvbiB3b250IGRvIGFueXRoaW5nXG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpIHt9XG4gIC8vIGVtcHR5XG5cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybUJhc2V9IHBhcmVudFRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICAgKi9cbiAgO1xuXG4gIFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgIHd0LmEgPSBsdC5hICogcHQuYSArIGx0LmIgKiBwdC5jO1xuICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgIHd0LmMgPSBsdC5jICogcHQuYSArIGx0LmQgKiBwdC5jO1xuICAgIHd0LmQgPSBsdC5jICogcHQuYiArIGx0LmQgKiBwdC5kO1xuICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgd3QudHkgPSBsdC50eCAqIHB0LmIgKyBsdC50eSAqIHB0LmQgKyBwdC50eTtcblxuICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgfTtcblxuICByZXR1cm4gVHJhbnNmb3JtQmFzZTtcbn0oKTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICogQHBhcmFtICBwYXJlbnRUcmFuc2Zvcm0ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAqXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm1CYXNlO1xuVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlV29ybGRUcmFuc2Zvcm0gPSBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cblRyYW5zZm9ybUJhc2UuSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtQmFzZSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtQmFzZS5qcy5tYXAiLCIvKipcbiAqIGlzTW9iaWxlLmpzIHYwLjQuMVxuICpcbiAqIEEgc2ltcGxlIGxpYnJhcnkgdG8gZGV0ZWN0IEFwcGxlIHBob25lcyBhbmQgdGFibGV0cyxcbiAqIEFuZHJvaWQgcGhvbmVzIGFuZCB0YWJsZXRzLCBvdGhlciBtb2JpbGUgZGV2aWNlcyAobGlrZSBibGFja2JlcnJ5LCBtaW5pLW9wZXJhIGFuZCB3aW5kb3dzIHBob25lKSxcbiAqIGFuZCBhbnkga2luZCBvZiBzZXZlbiBpbmNoIGRldmljZSwgdmlhIHVzZXIgYWdlbnQgc25pZmZpbmcuXG4gKlxuICogQGF1dGhvcjogS2FpIE1hbGxlYSAoa21hbGxlYUBnbWFpbC5jb20pXG4gKlxuICogQGxpY2Vuc2U6IGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL3B1YmxpY2RvbWFpbi96ZXJvLzEuMC9cbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwpIHtcblxuICAgIHZhciBhcHBsZV9waG9uZSAgICAgICAgID0gL2lQaG9uZS9pLFxuICAgICAgICBhcHBsZV9pcG9kICAgICAgICAgID0gL2lQb2QvaSxcbiAgICAgICAgYXBwbGVfdGFibGV0ICAgICAgICA9IC9pUGFkL2ksXG4gICAgICAgIGFuZHJvaWRfcGhvbmUgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiTW9iaWxlXFxiKS9pLCAvLyBNYXRjaCAnQW5kcm9pZCcgQU5EICdNb2JpbGUnXG4gICAgICAgIGFuZHJvaWRfdGFibGV0ICAgICAgPSAvQW5kcm9pZC9pLFxuICAgICAgICBhbWF6b25fcGhvbmUgICAgICAgID0gLyg/PS4qXFxiQW5kcm9pZFxcYikoPz0uKlxcYlNENDkzMFVSXFxiKS9pLFxuICAgICAgICBhbWF6b25fdGFibGV0ICAgICAgID0gLyg/PS4qXFxiQW5kcm9pZFxcYikoPz0uKlxcYig/OktGT1R8S0ZUVHxLRkpXSXxLRkpXQXxLRlNPV0l8S0ZUSFdJfEtGVEhXQXxLRkFQV0l8S0ZBUFdBfEtGQVJXSXxLRkFTV0l8S0ZTQVdJfEtGU0FXQSlcXGIpL2ksXG4gICAgICAgIHdpbmRvd3NfcGhvbmUgICAgICAgPSAvV2luZG93cyBQaG9uZS9pLFxuICAgICAgICB3aW5kb3dzX3RhYmxldCAgICAgID0gLyg/PS4qXFxiV2luZG93c1xcYikoPz0uKlxcYkFSTVxcYikvaSwgLy8gTWF0Y2ggJ1dpbmRvd3MnIEFORCAnQVJNJ1xuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5ICAgID0gL0JsYWNrQmVycnkvaSxcbiAgICAgICAgb3RoZXJfYmxhY2tiZXJyeV8xMCA9IC9CQjEwL2ksXG4gICAgICAgIG90aGVyX29wZXJhICAgICAgICAgPSAvT3BlcmEgTWluaS9pLFxuICAgICAgICBvdGhlcl9jaHJvbWUgICAgICAgID0gLyhDcmlPU3xDaHJvbWUpKD89LipcXGJNb2JpbGVcXGIpL2ksXG4gICAgICAgIG90aGVyX2ZpcmVmb3ggICAgICAgPSAvKD89LipcXGJGaXJlZm94XFxiKSg/PS4qXFxiTW9iaWxlXFxiKS9pLCAvLyBNYXRjaCAnRmlyZWZveCcgQU5EICdNb2JpbGUnXG4gICAgICAgIHNldmVuX2luY2ggPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJyg/OicgKyAgICAgICAgIC8vIE5vbi1jYXB0dXJpbmcgZ3JvdXBcblxuICAgICAgICAgICAgJ05leHVzIDcnICsgICAgIC8vIE5leHVzIDdcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdCTlRWMjUwJyArICAgICAvLyBCJk4gTm9vayBUYWJsZXQgNyBpbmNoXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnS2luZGxlIEZpcmUnICsgLy8gS2luZGxlIEZpcmVcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdTaWxrJyArICAgICAgICAvLyBLaW5kbGUgRmlyZSwgU2lsayBBY2NlbGVyYXRlZFxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0dULVAxMDAwJyArICAgIC8vIEdhbGF4eSBUYWIgNyBpbmNoXG5cbiAgICAgICAgICAgICcpJywgICAgICAgICAgICAvLyBFbmQgbm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnaScpOyAgICAgICAgICAgLy8gQ2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGluZ1xuXG4gICAgdmFyIG1hdGNoID0gZnVuY3Rpb24ocmVnZXgsIHVzZXJBZ2VudCkge1xuICAgICAgICByZXR1cm4gcmVnZXgudGVzdCh1c2VyQWdlbnQpO1xuICAgIH07XG5cbiAgICB2YXIgSXNNb2JpbGVDbGFzcyA9IGZ1bmN0aW9uKHVzZXJBZ2VudCkge1xuICAgICAgICB2YXIgdWEgPSB1c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICAgICAgICAvLyBGYWNlYm9vayBtb2JpbGUgYXBwJ3MgaW50ZWdyYXRlZCBicm93c2VyIGFkZHMgYSBidW5jaCBvZiBzdHJpbmdzIHRoYXRcbiAgICAgICAgLy8gbWF0Y2ggZXZlcnl0aGluZy4gU3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdmFyIHRtcCA9IHVhLnNwbGl0KCdbRkJBTicpO1xuICAgICAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHVhID0gdG1wWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHdpdHRlciBtb2JpbGUgYXBwJ3MgaW50ZWdyYXRlZCBicm93c2VyIG9uIGlQYWQgYWRkcyBhIFwiVHdpdHRlciBmb3JcbiAgICAgICAgLy8gaVBob25lXCIgc3RyaW5nLiBTYW1lIHByb2JhYmxlIGhhcHBlbnMgb24gb3RoZXIgdGFibGV0IHBsYXRmb3Jtcy5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGNvbmZ1c2UgZGV0ZWN0aW9uIHNvIHN0cmlwIGl0IG91dCBpZiBpdCBleGlzdHMuXG4gICAgICAgIHRtcCA9IHVhLnNwbGl0KCdUd2l0dGVyJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGxlID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhcHBsZV9waG9uZSwgdWEpLFxuICAgICAgICAgICAgaXBvZDogICBtYXRjaChhcHBsZV9pcG9kLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhcHBsZV9waG9uZSwgdWEpICYmIG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhcHBsZV9waG9uZSwgdWEpIHx8IG1hdGNoKGFwcGxlX2lwb2QsIHVhKSB8fCBtYXRjaChhcHBsZV90YWJsZXQsIHVhKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFtYXpvbiA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhbWF6b25fcGhvbmUsIHVhKSAmJiBtYXRjaChhbWF6b25fdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFtYXpvbl9waG9uZSwgdWEpIHx8IG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFuZHJvaWQgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFtYXpvbl9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmICFtYXRjaChhbmRyb2lkX3Bob25lLCB1YSkgJiYgKG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSB8fCBtYXRjaChhbmRyb2lkX3RhYmxldCwgdWEpKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSB8fCBtYXRjaChhbmRyb2lkX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2luZG93cyA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2god2luZG93c19waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSkgfHwgbWF0Y2god2luZG93c190YWJsZXQsIHVhKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm90aGVyID0ge1xuICAgICAgICAgICAgYmxhY2tiZXJyeTogICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSksXG4gICAgICAgICAgICBibGFja2JlcnJ5MTA6IG1hdGNoKG90aGVyX2JsYWNrYmVycnlfMTAsIHVhKSxcbiAgICAgICAgICAgIG9wZXJhOiAgICAgICAgbWF0Y2gob3RoZXJfb3BlcmEsIHVhKSxcbiAgICAgICAgICAgIGZpcmVmb3g6ICAgICAgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpLFxuICAgICAgICAgICAgY2hyb21lOiAgICAgICBtYXRjaChvdGhlcl9jaHJvbWUsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogICAgICAgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeSwgdWEpIHx8IG1hdGNoKG90aGVyX2JsYWNrYmVycnlfMTAsIHVhKSB8fCBtYXRjaChvdGhlcl9vcGVyYSwgdWEpIHx8IG1hdGNoKG90aGVyX2ZpcmVmb3gsIHVhKSB8fCBtYXRjaChvdGhlcl9jaHJvbWUsIHVhKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldmVuX2luY2ggPSBtYXRjaChzZXZlbl9pbmNoLCB1YSk7XG4gICAgICAgIHRoaXMuYW55ID0gdGhpcy5hcHBsZS5kZXZpY2UgfHwgdGhpcy5hbmRyb2lkLmRldmljZSB8fCB0aGlzLndpbmRvd3MuZGV2aWNlIHx8IHRoaXMub3RoZXIuZGV2aWNlIHx8IHRoaXMuc2V2ZW5faW5jaDtcblxuICAgICAgICAvLyBleGNsdWRlcyAnb3RoZXInIGRldmljZXMgYW5kIGlwb2RzLCB0YXJnZXRpbmcgdG91Y2hzY3JlZW4gcGhvbmVzXG4gICAgICAgIHRoaXMucGhvbmUgPSB0aGlzLmFwcGxlLnBob25lIHx8IHRoaXMuYW5kcm9pZC5waG9uZSB8fCB0aGlzLndpbmRvd3MucGhvbmU7XG5cbiAgICAgICAgLy8gZXhjbHVkZXMgNyBpbmNoIGRldmljZXMsIGNsYXNzaWZ5aW5nIGFzIHBob25lIG9yIHRhYmxldCBpcyBsZWZ0IHRvIHRoZSB1c2VyXG4gICAgICAgIHRoaXMudGFibGV0ID0gdGhpcy5hcHBsZS50YWJsZXQgfHwgdGhpcy5hbmRyb2lkLnRhYmxldCB8fCB0aGlzLndpbmRvd3MudGFibGV0O1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGluc3RhbnRpYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBJTSA9IG5ldyBJc01vYmlsZUNsYXNzKCk7XG4gICAgICAgIElNLkNsYXNzID0gSXNNb2JpbGVDbGFzcztcbiAgICAgICAgcmV0dXJuIElNO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9ub2RlXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gSXNNb2JpbGVDbGFzcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vYnJvd3NlcmlmeVxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGluc3RhbnRpYXRlKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy9BTURcbiAgICAgICAgZGVmaW5lKCdpc01vYmlsZScsIFtdLCBnbG9iYWwuaXNNb2JpbGUgPSBpbnN0YW50aWF0ZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnbG9iYWwuaXNNb2JpbGUgPSBpbnN0YW50aWF0ZSgpO1xuICAgIH1cblxufSkodGhpcyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXNcbiAqIEF4aXMtQWxpZ25lZCBCb3VuZGluZyBCb3hcbiAqIEl0IGlzIG5vdCBhIHNoYXBlISBJdHMgbXV0YWJsZSB0aGluZywgbm8gJ0VNUFRZJyBvciB0aGF0IGtpbmQgb2YgcHJvYmxlbXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCb3VuZHMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb3VuZHMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgZW1wdHkuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgdGhpcy51cGRhdGVJRCsrO1xuXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbiByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZIGNvbnN0YW50LCBlaXRoZXIgY29uc3RydWN0IG5ldyByZWN0YW5nbGUsIGVpdGhlciB1c2UgeW91ciByZWN0YW5nbGVcbiAgICAgKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gdGVtcG9yYXJ5IG9iamVjdCB3aWxsIGJlIHVzZWQgaWYgQUFCQiBpcyBub3QgZW1wdHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5nZXRSZWN0YW5nbGUgPSBmdW5jdGlvbiBnZXRSZWN0YW5nbGUocmVjdCkge1xuICAgICAgICBpZiAodGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WSkge1xuICAgICAgICAgICAgcmV0dXJuIF9tYXRoLlJlY3RhbmdsZS5FTVBUWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3QgPSByZWN0IHx8IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiBhZGRQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvaW50LnkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUaGUgdmVydHMgdG8gYWRkLlxuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFF1YWQgPSBmdW5jdGlvbiBhZGRRdWFkKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHZhciB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIHZhciB5ID0gdmVydGljZXNbMV07XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbNl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybUJhc2V9IHRyYW5zZm9ybSAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWUgPSBmdW5jdGlvbiBhZGRGcmFtZSh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSB0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuXG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHZhciB4ID0gYSAqIHgwICsgYyAqIHkwICsgdHg7XG4gICAgICAgIHZhciB5ID0gYiAqIHgwICsgZCAqIHkwICsgdHk7XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MSArIGMgKiB5MCArIHR4O1xuICAgICAgICB5ID0gYiAqIHgxICsgZCAqIHkwICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDAgKyBjICogeTEgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MCArIGQgKiB5MSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgxICsgYyAqIHkxICsgdHg7XG4gICAgICAgIHkgPSBiICogeDEgKyBkICogeTEgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGFkZFZlcnRpY2VzKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciByYXdYID0gdmVydGljZXNbaV07XG4gICAgICAgICAgICB2YXIgcmF3WSA9IHZlcnRpY2VzW2kgKyAxXTtcbiAgICAgICAgICAgIHZhciB4ID0gYSAqIHJhd1ggKyBjICogcmF3WSArIHR4O1xuICAgICAgICAgICAgdmFyIHkgPSBkICogcmF3WSArIGIgKiByYXdYICsgdHk7XG5cbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHMgPSBmdW5jdGlvbiBhZGRCb3VuZHMoYm91bmRzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IG1hc2sgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWFzayA9IGZ1bmN0aW9uIGFkZEJvdW5kc01hc2soYm91bmRzLCBtYXNrKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gbWFzay5taW5ZID8gYm91bmRzLm1pblkgOiBtYXNrLm1pblk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBhcmVhIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc0FyZWEgPSBmdW5jdGlvbiBhZGRCb3VuZHNBcmVhKGJvdW5kcywgYXJlYSkge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IGFyZWEueCArIGFyZWEud2lkdGg7XG4gICAgICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgYXJlYS55ICsgYXJlYS5oZWlnaHQgPyBib3VuZHMubWF4WSA6IGFyZWEueSArIGFyZWEuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQm91bmRzO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCb3VuZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Cb3VuZHMuanMubWFwIiwiXG5cbnZhciBtYXBUeXBlID0gZnVuY3Rpb24oZ2wsIHR5cGUpIFxue1xuICAgIGlmKCFHTF9UQUJMRSkgXG4gICAge1xuICAgICAgICB2YXIgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG5cbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKSBcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRuID0gdHlwZU5hbWVzW2ldO1xuICAgICAgICAgICAgR0xfVEFCTEVbIGdsW3RuXSBdID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufTtcblxudmFyIEdMX1RBQkxFID0gbnVsbDtcblxudmFyIEdMX1RPX0dMU0xfVFlQRVMgPSB7XG4gICdGTE9BVCc6ICAgICAgICdmbG9hdCcsXG4gICdGTE9BVF9WRUMyJzogICd2ZWMyJyxcbiAgJ0ZMT0FUX1ZFQzMnOiAgJ3ZlYzMnLFxuICAnRkxPQVRfVkVDNCc6ICAndmVjNCcsXG5cbiAgJ0lOVCc6ICAgICAgICAgJ2ludCcsXG4gICdJTlRfVkVDMic6ICAgICdpdmVjMicsXG4gICdJTlRfVkVDMyc6ICAgICdpdmVjMycsXG4gICdJTlRfVkVDNCc6ICAgICdpdmVjNCcsXG4gIFxuICAnQk9PTCc6ICAgICAgICAnYm9vbCcsXG4gICdCT09MX1ZFQzInOiAgICdidmVjMicsXG4gICdCT09MX1ZFQzMnOiAgICdidmVjMycsXG4gICdCT09MX1ZFQzQnOiAgICdidmVjNCcsXG4gIFxuICAnRkxPQVRfTUFUMic6ICAnbWF0MicsXG4gICdGTE9BVF9NQVQzJzogICdtYXQzJyxcbiAgJ0ZMT0FUX01BVDQnOiAgJ21hdDQnLFxuICBcbiAgJ1NBTVBMRVJfMkQnOiAgJ3NhbXBsZXIyRCcgIFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtYXBUeXBlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgZGVmaW5lZCBieSBpdHMgcG9zaXRpb24sIGFzIGluZGljYXRlZCBieSBpdHMgdG9wLWxlZnQgY29ybmVyXG4gKiBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZWN0YW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlY3RhbmdsZSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlY3RhbmdsZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5SRUNUO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGxlZnQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHJlY3RhbmdsZSkge1xuICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nWCAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nWSAtIFRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiBwYWQocGFkZGluZ1gsIHBhZGRpbmdZKSB7XG4gICAgICAgIHBhZGRpbmdYID0gcGFkZGluZ1ggfHwgMDtcbiAgICAgICAgcGFkZGluZ1kgPSBwYWRkaW5nWSB8fCAocGFkZGluZ1kgIT09IDAgPyBwYWRkaW5nWCA6IDApO1xuXG4gICAgICAgIHRoaXMueCAtPSBwYWRkaW5nWDtcbiAgICAgICAgdGhpcy55IC09IHBhZGRpbmdZO1xuXG4gICAgICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpdHMgdGhpcyByZWN0YW5nbGUgYXJvdW5kIHRoZSBwYXNzZWQgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBmaXQuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gZml0KHJlY3RhbmdsZSkge1xuICAgICAgICBpZiAodGhpcy54IDwgcmVjdGFuZ2xlLngpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggKz0gdGhpcy54O1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueSA8IHJlY3RhbmdsZS55KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCArPSB0aGlzLnk7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoIC0gdGhpcy54O1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy55ICsgdGhpcy5oZWlnaHQgPiByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodCAtIHRoaXMueTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gaW5jbHVkZS5cbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5lbmxhcmdlID0gZnVuY3Rpb24gZW5sYXJnZShyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWF4KHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFJlY3RhbmdsZSwgW3tcbiAgICAgICAga2V5OiAnbGVmdCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIHRvcCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndG9wJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYm90dG9tJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb25zdGFudCBlbXB0eSByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuXG4gICAgfV0sIFt7XG4gICAgICAgIGtleTogJ0VNUFRZJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZWN0YW5nbGU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlY3RhbmdsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuL1BvaW50Jyk7XG5cbnZhciBfUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9pbnQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGNsYXNzIGFzIGFuIG9iamVjdCwgd2hpY2ggbWFrZXMgaXQgYSBsb3QgZmFzdGVyLFxuICogaGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0IDpcbiAqIHwgYSB8IGIgfCB0eHxcbiAqIHwgYyB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthPTFdIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYj0wXSAtIHkgc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYz0wXSAtIHggc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZD0xXSAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R4PTBdIC0geCB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHk9MF0gLSB5IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWF0cml4KCkge1xuICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTtcbiAgICAgICAgdmFyIGIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMTtcbiAgICAgICAgdmFyIHR4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAwO1xuICAgICAgICB2YXIgdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hdHJpeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hID0gYTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmIgPSBiO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYyA9IGM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kID0gZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eSA9IHR5O1xuXG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGEgPSBhcnJheVswXVxuICAgICAqIGIgPSBhcnJheVsxXVxuICAgICAqIGMgPSBhcnJheVszXVxuICAgICAqIGQgPSBhcnJheVs0XVxuICAgICAqIHR4ID0gYXJyYXlbMl1cbiAgICAgKiB0eSA9IGFycmF5WzVdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5mcm9tQXJyYXkgPSBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXMuYiA9IGFycmF5WzFdO1xuICAgICAgICB0aGlzLmMgPSBhcnJheVszXTtcbiAgICAgICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgICAgIHRoaXMudHggPSBhcnJheVsyXTtcbiAgICAgICAgdGhpcy50eSA9IGFycmF5WzVdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSBtYXRyaXggcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGEgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGMgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGQgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSB0aGUgY3VycmVudCBNYXRyaXggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc3Bvc2UgLSBXaGV0aGVyIHdlIG5lZWQgdG8gdHJhbnNwb3NlIHRoZSBtYXRyaXggb3Igbm90XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9bmV3IEZsb2F0MzJBcnJheSg5KV0gLSBJZiBwcm92aWRlZCB0aGUgYXJyYXkgd2lsbCBiZSBhc3NpZ25lZCB0byBvdXRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gdGhlIG5ld2x5IGNyZWF0ZWQgYXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KHRyYW5zcG9zZSwgb3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5hcnJheSkge1xuICAgICAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXJyYXkgPSBvdXQgfHwgdGhpcy5hcnJheTtcblxuICAgICAgICBpZiAodHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzZdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzddID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVsyXSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbNl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbN10gPSAwO1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBfUG9pbnQyLmRlZmF1bHQoKTtcblxuICAgICAgICB2YXIgeCA9IHBvcy54O1xuICAgICAgICB2YXIgeSA9IHBvcy55O1xuXG4gICAgICAgIG5ld1Bvcy54ID0gdGhpcy5hICogeCArIHRoaXMuYyAqIHkgKyB0aGlzLnR4O1xuICAgICAgICBuZXdQb3MueSA9IHRoaXMuYiAqIHggKyB0aGlzLmQgKiB5ICsgdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgaW52ZXJzZSBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UgdG8gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIGlucHV0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCBpbnZlcnNlLXRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseUludmVyc2UgPSBmdW5jdGlvbiBhcHBseUludmVyc2UocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBfUG9pbnQyLmRlZmF1bHQoKTtcblxuICAgICAgICB2YXIgaWQgPSAxIC8gKHRoaXMuYSAqIHRoaXMuZCArIHRoaXMuYyAqIC10aGlzLmIpO1xuXG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSB0aGlzLmQgKiBpZCAqIHggKyAtdGhpcy5jICogaWQgKiB5ICsgKHRoaXMudHkgKiB0aGlzLmMgLSB0aGlzLnR4ICogdGhpcy5kKSAqIGlkO1xuICAgICAgICBuZXdQb3MueSA9IHRoaXMuYSAqIGlkICogeSArIC10aGlzLmIgKiBpZCAqIHggKyAoLXRoaXMudHkgKiB0aGlzLmEgKyB0aGlzLnR4ICogdGhpcy5iKSAqIGlkO1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIG1hdHJpeCBvbiB0aGUgeCBhbmQgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB4IGJ5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgSG93IG11Y2ggdG8gdHJhbnNsYXRlIHkgYnlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiB0cmFuc2xhdGUoeCwgeSkge1xuICAgICAgICB0aGlzLnR4ICs9IHg7XG4gICAgICAgIHRoaXMudHkgKz0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gc2NhbGUoeCwgeSkge1xuICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgdGhpcy5kICo9IHk7XG4gICAgICAgIHRoaXMuYyAqPSB4O1xuICAgICAgICB0aGlzLmIgKj0geTtcbiAgICAgICAgdGhpcy50eCAqPSB4O1xuICAgICAgICB0aGlzLnR5ICo9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSByb3RhdGlvbiB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIC0gVGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gcm90YXRlKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIHRoaXMuYSA9IGExICogY29zIC0gdGhpcy5iICogc2luO1xuICAgICAgICB0aGlzLmIgPSBhMSAqIHNpbiArIHRoaXMuYiAqIGNvcztcbiAgICAgICAgdGhpcy5jID0gYzEgKiBjb3MgLSB0aGlzLmQgKiBzaW47XG4gICAgICAgIHRoaXMuZCA9IGMxICogc2luICsgdGhpcy5kICogY29zO1xuICAgICAgICB0aGlzLnR4ID0gdHgxICogY29zIC0gdGhpcy50eSAqIHNpbjtcbiAgICAgICAgdGhpcy50eSA9IHR4MSAqIHNpbiArIHRoaXMudHkgKiBjb3M7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gYXBwZW5kLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChtYXRyaXgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuXG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hICogYTEgKyBtYXRyaXguYiAqIGMxO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYSAqIGIxICsgbWF0cml4LmIgKiBkMTtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmMgKiBhMSArIG1hdHJpeC5kICogYzE7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5jICogYjEgKyBtYXRyaXguZCAqIGQxO1xuXG4gICAgICAgIHRoaXMudHggPSBtYXRyaXgudHggKiBhMSArIG1hdHJpeC50eSAqIGMxICsgdGhpcy50eDtcbiAgICAgICAgdGhpcy50eSA9IG1hdHJpeC50eCAqIGIxICsgbWF0cml4LnR5ICogZDEgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXRyaXggYmFzZWQgb24gYWxsIHRoZSBhdmFpbGFibGUgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpdGlvbiBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpdGlvbiBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WCAtIFBpdm90IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RZIC0gUGl2b3Qgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBTY2FsZSBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWSAtIFNjYWxlIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdYIC0gU2tldyBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNrZXdZIC0gU2tldyBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSkge1xuICAgICAgICB2YXIgc3IgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBjciA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIGN5ID0gTWF0aC5jb3Moc2tld1kpO1xuICAgICAgICB2YXIgc3kgPSBNYXRoLnNpbihza2V3WSk7XG4gICAgICAgIHZhciBuc3ggPSAtTWF0aC5zaW4oc2tld1gpO1xuICAgICAgICB2YXIgY3ggPSBNYXRoLmNvcyhza2V3WCk7XG5cbiAgICAgICAgdmFyIGEgPSBjciAqIHNjYWxlWDtcbiAgICAgICAgdmFyIGIgPSBzciAqIHNjYWxlWDtcbiAgICAgICAgdmFyIGMgPSAtc3IgKiBzY2FsZVk7XG4gICAgICAgIHZhciBkID0gY3IgKiBzY2FsZVk7XG5cbiAgICAgICAgdGhpcy5hID0gY3kgKiBhICsgc3kgKiBjO1xuICAgICAgICB0aGlzLmIgPSBjeSAqIGIgKyBzeSAqIGQ7XG4gICAgICAgIHRoaXMuYyA9IG5zeCAqIGEgKyBjeCAqIGM7XG4gICAgICAgIHRoaXMuZCA9IG5zeCAqIGIgKyBjeCAqIGQ7XG5cbiAgICAgICAgdGhpcy50eCA9IHggKyAocGl2b3RYICogYSArIHBpdm90WSAqIGMpO1xuICAgICAgICB0aGlzLnR5ID0geSArIChwaXZvdFggKiBiICsgcGl2b3RZICogZCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gcHJlcGVuZChtYXRyaXgpIHtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG5cbiAgICAgICAgICAgIHRoaXMuYSA9IGExICogbWF0cml4LmEgKyB0aGlzLmIgKiBtYXRyaXguYztcbiAgICAgICAgICAgIHRoaXMuYiA9IGExICogbWF0cml4LmIgKyB0aGlzLmIgKiBtYXRyaXguZDtcbiAgICAgICAgICAgIHRoaXMuYyA9IGMxICogbWF0cml4LmEgKyB0aGlzLmQgKiBtYXRyaXguYztcbiAgICAgICAgICAgIHRoaXMuZCA9IGMxICogbWF0cml4LmIgKyB0aGlzLmQgKiBtYXRyaXguZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBtYXRyaXguYSArIHRoaXMudHkgKiBtYXRyaXguYyArIG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9IHR4MSAqIG1hdHJpeC5iICsgdGhpcy50eSAqIG1hdHJpeC5kICsgbWF0cml4LnR5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybXxQSVhJLlRyYW5zZm9ybVN0YXRpY30gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybXxQSVhJLlRyYW5zZm9ybVN0YXRpY30gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiBkZWNvbXBvc2UodHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgICAgIHZhciBhID0gdGhpcy5hO1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkID0gdGhpcy5kO1xuXG4gICAgICAgIHZhciBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICAgICAgdmFyIHNrZXdZID0gTWF0aC5hdGFuMihiLCBhKTtcblxuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcblxuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcblxuICAgICAgICAgICAgaWYgKGEgPCAwICYmIGQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiArPSB0cmFuc2Zvcm0ucm90YXRpb24gPD0gMCA/IE1hdGguUEkgOiAtTWF0aC5QSTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHRyYW5zZm9ybS5za2V3LnkgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuXG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSBhMSAqIGQxIC0gYjEgKiBjMTtcblxuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLShhMSAqIHRoaXMudHkgLSBiMSAqIHR4MSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1hdHJpeCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnSURFTlRJVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnVEVNUF9NQVRSSVgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRyaXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICovXG4gIGZ1bmN0aW9uIFBvaW50KCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy54ID0geDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgdGhpcy5zZXQocC54LCBwLnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhwKSB7XG4gICAgcmV0dXJuIHAueCA9PT0gdGhpcy54ICYmIHAueSA9PT0gdGhpcy55O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICB0aGlzLnkgPSB5IHx8ICh5ICE9PSAwID8gdGhpcy54IDogMCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvaW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvaW50LmpzLm1hcCIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2ggKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuIiwiY29uc3QgQ29uZmlnID0ge1xuICBCR19DT0xPUjogMHgwMDExMDAsXG4gIFdPUkxEX1dJRFRIOiA2MDAsXG4gIFdPUkxEX0hFSUdIVDogNDAwLFxuICBCQUxMX1dJRFRIOiAxOSxcbiAgQkFMTF9IRUlHSFQ6IDE5LFxuICBQQURETEVfV0lEVEg6IDEwMSxcbiAgUEFERExFX0hFSUdIVDogMTksXG4gIFBBRERMRV8xX1BPU0lUSU9OOiB7WDogMzAwLCBZOiAyMH0sXG4gIFBBRERMRV8yX1BPU0lUSU9OOiB7WDogMzAwLCBZOiAzODB9LFxuICBCQUxMX1BPU0lUSU9OOiB7WDogMzAwLCBZOiAyMDB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3VudExpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgfTtcblxuICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDb3VudExpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3VudExpbWl0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgUGxhbmUgPSBuZXcgUElYSS5QbGFuZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBQbGFuZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhQbGFuZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1ggLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNZIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeS1heGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYW5lKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tlciBmb3IgaWYgdGhlIFBsYW5lIGlzIHJlYWR5IHRvIGJlIGRyYXduLiBOZWVkZWQgYmVjYXVzZSBNZXNoIGN0b3IgY2FuXG4gICAgICAgICAqIGNhbGwgX29uVGV4dHVyZVVwZGF0ZWQgd2hpY2ggY291bGQgY2FsbCByZWZyZXNoIHRvbyBlYXJseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9NZXNoLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLl9yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMudmVydGljZXNYID0gdmVydGljZXNYIHx8IDEwO1xuICAgICAgICBfdGhpcy52ZXJ0aWNlc1kgPSB2ZXJ0aWNlc1kgfHwgMTA7XG5cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBfTWVzaDMuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgX3RoaXMucmVmcmVzaCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy52ZXJ0aWNlc1ggKiB0aGlzLnZlcnRpY2VzWTtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciBjb2xvcnMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnZlcnRpY2VzWSAtIDE7XG5cbiAgICAgICAgdmFyIHNpemVYID0gdGV4dHVyZS53aWR0aCAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gdGV4dHVyZS5oZWlnaHQgLyBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGkgJSB0aGlzLnZlcnRpY2VzWDtcbiAgICAgICAgICAgIHZhciB5ID0gaSAvIHRoaXMudmVydGljZXNYIHwgMDtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIGNvbnNcblxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU3ViOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IF9pICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSBfaSAvIHNlZ21lbnRzWCB8IDA7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRpY2VzKVxuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoY29sb3JzKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5pbmRleERpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0ZXh0dXJlIFVWcyB3aGVuIG5ldyB0ZXh0dXJlIGlzIHNldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICBfTWVzaDMuZGVmYXVsdC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSBQbGFuZSBjdG9yIHRvIGZpbmlzaCBiZWZvcmUgY2FsbGluZyByZWZyZXNoXG4gICAgICAgIGlmICh0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYW5lO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBsYW5lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhbmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRleHR1cmVQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLklNQUdFKSB7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xufTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZVBhcnNlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ByaXRlc2hlZXRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArICdfaW1hZ2UnO1xuXG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLkpTT04gfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgdGhpcy5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IF9jb3JlLlNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuXG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGg7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF91cmwgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3VybDIuZGVmYXVsdC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIHZhciBlbmNvZGVkQ2hhckluZGV4ZXMgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYXdheSBoaWdoLW9yZGVyIGJ5dGUsIGFzIGRvY3VtZW50ZWQgYXQ6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoYnl0ZWJ1ZmZlclsxXSAmIDB4MGYpIDw8IDIgfCBieXRlYnVmZmVyWzJdID4+IDY7XG5cbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHBhZGRpbmcgaGFwcGVuZWQsIGFuZCBhZGp1c3QgYWNjb3JkaW5nbHlcbiAgICAgICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWI2NC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmVhY2hTZXJpZXMgPSBlYWNoU2VyaWVzO1xuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuLyoqXG4gKiBTbWFsbGVyIHZlcnNpb24gb2YgdGhlIGFzeW5jIGxpYnJhcnkgY29uc3RydWN0cy5cbiAqXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IC0gQXJyYXkgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdG9yIC0gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWZlck5leHQ9ZmFsc2VdIC0gQnJlYWsgc3luY2hyb25vdXMgZWFjaCBsb29wIGJ5IGNhbGxpbmcgbmV4dCB3aXRoIGEgc2V0VGltZW91dCBvZiAxLlxuICovXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufVxuXG4vKipcbiAqIEVuc3VyZXMgYSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWxsRm4gPSBmbjtcblxuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgdmFyIHEgPSB7XG4gICAgICAgIF90YXNrczogW10sXG4gICAgICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICAgICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICAgICAgZW1wdHk6IF9ub29wLFxuICAgICAgICBkcmFpbjogX25vb3AsXG4gICAgICAgIGVycm9yOiBfbm9vcCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAga2lsbDogZnVuY3Rpb24ga2lsbCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBxLl90YXNrcyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bm5pbmc6IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgfSxcbiAgICAgICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH0sIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEucHJvY2VzcygpO1xuICAgICAgICB9LCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gcS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBxO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJpdG1hcEZvbnRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuWE1MKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNraXAgaWYgbm90IGJpdG1hcCBmb250IGRhdGEsIHVzaW5nIHNvbWUgc2lsbHkgZHVjay10eXBpbmdcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGggPT09IDAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpLmxlbmd0aCA9PT0gMCB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhtbFVybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBwYXRoLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmICh4bWxVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHhtbFVybCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsICYmIHhtbFVybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSB4bWxVcmxcbiAgICAgICAgeG1sVXJsID0geG1sVXJsLnJlcGxhY2UodGhpcy5iYXNlVXJsLCAnJyk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAoeG1sVXJsICYmIHhtbFVybC5jaGFyQXQoeG1sVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZVVybCA9IHhtbFVybCArIHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKVswXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICBpZiAoX2NvcmUudXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVVcmxdKSB7XG4gICAgICAgICAgICAvLyByZXVzZSBleGlzdGluZyB0ZXh0dXJlXG4gICAgICAgICAgICBwYXJzZShyZXNvdXJjZSwgX2NvcmUudXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVVcmxdKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgbG9hZFR5cGU6IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBsb2FkIHRoZSB0ZXh0dXJlIGZvciB0aGUgZm9udFxuICAgICAgICAgICAgdGhpcy5hZGQocmVzb3VyY2UubmFtZSArICdfaW1hZ2UnLCB0ZXh0dXJlVXJsLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIHBhcnNlKHJlc291cmNlLCByZXMudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgcGF0aCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXRoKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfZXh0cmFzID0gcmVxdWlyZSgnLi4vZXh0cmFzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBCaXRtYXBUZXh0IGZvbnQgZnJvbSBsb2FkZXIgcmVzb3VyY2UuXG4gKlxuICogQGZ1bmN0aW9uIHBhcnNlQml0bWFwRm9udERhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLmxvYWRlcnNcbiAqIEBwYXJhbSB7UElYSS5sb2FkZXJzLlJlc291cmNlfSByZXNvdXJjZSAtIExvYWRlciByZXNvdXJjZS5cbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRleHR1cmUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHJlc291cmNlLCB0ZXh0dXJlKSB7XG4gICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IF9leHRyYXMuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQocmVzb3VyY2UuZGF0YSwgdGV4dHVyZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtYXBGb250UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgKiB9KTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICovXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgLyoqXG4gICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgaGl0QXJlYTogbnVsbCxcblxuICAvKipcbiAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGdldCBidXR0b25Nb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICB9LFxuICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGN1cnNvcjogbnVsbCxcblxuICAvKipcbiAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICpcbiAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgfSxcblxuICAvKipcbiAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICovXG4gIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aXZlVGFyZ2V0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiBfZG9TZXQoZmxhZywgeW4pIHtcbiAgICAgICAgaWYgKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBbe1xuICAgICAgICBrZXk6IFwicG9pbnRlcklkXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZsYWdzXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgZmxhZ3MgZm9yIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFncyAtIEZsYWdzIHRvIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibm9uZVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5OT05FO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm92ZXJcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIG92ZXIgZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGV2ZW50IG92ZXI/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJpZ2h0RG93blwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgcmlnaHQgZG93biBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGRvd24/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibGVmdERvd25cIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbGVmdCBkb3duIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duP1xuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG5cblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDJcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgKlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uIF9yZXNldCgpIHtcbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gSW50ZXJhY3Rpb25FdmVudDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25FdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uRXZlbnQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhvbGRzIGFsbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGFuIEludGVyYWN0aW9uIGV2ZW50XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25EYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25EYXRhKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLmdsb2JhbCA9IG5ldyBjb3JlLlBvaW50KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IERpc3BsYXlPYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50XG4gICAgICogQG1lbWJlciB7TW91c2VFdmVudHxUb3VjaEV2ZW50fFBvaW50ZXJFdmVudH1cbiAgICAgKi9cbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvblxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5idXR0b24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9ucyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWCBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3dpZHRoXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlLCBpbiBkZWdyZWVzLCBiZXR3ZWVuIHRoZSBwb2ludGVyIGRldmljZSBhbmQgdGhlIHNjcmVlbi5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGlsdFkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFByZXNzdXJlIGFwcGxpZWQgYnkgdGhlIHBvaW50aW5nIGRldmljZSBkdXJpbmcgdGhlIGV2ZW50LiBBIFRvdWNoJ3MgZm9yY2UgcHJvcGVydHlcbiAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnByZXNzdXJlID0gMDtcblxuICAgIC8qKlxuICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoL3JvdGF0aW9uQW5nbGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHdpc3QgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAgICovXG5cblxuICAvKipcbiAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gICAqICBjb29yZHMgb2ZmXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICovXG4gIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldExvY2FsUG9zaXRpb24oZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IFRoZSBub3JtYWxpemVkIGV2ZW50IGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLl9jb3B5RXZlbnQgPSBmdW5jdGlvbiBfY29weUV2ZW50KGV2ZW50KSB7XG4gICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgIC8vIGl0IHdpdGggXCJmYWxzZVwiIG9uIGxhdGVyIGV2ZW50cyB3aGVuIG91ciBzaGltIGZvciBpdCBvbiB0b3VjaCBldmVudHMgbWlnaHQgbm90IGJlXG4gICAgLy8gYWNjdXJhdGVcbiAgICBpZiAoZXZlbnQuaXNQcmltYXJ5KSB7XG4gICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgIHRoaXMuYnV0dG9ucyA9IGV2ZW50LmJ1dHRvbnM7XG4gICAgdGhpcy53aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICB0aGlzLnRpbHRZID0gZXZlbnQudGlsdFk7XG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uIF9yZXNldCgpIHtcbiAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhJbnRlcmFjdGlvbkRhdGEsIFt7XG4gICAga2V5OiAncG9pbnRlcklkJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludGVyYWN0aW9uRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25EYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25EYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlJyk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlID0gcmVxdWlyZSgnLi9nZW5lcmF0ZUJsdXJGcmFnU291cmNlJyk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlKTtcblxudmFyIF9nZXRNYXhCbHVyS2VybmVsU2l6ZSA9IHJlcXVpcmUoJy4vZ2V0TWF4Qmx1cktlcm5lbFNpemUnKTtcblxudmFyIF9nZXRNYXhCbHVyS2VybmVsU2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRNYXhCbHVyS2VybmVsU2l6ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQmx1cllGaWx0ZXIgYXBwbGllcyBhIGhvcml6b250YWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1cllGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEJsdXJZRmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVyWUZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1cllGaWx0ZXIpO1xuXG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCBmYWxzZSk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBmcmFnU3JjKSk7XG5cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIF90aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuICAgICAgICBfdGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgX3RoaXMuZmlyc3RSdW4gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZz9cbiAgICAgKi9cblxuXG4gICAgQmx1cllGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RSdW4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICB2YXIga2VybmVsU2l6ZSA9ICgwLCBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyLmRlZmF1bHQpKGdsKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5zaXplLmhlaWdodCAqIChvdXRwdXQuc2l6ZS5oZWlnaHQgLyBpbnB1dC5zaXplLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzO1xuXG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyWUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5hYnModmFsdWUpICogMjtcbiAgICAgICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCbHVyWUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCbHVyWUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJZRmlsdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0TWF4S2VybmVsU2l6ZTtcbmZ1bmN0aW9uIGdldE1heEtlcm5lbFNpemUoZ2wpIHtcbiAgICB2YXIgbWF4VmFyeWluZ3MgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyk7XG4gICAgdmFyIGtlcm5lbFNpemUgPSAxNTtcblxuICAgIHdoaWxlIChrZXJuZWxTaXplID4gbWF4VmFyeWluZ3MpIHtcbiAgICAgICAga2VybmVsU2l6ZSAtPSAyO1xuICAgIH1cblxuICAgIHJldHVybiBrZXJuZWxTaXplO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TWF4Qmx1cktlcm5lbFNpemUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVGcmFnQmx1clNvdXJjZTtcbnZhciBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XVxufTtcblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsICd2b2lkIG1haW4odm9pZCknLCAneycsICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsICcgICAgJWJsdXIlJywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVGcmFnQmx1clNvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG5cbiAgICB2YXIgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9ICdnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2Qmx1clRleENvb3Jkc1slaW5kZXglXSkgKiAldmFsdWUlOyc7XG4gICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgdmFsdWUgPSBpO1xuXG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXZhbHVlJScsIGtlcm5lbFt2YWx1ZV0pO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZVZlcnRCbHVyU291cmNlO1xudmFyIHZlcnRUZW1wbGF0ZSA9IFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkOycsICd1bmlmb3JtIGZsb2F0IHN0cmVuZ3RoOycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JywgJ3ZvaWQgbWFpbih2b2lkKScsICd7JywgJ2dsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoKGFWZXJ0ZXhQb3NpdGlvbiksIDEuMCkpLnh5LCAwLjAsIDEuMCk7JywgJyVibHVyJScsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVmVydEJsdXJTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcblxuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gdm9pZCAwO1xuICAgIC8vIGxldCB2YWx1ZTtcblxuICAgIGlmICh4KSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gYVRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApOyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSBhVGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKykge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpKTtcblxuICAgICAgICAvLyB2YWx1ZSA9IGk7XG5cbiAgICAgICAgLy8gaWYoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArICcuMCcpO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiB2ZXJ0U291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUgPSByZXF1aXJlKCcuL2dldE1heEJsdXJLZXJuZWxTaXplJyk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TWF4Qmx1cktlcm5lbFNpemUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIEJsdXJYRmlsdGVyIGFwcGxpZXMgYSBob3Jpem9udGFsIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJYRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhCbHVyWEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1clhGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJYRmlsdGVyKTtcblxuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICB2YXIgdmVydFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIHZlcnRTcmMsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBmcmFnU3JjKSk7XG5cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIF90aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuICAgICAgICBfdGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgX3RoaXMuZmlyc3RSdW4gPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZz9cbiAgICAgKi9cblxuXG4gICAgQmx1clhGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RSdW4pIHtcbiAgICAgICAgICAgIHZhciBnbCA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICB2YXIga2VybmVsU2l6ZSA9ICgwLCBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyLmRlZmF1bHQpKGdsKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAxIC8gb3V0cHV0LnNpemUud2lkdGggKiAob3V0cHV0LnNpemUud2lkdGggLyBpbnB1dC5zaXplLndpZHRoKTtcblxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlczsgLy8gLyB0aGlzLnBhc3Nlcy8vTWF0aC5wb3coMSwgdGhpcy5wYXNzZXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1clhGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAZGVmYXVsdCA0XG4gICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmx1clhGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1clhGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyWEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkJpdG1hcFRleHQgPSBleHBvcnRzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5UaWxpbmdTcHJpdGUgPSBleHBvcnRzLkFuaW1hdGVkU3ByaXRlID0gdW5kZWZpbmVkO1xuXG52YXIgX0FuaW1hdGVkU3ByaXRlID0gcmVxdWlyZSgnLi9BbmltYXRlZFNwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FuaW1hdGVkU3ByaXRlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQW5pbWF0ZWRTcHJpdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RpbGluZ1Nwcml0ZSA9IHJlcXVpcmUoJy4vVGlsaW5nU3ByaXRlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGlsaW5nU3ByaXRlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlsaW5nU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaWxpbmdTcHJpdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vd2ViZ2wvVGlsaW5nU3ByaXRlUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUaWxpbmdTcHJpdGVSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbGluZ1Nwcml0ZVJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CaXRtYXBUZXh0ID0gcmVxdWlyZSgnLi9CaXRtYXBUZXh0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQml0bWFwVGV4dCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JpdG1hcFRleHQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5yZXF1aXJlKCcuL2NhY2hlQXNCaXRtYXAnKTtcblxucmVxdWlyZSgnLi9nZXRDaGlsZEJ5TmFtZScpO1xuXG5yZXF1aXJlKCcuL2dldEdsb2JhbFBvc2l0aW9uJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGltcG9ydGVkIGZvciBzaWRlIGVmZmVjdCBvZiBleHRlbmRpbmcgdGhlIHByb3RvdHlwZSBvbmx5LCBjb250YWlucyBubyBleHBvcnRzXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9LlxuICpcbiAqIEBmdW5jdGlvbiBhY2Nlc3NpYmxlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgTXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5hY2Nlc3NpYmlsaXR5LmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAvKipcbiAgICogIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgKiAgIHNoYWRvdyBkaXYgd2l0aCBhdHRyaWJ1dGVzIHNldFxuICAgKlxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cbiAgYWNjZXNzaWJsZTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpdGxlIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgKlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqL1xuICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICovXG4gIGFjY2Vzc2libGVIaW50OiBudWxsLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgdGFiSW5kZXg6IDAsXG5cbiAgLyoqXG4gICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAqL1xuICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAqL1xuICBfYWNjZXNzaWJsZURpdjogZmFsc2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmxlVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYXV0b0RldGVjdFJlbmRlcmVyID0gYXV0b0RldGVjdFJlbmRlcmVyO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyJyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyJyk7XG5cbnZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLWpzZG9jXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiB3ZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICogIG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIGB0cnVlYCB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLlxuICogIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLiAqKndlYmdsIG9ubHkqKlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucywgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIC8vIEJhY2t3YXJkLWNvbXBhdGlibGUgc3VwcG9ydCBmb3Igbm9XZWJHTCBvcHRpb25cbiAgICB2YXIgZm9yY2VDYW52YXMgPSBvcHRpb25zICYmIG9wdGlvbnMuZm9yY2VDYW52YXM7XG5cbiAgICBpZiAoYXJnMyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvcmNlQ2FudmFzID0gYXJnMztcbiAgICB9XG5cbiAgICBpZiAoIWZvcmNlQ2FudmFzICYmIHV0aWxzLmlzV2ViR0xTdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm4gbmV3IF9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0KG9wdGlvbnMsIGFyZzEsIGFyZzIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0KG9wdGlvbnMsIGFyZzEsIGFyZzIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0b0RldGVjdFJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9hdXRvRGV0ZWN0UmVuZGVyZXIgPSByZXF1aXJlKCcuL2F1dG9EZXRlY3RSZW5kZXJlcicpO1xuXG52YXIgX0NvbnRhaW5lciA9IHJlcXVpcmUoJy4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKTtcblxudmFyIF90aWNrZXIgPSByZXF1aXJlKCcuL3RpY2tlcicpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyXG4gKiBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbUltYWdlKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1N0YXJ0PXRydWVdIC0gYXV0b21hdGljYWxseSBzdGFydHMgdGhlIHJlbmRlcmluZyBhZnRlciB0aGUgY29uc3RydWN0aW9uLlxuICAgICAqICAgICBOb3RlIHRoYXQgc2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byBmYWxzZSBkb2VzIE5PVCBzdG9wIHRoZSBzaGFyZWQgdGlja2VyIGV2ZW4gaWYgeW91IHNldFxuICAgICAqICAgICBvcHRpb25zLnNoYXJlZFRpY2tlciB0byB0cnVlIGluIGNhc2UgdGhhdCBpdCBpcyBhbHJlYWR5IHN0YXJ0ZWQuIFN0b3AgaXQgYnkgeW91ciBvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICAgICAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdCAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIGB0cnVlYCB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLlxuICAgICAqICBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHRyeSBzZXR0aW5nIHRoaXMgdG8gdHJ1ZS4gKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRUaWNrZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLnRpY2tlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyB0aWNrZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRMb2FkZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLmxvYWRlcnMuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgTG9hZGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcGxpY2F0aW9uKTtcblxuICAgICAgICAvLyBTdXBwb3J0IGZvciBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zLCBub1dlYkdMLCB1c2VTaGFyZWRUaWNrZXIpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFyZzIgfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLmhlaWdodCxcbiAgICAgICAgICAgICAgICBmb3JjZUNhbnZhczogISFhcmc0LFxuICAgICAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogISFhcmc1XG4gICAgICAgICAgICB9LCBhcmczKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBvcHRpb25zLCBzbyB3ZSBtaXhpbiBmdW5jdGlvbmFsaXR5IGxhdGVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICAgICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlLFxuICAgICAgICAgICAgZm9yY2VDYW52YXM6IGZhbHNlLFxuICAgICAgICAgICAgc2hhcmVkTG9hZGVyOiBmYWxzZVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gKDAsIF9hdXRvRGV0ZWN0UmVuZGVyZXIuYXV0b0RldGVjdFJlbmRlcmVyKShvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgZGlzcGxheSBjb250YWluZXIgdGhhdCdzIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgX0NvbnRhaW5lcjIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnRpY2tlci5UaWNrZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnRpY2tlci5UaWNrZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IF90aWNrZXIuc2hhcmVkIDogbmV3IF90aWNrZXIuVGlja2VyKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgY3VycmVudCBzdGFnZS5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdG9wcGluZyB0aGUgcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3MgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIEF1dG9tYXRpY2FsbHkgcmVtb3ZlIGNhbnZhcyBmcm9tIERPTS5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgICAgICB2YXIgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuXG4gICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcblxuICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuc3RhZ2UuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQXBwbGljYXRpb24sIFt7XG4gICAgICAgIGtleTogJ3RpY2tlcicsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRpY2tlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3ZpZXcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHdob2xlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzY3JlZW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBcHBsaWNhdGlvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQXBwbGljYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcHBsaWNhdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZWFyY3V0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVhcmN1dDtcblxuZnVuY3Rpb24gZWFyY3V0KGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0pIHtcblxuICAgIGRpbSA9IGRpbSB8fCAyO1xuXG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoLFxuICAgICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJOb2RlID0gbGlua2VkTGlzdChkYXRhLCAwLCBvdXRlckxlbiwgZGltLCB0cnVlKSxcbiAgICAgICAgdHJpYW5nbGVzID0gW107XG5cbiAgICBpZiAoIW91dGVyTm9kZSkgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGljZSBsZWFkcyB0byBsZXNzIHNsaXZlciB0cmlhbmdsZXNcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcbiAgICAgICAgICAgIHN0b3AgPSBuZXh0Lm5leHQ7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWFyID0gbmV4dDtcblxuICAgICAgICAvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XG4gICAgICAgICAgICAvLyB0cnkgZmlsdGVyaW5nIHBvaW50cyBhbmQgc2xpY2luZyBhZ2FpblxuICAgICAgICAgICAgaWYgKCFwYXNzKSB7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZGlkbid0IHdvcmssIHRyeSBjdXJpbmcgYWxsIHNtYWxsIHNlbGYtaW50ZXJzZWN0aW9ucyBsb2NhbGx5XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBlYXIgPSBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGVhciwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gcDtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICAgICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgb3V0ZXJOb2RlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAob3V0ZXJOb2RlKSB7XG4gICAgICAgIHZhciBiID0gc3BsaXRQb2x5Z29uKG91dGVyTm9kZSwgaG9sZSk7XG4gICAgICAgIGZpbHRlclBvaW50cyhiLCBiLm5leHQpO1xuICAgIH1cbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAubmV4dC55KSByZXR1cm4gcC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaHggPT09IHF4KSByZXR1cm4gbS5wcmV2OyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsb3dlciBlbmRwb2ludFxuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50O1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBwb2ludHMgZm91bmQsIHdlIGhhdmUgYSB2YWxpZCBjb25uZWN0aW9uO1xuICAgIC8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XG5cbiAgICB2YXIgc3RvcCA9IG0sXG4gICAgICAgIG14ID0gbS54LFxuICAgICAgICBteSA9IG0ueSxcbiAgICAgICAgdGFuTWluID0gSW5maW5pdHksXG4gICAgICAgIHRhbjtcblxuICAgIHAgPSBtLm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gc3RvcCkge1xuICAgICAgICBpZiAoaHggPj0gcC54ICYmIHAueCA+PSBteCAmJiBoeCAhPT0gcC54ICYmXG4gICAgICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGh5IDwgbXkgPyBoeCA6IHF4LCBoeSwgbXgsIG15LCBoeSA8IG15ID8gcXggOiBoeCwgaHksIHAueCwgcC55KSkge1xuXG4gICAgICAgICAgICB0YW4gPSBNYXRoLmFicyhoeSAtIHAueSkgLyAoaHggLSBwLngpOyAvLyB0YW5nZW50aWFsXG5cbiAgICAgICAgICAgIGlmICgodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiBwLnggPiBtLngpKSAmJiBsb2NhbGx5SW5zaWRlKHAsIGhvbGUpKSB7XG4gICAgICAgICAgICAgICAgbSA9IHA7XG4gICAgICAgICAgICAgICAgdGFuTWluID0gdGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuZnVuY3Rpb24gaW5kZXhDdXJ2ZShzdGFydCwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC56ID09PSBudWxsKSBwLnogPSB6T3JkZXIocC54LCBwLnksIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICBwLnByZXZaID0gcC5wcmV2O1xuICAgICAgICBwLm5leHRaID0gcC5uZXh0O1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHAucHJldloubmV4dFogPSBudWxsO1xuICAgIHAucHJldlogPSBudWxsO1xuXG4gICAgc29ydExpbmtlZChwKTtcbn1cblxuLy8gU2ltb24gVGF0aGFtJ3MgbGlua2VkIGxpc3QgbWVyZ2Ugc29ydCBhbGdvcml0aG1cbi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sXG5mdW5jdGlvbiBzb3J0TGlua2VkKGxpc3QpIHtcbiAgICB2YXIgaSwgcCwgcSwgZSwgdGFpbCwgbnVtTWVyZ2VzLCBwU2l6ZSwgcVNpemUsXG4gICAgICAgIGluU2l6ZSA9IDE7XG5cbiAgICBkbyB7XG4gICAgICAgIHAgPSBsaXN0O1xuICAgICAgICBsaXN0ID0gbnVsbDtcbiAgICAgICAgdGFpbCA9IG51bGw7XG4gICAgICAgIG51bU1lcmdlcyA9IDA7XG5cbiAgICAgICAgd2hpbGUgKHApIHtcbiAgICAgICAgICAgIG51bU1lcmdlcysrO1xuICAgICAgICAgICAgcSA9IHA7XG4gICAgICAgICAgICBwU2l6ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5TaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgIGlmICghcSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxU2l6ZSA9IGluU2l6ZTtcblxuICAgICAgICAgICAgd2hpbGUgKHBTaXplID4gMCB8fCAocVNpemUgPiAwICYmIHEpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocFNpemUgIT09IDAgJiYgKHFTaXplID09PSAwIHx8ICFxIHx8IHAueiA8PSBxLnopKSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBwO1xuICAgICAgICAgICAgICAgICAgICBwID0gcC5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcFNpemUtLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlID0gcTtcbiAgICAgICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHFTaXplLS07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO1xuICAgICAgICAgICAgICAgIGVsc2UgbGlzdCA9IGU7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZaID0gdGFpbDtcbiAgICAgICAgICAgICAgICB0YWlsID0gZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcCA9IHE7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsLm5leHRaID0gbnVsbDtcbiAgICAgICAgaW5TaXplICo9IDI7XG5cbiAgICB9IHdoaWxlIChudW1NZXJnZXMgPiAxKTtcblxuICAgIHJldHVybiBsaXN0O1xufVxuXG4vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3hcbmZ1bmN0aW9uIHpPcmRlcih4LCB5LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxuICAgIHggPSAzMjc2NyAqICh4IC0gbWluWCkgKiBpbnZTaXplO1xuICAgIHkgPSAzMjc2NyAqICh5IC0gbWluWSkgKiBpbnZTaXplO1xuXG4gICAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHggPSAoeCB8ICh4IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHkgPSAoeSB8ICh5IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHkgPSAoeSB8ICh5IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXG5mdW5jdGlvbiBnZXRMZWZ0bW9zdChzdGFydCkge1xuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZiAocC54IDwgbGVmdG1vc3QueCkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgLSAoYXggLSBweCkgKiAoY3kgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgLSAoYnggLSBweCkgKiAoYXkgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgLSAoY3ggLSBweCkgKiAoYnkgLSBweSkgPj0gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmXG4gICAgICAgICAgIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSAmJiBtaWRkbGVJbnNpZGUoYSwgYik7XG59XG5cbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCwgcSwgcikge1xuICAgIHJldHVybiAocS55IC0gcC55KSAqIChyLnggLSBxLngpIC0gKHEueCAtIHAueCkgKiAoci55IC0gcS55KTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55O1xufVxuXG4vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0XG5mdW5jdGlvbiBpbnRlcnNlY3RzKHAxLCBxMSwgcDIsIHEyKSB7XG4gICAgaWYgKChlcXVhbHMocDEsIHExKSAmJiBlcXVhbHMocDIsIHEyKSkgfHxcbiAgICAgICAgKGVxdWFscyhwMSwgcTIpICYmIGVxdWFscyhwMiwgcTEpKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGFyZWEocDEsIHExLCBwMikgPiAwICE9PSBhcmVhKHAxLCBxMSwgcTIpID4gMCAmJlxuICAgICAgICAgICBhcmVhKHAyLCBxMiwgcDEpID4gMCAhPT0gYXJlYShwMiwgcTIsIHExKSA+IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRpY2UgaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGljZSBub2RlcyBpbiBhIHBvbHlnb24gcmluZ1xuICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8vIHotb3JkZXIgY3VydmUgdmFsdWVcbiAgICB0aGlzLnogPSBudWxsO1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgbm9kZXMgaW4gei1vcmRlclxuICAgIHRoaXMucHJldlogPSBudWxsO1xuICAgIHRoaXMubmV4dFogPSBudWxsO1xuXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcbiAgICB0aGlzLnN0ZWluZXIgPSBmYWxzZTtcbn1cblxuLy8gcmV0dXJuIGEgcGVyY2VudGFnZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHBvbHlnb24gYXJlYSBhbmQgaXRzIHRyaWFuZ3VsYXRpb24gYXJlYTtcbi8vIHVzZWQgdG8gdmVyaWZ5IGNvcnJlY3RuZXNzIG9mIHRyaWFuZ3VsYXRpb25cbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XG4gICAgdmFyIGhhc0hvbGVzID0gaG9sZUluZGljZXMgJiYgaG9sZUluZGljZXMubGVuZ3RoO1xuICAgIHZhciBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcblxuICAgIHZhciBwb2x5Z29uQXJlYSA9IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSkpO1xuICAgIGlmIChoYXNIb2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRyaWFuZ2xlc0FyZWEgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XG4gICAgICAgIHZhciBiID0gdHJpYW5nbGVzW2kgKyAxXSAqIGRpbTtcbiAgICAgICAgdmFyIGMgPSB0cmlhbmdsZXNbaSArIDJdICogZGltO1xuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2NdKSAqIChkYXRhW2IgKyAxXSAtIGRhdGFbYSArIDFdKSAtXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbYl0pICogKGRhdGFbYyArIDFdIC0gZGF0YVthICsgMV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9seWdvbkFyZWEgPT09IDAgJiYgdHJpYW5nbGVzQXJlYSA9PT0gMCA/IDAgOlxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcbn07XG5cbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0LCBqID0gZW5kIC0gZGltOyBpIDwgZW5kOyBpICs9IGRpbSkge1xuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcbiAgICAgICAgaiA9IGk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG5cbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZhciBkaW0gPSBkYXRhWzBdWzBdLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxuICAgICAgICBob2xlSW5kZXggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBkaW07IGQrKykgcmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBob2xlSW5kZXggKz0gZGF0YVtpIC0gMV0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgR3JhcGhpY3NEYXRhIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZVdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVDb2xvciAtIHRoZSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lQWxwaGEgLSB0aGUgYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gZmlsbENvbG9yIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmaWxsQWxwaGEgLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICogQHBhcmFtIHtib29sZWFufSBmaWxsIC0gd2hldGhlciBvciBub3QgdGhlIHNoYXBlIGlzIGZpbGxlZCB3aXRoIGEgY29sb3VyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmF0aXZlTGluZXMgLSB0aGUgbWV0aG9kIGZvciBkcmF3aW5nIGxpbmVzXG4gICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5SZWN0YW5nbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbn0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAqL1xuICBmdW5jdGlvbiBHcmFwaGljc0RhdGEobGluZVdpZHRoLCBsaW5lQ29sb3IsIGxpbmVBbHBoYSwgZmlsbENvbG9yLCBmaWxsQWxwaGEsIGZpbGwsIG5hdGl2ZUxpbmVzLCBzaGFwZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljc0RhdGEpO1xuXG4gICAgLyoqXG4gICAgICogdGhlIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBpZiB0cnVlIHRoZSBsaWVucyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lQ29sb3IgPSBsaW5lQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVBbHBoYSA9IGxpbmVBbHBoYTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB0aW50IG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9saW5lVGludCA9IGxpbmVDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxDb2xvciA9IGZpbGxDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxBbHBoYSA9IGZpbGxBbHBoYTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB0aW50IG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZmlsbFRpbnQgPSBmaWxsQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB0aGUgc2hhcGUgaXMgZmlsbGVkIHdpdGggYSBjb2xvdXJcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZmlsbCA9IGZpbGw7XG5cbiAgICB0aGlzLmhvbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICpcbiAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKHRoaXMubGluZVdpZHRoLCB0aGlzLmxpbmVDb2xvciwgdGhpcy5saW5lQWxwaGEsIHRoaXMuZmlsbENvbG9yLCB0aGlzLmZpbGxBbHBoYSwgdGhpcy5maWxsLCB0aGlzLm5hdGl2ZUxpbmVzLCB0aGlzLnNoYXBlKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhIGhvbGUgdG8gdGhlIHNoYXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvZiB0aGUgaG9sZS5cbiAgICovXG5cblxuICBHcmFwaGljc0RhdGEucHJvdG90eXBlLmFkZEhvbGUgPSBmdW5jdGlvbiBhZGRIb2xlKHNoYXBlKSB7XG4gICAgdGhpcy5ob2xlcy5wdXNoKHNoYXBlKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmFwaGljc0RhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljc0RhdGEuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyT2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGxpbmVXaWR0aHMgLSBhbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMaW5lV2lkdGggLSB0aGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9udFByb3BlcnRpZXMgLSB0aGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0TWV0cmljcyk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gbWVhc3VyZVRleHQodGV4dCwgc3R5bGUsIHdvcmRXcmFwKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICAgICAgd29yZFdyYXAgPSB3b3JkV3JhcCB8fCBzdHlsZS53b3JkV3JhcDtcbiAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICB2YXIgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgICAgICB2YXIgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKSArIChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uIHdvcmRXcmFwKHRleHQsIHN0eWxlKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvLyBHcmVlZHkgd3JhcHBpbmcgYWxnb3JpdGhtIHRoYXQgd2lsbCB3cmFwIHdvcmRzIGFzIHRoZSBsaW5lIGdyb3dzIGxvbmdlclxuICAgICAgICAvLyB0aGFuIGl0cyBob3Jpem9udGFsIGJvdW5kcy5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgZmlyc3RDaGFyID0gdGV4dC5jaGFyQXQoMCk7XG4gICAgICAgIHZhciBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGg7XG4gICAgICAgIHZhciBjaGFyYWN0ZXJDYWNoZSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcGFjZUxlZnQgPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICAgICAgdmFyIHdvcmRzID0gbGluZXNbaV0uc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3b3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciB3b3JkV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHdvcmRzW2pdKS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5icmVha1dvcmRzICYmIHdvcmRXaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV29yZCBzaG91bGQgYmUgc3BsaXQgaW4gdGhlIG1pZGRsZVxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVycyA9IHdvcmRzW2pdLnNwbGl0KCcnKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNoYXJhY3RlcnMubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXIgPSBjaGFyYWN0ZXJzW2NdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcldpZHRoID0gY2hhcmFjdGVyQ2FjaGVbY2hhcmFjdGVyXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoY2hhcmFjdGVyKS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJDYWNoZVtjaGFyYWN0ZXJdID0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCA+IHNwYWNlTGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJyArIGNoYXJhY3RlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFjZUxlZnQgPSB3b3JkV3JhcFdpZHRoIC0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSAwICYmIChqID4gMCB8fCBmaXJzdENoYXIgPT09ICcgJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gY2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlTGVmdCAtPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3b3JkV2lkdGhXaXRoU3BhY2UgPSB3b3JkV2lkdGggKyBjb250ZXh0Lm1lYXN1cmVUZXh0KCcgJykud2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IDAgfHwgd29yZFdpZHRoV2l0aFNwYWNlID4gc3BhY2VMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHByaW50aW5nIHRoZSBuZXdsaW5lIGlmIGl0J3MgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGxpbmUgdGhhdCBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ3JlYXRlciB0aGFuIHRoZSB3b3JkIHdyYXAgd2lkdGguXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ1xcbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gd29yZHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjZUxlZnQgPSB3b3JkV3JhcFdpZHRoIC0gd29yZFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VMZWZ0IC09IHdvcmRXaWR0aFdpdGhTcGFjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICcgKyB3b3Jkc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGkgPCBsaW5lcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc35Gb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCA9IGZ1bmN0aW9uIG1lYXN1cmVGb250KGZvbnQpIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dCgnfE3DiXEnKS53aWR0aCk7XG4gICAgICAgIHZhciBiYXNlbGluZSA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KCdNJykud2lkdGgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiAxLjQgfCAwO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KCd8TcOJcScsIDAsIGJhc2VsaW5lKTtcblxuICAgICAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RvcCkge1xuICAgICAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuXG4gICAgICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgICAgIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgbGluZTsgX2ogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgX2pdICE9PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHRNZXRyaWNzO1xufSgpO1xuXG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICogQGNsYXNzIEZvbnRNZXRyaWNzXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc35cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBUaGUgYXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIFRoZSBkZXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemUgZnJvbSBhc2NlbnQgdG8gZGVzY2VudFxuICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHRNZXRyaWNzO1xudmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jYW52YXMgPSBjYW52YXM7XG5cbi8qKlxuICogQ2FjaGUgZm9yIGNvbnRleHQgdG8gdXNlLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4vKipcbiAqIENhY2hlIG9mIFBJWEkuVGV4dE1ldHJpY3N+Rm9udE1ldHJpY3Mgb2JqZWN0cy5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0TWV0cmljcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7IC8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gICAgYWxpZ246ICdsZWZ0JyxcbiAgICBicmVha1dvcmRzOiBmYWxzZSxcbiAgICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgICBkcm9wU2hhZG93QWxwaGE6IDEsXG4gICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgICBkcm9wU2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA1LFxuICAgIGZpbGw6ICdibGFjaycsXG4gICAgZmlsbEdyYWRpZW50VHlwZTogX2NvbnN0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMFxufTtcblxuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgZGVjb3JhdGVzIGEgVGV4dCBPYmplY3QuIEl0IGNhbiBiZSBzaGFyZWQgYmV0d2VlblxuICogbXVsdGlwbGUgVGV4dCBvYmplY3RzLiBDaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5icmVha1dvcmRzPWZhbHNlXSAtIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0XG4gICAgICogIG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuZHJvcFNoYWRvdz1mYWxzZV0gLSBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbHBoYT0xXSAtIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QW5nbGU9TWF0aC5QSS82XSAtIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0JsdXI9MF0gLSBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Q29sb3I9J2JsYWNrJ10gLSBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlPTVdIC0gU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59IFtzdHlsZS5maWxsPSdibGFjayddIC0gQSBjYW52YXNcbiAgICAgKiAgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnRcbiAgICAgKiAgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZpbGxHcmFkaWVudFR5cGU9UElYSS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTF0gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnNcbiAgICAgKiAgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbc3R5bGUuZmlsbEdyYWRpZW50U3RvcHNdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXRcbiAgICAgKiB0aGUgc3RvcCBwb2ludHMgKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbc3R5bGUuZm9udEZhbWlseT0nQXJpYWwnXSAtIFRoZSBmb250IGZhbWlseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3N0eWxlLmZvbnRTaXplPTI2XSAtIFRoZSBmb250IHNpemUgKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsXG4gICAgICogIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFN0eWxlPSdub3JtYWwnXSAtIFRoZSBmb250IHN0eWxlICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFZhcmlhbnQ9J25vcm1hbCddIC0gVGhlIGZvbnQgdmFyaWFudCAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJ10gLSBUaGUgZm9udCB3ZWlnaHQgKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLFxuICAgICAqICAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHRTdHlsZSk7XG5cbiAgICAgICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICAgICAqL1xuXG5cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiB0b0ZvbnRTdHJpbmcoKSB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9IHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuZm9udFNpemUgKyAncHgnIDogdGhpcy5mb250U2l6ZTtcblxuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgICAgICBpZiAoIS8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLy50ZXN0KGZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9ICdcIicgKyBmb250RmFtaWx5ICsgJ1wiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mb250U3R5bGUgKyAnICcgKyB0aGlzLmZvbnRWYXJpYW50ICsgJyAnICsgdGhpcy5mb250V2VpZ2h0ICsgJyAnICsgZm9udFNpemVTdHJpbmcgKyAnICcgKyBmb250RmFtaWxpZXMuam9pbignLCcpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVGV4dFN0eWxlLCBbe1xuICAgICAgICBrZXk6ICdhbGlnbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChhbGlnbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gYWxpZ24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdicmVha1dvcmRzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0FscGhhJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93QWxwaGEpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dBbmdsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0FuZ2xlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FuZ2xlID0gZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93Qmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dCbHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93Qmx1cikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93Q29sb3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dDb2xvcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93RGlzdGFuY2UnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dEaXN0YW5jZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuXG4gICAgICAgICAqIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudCBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsbCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZpbGwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsbEdyYWRpZW50VHlwZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZpbGxHcmFkaWVudFR5cGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAgICAgKiAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsbEdyYWRpZW50U3RvcHMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbEdyYWRpZW50U3RvcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLCBmaWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250RmFtaWx5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udEZhbWlseSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzaXplXG4gICAgICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRTaXplJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZvbnRTaXplKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc3R5bGVcbiAgICAgICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRTdHlsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgICAgICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFZhcmlhbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFZhcmlhbnQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgICAgICogKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250V2VpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFdlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xldHRlclNwYWNpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZXR0ZXJTcGFjaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IGxldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xpbmVIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsaW5lSGVpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVIZWlnaHQgIT09IGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsZWFkaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobGVhZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAgICAgICAgICogRGVmYXVsdCBpcyAnbWl0ZXInIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGluZUpvaW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobGluZUpvaW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUpvaW4gIT09IGxpbmVKb2luKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtaXRlckxpbWl0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobWl0ZXJMaW1pdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taXRlckxpbWl0ICE9PSBtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAgICAgICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwYWRkaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocGFkZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAgICAgKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0cm9rZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3Ryb2tlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgICogRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0cm9rZVRoaWNrbmVzcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc3Ryb2tlVGhpY2tuZXNzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0QmFzZWxpbmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRleHRCYXNlbGluZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RyaW0nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmltO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0cmltKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JkV3JhcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh3b3JkV3JhcCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29yZFdyYXBXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdvcmRXcmFwV2lkdGgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRleHRTdHlsZTtcbn0oKTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0U3R5bGU7XG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmhleDJzdHJpbmcpKGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJzB4JykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnMHgnLCAnIycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkxKSB8fCAhQXJyYXkuaXNBcnJheShhcnJheTIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wb3J0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU9iaiBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dFN0eWxlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMnKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSW5kaWNlc0ZvclF1YWRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBUaGUgZ2wgY29udGV4dCBmb3IgdGhpcyBxdWFkIHRvIHVzZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gVE9ETzogRGVzY3JpcHRpb25cbiAgICovXG4gIGZ1bmN0aW9uIFF1YWQoZ2wsIHN0YXRlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1YWQpO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgMSwgMSwgLTEsIDFdKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKTtcblxuICAgIHRoaXMuaW50ZXJsZWF2ZWQgPSBuZXcgRmxvYXQzMkFycmF5KDggKiAyKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0XSA9IHRoaXMudmVydGljZXNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDFdID0gdGhpcy52ZXJ0aWNlc1tpICogMiArIDFdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDJdID0gdGhpcy51dnNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDNdID0gdGhpcy51dnNbaSAqIDIgKyAxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgdGhpcy5pbnRlcmxlYXZlZCwgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLlZlcnRleEFycmF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudmFvID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LlZlcnRleEFycmF5T2JqZWN0KGdsLCBzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGlzZXMgdGhlIHZhb3MgYW5kIHVzZXMgdGhlIHNoYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0byB1c2VcbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS5pbml0VmFvID0gZnVuY3Rpb24gaW5pdFZhbyhzaGFkZXIpIHtcbiAgICB0aGlzLnZhby5jbGVhcigpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgNCAqIDQsIDApLmFkZEF0dHJpYnV0ZSh0aGlzLnZlcnRleEJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCwgdGhpcy5nbC5GTE9BVCwgZmFsc2UsIDQgKiA0LCAyICogNCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcHMgdHdvIFJlY3RhbmdsZSB0byB0aGUgcXVhZC5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gdGhlIHNlY29uZCByZWN0YW5nbGVcbiAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgdmFyIHkgPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnkgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy51dnNbMF0gPSB4O1xuICAgIHRoaXMudXZzWzFdID0geTtcblxuICAgIHRoaXMudXZzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgdGhpcy51dnNbM10gPSB5O1xuXG4gICAgdGhpcy51dnNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgdGhpcy51dnNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgdGhlIGJ1ZmZlciBhbmQgdXBsb2FkcyB0aGUgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNF0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAxXSA9IHRoaXMudmVydGljZXNbaSAqIDIgKyAxXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAyXSA9IHRoaXMudXZzW2kgKiAyXTtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDQgKyAzXSA9IHRoaXMudXZzW2kgKiAyICsgMV07XG4gICAgfVxuXG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXIudXBsb2FkKHRoaXMuaW50ZXJsZWF2ZWQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhpcyBxdWFkIGZyb20gV2ViR0xcbiAgICovXG5cblxuICBRdWFkLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICBnbC5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlcik7XG4gIH07XG5cbiAgcmV0dXJuIFF1YWQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFF1YWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWFkLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9NYXRyaXggPSByZXF1aXJlKCcuLi9tYXRoL01hdHJpeCcpO1xuXG52YXIgX01hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXRyaXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgdGVtcE1hdCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgdHJhbnNmb3JtIGFuZCBmcmFtZSBjbGFtcCBmb3IgdGV4dHVyZVxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBcInRyYW5zZm9ybVwiIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogQHNlZSBQSVhJLlRleHR1cmVcbiAqIEBzZWUgUElYSS5tZXNoLk1lc2hcbiAqIEBzZWUgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHR1cmVNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSBvYnNlcnZlZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGFtcE1hcmdpbl0gQ2hhbmdlcyBmcmFtZSBjbGFtcGluZywgMC41IGJ5IGRlZmF1bHQuIFVzZSAtMC41IGZvciBleHRyYSBib3JkZXIuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZU1hdHJpeCh0ZXh0dXJlLCBjbGFtcE1hcmdpbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZU1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYXBDb29yZCA9IG5ldyBfTWF0cml4Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBNYXJnaW4gPSB0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnID8gMC41IDogY2xhbXBNYXJnaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGV4dHVyZSBwcm9wZXJ0eVxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB1dnMgYXJyYXkgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyBtZXNoIHV2c1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gb3V0cHV0XG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cyh1dnMsIG91dCkge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdXZzW2kgKyAxXTtcblxuICAgICAgICAgICAgb3V0W2ldID0geCAqIG1hdC5hICsgeSAqIG1hdC5jICsgbWF0LnR4O1xuICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHggKiBtYXQuYiArIHkgKiBtYXQuZCArIG1hdC50eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGUgaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShmb3JjZVVwZGF0ZSkge1xuICAgICAgICB2YXIgdGV4ID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlICYmIHRoaXMuX2xhc3RUZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuXG4gICAgICAgIHZhciB1dnMgPSB0ZXguX3V2cztcblxuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcblxuICAgICAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICB2YXIgdHJpbSA9IHRleC50cmltO1xuXG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnNldChvcmlnLndpZHRoIC8gdHJpbS53aWR0aCwgMCwgMCwgb3JpZy5oZWlnaHQgLyB0cmltLmhlaWdodCwgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1hcENvb3JkLmFwcGVuZCh0ZW1wTWF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0dXJlTWF0cml4LCBbe1xuICAgICAgICBrZXk6ICd0ZXh0dXJlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gLTE7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dHVyZU1hdHJpeDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZU1hdHJpeDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVNYXRyaXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMgPSByZXF1aXJlKCcuL2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMnKTtcblxudmFyIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNPVVJDRV9LRVlfTUFQID0ge307XG5cbi8vIGxldCBtYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5cbnZhciBGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAqL1xuICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYztcblxuICAgIHRoaXMuX2JsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybXMgfHwgKDAsIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjMi5kZWZhdWx0KSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYywgJ3Byb2plY3Rpb25NYXRyaXh8dVNhbXBsZXInKTtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBjdXJyZW50IHZhbHVlcyBvZiBjdXN0b20gdW5pZm9ybXMuXG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+VXBkYXRpbmcgdGhlIHZhbHVlIG9mIGEgY3VzdG9tIHVuaWZvcm08L2NhcHRpb24+XG4gICAgICogZmlsdGVyLnVuaWZvcm1zLnRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1zID0ge307XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMudW5pZm9ybURhdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXNbaV0gPSB0aGlzLnVuaWZvcm1EYXRhW2ldLnZhbHVlO1xuICAgICAgaWYgKHRoaXMudW5pZm9ybURhdGFbaV0udHlwZSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUgPSB0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAvLyBUT0RPIHdlIGNvdWxkIGNhY2hlIHRoaXMhXG4gICAgdGhpcy5nbFNoYWRlcnMgPSB7fTtcblxuICAgIC8vIHVzZWQgZm9yIGNhY2hlaW5nLi4gc3VyZSB0aGVyZSBpcyBhIGJldHRlciB3YXkhXG4gICAgaWYgKCFTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdKSB7XG4gICAgICBTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdID0gKDAsIF91dGlscy51aWQpKCk7XG4gICAgfVxuXG4gICAgdGhpcy5nbFNoYWRlcktleSA9IFNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICogZmlsdGVyIGlzIGFwcGxpZWQgdG8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nID0gNDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmF1dG9GaXQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAqL1xuXG5cbiAgRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAge1xuICAgIC8vIC0tLSAvL1xuICAgIC8vICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRlbXBNYXRyaXgsIHdpbmRvdy5wYW5kYSApO1xuXG4gICAgLy8gZG8gYXMgeW91IHBsZWFzZSFcblxuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhGaWx0ZXIsIFt7XG4gICAga2V5OiAnYmxlbmRNb2RlJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6ICdkZWZhdWx0VmVydGV4U3JjJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3VuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7JywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7JywgJyAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkIDsnLCAnfSddLmpvaW4oJ1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVmYXVsdEZyYWdtZW50U3JjJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndW5pZm9ybSBzYW1wbGVyMkQgZmlsdGVyU2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKGZpbHRlclNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7JywgJyAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTsnLCAnICAgdmVjNCBjb2xvcjsnLCAnICAgaWYobW9kKHZGaWx0ZXJDb29yZC54LCAxLjApID4gMC41KScsICcgICB7JywgJyAgICAgY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7JywgJyAgIH0nLCAnICAgZWxzZScsICcgICB7JywgJyAgICAgY29sb3IgPSB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCk7JywgJyAgIH0nLFxuICAgICAgLy8gJyAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobW9kKHZGaWx0ZXJDb29yZC54LCAxLjUpLCB2RmlsdGVyQ29vcmQueSwwLjAsMS4wKTsnLFxuICAgICAgJyAgIGdsX0ZyYWdDb2xvciA9IG1peChzYW1wbGUsIG1hc2t5LCAwLjUpOycsICcgICBnbF9GcmFnQ29sb3IgKj0gc2FtcGxlLmE7JywgJ30nXS5qb2luKCdcXG4nKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmlsdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0ZpbHRlcjIgPSByZXF1aXJlKCcuLi9GaWx0ZXInKTtcblxudmFyIF9GaWx0ZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyMik7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgX1RleHR1cmVNYXRyaXggPSByZXF1aXJlKCcuLi8uLi8uLi8uLi90ZXh0dXJlcy9UZXh0dXJlTWF0cml4Jyk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBTcHJpdGVNYXNrRmlsdGVyIGNsYXNzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZU1hc2tGaWx0ZXIgPSBmdW5jdGlvbiAoX0ZpbHRlcikge1xuICAgIF9pbmhlcml0cyhTcHJpdGVNYXNrRmlsdGVyLCBfRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9GaWx0ZXIuY2FsbCh0aGlzLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIG90aGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2TWFza0Nvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2TWFza0Nvb3JkID0gKCBvdGhlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKG1hc2t5LnIgKiBtYXNreS5hICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcbicpKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBfVGV4dHVyZU1hdHJpeDIuZGVmYXVsdCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpLnByZXBlbmQodGV4LnRyYW5zZm9ybS5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnRyYW5zZm9ybS51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlTWFza0ZpbHRlcjtcbn0oX0ZpbHRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZU1hc2tGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVNYXNrRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXM7XG4vKipcbiAqIENyZWF0ZXMgYSBsaXR0bGUgY29sb3JlZCBjYW52YXNcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBUaGUgY29sb3IgdG8gbWFrZSB0aGUgY2FudmFzXG4gKiBAcmV0dXJuIHtjYW52YXN9IGEgc21hbGwgY2FudmFzIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29sb3JlZENhbnZhcyhjb2xvcikge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDYsIDEpO1xuXG4gICAgcmV0dXJuIGNhbnZhcztcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgQ2FudmFzIEJsZW5kTW9kZXMgYXJlIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBicm93c2VyXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGV5IGFyZSBzdXBwb3J0ZWRcbiAqL1xuZnVuY3Rpb24gY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcygpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG1hZ2VudGEgPSBjcmVhdGVDb2xvcmVkQ2FudmFzKCcjZmYwMGZmJyk7XG4gICAgdmFyIHllbGxvdyA9IGNyZWF0ZUNvbG9yZWRDYW52YXMoJyNmZmZmMDAnKTtcblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbXVsdGlwbHknO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKG1hZ2VudGEsIDAsIDApO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKHllbGxvdywgMiwgMCk7XG5cbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMiwgMCwgMSwgMSk7XG5cbiAgICBpZiAoIWltYWdlRGF0YSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcblxuICAgIHJldHVybiBkYXRhWzBdID09PSAyNTUgJiYgZGF0YVsxXSA9PT0gMCAmJiBkYXRhWzJdID09PSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAqL1xuICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNSZW5kZXJUYXJnZXQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAgICpcbiAgICovXG5cblxuICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENhbnZhc1JlbmRlclRhcmdldCwgW3tcbiAgICBrZXk6ICd3aWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNSZW5kZXJUYXJnZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1JlbmRlclRhcmdldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlclRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlMik7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgQmFzZVJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIFRoZSBwb3NpdGlvblxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBnaXZlbiBEaXNwbGF5IE9iamVjdHMgaXMgaWdub3JlZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHJlbmRlcmVyLCA4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogYmFzZVJlbmRlclRleHR1cmUucmVuZGVyKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoMTAwLCAxMDApO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhc2VSZW5kZXJUZXh0dXJlID0gZnVuY3Rpb24gKF9CYXNlVGV4dHVyZSkge1xuICBfaW5oZXJpdHMoQmFzZVJlbmRlclRleHR1cmUsIF9CYXNlVGV4dHVyZSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUoKSB7XG4gICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxMDA7XG4gICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwO1xuICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZVJlbmRlclRleHR1cmUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VUZXh0dXJlLmNhbGwodGhpcywgbnVsbCwgc2NhbGVNb2RlKSk7XG5cbiAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIF90aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBfdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIF90aGlzLnJlYWxXaWR0aCA9IF90aGlzLndpZHRoICogX3RoaXMucmVzb2x1dGlvbjtcbiAgICBfdGhpcy5yZWFsSGVpZ2h0ID0gX3RoaXMuaGVpZ2h0ICogX3RoaXMucmVzb2x1dGlvbjtcblxuICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREU7XG4gICAgX3RoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCByZW5kZXJUYXJnZXRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIFdlYkdMVGV4dHVyZT59XG4gICAgICovXG4gICAgX3RoaXMuX2dsUmVuZGVyVGFyZ2V0cyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyByZW5kZXIgdGFyZ2V0ICh3ZSBvbmx5IG5lZWQgb25lIGFzIHRoaXMgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgcmVuZGVyZXJzKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAqL1xuICAgIF90aGlzLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAqL1xuXG5cbiAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG5cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLnJlYWxXaWR0aCA9IHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5yZWFsSGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICBpZiAoIXRoaXMudmFsaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICpcbiAgICovXG5cblxuICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgX0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VSZW5kZXJUZXh0dXJlO1xufShfQmFzZVRleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCYXNlUmVuZGVyVGV4dHVyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VSZW5kZXJUZXh0dXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG52YXIgX0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWluZXIpO1xuXG52YXIgX1JlbmRlclRleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbnZhciBfUmVuZGVyVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUZXh0dXJlKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogVGhlIFN5c3RlbVJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLldlYkdMUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU3lzdGVtUmVuZGVyZXIgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoU3lzdGVtUmVuZGVyZXIsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN5c3RlbSAtIFRoZSBuYW1lIG9mIHRoZSBzeXN0ZW0gdGhpcyByZW5kZXJlciBpcyBmb3IuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUmVzaXplPWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyBhdXRvbWF0aWNhbGx5IHJlc2l6ZWQsIGRlZmF1bHQgZmFsc2VcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuIFRoZVxuICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgKiAgICAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBTeXN0ZW1SZW5kZXJlcihzeXN0ZW0sIG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3lzdGVtUmVuZGVyZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICgwLCBfdXRpbHMuc2F5SGVsbG8pKHN5c3RlbSk7XG5cbiAgICAvLyBTdXBwb3J0IGZvciBjb25zdHJ1Y3RvcihzeXN0ZW0sIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQsIG9wdGlvbnMpXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgaGVpZ2h0OiBhcmcyIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUy5oZWlnaHRcbiAgICAgIH0sIGFyZzMpO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAqL1xuICAgIF90aGlzLnR5cGUgPSBfY29uc3QuUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgICAqXG4gICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3Igd2hvbGUgc3RhZ2VcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIF90aGlzLnNjcmVlbiA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgX3RoaXMudmlldyA9IG9wdGlvbnMudmlldyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBfdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMudHJhbnNwYXJlbnQgPSBvcHRpb25zLnRyYW5zcGFyZW50O1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBjc3MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLmF1dG9SZXNpemUgPSBvcHRpb25zLmF1dG9SZXNpemUgfHwgZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgdGhlIGJsZW5kIG1vZGVzIHVzZWZ1bCBmb3IgdGhpcyByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIG1peGVkPn1cbiAgICAgKi9cbiAgICBfdGhpcy5ibGVuZE1vZGVzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgKiB0aGUgc3RlbmNpbCBidWZmZXIgaXMgcmV0YWluZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlIGlmXG4gICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgX3RoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBIYW5keSBmb3IgY3Jpc3AgcGl4ZWwgYXJ0IGFuZCBzcGVlZCBvbiBsZWdhY3kgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMucm91bmRQaXhlbHMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuXG4gICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgX3RoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuXG4gICAgLyoqXG4gICAgICogVGhpcyB0ZW1wb3JhcnkgZGlzcGxheSBvYmplY3QgdXNlZCBhcyB0aGUgcGFyZW50IG9mIHRoZSBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgaXRlbVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IF9Db250YWluZXIyLmRlZmF1bHQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBfdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBkZWZhdWx0IDgwMFxuICAgKi9cblxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHRcbiAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICovXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuXG4gICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgIGlmICh0aGlzLmF1dG9SZXNpemUpIHtcbiAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMudmlldy5zdHlsZS5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKyAncHgnO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXNlZnVsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRleHR1cmUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgc3ByaXRlc1xuICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXlPYmplY3QgdGhlIG9iamVjdCB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTaG91bGQgYmUgb25lIG9mIHRoZSBzY2FsZU1vZGUgY29uc3RzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gYSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICovXG5cblxuICBTeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcmVnaW9uKSB7XG4gICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gX1JlbmRlclRleHR1cmUyLmRlZmF1bHQuY3JlYXRlKHJlZ2lvbi53aWR0aCB8IDAsIHJlZ2lvbi5oZWlnaHQgfCAwLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgdGVtcE1hdHJpeC50eCA9IC1yZWdpb24ueDtcbiAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuXG4gICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgZmFsc2UsIHRlbXBNYXRyaXgsIHRydWUpO1xuXG4gICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgKi9cblxuXG4gIFN5c3RlbVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyk7XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICB0aGlzLnNjcmVlbiA9IG51bGw7XG5cbiAgICB0aGlzLnJlc29sdXRpb24gPSAwO1xuXG4gICAgdGhpcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgdGhpcy5hdXRvUmVzaXplID0gZmFsc2U7XG5cbiAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgdGhpcy5vcHRpb25zID0gbnVsbDtcblxuICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IGZhbHNlO1xuXG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMDtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gbnVsbDtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuXG4gICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIHRvIGZpbGwgaWYgbm90IHRyYW5zcGFyZW50XG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU3lzdGVtUmVuZGVyZXIsIFt7XG4gICAga2V5OiAnd2lkdGgnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hlaWdodCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3LmhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdiYWNrZ3JvdW5kQ29sb3InLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICgwLCBfdXRpbHMuaGV4MnN0cmluZykodmFsdWUpO1xuICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN5c3RlbVJlbmRlcmVyO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3lzdGVtUmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TeXN0ZW1SZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfR3JvdXBEID0gcmVxdWlyZSgnLi4vbWF0aC9Hcm91cEQ4Jyk7XG5cbnZhciBfR3JvdXBEMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwRCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQSBzdGFuZGFyZCBvYmplY3QgdG8gc3RvcmUgdGhlIFV2cyBvZiBhIHRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZVV2cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlVXZzKTtcblxuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgdGhpcy55MCA9IDA7XG5cbiAgICAgICAgdGhpcy54MSA9IDE7XG4gICAgICAgIHRoaXMueTEgPSAwO1xuXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICB0aGlzLnkyID0gMTtcblxuICAgICAgICB0aGlzLngzID0gMDtcbiAgICAgICAgdGhpcy55MyA9IDE7XG5cbiAgICAgICAgdGhpcy51dnNVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZVV2cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGZyYW1lLCBiYXNlRnJhbWUsIHJvdGF0ZSkge1xuICAgICAgICB2YXIgdHcgPSBiYXNlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgICAgIHZhciBjWCA9IGZyYW1lLnggLyB0dyArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gZnJhbWUueSAvIHRoICsgaDI7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgX0dyb3VwRDIuZGVmYXVsdC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkwID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgICAgICB0aGlzLngxID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTEgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MyA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXZzVWludDMyWzBdID0gKHRoaXMueTAgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngwICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzFdID0gKHRoaXMueTEgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngxICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzJdID0gKHRoaXMueTIgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngyICogNjU1MzUgJiAweEZGRkY7XG4gICAgICAgIHRoaXMudXZzVWludDMyWzNdID0gKHRoaXMueTMgKiA2NTUzNSAmIDB4RkZGRikgPDwgMTYgfCB0aGlzLngzICogNjU1MzUgJiAweEZGRkY7XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlVXZzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZVV2cy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfQmFzZVRleHR1cmUyID0gcmVxdWlyZSgnLi9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlMik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4uL3RpY2tlcicpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IHJlcXVpcmUoJy4uL3V0aWxzL2RldGVybWluZUNyb3NzT3JpZ2luJyk7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSB0ZXh0dXJlIG9mIGEgW3BsYXlpbmddIFZpZGVvLlxuICpcbiAqIFZpZGVvIGJhc2UgdGV4dHVyZXMgbWltaWMgUGl4aUpTIEJhc2VUZXh0dXJlLmZyb20uLi4uIG1ldGhvZCBpbiB0aGVpciBjcmVhdGlvbiBwcm9jZXNzLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgaW4gc2V2ZXJhbCB3YXlzLCBzdWNoIGFzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsKCdodHRwOi8vbXlkb21haW4uY29tL3ZpZGVvLm1wNCcpO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmwoeyBzcmM6ICdodHRwOi8vbXlkb21haW4uY29tL3ZpZGVvLm1wNCcsIG1pbWU6ICd2aWRlby9tcDQnIH0pO1xuICpcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzKFsnL3ZpZGVvLndlYm0nLCAnL3ZpZGVvLm1wNCddKTtcbiAqXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJscyhbXG4gKiAgICAgeyBzcmM6ICcvdmlkZW8ud2VibScsIG1pbWU6ICd2aWRlby93ZWJtJyB9LFxuICogICAgIHsgc3JjOiAnL3ZpZGVvLm1wNCcsIG1pbWU6ICd2aWRlby9tcDQnIH1cbiAqIF0pO1xuICogYGBgXG4gKlxuICogU2VlIHRoZSBbXCJkZXVzXCIgZGVtb10oaHR0cDovL3d3dy5nb29kYm95ZGlnaXRhbC5jb20vcGl4aWpzL2V4YW1wbGVzL2RldXMvKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWRlb0Jhc2VUZXh0dXJlID0gZnVuY3Rpb24gKF9CYXNlVGV4dHVyZSkge1xuICAgIF9pbmhlcml0cyhWaWRlb0Jhc2VUZXh0dXJlLCBfQmFzZVRleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBWaWRlbyBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlkZW9CYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlkZW9CYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmlkZW8gc291cmNlIGVsZW1lbnQgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaG9vayBpbiBoZXJlIHRvIGNoZWNrIGlmIHZpZGVvIGlzIGFscmVhZHkgYXZhaWxhYmxlLlxuICAgICAgICAvLyBCYXNlVGV4dHVyZSBsb29rcyBmb3IgYSBzb3VyY2UuY29tcGxldGUgYm9vbGVhbiwgcGx1cyB3aWR0aCAmIGhlaWdodC5cblxuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VUZXh0dXJlLmNhbGwodGhpcywgc291cmNlLCBzY2FsZU1vZGUpKTtcblxuICAgICAgICBfdGhpcy53aWR0aCA9IHNvdXJjZS52aWRlb1dpZHRoO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBzb3VyY2UudmlkZW9IZWlnaHQ7XG5cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBzZXQgdG8gdHJ1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgcGxheSB2aWRlb3MgdXNlZCBieSB0aGlzIHRleHR1cmUgb25jZVxuICAgICAgICAgKiB0aGV5IGFyZSBsb2FkZWQuIElmIGZhbHNlLCBpdCB3aWxsIG5vdCBtb2RpZnkgdGhlIHBsYXlpbmcgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QbGF5ID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy51cGRhdGUgPSBfdGhpcy51cGRhdGUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9vbkNhblBsYXkgPSBfdGhpcy5fb25DYW5QbGF5LmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgX3RoaXMuX29uUGxheVN0YXJ0LmJpbmQoX3RoaXMpKTtcbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgX3RoaXMuX29uUGxheVN0b3AuYmluZChfdGhpcykpO1xuICAgICAgICBfdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX19sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIV90aGlzLl9pc1NvdXJjZVJlYWR5KCkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgX3RoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBfdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9pc1NvdXJjZVBsYXlpbmcgPSBmdW5jdGlvbiBfaXNTb3VyY2VQbGF5aW5nKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gX2lzU291cmNlUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vblBsYXlTdGFydCA9IGZ1bmN0aW9uIF9vblBsYXlTdGFydCgpIHtcbiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoZSB2aWRlbyBoYXMgbm90IHJlY2VpdmVkIGl0cyBjYW4gcGxheSBldmVuIHlldC4uXG4gICAgICAgIGlmICghdGhpcy5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc0F1dG9VcGRhdGluZyAmJiB0aGlzLmF1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgX2NvbnN0LlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gX29uUGxheVN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5fb25DYW5QbGF5ID0gZnVuY3Rpb24gX29uQ2FuUGxheSgpIHtcbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG5cbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnNvdXJjZS52aWRlb1dpZHRoO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnNvdXJjZS52aWRlb0hlaWdodDtcblxuICAgICAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBsb2FkZWQgZGlzcGF0Y2hlcy4uXG4gICAgICAgICAgICBpZiAoIXRoaXMuX19sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UgJiYgdGhpcy5zb3VyY2UuX3BpeGlJZCkge1xuICAgICAgICAgICAgX0Jhc2VUZXh0dXJlMy5kZWZhdWx0LnJlbW92ZUZyb21DYWNoZSh0aGlzLnNvdXJjZS5fcGl4aUlkKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNvdXJjZS5fcGl4aUlkO1xuXG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5sb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWltaWMgUGl4aUpTIEJhc2VUZXh0dXJlLmZyb20uLi4uIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR9IHZpZGVvIC0gVmlkZW8gdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlZpZGVvQmFzZVRleHR1cmV9IE5ld2x5IGNyZWF0ZWQgVmlkZW9CYXNlVGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLmZyb21WaWRlbyA9IGZ1bmN0aW9uIGZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKSB7XG4gICAgICAgIGlmICghdmlkZW8uX3BpeGlJZCkge1xuICAgICAgICAgICAgdmlkZW8uX3BpeGlJZCA9ICd2aWRlb18nICsgKDAsIF91dGlscy51aWQpKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVt2aWRlby5fcGl4aUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBWaWRlb0Jhc2VUZXh0dXJlKHZpZGVvLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgX0Jhc2VUZXh0dXJlMy5kZWZhdWx0LmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIHZpZGVvLl9waXhpSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IEJhc2VUZXh0dXJlIGJhc2VkIG9uIHRoZSBnaXZlbiB2aWRlbyBlbGVtZW50LlxuICAgICAqIFRoaXMgQmFzZVRleHR1cmUgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fHN0cmluZ1tdfG9iamVjdFtdfSB2aWRlb1NyYyAtIFRoZSBVUkwocykgZm9yIHRoZSB2aWRlby5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZpZGVvU3JjLnNyY10gLSBPbmUgb2YgdGhlIHNvdXJjZSB1cmxzIGZvciB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZpZGVvU3JjLm1pbWVdIC0gVGhlIG1pbWV0eXBlIG9mIHRoZSB2aWRlbyAoZS5nLiAndmlkZW8vbXA0JykuIElmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgdGhlIHVybCdzIGV4dGVuc2lvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIHNlY29uZCBwYXJ0IG9mIHRoZSBtaW1lIHR5cGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luPShhdXRvKV0gLSBTaG91bGQgdXNlIGFub255bW91cyBDT1JTPyBEZWZhdWx0cyB0byB0cnVlIGlmIHRoZSBVUkwgaXMgbm90IGEgZGF0YS1VUkkuXG4gICAgICogQHJldHVybiB7UElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBOZXdseSBjcmVhdGVkIFZpZGVvQmFzZVRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsID0gZnVuY3Rpb24gZnJvbVVybCh2aWRlb1NyYywgc2NhbGVNb2RlLCBjcm9zc29yaWdpbikge1xuICAgICAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuXG4gICAgICAgIHZhciB1cmwgPSBBcnJheS5pc0FycmF5KHZpZGVvU3JjKSA/IHZpZGVvU3JjWzBdLnNyYyB8fCB2aWRlb1NyY1swXSA6IHZpZGVvU3JjLnNyYyB8fCB2aWRlb1NyYztcblxuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgdmlkZW8uY3Jvc3NPcmlnaW4gPSAoMCwgX2RldGVybWluZUNyb3NzT3JpZ2luMi5kZWZhdWx0KSh1cmwpO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB2aWRlby5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZpZGVvU3JjKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWRlb1NyYy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGNyZWF0ZVNvdXJjZSh2aWRlb1NyY1tpXS5zcmMgfHwgdmlkZW9TcmNbaV0sIHZpZGVvU3JjW2ldLm1pbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzaW5nbGUgb2JqZWN0IG9yIHN0cmluZ1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChjcmVhdGVTb3VyY2UodXJsLCB2aWRlb1NyYy5taW1lKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmlkZW8ubG9hZCgpO1xuXG4gICAgICAgIHJldHVybiBWaWRlb0Jhc2VUZXh0dXJlLmZyb21WaWRlbyh2aWRlbywgc2NhbGVNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVmlkZW9CYXNlVGV4dHVyZSwgW3tcbiAgICAgICAga2V5OiAnYXV0b1VwZGF0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVmlkZW9CYXNlVGV4dHVyZTtcbn0oX0Jhc2VUZXh0dXJlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVmlkZW9CYXNlVGV4dHVyZTtcblxuXG5WaWRlb0Jhc2VUZXh0dXJlLmZyb21VcmxzID0gVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsO1xuXG5mdW5jdGlvbiBjcmVhdGVTb3VyY2UocGF0aCwgdHlwZSkge1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICB0eXBlID0gJ3ZpZGVvLycgKyBwYXRoLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICBzb3VyY2Uuc3JjID0gcGF0aDtcbiAgICBzb3VyY2UudHlwZSA9IHR5cGU7XG5cbiAgICByZXR1cm4gc291cmNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmlkZW9CYXNlVGV4dHVyZS5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRldGVybWluZUNyb3NzT3JpZ2luO1xuXG52YXIgX3VybDIgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciB0ZW1wQW5jaG9yID0gdm9pZCAwO1xuXG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCkge1xuICAgIHZhciBsb2MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBfdXJsMy5kZWZhdWx0LnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG5cbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcblxuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgdXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRldGVybWluZUNyb3NzT3JpZ2luLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UyID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1CYXNlJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICogbG9jYWwgdHJhbnNmb3JtYXRpb24gaXMgY2FsY3VsYXRlZCBmcm9tIHBvc2l0aW9uLHNjYWxlLHNrZXcgYW5kIHJvdGF0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoX1RyYW5zZm9ybUJhc2UpIHtcbiAgX2luaGVyaXRzKFRyYW5zZm9ybSwgX1RyYW5zZm9ybUJhc2UpO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm0pO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICpcbiAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgKi9cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVHJhbnNmb3JtQmFzZS5jYWxsKHRoaXMpKTtcblxuICAgIF90aGlzLnBvc2l0aW9uID0gbmV3IF9tYXRoLlBvaW50KDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5zY2FsZSA9IG5ldyBfbWF0aC5Qb2ludCgxLCAxKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnNrZXcgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLnVwZGF0ZVNrZXcsIF90aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIF90aGlzLnBpdm90ID0gbmV3IF9tYXRoLlBvaW50KDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIHZhbHVlIG9mIHRoZSBvYmplY3QsIGluIHJhZGlhbnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICBfdGhpcy5fY3ggPSAxOyAvLyBjb3Mgcm90YXRpb24gKyBza2V3WTtcbiAgICBfdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICBfdGhpcy5fY3kgPSAwOyAvLyBjb3Mgcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICBfdGhpcy5fc3kgPSAxOyAvLyBzaW4gcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2tldyB2YWx1ZXMgd2hlbiB0aGUgc2tldyBvciByb3RhdGlvbiBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uIHVwZGF0ZVNrZXcoKSB7XG4gICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgb25seSBsb2NhbCBtYXRyaXhcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcblxuICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKHRoaXMucGl2b3QueCAqIGx0LmEgKyB0aGlzLnBpdm90LnkgKiBsdC5jKTtcbiAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICh0aGlzLnBpdm90LnggKiBsdC5iICsgdGhpcy5waXZvdC55ICogbHQuZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG5cbiAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICh0aGlzLnBpdm90LnggKiBsdC5hICsgdGhpcy5waXZvdC55ICogbHQuYyk7XG4gICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAodGhpcy5waXZvdC54ICogbHQuYiArIHRoaXMucGl2b3QueSAqIGx0LmQpO1xuXG4gICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgdGhpcy5fd29ybGRJRCsrO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gc2V0RnJvbU1hdHJpeChtYXRyaXgpIHtcbiAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFRyYW5zZm9ybSwgW3tcbiAgICBrZXk6ICdyb3RhdGlvbicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2Zvcm07XG59KF9UcmFuc2Zvcm1CYXNlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UyID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1CYXNlJyk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1CYXNlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UcmFuc2Zvcm1CYXNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtU3RhdGljID0gZnVuY3Rpb24gKF9UcmFuc2Zvcm1CYXNlKSB7XG4gICAgX2luaGVyaXRzKFRyYW5zZm9ybVN0YXRpYywgX1RyYW5zZm9ybUJhc2UpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2Zvcm1TdGF0aWMoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm1TdGF0aWMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1RyYW5zZm9ybUJhc2UuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMucG9zaXRpb24gPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLm9uQ2hhbmdlLCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zY2FsZSA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAxLCAxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5waXZvdCA9IG5ldyBfbWF0aC5PYnNlcnZhYmxlUG9pbnQoX3RoaXMub25DaGFuZ2UsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNrZXcgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLnVwZGF0ZVNrZXcsIF90aGlzLCAwLCAwKTtcblxuICAgICAgICBfdGhpcy5fcm90YXRpb24gPSAwO1xuXG4gICAgICAgIF90aGlzLl9jeCA9IDE7IC8vIGNvcyByb3RhdGlvbiArIHNrZXdZO1xuICAgICAgICBfdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgX3RoaXMuX2N5ID0gMDsgLy8gY29zIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgICAgIF90aGlzLl9zeSA9IDE7IC8vIHNpbiByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuXG4gICAgICAgIF90aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBza2V3IG9yIHJvdGF0aW9uIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRyYW5zZm9ybVN0YXRpYy5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uIHVwZGF0ZVNrZXcoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBvbmx5IGxvY2FsIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICh0aGlzLnBpdm90Ll94ICogbHQuYSArIHRoaXMucGl2b3QuX3kgKiBsdC5jKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICh0aGlzLnBpdm90Ll94ICogbHQuYiArIHRoaXMucGl2b3QuX3kgKiBsdC5kKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmFsdWVzIG9mIHRoZSBvYmplY3QgYW5kIGFwcGxpZXMgdGhlIHBhcmVudCdzIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5hICsgdGhpcy5waXZvdC5feSAqIGx0LmMpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKHRoaXMucGl2b3QuX3ggKiBsdC5iICsgdGhpcy5waXZvdC5feSAqIGx0LmQpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB3dC5hID0gbHQuYSAqIHB0LmEgKyBsdC5iICogcHQuYztcbiAgICAgICAgICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgICAgICAgICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgICAgICAgICB3dC5kID0gbHQuYyAqIHB0LmIgKyBsdC5kICogcHQuZDtcbiAgICAgICAgICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiBzZXRGcm9tTWF0cml4KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm1TdGF0aWMsIFt7XG4gICAgICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRyYW5zZm9ybVN0YXRpYztcbn0oX1RyYW5zZm9ybUJhc2UzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2Zvcm1TdGF0aWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1TdGF0aWMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMgPSByZXF1aXJlKCcuL1RyYW5zZm9ybVN0YXRpYycpO1xuXG52YXIgX1RyYW5zZm9ybVN0YXRpYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1TdGF0aWMpO1xuXG52YXIgX1RyYW5zZm9ybSA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtJyk7XG5cbnZhciBfVHJhbnNmb3JtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybSk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi9Cb3VuZHMnKTtcblxudmFyIF9Cb3VuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vIF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93biByYXRoZXIgaXQgc2hvdWxkIGJlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKERpc3BsYXlPYmplY3QsIF9FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGlzcGxheU9iamVjdCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICB2YXIgVHJhbnNmb3JtQ2xhc3MgPSBfc2V0dGluZ3MyLmRlZmF1bHQuVFJBTlNGT1JNX01PREUgPT09IF9jb25zdC5UUkFOU0ZPUk1fTU9ERS5TVEFUSUMgPyBfVHJhbnNmb3JtU3RhdGljMi5kZWZhdWx0IDogX1RyYW5zZm9ybTIuZGVmYXVsdDtcblxuICAgICAgICBfdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtQmFzZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm1DbGFzcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWlzYXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2ZpbHRlcnMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgX0JvdW5kczIuZGVmYXVsdCgpO1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICBfdGhpcy5fbGFzdEJvdW5kc0lEID0gLTE7XG4gICAgICAgIF90aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzIVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBVcGRhdGUgLSBzZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMoc2tpcFVwZGF0ZSwgcmVjdCkge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHNJRCAhPT0gdGhpcy5fbGFzdEJvdW5kc0lEKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0dsb2JhbCA9IGZ1bmN0aW9uIHRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCkge1xuICAgICAgICB2YXIgc2tpcFVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIHRvTG9jYWwocG9zaXRpb24sIGZyb20sIHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gT1ZFUldSSVRFO1xuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHt9XG4gICAgLy8gT1ZFUldSSVRFO1xuXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG9cbiAgICAgKi9cbiAgICA7XG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiBzZXRQYXJlbnQoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIHNjYWxlWCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMTtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAwO1xuICAgICAgICB2YXIgc2tld1ggPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG4gICAgICAgIHZhciBza2V3WSA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogMDtcbiAgICAgICAgdmFyIHBpdm90WCA9IGFyZ3VtZW50cy5sZW5ndGggPiA3ICYmIGFyZ3VtZW50c1s3XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzddIDogMDtcbiAgICAgICAgdmFyIHBpdm90WSA9IGFyZ3VtZW50cy5sZW5ndGggPiA4ICYmIGFyZ3VtZW50c1s4XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzhdIDogMDtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxheU9iamVjdCwgW3tcbiAgICAgICAga2V5OiAnX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAneScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmxkVHJhbnNmb3JtJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xvY2FsVHJhbnNmb3JtJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncG9zaXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NjYWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmRcbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncGl2b3QnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2tldyBmYWN0b3IgZm9yIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3NrZXcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncm90YXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd29ybGRWaXNpYmxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgYSBtYXNrIGZvciB0aGUgZGlzcGxheU9iamVjdC4gQSBtYXNrIGlzIGFuIG9iamVjdCB0aGF0IGxpbWl0cyB0aGUgdmlzaWJpbGl0eSBvZiBhblxuICAgICAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBJWEkgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICAgICAqIFBJWEkuR3JhcGhpY3Mgb3IgYSBQSVhJLlNwcml0ZSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAgICAgKiB1dGlsaXNlcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gbnVsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHRvZG8gRm9yIHRoZSBtb21lbnQsIFBJWEkuQ2FudmFzUmVuZGVyZXIgZG9lc24ndCBzdXBwb3J0IFBJWEkuU3ByaXRlIGFzIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXNrJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gJ251bGwnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWx0ZXJzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsdGVycyAmJiB0aGlzLl9maWx0ZXJzLnNsaWNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVycyA9IHZhbHVlICYmIHZhbHVlLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBEaXNwbGF5T2JqZWN0O1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYXlPYmplY3QuanMubWFwIiwiLyoqXG4gKiBFeHRyYWN0cyB0aGUgYXR0cmlidXRlc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB1bmlmb3JtcyB7QXJyYXl9IEBtYXQgP1xuICogQHJldHVybiBhdHRyaWJ1dGVzIHtPYmplY3R9XG4gKi9cbnZhciBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QgPSBmdW5jdGlvbihnbCwgdW5pZm9ybURhdGEpXG57XG4gICAgLy8gdGhpcyBpcyB0aGUgb2JqZWN0IHdlIHdpbGwgYmUgc2VuZGluZyBiYWNrLlxuICAgIC8vIGFuIG9iamVjdCBoaWVyYWNoeSB3aWxsIGJlIGNyZWF0ZWQgZm9yIHN0cnVjdHNcbiAgICB2YXIgdW5pZm9ybXMgPSB7ZGF0YTp7fX07XG5cbiAgICB1bmlmb3Jtcy5nbCA9IGdsO1xuXG4gICAgdmFyIHVuaWZvcm1LZXlzPSBPYmplY3Qua2V5cyh1bmlmb3JtRGF0YSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaWZvcm1LZXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gdW5pZm9ybUtleXNbaV07XG5cbiAgICAgICAgdmFyIG5hbWVUb2tlbnMgPSBmdWxsTmFtZS5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbmFtZSA9IG5hbWVUb2tlbnNbbmFtZVRva2Vucy5sZW5ndGggLSAxXTtcblxuXG4gICAgICAgIHZhciB1bmlmb3JtR3JvdXAgPSBnZXRVbmlmb3JtR3JvdXAobmFtZVRva2VucywgdW5pZm9ybXMpO1xuXG4gICAgICAgIHZhciB1bmlmb3JtID0gIHVuaWZvcm1EYXRhW2Z1bGxOYW1lXTtcbiAgICAgICAgdW5pZm9ybUdyb3VwLmRhdGFbbmFtZV0gPSB1bmlmb3JtO1xuXG4gICAgICAgIHVuaWZvcm1Hcm91cC5nbCA9IGdsO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1bmlmb3JtR3JvdXAsIG5hbWUsIHtcbiAgICAgICAgICAgIGdldDogZ2VuZXJhdGVHZXR0ZXIobmFtZSksXG4gICAgICAgICAgICBzZXQ6IGdlbmVyYXRlU2V0dGVyKG5hbWUsIHVuaWZvcm0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn07XG5cbnZhciBnZW5lcmF0ZUdldHRlciA9IGZ1bmN0aW9uKG5hbWUpXG57XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW25hbWVdLnZhbHVlO1xuICAgIH07XG59O1xuXG52YXIgR0xTTF9TSU5HTEVfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogZnVuY3Rpb24gc2V0U2luZ2xlRmxvYXQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVWZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIHZlYzM6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIHZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZVZlYzQoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGYobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTsgfSxcblxuICAgIGludDogZnVuY3Rpb24gc2V0U2luZ2xlSW50KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIGl2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgaXZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZUl2ZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBib29sOiBmdW5jdGlvbiBzZXRTaW5nbGVCb29sKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYnZlYzI6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWMyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0pOyB9LFxuICAgIGJ2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjMyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSk7IH0sXG4gICAgYnZlYzQ6IGZ1bmN0aW9uIHNldFNpbmdsZUJ2ZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBtYXQyOiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQyKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcbiAgICBtYXQzOiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcbiAgICBtYXQ0OiBmdW5jdGlvbiBzZXRTaW5nbGVNYXQ0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTsgfSxcblxuICAgIHNhbXBsZXIyRDogZnVuY3Rpb24gc2V0U2luZ2xlU2FtcGxlcjJEKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG59O1xuXG52YXIgR0xTTF9BUlJBWV9TRVRURVJTID0ge1xuICAgIGZsb2F0OiBmdW5jdGlvbiBzZXRGbG9hdEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzI6IGZ1bmN0aW9uIHNldFZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMzOiBmdW5jdGlvbiBzZXRWZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjNDogZnVuY3Rpb24gc2V0VmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGludDogZnVuY3Rpb24gc2V0SW50QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzI6IGZ1bmN0aW9uIHNldEl2ZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzM6IGZ1bmN0aW9uIHNldEl2ZWMzQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgaXZlYzQ6IGZ1bmN0aW9uIHNldEl2ZWM0QXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgYm9vbDogZnVuY3Rpb24gc2V0Qm9vbEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMyOiBmdW5jdGlvbiBzZXRCdmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMzOiBmdW5jdGlvbiBzZXRCdmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWM0OiBmdW5jdGlvbiBzZXRCdmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHNhbXBsZXIyRDogZnVuY3Rpb24gc2V0U2FtcGxlcjJEQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVNldHRlcihuYW1lLCB1bmlmb3JtKVxue1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmRhdGFbbmFtZV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5kYXRhW25hbWVdLmxvY2F0aW9uO1xuICAgICAgICBpZiAodW5pZm9ybS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBHTFNMX1NJTkdMRV9TRVRURVJTW3VuaWZvcm0udHlwZV0odGhpcy5nbCwgbG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdsc2xTZXRBcnJheShnbCwgbG9jYXRpb24sIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgICAgICBHTFNMX0FSUkFZX1NFVFRFUlNbdW5pZm9ybS50eXBlXSh0aGlzLmdsLCBsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VW5pZm9ybUdyb3VwKG5hbWVUb2tlbnMsIHVuaWZvcm0pXG57XG4gICAgdmFyIGN1ciA9IHVuaWZvcm07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVUb2tlbnMubGVuZ3RoIC0gMTsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIG8gPSBjdXJbbmFtZVRva2Vuc1tpXV0gfHwge2RhdGE6e319O1xuICAgICAgICBjdXJbbmFtZVRva2Vuc1tpXV0gPSBvO1xuICAgICAgICBjdXIgPSBvO1xuICAgIH1cblxuICAgIHJldHVybiBjdXI7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q7XG4iLCIvKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCB0aGlzIGZ1bmN0aW9uIHdpbGwgZG8gbm90aGluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAgICAgICB0aGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHByZWNpc2lvbiBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbnZhciBzZXRQcmVjaXNpb24gPSBmdW5jdGlvbihzcmMsIHByZWNpc2lvbilcbntcbiAgICBpZihzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJylcbiAgICB7XG4gICAgICAgIHJldHVybiAncHJlY2lzaW9uICcgKyBwcmVjaXNpb24gKyAnIGZsb2F0O1xcbicgKyBzcmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0UHJlY2lzaW9uO1xuIiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFR5cGUgb2YgdmFsdWVcbiAqIEBwYXJhbSBzaXplIHtOdW1iZXJ9XG4gKi9cbnZhciBkZWZhdWx0VmFsdWUgPSBmdW5jdGlvbih0eXBlLCBzaXplKSBcbntcbiAgICBzd2l0Y2ggKHR5cGUpXG4gICAge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICd2ZWMyJzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjNCc6ICAgICBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgICAgIFxuICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAnaXZlYzInOiAgIFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWM0JzogXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2Jvb2wnOiAgICAgXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY2FzZSAnYnZlYzInOlxuXG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KCAyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Myc6IFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cbn07XG5cbnZhciBib29sZWFuQXJyYXkgPSBmdW5jdGlvbihzaXplKVxue1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIFxuICAgIHtcbiAgICAgICAgYXJyYXlbaV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRWYWx1ZTtcbiIsInZhciBtYXBUeXBlID0gcmVxdWlyZSgnLi9tYXBUeXBlJyk7XG52YXIgZGVmYXVsdFZhbHVlID0gcmVxdWlyZSgnLi9kZWZhdWx0VmFsdWUnKTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgdW5pZm9ybXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gcHJvZ3JhbSB7V2ViR0xQcm9ncmFtfSBUaGUgc2hhZGVyIHByb2dyYW0gdG8gZ2V0IHRoZSB1bmlmb3JtcyBmcm9tXG4gKiBAcmV0dXJuIHVuaWZvcm1zIHtPYmplY3R9XG4gKi9cbnZhciBleHRyYWN0VW5pZm9ybXMgPSBmdW5jdGlvbihnbCwgcHJvZ3JhbSlcbntcblx0dmFyIHVuaWZvcm1zID0ge307XG5cbiAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKVxuICAgIHtcbiAgICBcdHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgXHR2YXIgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLywgXCJcIik7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSApO1xuXG4gICAgXHR1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICBcdFx0dHlwZTp0eXBlLFxuICAgIFx0XHRzaXplOnVuaWZvcm1EYXRhLnNpemUsXG4gICAgXHRcdGxvY2F0aW9uOmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKSxcbiAgICBcdFx0dmFsdWU6ZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpXG4gICAgXHR9O1xuICAgIH1cblxuXHRyZXR1cm4gdW5pZm9ybXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RVbmlmb3JtcztcbiIsIi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG52YXIgbWFwU2l6ZSA9IGZ1bmN0aW9uKHR5cGUpIFxueyBcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufTtcblxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgICdmbG9hdCc6ICAgIDEsXG4gICAgJ3ZlYzInOiAgICAgMixcbiAgICAndmVjMyc6ICAgICAzLFxuICAgICd2ZWM0JzogICAgIDQsXG5cbiAgICAnaW50JzogICAgICAxLFxuICAgICdpdmVjMic6ICAgIDIsXG4gICAgJ2l2ZWMzJzogICAgMyxcbiAgICAnaXZlYzQnOiAgICA0LFxuXG4gICAgJ2Jvb2wnOiAgICAgMSxcbiAgICAnYnZlYzInOiAgICAyLFxuICAgICdidmVjMyc6ICAgIDMsXG4gICAgJ2J2ZWM0JzogICAgNCxcblxuICAgICdtYXQyJzogICAgIDQsXG4gICAgJ21hdDMnOiAgICAgOSxcbiAgICAnbWF0NCc6ICAgICAxNixcblxuICAgICdzYW1wbGVyMkQnOiAgMVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtYXBTaXplO1xuIiwiXG52YXIgbWFwVHlwZSA9IHJlcXVpcmUoJy4vbWFwVHlwZScpO1xudmFyIG1hcFNpemUgPSByZXF1aXJlKCcuL21hcFNpemUnKTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgYXR0cmlidXRlc1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IFRoZSBzaGFkZXIgcHJvZ3JhbSB0byBnZXQgdGhlIGF0dHJpYnV0ZXMgZnJvbVxuICogQHJldHVybiBhdHRyaWJ1dGVzIHtPYmplY3R9XG4gKi9cbnZhciBleHRyYWN0QXR0cmlidXRlcyA9IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKVxue1xuICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG5cbiAgICB2YXIgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsQXR0cmlidXRlczsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcblxuICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOnR5cGUsXG4gICAgICAgICAgICBzaXplOm1hcFNpemUodHlwZSksXG4gICAgICAgICAgICBsb2NhdGlvbjpnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJEYXRhLm5hbWUpLFxuICAgICAgICAgICAgLy9UT0RPIC0gbWFrZSBhbiBhdHRyaWJ1dGUgb2JqZWN0XG4gICAgICAgICAgICBwb2ludGVyOiBwb2ludGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG52YXIgcG9pbnRlciA9IGZ1bmN0aW9uKHR5cGUsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgc3RhcnQpe1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubG9jYXRpb24pXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmxvY2F0aW9uLHRoaXMuc2l6ZSwgdHlwZSB8fCBnbC5GTE9BVCwgbm9ybWFsaXplZCB8fCBmYWxzZSwgc3RyaWRlIHx8IDAsIHN0YXJ0IHx8IDApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHRyYWN0QXR0cmlidXRlcztcbiIsIlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbnZhciBjb21waWxlUHJvZ3JhbSA9IGZ1bmN0aW9uKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmKGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICB7XG4gICAgICAgIGZvcih2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblxuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbnZhciBjb21waWxlU2hhZGVyID0gZnVuY3Rpb24gKGdsLCB0eXBlLCBzcmMpXG57XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb21waWxlUHJvZ3JhbTtcbiIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gZm9ybWF0IHtudW1iZXJ9IHRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlJHQkFcbiAqIEBwYXJhbSB0eXBlIHtudW1iZXJ9IHRoZSBnbCB0eXBlIG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5VTlNJR05FRF9CWVRFXG4gKi9cbnZhciBUZXh0dXJlID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSlcbntcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXG5cdC8qKlxuXHQgKiBUaGUgV2ViR0wgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG5cdCAqL1xuXHR0aGlzLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cblx0LyoqXG5cdCAqIElmIG1pcG1hcHBpbmcgd2FzIHVzZWQgZm9yIHRoaXMgdGV4dHVyZSwgZW5hYmxlIGFuZCBkaXNhYmxlIHdpdGggZW5hYmxlTWlwbWFwKClcblx0ICpcblx0ICogQG1lbWJlciB7Qm9vbGVhbn1cblx0ICovXG5cdC8vIHNvbWUgc2V0dGluZ3MuLlxuXHR0aGlzLm1pcG1hcCA9IGZhbHNlO1xuXG5cblx0LyoqXG5cdCAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtCb29sZWFufVxuXHQgKi9cblx0dGhpcy5wcmVtdWx0aXBseUFscGhhID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIFRoZSB3aWR0aCBvZiB0ZXh0dXJlXG5cdCAqXG5cdCAqIEBtZW1iZXIge051bWJlcn1cblx0ICovXG5cdHRoaXMud2lkdGggPSB3aWR0aCB8fCAtMTtcblx0LyoqXG5cdCAqIFRoZSBoZWlnaHQgb2YgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAtMTtcblxuXHQvKipcblx0ICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuUkdCQVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBnbC5SR0JBO1xuXG5cdC8qKlxuXHQgKiBUaGUgZ2wgdHlwZSBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuVU5TSUdORURfQllURVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLnR5cGUgPSB0eXBlIHx8IGdsLlVOU0lHTkVEX0JZVEU7XG5cblxufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoaXMgdGV4dHVyZSB0byB0aGUgR1BVXG4gKiBAcGFyYW0gc291cmNlIHtIVE1MSW1hZ2VFbGVtZW50fEltYWdlRGF0YXxIVE1MVmlkZW9FbGVtZW50fSB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uKHNvdXJjZSlcbntcblx0dGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXG5cdGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdGhpcy5wcmVtdWx0aXBseUFscGhhKTtcblxuXHR2YXIgbmV3V2lkdGggPSBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG5cdHZhciBuZXdIZWlnaHQgPSBzb3VyY2UudmlkZW9IZWlnaHQgfHwgc291cmNlLmhlaWdodDtcblxuXHRpZihuZXdIZWlnaHQgIT09IHRoaXMuaGVpZ2h0IHx8IG5ld1dpZHRoICE9PSB0aGlzLndpZHRoKVxuXHR7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgc291cmNlKTtcblx0fVxuXHRlbHNlXG5cdHtcbiAgICBcdGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgc291cmNlKTtcblx0fVxuXG5cdC8vIGlmIHRoZSBzb3VyY2UgaXMgYSB2aWRlbywgd2UgbmVlZCB0byB1c2UgdGhlIHZpZGVvV2lkdGggLyB2aWRlb0hlaWdodCBwcm9wZXJ0aWVzIGFzIHdpZHRoIC8gaGVpZ2h0IHdpbGwgYmUgaW5jb3JyZWN0LlxuXHR0aGlzLndpZHRoID0gbmV3V2lkdGg7XG5cdHRoaXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXG59O1xuXG52YXIgRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFID0gZmFsc2U7XG5cbi8qKlxuICogVXNlIGEgZGF0YSBzb3VyY2UgYW5kIHVwbG9hZHMgdGhpcyB0ZXh0dXJlIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBkYXRhIHtUeXBlZEFycmF5fSB0aGUgZGF0YSB0byB1cGxvYWQgdG8gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB3aWR0aCB7bnVtYmVyfSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVwbG9hZERhdGEgPSBmdW5jdGlvbihkYXRhLCB3aWR0aCwgaGVpZ2h0KVxue1xuXHR0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cblx0aWYoZGF0YSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlcblx0e1xuXHRcdGlmKCFGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUpXG5cdFx0e1xuXHRcdFx0dmFyIGV4dCA9IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO1xuXG5cdFx0XHRpZihleHQpXG5cdFx0XHR7XG5cdFx0XHRcdEZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignZmxvYXRpbmcgcG9pbnQgdGV4dHVyZXMgbm90IGF2YWlsYWJsZScpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMudHlwZSA9IGdsLkZMT0FUO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdC8vIFRPRE8gc3VwcG9ydCBmb3Igb3RoZXIgdHlwZXNcblx0XHR0aGlzLnR5cGUgPSB0aGlzLnR5cGUgfHwgZ2wuVU5TSUdORURfQllURTtcblx0fVxuXG5cdC8vIHdoYXQgdHlwZSBvZiBkYXRhP1xuXHRnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIHRoaXMucHJlbXVsdGlwbHlBbHBoYSk7XG5cblxuXHRpZih3aWR0aCAhPT0gdGhpcy53aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuaGVpZ2h0KVxuXHR7XG5cdFx0Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgIHdpZHRoLCBoZWlnaHQsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIGRhdGEgfHwgbnVsbCk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB3aWR0aCwgaGVpZ2h0LCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBkYXRhIHx8IG51bGwpO1xuXHR9XG5cblx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuXG4vL1x0dGV4U3ViSW1hZ2UyRFxufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgdGV4dHVyZVxuICogQHBhcmFtICBsb2NhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24obG9jYXRpb24pXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0aWYobG9jYXRpb24gIT09IHVuZGVmaW5lZClcblx0e1xuXHRcdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG5cdH1cblxuXHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSBsaW5lYXIge0Jvb2xlYW59IGlmIHdlIHdhbnQgdG8gdXNlIGxpbmVhciBmaWx0ZXJpbmcgb3IgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5taW5GaWx0ZXIgPSBmdW5jdGlvbiggbGluZWFyIClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRpZih0aGlzLm1pcG1hcClcblx0e1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcblx0fVxufTtcblxuLyoqXG4gKiBAcGFyYW0gbGluZWFyIHtCb29sZWFufSBpZiB3ZSB3YW50IHRvIHVzZSBsaW5lYXIgZmlsdGVyaW5nIG9yIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUubWFnRmlsdGVyID0gZnVuY3Rpb24oIGxpbmVhciApXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGxpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIG1pcG1hcHBpbmdcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlTWlwbWFwID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdHRoaXMubWlwbWFwID0gdHJ1ZTtcblxuXHRnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBsaW5lYXIgZmlsdGVyaW5nXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZUxpbmVhclNjYWxpbmcgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMubWluRmlsdGVyKHRydWUpO1xuXHR0aGlzLm1hZ0ZpbHRlcih0cnVlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZU5lYXJlc3RTY2FsaW5nID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLm1pbkZpbHRlcihmYWxzZSk7XG5cdHRoaXMubWFnRmlsdGVyKGZhbHNlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBjbGFtcGluZyBvbiB0aGUgdGV4dHVyZSBzbyBXZWJHTCB3aWxsIG5vdCByZXBlYXQgaXRcbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcENsYW1wID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xufTtcblxuLyoqXG4gKiBFbmFibGUgdGlsaW5nIG9uIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZVdyYXBSZXBlYXQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuUkVQRUFUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xufTtcblxuVGV4dHVyZS5wcm90b3R5cGUuZW5hYmxlV3JhcE1pcnJvclJlcGVhdCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5NSVJST1JFRF9SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLk1JUlJPUkVEX1JFUEVBVCk7XG59O1xuXG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdC8vVE9ET1xuXHRnbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gc291cmNlIHtIVE1MSW1hZ2VFbGVtZW50fEltYWdlRGF0YX0gdGhlIHNvdXJjZSBpbWFnZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHByZW11bHRpcGx5QWxwaGEge0Jvb2xlYW59IElmIHdlIHdhbnQgdG8gdXNlIHByZS1tdWx0aXBsaWVkIGFscGhhXG4gKi9cblRleHR1cmUuZnJvbVNvdXJjZSA9IGZ1bmN0aW9uKGdsLCBzb3VyY2UsIHByZW11bHRpcGx5QWxwaGEpXG57XG5cdHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wpO1xuXHR0ZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhIHx8IGZhbHNlO1xuXHR0ZXh0dXJlLnVwbG9hZChzb3VyY2UpO1xuXG5cdHJldHVybiB0ZXh0dXJlO1xufTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIGRhdGEge1R5cGVkQXJyYXl9IHRoZSBkYXRhIHRvIHVwbG9hZCB0byB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHdpZHRoIHtudW1iZXJ9IHRoZSBuZXcgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqL1xuVGV4dHVyZS5mcm9tRGF0YSA9IGZ1bmN0aW9uKGdsLCBkYXRhLCB3aWR0aCwgaGVpZ2h0KVxue1xuXHQvL2NvbnNvbGUubG9nKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuXHR2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGdsKTtcblx0dGV4dHVyZS51cGxvYWREYXRhKGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdHJldHVybiB0ZXh0dXJlO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFRleHR1cmU7XG4iLCIvLyB2YXIgR0xfTUFQID0ge307XG5cbi8qKlxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBhdHRyaWJzIHsqfVxuICogQHBhcmFtIHN0YXRlIHsqfVxuICovXG52YXIgc2V0VmVydGV4QXR0cmliQXJyYXlzID0gZnVuY3Rpb24gKGdsLCBhdHRyaWJzLCBzdGF0ZSlcbntcbiAgICB2YXIgaTtcbiAgICBpZihzdGF0ZSlcbiAgICB7XG4gICAgICAgIHZhciB0ZW1wQXR0cmliU3RhdGUgPSBzdGF0ZS50ZW1wQXR0cmliU3RhdGUsXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZSA9IHN0YXRlLmF0dHJpYlN0YXRlO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZW1wQXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZVtpXSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgYXR0cmlic1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmlicy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlW2F0dHJpYnNbaV0uYXR0cmlidXRlLmxvY2F0aW9uXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJTdGF0ZVtpXSAhPT0gdGVtcEF0dHJpYlN0YXRlW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYlN0YXRlW2ldID0gdGVtcEF0dHJpYlN0YXRlW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmF0dHJpYlN0YXRlW2ldKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXR0cmlicy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGF0dHJpYnNbaV07XG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyaWIuYXR0cmlidXRlLmxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VmVydGV4QXR0cmliQXJyYXlzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4vTWF0cml4Jyk7XG5cbnZhciBfTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTsgLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXAgb2Ygb3JkZXIgMTZcblxudmFyIHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xudmFyIHRlbXBNYXRyaWNlcyA9IFtdO1xuXG52YXIgbXVsID0gW107XG5cbmZ1bmN0aW9uIHNpZ251bSh4KSB7XG4gICAgaWYgKHggPCAwKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKHggPiAwKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgcm93ID0gW107XG5cbiAgICAgICAgbXVsLnB1c2gocm93KTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0odXhbaV0gKiB1eFtqXSArIHZ4W2ldICogdXlbal0pO1xuICAgICAgICAgICAgdmFyIF91eSA9IHNpZ251bSh1eVtpXSAqIHV4W2pdICsgdnlbaV0gKiB1eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3Z4ID0gc2lnbnVtKHV4W2ldICogdnhbal0gKyB2eFtpXSAqIHZ5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0odXlbaV0gKiB2eFtqXSArIHZ5W2ldICogdnlbal0pO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5ICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IDE2OyBfaSsrKSB7XG4gICAgICAgIHZhciBtYXQgPSBuZXcgX01hdHJpeDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIG1hdC5zZXQodXhbX2ldLCB1eVtfaV0sIHZ4W19pXSwgdnlbX2ldLCAwLCAwKTtcbiAgICAgICAgdGVtcE1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5cbmluaXQoKTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIERpaGVkcmFsIEdyb3VwIERfOCwgc2VlIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH0sXG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMuIFVzZWQgZm9yIHRleHR1cmUgcm90YXRpb25zLlxuICpcbiAqIFZlY3RvciB4WChpKSwgeFkoaSkgaXMgVS1heGlzIG9mIHNwcml0ZSB3aXRoIHJvdGF0aW9uIGlcbiAqIFZlY3RvciB5WShpKSwgeVkoaSkgaXMgVi1heGlzIG9mIHNwcml0ZSB3aXRoIHJvdGF0aW9uIGlcbiAqIFJvdGF0aW9uczogMCBncmFkICgwKSwgOTAgZ3JhZCAoMiksIDE4MCBncmFkICg0KSwgMjcwIGdyYWQgKDYpXG4gKiBNaXJyb3JzOiB2ZXJ0aWNhbCAoOCksIG1haW4gZGlhZ29uYWwgKDEwKSwgaG9yaXpvbnRhbCAoMTIpLCByZXZlcnNlIGRpYWdvbmFsICgxNClcbiAqIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyb3VwRDggPSB7XG4gICAgRTogMCxcbiAgICBTRTogMSxcbiAgICBTOiAyLFxuICAgIFNXOiAzLFxuICAgIFc6IDQsXG4gICAgTlc6IDUsXG4gICAgTjogNixcbiAgICBORTogNyxcbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuICAgIHVYOiBmdW5jdGlvbiB1WChpbmQpIHtcbiAgICAgICAgcmV0dXJuIHV4W2luZF07XG4gICAgfSxcbiAgICB1WTogZnVuY3Rpb24gdVkoaW5kKSB7XG4gICAgICAgIHJldHVybiB1eVtpbmRdO1xuICAgIH0sXG4gICAgdlg6IGZ1bmN0aW9uIHZYKGluZCkge1xuICAgICAgICByZXR1cm4gdnhbaW5kXTtcbiAgICB9LFxuICAgIHZZOiBmdW5jdGlvbiB2WShpbmQpIHtcbiAgICAgICAgcmV0dXJuIHZ5W2luZF07XG4gICAgfSxcbiAgICBpbnY6IGZ1bmN0aW9uIGludihyb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gJiA4KSB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtcm90YXRpb24gJiA3O1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHtcbiAgICAgICAgcmV0dXJuIG11bFtyb3RhdGlvblNlY29uZF1bcm90YXRpb25GaXJzdF07XG4gICAgfSxcbiAgICBzdWI6IGZ1bmN0aW9uIHN1Yihyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkge1xuICAgICAgICByZXR1cm4gbXVsW3JvdGF0aW9uU2Vjb25kXVtHcm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24uIENvbW11dGF0aXZlIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSByb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gcm90YXRlMTgwKHJvdGF0aW9uKSB7XG4gICAgICAgIHJldHVybiByb3RhdGlvbiBeIDQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpcmVjdGlvbiBvZiBtYWluIHZlY3RvciBjYW4gYmUgaG9yaXpvbnRhbCwgdmVydGljYWwgb3IgZGlhZ29uYWwuXG4gICAgICogU29tZSBvYmplY3RzIHdvcmsgd2l0aCB2ZXJ0aWNhbCBkaXJlY3Rpb25zIGRpZmZlcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gaXNWZXJ0aWNhbChyb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gKHJvdGF0aW9uICYgMykgPT09IDI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHggLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR5IC0gVE9ET1xuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUT0RPXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIGJ5RGlyZWN0aW9uKGR4LCBkeSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHgpICogMiA8PSBNYXRoLmFicyhkeSkpIHtcbiAgICAgICAgICAgIGlmIChkeSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTjtcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Llc7XG4gICAgICAgIH0gZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU0U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNXO1xuICAgICAgICB9IGVsc2UgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTkU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gR3JvdXBEOC5OVztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscHMgc3ByaXRlIHRvIGNvbXBlbnNhdGUgdGV4dHVyZSBwYWNrZXIgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gc3ByaXRlIHdvcmxkIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IGZ1bmN0aW9uIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52KG1hdHJpeCwgcm90YXRpb24pIHtcbiAgICAgICAgdmFyIHR4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHRlbXBNYXRyaWNlc1tHcm91cEQ4Lmludihyb3RhdGlvbildO1xuXG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyb3VwRDg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hcm91cEQ4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqIEFuIG9ic2VydmFibGUgcG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYnNlcnZhYmxlUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcblxuICAgICAgICB0aGlzLmNiID0gY2I7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KHgsIHkpIHtcbiAgICAgICAgdmFyIF94ID0geCB8fCAwO1xuICAgICAgICB2YXIgX3kgPSB5IHx8ICh5ICE9PSAwID8gX3ggOiAwKTtcblxuICAgICAgICBpZiAodGhpcy5feCAhPT0gX3ggfHwgdGhpcy5feSAhPT0gX3kpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBfeDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBfeTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGRhdGEgZnJvbSBhbm90aGVyIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9IHBvaW50IC0gcG9pbnQgdG8gY29weSBmcm9tXG4gICAgICovXG5cblxuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHBvaW50LnggfHwgdGhpcy5feSAhPT0gcG9pbnQueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHBvaW50Lng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcG9pbnQueTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE9ic2VydmFibGVQb2ludCwgW3tcbiAgICAgICAga2V5OiBcInhcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwieVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gT2JzZXJ2YWJsZVBvaW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBPYnNlcnZhYmxlUG9pbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlUG9pbnQuanMubWFwIiwiaW1wb3J0IENvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbmNvbnN0IENvbXBvbmVudHMgPSB7XG4gIGJvZGllczoge1xuICAgIDE6IHt3aWR0aDogQ29uZmlnLlBBRERMRV9XSURUSCwgaGVpZ2h0OiBDb25maWcuUEFERExFX0hFSUdIVH0sXG4gICAgMjoge3dpZHRoOiBDb25maWcuUEFERExFX1dJRFRILCBoZWlnaHQ6IENvbmZpZy5QQURETEVfSEVJR0hUfSxcbiAgICAzOiB7d2lkdGg6IENvbmZpZy5CQUxMX1dJRFRILCBoZWlnaHQ6IENvbmZpZy5CQUxMX0hFSUdIVH0sXG4gIH0sXG4gIHBvc2l0aW9uczoge1xuICAgIDE6IHt4OiBDb25maWcuUEFERExFXzFfUE9TSVRJT04uWCwgeTogQ29uZmlnLlBBRERMRV8xX1BPU0lUSU9OLll9LFxuICAgIDI6IHt4OiBDb25maWcuUEFERExFXzJfUE9TSVRJT04uWCwgeTogQ29uZmlnLlBBRERMRV8yX1BPU0lUSU9OLll9LFxuICAgIDM6IHt4OiBDb25maWcuQkFMTF9QT1NJVElPTi5YLCB5OiBDb25maWcuQkFMTF9QT1NJVElPTi5ZfSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50cztcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjIwOWE2ZDE2NGE0YjM0YjUxZjY5OGI4MGU1ZWZmYjExLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImUwZGRkNGQxY2JkNmY3N2I3NzJiYTJlODk1M2RlMzg0LnBuZ1wiOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICovXG4gIGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lTGltaXRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lKCkge1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICovXG5cblxuICBUaW1lTGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG4gIH07XG5cbiAgcmV0dXJuIFRpbWVMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lTGltaXRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWVMaW1pdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9CYXNlUHJlcGFyZTIgPSByZXF1aXJlKCcuLi9CYXNlUHJlcGFyZScpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VQcmVwYXJlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIENBTlZBU19TVEFSVF9TSVpFID0gMTY7XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFVcbiAqIFRoaXMgY2Fubm90IGJlIGRvbmUgZGlyZWN0bHkgZm9yIENhbnZhcyBsaWtlIGluIFdlYkdMLCBidXQgdGhlIGVmZmVjdCBjYW4gYmUgYWNoaWV2ZWQgYnkgZHJhd2luZ1xuICogdGV4dHVyZXMgdG8gYW4gb2ZmbGluZSBjYW52YXMuXG4gKiBUaGlzIGRyYXcgY2FsbCB3aWxsIGZvcmNlIHRoZSB0ZXh0dXJlIHRvIGJlIG1vdmVkIG9udG8gdGhlIEdQVS5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIENhbnZhc1ByZXBhcmUgPSBmdW5jdGlvbiAoX0Jhc2VQcmVwYXJlKSB7XG4gICAgX2luaGVyaXRzKENhbnZhc1ByZXBhcmUsIF9CYXNlUHJlcGFyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNQcmVwYXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcztcblxuICAgICAgICAvKipcbiAgICAgICAgKiBBbiBvZmZsaW5lIGNhbnZhcyB0byByZW5kZXIgdGV4dHVyZXMgdG9cbiAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIF90aGlzLmNhbnZhcy53aWR0aCA9IENBTlZBU19TVEFSVF9TSVpFO1xuICAgICAgICBfdGhpcy5jYW52YXMuaGVpZ2h0ID0gQ0FOVkFTX1NUQVJUX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb250ZXh0IHRvIHRoZSBjYW52YXNcbiAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovXG4gICAgICAgIF90aGlzLmN0eCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX0Jhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuY3R4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUHJlcGFyZTtcbn0oX0Jhc2VQcmVwYXJlMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHByZXBhcmUgLSBJbnN0YW5jZSBvZiBDYW52YXNQcmVwYXJlXG4gKiBAcGFyYW0geyp9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1ByZXBhcmU7XG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocHJlcGFyZSwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBpdGVtLnNvdXJjZTtcblxuICAgICAgICAvLyBTb21ldGltZXMgaW1hZ2VzIChsaWtlIGF0bGFzIGltYWdlcykgcmVwb3J0IGEgc2l6ZSBvZiB6ZXJvLCBjYXVzaW5nIGVycm9ycyBvbiB3aW5kb3dzIHBob25lLlxuICAgICAgICAvLyBTbyBpZiB0aGUgd2lkdGggb3IgaGVpZ2h0IGlzIGVxdWFsIHRvIHplcm8gdGhlbiB1c2UgdGhlIGNhbnZhcyBzaXplXG4gICAgICAgIC8vIE90aGVyd2lzZSB1c2Ugd2hhdGV2ZXIgaXMgc21hbGxlciwgdGhlIGltYWdlIGRpbWVuc2lvbnMgb3IgdGhlIGNhbnZhcyBkaW1lbnNpb25zLlxuICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IGltYWdlLndpZHRoID09PSAwID8gcHJlcGFyZS5jYW52YXMud2lkdGggOiBNYXRoLm1pbihwcmVwYXJlLmNhbnZhcy53aWR0aCwgaW1hZ2Uud2lkdGgpO1xuICAgICAgICB2YXIgaW1hZ2VIZWlnaHQgPSBpbWFnZS5oZWlnaHQgPT09IDAgPyBwcmVwYXJlLmNhbnZhcy5oZWlnaHQgOiBNYXRoLm1pbihwcmVwYXJlLmNhbnZhcy5oZWlnaHQsIGltYWdlLmhlaWdodCk7XG5cbiAgICAgICAgLy8gT25seSBhIHNtYWxsIHN1YnNlY3Rpb25zIGlzIHJlcXVpcmVkIHRvIGJlIGRyYXduIHRvIGhhdmUgdGhlIHdob2xlIHRleHR1cmUgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICAgICAgICAvLyBBIHNtYWxsZXIgZHJhdyBjYW4gYmUgZmFzdGVyLlxuICAgICAgICBwcmVwYXJlLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0LCAwLCAwLCBwcmVwYXJlLmNhbnZhcy53aWR0aCwgcHJlcGFyZS5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBDYW52YXNQcmVwYXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1ByZXBhcmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMiA9IHJlcXVpcmUoJy4uL0Jhc2VQcmVwYXJlJyk7XG5cbnZhciBfQmFzZVByZXBhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIFdlYkdMUHJlcGFyZSA9IGZ1bmN0aW9uIChfQmFzZVByZXBhcmUpIHtcbiAgICBfaW5oZXJpdHMoV2ViR0xQcmVwYXJlLCBfQmFzZVByZXBhcmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUHJlcGFyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VQcmVwYXJlLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBXZWJHTFByZXBhcmU7XG59KF9CYXNlUHJlcGFyZTMuZGVmYXVsdCk7XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUHJlcGFyZTtcbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5HcmFwaGljcykge1xuICAgICAgICAvLyBpZiB0aGUgaXRlbSBpcyBub3QgZGlydHkgYW5kIGFscmVhZHkgaGFzIHdlYmdsIGRhdGEsIHRoZW4gaXQgZ290IHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cgYW5kIHdlIHNob3VsZG4ndCB3YXN0ZSB0aW1lIHVwZGF0aW5nIGl0IGFnYWluXG4gICAgICAgIGlmIChpdGVtLmRpcnR5IHx8IGl0ZW0uY2xlYXJEaXJ0eSB8fCAhaXRlbS5fd2ViR0xbcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MudXBkYXRlR3JhcGhpY3MoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkdyYXBoaWNzKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBXZWJHTFByZXBhcmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTFByZXBhcmUgPSByZXF1aXJlKCcuL3dlYmdsL1dlYkdMUHJlcGFyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3dlYmdsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xQcmVwYXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNQcmVwYXJlID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzUHJlcGFyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NhbnZhcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1ByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VQcmVwYXJlID0gcmVxdWlyZSgnLi9CYXNlUHJlcGFyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VQcmVwYXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NvdW50TGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvQ291bnRMaW1pdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ291bnRMaW1pdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ291bnRMaW1pdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaW1lTGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvVGltZUxpbWl0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUaW1lTGltaXRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVMaW1pdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi9jb3JlL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBUaGUgcGFydGljbGUgYnVmZmVyIG1hbmFnZXMgdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBidWZmZXJzIGZvciBhIHBhcnRpY2xlIGNvbnRhaW5lci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKGdsLCBwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogcHJvcGVydHkuYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIHNpemU6IHByb3BlcnR5LnNpemUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHVuc2lnbmVkQnl0ZTogcHJvcGVydHkudW5zaWduZWRCeXRlLFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gaW5pdEJ1ZmZlcnMoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9ICgwLCBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMi5kZWZhdWx0KSh0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHluQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgZHluQnVmZmVyLCBnbC5TVFJFQU1fRFJBVyk7XG5cbiAgICAgICAgLy8gc3RhdGljIC8vXG4gICAgICAgIHZhciBzdGF0aWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaSkge1xuICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tfaV07XG5cbiAgICAgICAgICAgIF9wcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gX3Byb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBfcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIHN0YXRCdWZmZXIsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICB0aGlzLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BlcnR5MiA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbX2kyXTtcblxuICAgICAgICAgICAgaWYgKF9wcm9wZXJ0eTIudW5zaWduZWRCeXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuZHluYW1pY0J1ZmZlciwgX3Byb3BlcnR5Mi5hdHRyaWJ1dGUsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTIub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsIF9wcm9wZXJ0eTIuYXR0cmlidXRlLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTIub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pMykge1xuICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eTMgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbX2kzXTtcblxuICAgICAgICAgICAgaWYgKF9wcm9wZXJ0eTMudW5zaWduZWRCeXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuc3RhdGljQnVmZmVyLCBfcHJvcGVydHkzLmF0dHJpYnV0ZSwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LCBfcHJvcGVydHkzLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5zdGF0aWNCdWZmZXIsIF9wcm9wZXJ0eTMuYXR0cmlidXRlLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgX3Byb3BlcnR5My5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIHVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnVuc2lnbmVkQnl0ZSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLCB0aGlzLmR5bmFtaWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIudXBsb2FkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZFN0YXRpYyA9IGZ1bmN0aW9uIHVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnVuc2lnbmVkQnl0ZSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci51cGxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlQnVmZmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZUJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQnVmZmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TaGFkZXIyID0gcmVxdWlyZSgnLi4vLi4vY29yZS9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVTaGFkZXIgPSBmdW5jdGlvbiAoX1NoYWRlcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZVNoYWRlciwgX1NoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBnbCAtIFRoZSB3ZWJnbCBzaGFkZXIgbWFuYWdlciB0aGlzIHNoYWRlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVTaGFkZXIoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1NoYWRlci5jYWxsKHRoaXMsIGdsLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgIFsnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOycsICdhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkOycsICdhdHRyaWJ1dGUgdmVjNCBhQ29sb3I7JywgJ2F0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbkNvb3JkOycsICdhdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uOycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndW5pZm9ybSB2ZWM0IHVDb2xvcjsnLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTsnLCAnICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTsnLCAnICAgdmVjMiB2ID0gdmVjMih4LCB5KTsnLCAnICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDsnLCAnICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yOycsICd9J10uam9pbignXFxuJyksXG4gICAgICAgIC8vIGhlbGxvXG4gICAgICAgIFsndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7JywgJyAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7JywgJ30nXS5qb2luKCdcXG4nKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBQYXJ0aWNsZVNoYWRlcjtcbn0oX1NoYWRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1BhcnRpY2xlU2hhZGVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZVNoYWRlcicpO1xuXG52YXIgX1BhcnRpY2xlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhcnRpY2xlU2hhZGVyKTtcblxudmFyIF9QYXJ0aWNsZUJ1ZmZlciA9IHJlcXVpcmUoJy4vUGFydGljbGVCdWZmZXInKTtcblxudmFyIF9QYXJ0aWNsZUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZUJ1ZmZlcik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi9jb3JlL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZVJlbmRlcmVyLCBfY29yZSRPYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2xlUmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICBfdGhpcy50ZW1wTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbiAgICAgICAgX3RoaXMuQ09OVEVYVF9VSUQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gc2V0dXAgZGVmYXVsdCBzaGFkZXJcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgX1BhcnRpY2xlU2hhZGVyMi5kZWZhdWx0KGdsKTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVBvc2l0aW9uQ29vcmQsXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hUm90YXRpb24sXG4gICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVRleHR1cmVDb29yZCxcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFDb2xvcixcbiAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICB1bnNpZ25lZEJ5dGU6IHRydWUsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH1dO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBuZXcgcGFydGljbGUgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kU2hhZGVyKHRoaXMuc2hhZGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplKSB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9nbEJ1ZmZlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fZ2xCdWZmZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgbSA9IGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5KHRoaXMudGVtcE1hdHJpeCk7XG5cbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBjb3JlLnV0aWxzLnByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYiwgY29udGFpbmVyLndvcmxkQWxwaGEsIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgYm91bmQuLlxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHJlbmRlcmVyLmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSB0b3RhbENoaWxkcmVuIC0gaTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5hdXRvUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tqXTtcblxuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHVwbG9hZCB0aGUgZHluYW1pY1xuICAgICAgICAgICAgYnVmZmVyLnVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG5cbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl9idWZmZXJUb1VwZGF0ZSA9PT0gaikge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLl9idWZmZXJUb1VwZGF0ZSA9IGogKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8oYnVmZmVyLnZhbyk7XG4gICAgICAgICAgICBidWZmZXIudmFvLmRyYXcoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBfUGFydGljbGVCdWZmZXIyLmRlZmF1bHQoZ2wsIHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBfUGFydGljbGVCdWZmZXIyLmRlZmF1bHQoZ2wsIHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2llcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVmVydGljZXMgPSBmdW5jdGlvbiB1cGxvYWRWZXJ0aWNlcyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ggPSBzcHJpdGUuc2NhbGUueDtcbiAgICAgICAgICAgIHZhciBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcblxuICAgICAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGgxID0gdHJpbS55IC0gc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3MCA9IG9yaWcud2lkdGggKiAoMSAtIHNwcml0ZS5hbmNob3IueCk7XG4gICAgICAgICAgICAgICAgdzEgPSBvcmlnLndpZHRoICogLXNwcml0ZS5hbmNob3IueDtcblxuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFBvc2l0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUG9zaXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gdXBsb2FkUm90YXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gc3ByaXRlUm90YXRpb247XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRVdnMgPSBmdW5jdGlvbiB1cGxvYWRVdnMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IHRleHR1cmVVdnMueTI7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gdGV4dHVyZVV2cy55MztcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiB1cGxvYWRUaW50KGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkID8gKDAsIF91dGlscy5wcmVtdWx0aXBseVRpbnQpKHNwcml0ZS5fdGludFJHQiwgYWxwaGEpIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gYXJnYjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmdsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jb3JlJE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVSZW5kZXJlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBQYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBpcyBhIHJlYWxseSBmYXN0IHZlcnNpb24gb2YgdGhlIENvbnRhaW5lciBidWlsdCBzb2xlbHkgZm9yIHNwZWVkLFxuICogc28gdXNlIHdoZW4geW91IG5lZWQgYSBsb3Qgb2Ygc3ByaXRlcyBvciBwYXJ0aWNsZXMuIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkXG4gKiBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqIE90aGVyIG1vcmUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIG1hc2tpbmcsIGNoaWxkcmVuLCBmaWx0ZXJzLCBldGMgd2lsbCBub3Qgd29yayBvbiBzcHJpdGVzIGluIHRoaXMgYmF0Y2guXG4gKlxuICogSXQncyBleHRyZW1lbHkgZWFzeSB0byB1c2UgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSS5wYXJ0aWNsZXNcbiAqL1xudmFyIFBhcnRpY2xlQ29udGFpbmVyID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZUNvbnRhaW5lciwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBtYXhTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxNTAwO1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTYzODQ7XG4gICAgICAgIHZhciBhdXRvUmVzaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVDb250YWluZXIpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJENvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xCdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyVG9VcGRhdGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IGNvcmUuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGZvciBjYW52YXMgcmVuZGVyZXJpbmcuIElmIHRydWUgdGhlbiB0aGUgZWxlbWVudHMgd2lsbCBiZSBwb3NpdGlvbmVkIGF0IHRoZVxuICAgICAgICAgKiBuZWFyZXN0IHBpeGVsLiBUaGlzIHByb3ZpZGVzIGEgbmljZSBzcGVlZCBib29zdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZTtcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7QmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSAwO1xuICAgICAgICBfdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHNldFByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvLyAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKCB0aGlzICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKiogSU1QT1JUQU5UOiBUaGlzIGlzIGEgd2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNoaWxkcmVuQ2hhbmdlKDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlKHNtYWxsZXN0Q2hpbGRJbmRleCkge1xuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG5cbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4IDwgdGhpcy5fYnVmZmVyVG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclRvVXBkYXRlID0gYnVmZmVySW5kZXg7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGlzUm90YXRlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvblkgPSAwO1xuXG4gICAgICAgIHZhciBmaW5hbFdpZHRoID0gMDtcbiAgICAgICAgdmFyIGZpbmFsSGVpZ2h0ID0gMDtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGZyYW1lID0gY2hpbGQuX3RleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBjaGlsZC5hbHBoYTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnJvdGF0aW9uICUgKE1hdGguUEkgKiAyKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIGZhc3Rlc3QgIHdheSB0byBvcHRpbWlzZSEgLSBpZiByb3RhdGlvbiBpcyAwIHRoZW4gd2UgY2FuIGF2b2lkIGFueSBraW5kIG9mIHNldFRyYW5zZm9ybSBjYWxsXG4gICAgICAgICAgICAgICAgaWYgKGlzUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSwgdHJhbnNmb3JtLmIsIHRyYW5zZm9ybS5jLCB0cmFuc2Zvcm0uZCwgdHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNSb3RhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gY2hpbGQuYW5jaG9yLnggKiAoLWZyYW1lLndpZHRoICogY2hpbGQuc2NhbGUueCkgKyBjaGlsZC5wb3NpdGlvbi54ICsgMC41O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IGNoaWxkLmFuY2hvci55ICogKC1mcmFtZS5oZWlnaHQgKiBjaGlsZC5zY2FsZS55KSArIGNoaWxkLnBvc2l0aW9uLnkgKyAwLjU7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFdpZHRoID0gZnJhbWUud2lkdGggKiBjaGlsZC5zY2FsZS54O1xuICAgICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogY2hpbGQuc2NhbGUueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1JvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNSb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUcmFuc2Zvcm0gPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShjaGlsZFRyYW5zZm9ybS5hLCBjaGlsZFRyYW5zZm9ybS5iLCBjaGlsZFRyYW5zZm9ybS5jLCBjaGlsZFRyYW5zZm9ybS5kLCBjaGlsZFRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwLCBjaGlsZFRyYW5zZm9ybS50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShjaGlsZFRyYW5zZm9ybS5hLCBjaGlsZFRyYW5zZm9ybS5iLCBjaGlsZFRyYW5zZm9ybS5jLCBjaGlsZFRyYW5zZm9ybS5kLCBjaGlsZFRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGNoaWxkVHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gY2hpbGQuYW5jaG9yLnggKiAtZnJhbWUud2lkdGggKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gY2hpbGQuYW5jaG9yLnkgKiAtZnJhbWUuaGVpZ2h0ICsgMC41O1xuXG4gICAgICAgICAgICAgICAgZmluYWxXaWR0aCA9IGZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGNoaWxkLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGNoaWxkLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24sIGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24sIHBvc2l0aW9uWCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHBvc2l0aW9uWSAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGZpbmFsV2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBmaW5hbEhlaWdodCAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFBhcnRpY2xlQ29udGFpbmVyLCBbe1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlQ29udGFpbmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVDb250YWluZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BhcnRpY2xlQ29udGFpbmVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZUNvbnRhaW5lcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BhcnRpY2xlQ29udGFpbmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVDb250YWluZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BhcnRpY2xlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL1BhcnRpY2xlUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQYXJ0aWNsZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaDIgPSByZXF1aXJlKCcuL01lc2gnKTtcblxudmFyIF9NZXNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVtIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5Sb3BlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guTWVzaFxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xudmFyIFJvcGUgPSBmdW5jdGlvbiAoX01lc2gpIHtcbiAgICBfaW5oZXJpdHMoUm9wZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm9wZSh0ZXh0dXJlLCBwb2ludHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvcGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX01lc2guY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlcyB1c2VkIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVdnMgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBjb2xvciBjb21wb25lbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb24gZXZlcnkgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnJlZnJlc2goKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlc1xuICAgICAqXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxIHx8ICF0aGlzLl90ZXh0dXJlLl91dnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcblxuICAgICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuaW5kaWNlcztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgY29sb3JzWzBdID0gMTtcbiAgICAgICAgY29sb3JzWzFdID0gMTtcblxuICAgICAgICBpbmRpY2VzWzBdID0gMDtcbiAgICAgICAgaW5kaWNlc1sxXSA9IDE7XG5cbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcblxuICAgICAgICAgICAgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPSAxO1xuICAgICAgICAgICAgY29sb3JzW2luZGV4ICsgMV0gPSAxO1xuXG4gICAgICAgICAgICBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleF0gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXggKyAxXSA9IGluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuaW5kZXhEaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmVydGljZXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS5yZWZyZXNoVmVydGljZXMgPSBmdW5jdGlvbiByZWZyZXNoVmVydGljZXMoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBuZXh0UG9pbnQgPSB2b2lkIDA7XG4gICAgICAgIHZhciBwZXJwWCA9IDA7XG4gICAgICAgIHZhciBwZXJwWSA9IDA7XG5cbiAgICAgICAgLy8gdGhpcy5jb3VudCAtPSAwLjI7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgdmFyIHJhdGlvID0gKDEgLSBpIC8gKHRvdGFsIC0gMSkpICogMTA7XG5cbiAgICAgICAgICAgIGlmIChyYXRpbyA+IDEpIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KHBlcnBYICogcGVycFggKyBwZXJwWSAqIHBlcnBZKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLl90ZXh0dXJlLmhlaWdodCAvIDI7IC8vICgyMCArIE1hdGguYWJzKE1hdGguc2luKChpICsgdGhpcy5jb3VudCkgKiAwLjMpICogNTApICkqIHJhdGlvO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3BlO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3BlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9QbGFuZTIgPSByZXF1aXJlKCcuL1BsYW5lJyk7XG5cbnZhciBfUGxhbmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxhbmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuXG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cblxudmFyIE5pbmVTbGljZVBsYW5lID0gZnVuY3Rpb24gKF9QbGFuZSkge1xuICAgIF9pbmhlcml0cyhOaW5lU2xpY2VQbGFuZSwgX1BsYW5lKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge2ludH0gW2xlZnRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtpbnR9IFt0b3BIZWlnaHQ9MTBdIHNpemUgb2YgdGhlIHRvcCBob3Jpem9udGFsIGJhciAoQylcbiAgICAgKiBAcGFyYW0ge2ludH0gW3JpZ2h0V2lkdGg9MTBdIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge2ludH0gW2JvdHRvbUhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5pbmVTbGljZVBsYW5lKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUGxhbmUuY2FsbCh0aGlzLCB0ZXh0dXJlLCA0LCA0KSk7XG5cbiAgICAgICAgX3RoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgX3RoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSBfdGhpcy5fb3JpZ1dpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IF90aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxlZnRXaWR0aCA9IHR5cGVvZiBsZWZ0V2lkdGggIT09ICd1bmRlZmluZWQnID8gbGVmdFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmlnaHRXaWR0aCA9IHR5cGVvZiByaWdodFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IHJpZ2h0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93IChjKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRvcEhlaWdodCA9IHR5cGVvZiB0b3BIZWlnaHQgIT09ICd1bmRlZmluZWQnID8gdG9wSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3R0b21IZWlnaHQgPSB0eXBlb2YgYm90dG9tSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IGJvdHRvbUhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgX3RoaXMucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlVmVydGljYWxWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyIHRvIHJlbmRlciB3aXRoLlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXMgPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcyB8IDAsIHRyYW5zZm9ybS50eSAqIHJlcyB8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcywgdHJhbnNmb3JtLnR5ICogcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmVTb3VyY2UgPSBiYXNlLnNvdXJjZTtcbiAgICAgICAgdmFyIHcgPSBiYXNlLndpZHRoICogYmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaCA9IGJhc2UuaGVpZ2h0ICogYmFzZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMCwgMSwgMTAsIDExKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAyLCAzLCAxMiwgMTMpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDQsIDUsIDE0LCAxNSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgOCwgOSwgMTgsIDE5KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxMCwgMTEsIDIwLCAyMSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTIsIDEzLCAyMiwgMjMpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDE2LCAxNywgMjYsIDI3KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxOCwgMTksIDI4LCAyOSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMjAsIDIxLCAzMCwgMzEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIG9uZSBzZWdtZW50IG9mIHRoZSBwbGFuZS5cbiAgICAgKiB0byBtaW1pYyB0aGUgZXhhY3QgZHJhd2luZyBiZWhhdmlvciBvZiBzdHJldGNoaW5nIHRoZSBpbWFnZSBsaWtlIFdlYkdMIGRvZXMsIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gICAgICogdGhhdCB0aGUgc291cmNlIGFyZWEgaXMgYXQgbGVhc3QgMSBwaXhlbCBpbiBzaXplLCBvdGhlcndpc2Ugbm90aGluZyBnZXRzIGRyYXduIHdoZW4gYSBzbGljZSBzaXplIG9mIDAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBkcmF3IHdpdGguXG4gICAgICogQHBhcmFtIHtDYW52YXNJbWFnZVNvdXJjZX0gdGV4dHVyZVNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdyAtIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGggLSBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSB4IGluZGV4IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSB5IGluZGV4IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSB4IGluZGV4IDJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSB5IGluZGV4IDJcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLmRyYXdTZWdtZW50ID0gZnVuY3Rpb24gZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHlvdSBnZXQgd2VpcmQgcmVzdWx0cyB3aGVuIHVzaW5nIHNsaWNlcyBvZiB0aGF0IGFyZSAwIHdpZGUgb3IgaGlnaC5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBzdyA9ICh1dnNbeDJdIC0gdXZzW3gxXSkgKiB3O1xuICAgICAgICB2YXIgc2ggPSAodXZzW3kyXSAtIHV2c1t5MV0pICogaDtcbiAgICAgICAgdmFyIGR3ID0gdmVydGljZXNbeDJdIC0gdmVydGljZXNbeDFdO1xuICAgICAgICB2YXIgZGggPSB2ZXJ0aWNlc1t5Ml0gLSB2ZXJ0aWNlc1t5MV07XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYXQgbGVhc3QgMSBwaXhlbCB3aWRlIGFuZCBoaWdoLCBvdGhlcndpc2Ugbm90aGluZyB3aWxsIGJlIGRyYXduLlxuICAgICAgICBpZiAoc3cgPCAxKSB7XG4gICAgICAgICAgICBzdyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2ggPCAxKSB7XG4gICAgICAgICAgICBzaCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgZGVzdGluYXRpb24gaXMgYXQgbGVhc3QgMSBwaXhlbCB3aWRlIGFuZCBoaWdoLCBvdGhlcndpc2UgeW91IGdldFxuICAgICAgICAvLyBsaW5lcyB3aGVuIHJlbmRlcmluZyBjbG9zZSB0byBvcmlnaW5hbCBzaXplLlxuICAgICAgICBpZiAoZHcgPCAxKSB7XG4gICAgICAgICAgICBkdyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGggPCAxKSB7XG4gICAgICAgICAgICBkaCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlU291cmNlLCB1dnNbeDFdICogdywgdXZzW3kxXSAqIGgsIHN3LCBzaCwgdmVydGljZXNbeDFdLCB2ZXJ0aWNlc1t5MV0sIGR3LCBkaCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgX1BsYW5lLnByb3RvdHlwZS5fcmVmcmVzaC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSBfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSBfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhOaW5lU2xpY2VQbGFuZSwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGVmdFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oX1BsYW5lMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTmluZVNsaWNlUGxhbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VQbGFuZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4uL01lc2gnKTtcblxudmFyIF9NZXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBtZXNoZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgZG93bnBvcnQgd29ya3MgZm9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKG1lc2gpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtZXNoLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMgfCAwLCB0cmFuc2Zvcm0udHkgKiByZXMgfCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMsIHRyYW5zZm9ybS50eSAqIHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5jb250ZXh0Lmdsb2JhbEFscGhhID0gbWVzaC53b3JsZEFscGhhO1xuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUobWVzaC5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGlmIChtZXNoLmRyYXdNb2RlID09PSBfTWVzaDIuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0gpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRyaWFuZ2xlTWVzaChtZXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRyaWFuZ2xlcyhtZXNoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgb2JqZWN0IGluIFRyaWFuZ2xlIE1lc2ggbW9kZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlTWVzaCA9IGZ1bmN0aW9uIF9yZW5kZXJUcmlhbmdsZU1lc2gobWVzaCkge1xuICAgICAgICAvLyBkcmF3IHRyaWFuZ2xlcyEhXG4gICAgICAgIHZhciBsZW5ndGggPSBtZXNoLnZlcnRpY2VzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4LCBpbmRleCArIDIsIGluZGV4ICsgNCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIG9iamVjdCBpbiB0cmlhbmdsZSBtb2RlIHVzaW5nIGNhbnZhc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIGN1cnJlbnQgbWVzaFxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJUcmlhbmdsZXMgPSBmdW5jdGlvbiBfcmVuZGVyVHJpYW5nbGVzKG1lc2gpIHtcbiAgICAgICAgLy8gZHJhdyB0cmlhbmdsZXMhIVxuICAgICAgICB2YXIgaW5kaWNlcyA9IG1lc2guaW5kaWNlcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IGluZGljZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXgwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kZXgxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZGV4MiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4MCwgaW5kZXgxLCBpbmRleDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIG9uZSBvZiB0aGUgdHJpYW5nbGVzIHRoYXQgZnJvbSB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIGN1cnJlbnQgbWVzaFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDAgLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHZlcnRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDEgLSB0aGUgaW5kZXggb2YgdGhlIHNlY29uZCB2ZXJ0ZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgyIC0gdGhlIGluZGV4IG9mIHRoZSB0aGlyZCB2ZXJ0ZXhcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyRHJhd1RyaWFuZ2xlID0gZnVuY3Rpb24gX3JlbmRlckRyYXdUcmlhbmdsZShtZXNoLCBpbmRleDAsIGluZGV4MSwgaW5kZXgyKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdXZzID0gbWVzaC51dnM7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmVTb3VyY2UgPSBiYXNlLnNvdXJjZTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IGJhc2Uud2lkdGg7XG4gICAgICAgIHZhciB0ZXh0dXJlSGVpZ2h0ID0gYmFzZS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHUwID0gdm9pZCAwO1xuICAgICAgICB2YXIgdTEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1MiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYwID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MiA9IHZvaWQgMDtcblxuICAgICAgICBpZiAobWVzaC51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdmFyIHV0ID0gbWVzaC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQ7XG5cbiAgICAgICAgICAgIHUwID0gKHV2c1tpbmRleDBdICogdXQuYSArIHV2c1tpbmRleDAgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTEgPSAodXZzW2luZGV4MV0gKiB1dC5hICsgdXZzW2luZGV4MSArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MiA9ICh1dnNbaW5kZXgyXSAqIHV0LmEgKyB1dnNbaW5kZXgyICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHYwID0gKHV2c1tpbmRleDBdICogdXQuYiArIHV2c1tpbmRleDAgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYxID0gKHV2c1tpbmRleDFdICogdXQuYiArIHV2c1tpbmRleDEgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYyID0gKHV2c1tpbmRleDJdICogdXQuYiArIHV2c1tpbmRleDIgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHUwID0gdXZzW2luZGV4MF0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTEgPSB1dnNbaW5kZXgxXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MiA9IHV2c1tpbmRleDJdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHYwID0gdXZzW2luZGV4MCArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MSA9IHV2c1tpbmRleDEgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjIgPSB1dnNbaW5kZXgyICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4MCA9IHZlcnRpY2VzW2luZGV4MF07XG4gICAgICAgIHZhciB4MSA9IHZlcnRpY2VzW2luZGV4MV07XG4gICAgICAgIHZhciB4MiA9IHZlcnRpY2VzW2luZGV4Ml07XG4gICAgICAgIHZhciB5MCA9IHZlcnRpY2VzW2luZGV4MCArIDFdO1xuICAgICAgICB2YXIgeTEgPSB2ZXJ0aWNlc1tpbmRleDEgKyAxXTtcbiAgICAgICAgdmFyIHkyID0gdmVydGljZXNbaW5kZXgyICsgMV07XG5cbiAgICAgICAgdmFyIGNhbnZhc1BhZGRpbmcgPSBtZXNoLmNhbnZhc1BhZGRpbmcgLyB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKGNhbnZhc1BhZGRpbmcgPiAwKSB7XG4gICAgICAgICAgICB2YXIgcGFkZGluZ1ggPSBjYW52YXNQYWRkaW5nIC8gTWF0aC5hYnMobWVzaC53b3JsZFRyYW5zZm9ybS5hKTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nWSA9IGNhbnZhc1BhZGRpbmcgLyBNYXRoLmFicyhtZXNoLndvcmxkVHJhbnNmb3JtLmQpO1xuICAgICAgICAgICAgdmFyIGNlbnRlclggPSAoeDAgKyB4MSArIHgyKSAvIDM7XG4gICAgICAgICAgICB2YXIgY2VudGVyWSA9ICh5MCArIHkxICsgeTIpIC8gMztcblxuICAgICAgICAgICAgdmFyIG5vcm1YID0geDAgLSBjZW50ZXJYO1xuICAgICAgICAgICAgdmFyIG5vcm1ZID0geTAgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICB2YXIgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG5cbiAgICAgICAgICAgIHgwID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTAgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG5cbiAgICAgICAgICAgIC8vXG5cbiAgICAgICAgICAgIG5vcm1YID0geDEgLSBjZW50ZXJYO1xuICAgICAgICAgICAgbm9ybVkgPSB5MSAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQobm9ybVggKiBub3JtWCArIG5vcm1ZICogbm9ybVkpO1xuICAgICAgICAgICAgeDEgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MSA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcblxuICAgICAgICAgICAgbm9ybVggPSB4MiAtIGNlbnRlclg7XG4gICAgICAgICAgICBub3JtWSA9IHkyIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG4gICAgICAgICAgICB4MiA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkyID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDEsIHkxKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcblxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgbWF0cml4IHRyYW5zZm9ybVxuICAgICAgICB2YXIgZGVsdGEgPSB1MCAqIHYxICsgdjAgKiB1MiArIHUxICogdjIgLSB2MSAqIHUyIC0gdjAgKiB1MSAtIHUwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUEgPSB4MCAqIHYxICsgdjAgKiB4MiArIHgxICogdjIgLSB2MSAqIHgyIC0gdjAgKiB4MSAtIHgwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUIgPSB1MCAqIHgxICsgeDAgKiB1MiArIHUxICogeDIgLSB4MSAqIHUyIC0geDAgKiB1MSAtIHUwICogeDI7XG4gICAgICAgIHZhciBkZWx0YUMgPSB1MCAqIHYxICogeDIgKyB2MCAqIHgxICogdTIgKyB4MCAqIHUxICogdjIgLSB4MCAqIHYxICogdTIgLSB2MCAqIHUxICogeDIgLSB1MCAqIHgxICogdjI7XG4gICAgICAgIHZhciBkZWx0YUQgPSB5MCAqIHYxICsgdjAgKiB5MiArIHkxICogdjIgLSB2MSAqIHkyIC0gdjAgKiB5MSAtIHkwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUUgPSB1MCAqIHkxICsgeTAgKiB1MiArIHUxICogeTIgLSB5MSAqIHUyIC0geTAgKiB1MSAtIHUwICogeTI7XG4gICAgICAgIHZhciBkZWx0YUYgPSB1MCAqIHYxICogeTIgKyB2MCAqIHkxICogdTIgKyB5MCAqIHUxICogdjIgLSB5MCAqIHYxICogdTIgLSB2MCAqIHUxICogeTIgLSB1MCAqIHkxICogdjI7XG5cbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm0oZGVsdGFBIC8gZGVsdGEsIGRlbHRhRCAvIGRlbHRhLCBkZWx0YUIgLyBkZWx0YSwgZGVsdGFFIC8gZGVsdGEsIGRlbHRhQyAvIGRlbHRhLCBkZWx0YUYgLyBkZWx0YSk7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZVNvdXJjZSwgMCwgMCwgdGV4dHVyZVdpZHRoICogYmFzZS5yZXNvbHV0aW9uLCB0ZXh0dXJlSGVpZ2h0ICogYmFzZS5yZXNvbHV0aW9uLCAwLCAwLCB0ZXh0dXJlV2lkdGgsIHRleHR1cmVIZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmludmFsaWRhdGVCbGVuZE1vZGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGZsYXQgTWVzaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gVGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTWVzaEZsYXQgPSBmdW5jdGlvbiByZW5kZXJNZXNoRmxhdChtZXNoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdmVydGljZXMgPSBtZXNoLnZlcnRpY2VzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdmVydGljZXMubGVuZ3RoIC8gMjtcblxuICAgICAgICAvLyB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDI7ICsraSkge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICB2YXIgeDAgPSB2ZXJ0aWNlc1tpbmRleF07XG4gICAgICAgICAgICB2YXIgeTAgPSB2ZXJ0aWNlc1tpbmRleCArIDFdO1xuXG4gICAgICAgICAgICB2YXIgeDEgPSB2ZXJ0aWNlc1tpbmRleCArIDJdO1xuICAgICAgICAgICAgdmFyIHkxID0gdmVydGljZXNbaW5kZXggKyAzXTtcblxuICAgICAgICAgICAgdmFyIHgyID0gdmVydGljZXNbaW5kZXggKyA0XTtcbiAgICAgICAgICAgIHZhciB5MiA9IHZlcnRpY2VzW2luZGV4ICsgNV07XG5cbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgwLCB5MCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MSwgeTEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNGRjAwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWVzaFNwcml0ZVJlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignbWVzaCcsIE1lc2hTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNNZXNoUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX01lc2ggPSByZXF1aXJlKCcuLi9NZXNoJyk7XG5cbnZhciBfTWVzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBtYXRyaXhJZGVudGl0eSA9IGNvcmUuTWF0cml4LklERU5USVRZO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIE1lc2hSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhNZXNoUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIGNvbnN0cnVjdG9yIGZvciByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmVyfSByZW5kZXJlciBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaFJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTWVzaFJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgY29yZS5TaGFkZXIoZ2wsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcbicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZW5kZXJzIG1lc2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggbWVzaCBpbnN0YW5jZVxuICAgICAqL1xuXG5cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihtZXNoKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xEYXRhID0gbWVzaC5fZ2xEYXRhc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbERhdGEpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgICAgIGdsRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzaGFkZXI6IHRoaXMuc2hhZGVyLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBtZXNoLnZlcnRpY2VzLCBnbC5TVFJFQU1fRFJBVyksXG4gICAgICAgICAgICAgICAgdXZCdWZmZXI6IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbWVzaC51dnMsIGdsLlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIG1lc2guaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpLFxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhbzogbnVsbCxcbiAgICAgICAgICAgICAgICBkaXJ0eTogbWVzaC5kaXJ0eSxcbiAgICAgICAgICAgICAgICBpbmRleERpcnR5OiBtZXNoLmluZGV4RGlydHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgZ2xEYXRhLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCkuYWRkSW5kZXgoZ2xEYXRhLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoZ2xEYXRhLnZlcnRleEJ1ZmZlciwgZ2xEYXRhLnNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCAyICogNCwgMCkuYWRkQXR0cmlidXRlKGdsRGF0YS51dkJ1ZmZlciwgZ2xEYXRhLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsIGdsLkZMT0FULCBmYWxzZSwgMiAqIDQsIDApO1xuXG4gICAgICAgICAgICBtZXNoLl9nbERhdGFzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRWYW8oZ2xEYXRhLnZhbyk7XG5cbiAgICAgICAgaWYgKG1lc2guZGlydHkgIT09IGdsRGF0YS5kaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLmRpcnR5ID0gbWVzaC5kaXJ0eTtcbiAgICAgICAgICAgIGdsRGF0YS51dkJ1ZmZlci51cGxvYWQobWVzaC51dnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lc2guaW5kZXhEaXJ0eSAhPT0gZ2xEYXRhLmluZGV4RGlydHkpIHtcbiAgICAgICAgICAgIGdsRGF0YS5pbmRleERpcnR5ID0gbWVzaC5pbmRleERpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLmluZGV4QnVmZmVyLnVwbG9hZChtZXNoLmluZGljZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xEYXRhLnZlcnRleEJ1ZmZlci51cGxvYWQobWVzaC52ZXJ0aWNlcyk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihnbERhdGEuc2hhZGVyKTtcblxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZShtZXNoLmJsZW5kTW9kZSwgdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBpZiAoZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBpZiAobWVzaC51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IG1lc2guX3V2VHJhbnNmb3JtLm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IG1hdHJpeElkZW50aXR5LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG1lc2gud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlSZ2JhKG1lc2gudGludFJnYiwgbWVzaC53b3JsZEFscGhhLCBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuXG4gICAgICAgIHZhciBkcmF3TW9kZSA9IG1lc2guZHJhd01vZGUgPT09IF9NZXNoMi5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSCA/IGdsLlRSSUFOR0xFX1NUUklQIDogZ2wuVFJJQU5HTEVTO1xuXG4gICAgICAgIGdsRGF0YS52YW8uZHJhdyhkcmF3TW9kZSwgbWVzaC5pbmRpY2VzLmxlbmd0aCwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBNZXNoUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdtZXNoJywgTWVzaFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4vTWVzaCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01lc2gnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9NZXNoUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL01lc2hSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01lc2hSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2hSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzTWVzaFJlbmRlcmVyID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzTWVzaFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzTWVzaFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9QbGFuZSA9IHJlcXVpcmUoJy4vUGxhbmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQbGFuZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BsYW5lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9OaW5lU2xpY2VQbGFuZSA9IHJlcXVpcmUoJy4vTmluZVNsaWNlUGxhbmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdOaW5lU2xpY2VQbGFuZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05pbmVTbGljZVBsYW5lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Sb3BlID0gcmVxdWlyZSgnLi9Sb3BlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUm9wZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvcGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuYmxvYk1pZGRsZXdhcmVGYWN0b3J5ID0gYmxvYk1pZGRsZXdhcmVGYWN0b3J5O1xuXG52YXIgX1Jlc291cmNlID0gcmVxdWlyZSgnLi4vLi4vUmVzb3VyY2UnKTtcblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZSk7XG5cbnZhciBfYiA9IHJlcXVpcmUoJy4uLy4uL2I2NCcpO1xuXG52YXIgX2IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG5cbi8vIGEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG5mdW5jdGlvbiBibG9iTWlkZGxld2FyZUZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcbiAgICAgICAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBfUmVzb3VyY2UyLmRlZmF1bHQuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQikge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgICAgICAgICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGFuIGltYWdlLCBjb252ZXJ0IHRoZSBiaW5hcnkgc3RyaW5nIGludG8gYSBkYXRhIHVybFxuICAgICAgICAgICAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gJ2RhdGE6JyArIHR5cGUgKyAnO2Jhc2U2NCwnICsgX2IyLmRlZmF1bHQuZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBfUmVzb3VyY2UyLmRlZmF1bHQuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBpbWFnZSBsb2FkcyBhbmQgdGhlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgY29udGVudCB0eXBlIHNheXMgdGhpcyBpcyBhbiBpbWFnZSwgdGhlbiB3ZSBzaG91bGQgdHJhbnNmb3JtIHRoZSBibG9iIGludG8gYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gc3JjO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlID0gX1Jlc291cmNlMi5kZWZhdWx0LlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OiB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0oKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9iLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc291cmNlTG9hZGVyKTtcblxudmFyIF9ibG9iID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2InKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfdGV4dHVyZVBhcnNlciA9IHJlcXVpcmUoJy4vdGV4dHVyZVBhcnNlcicpO1xuXG52YXIgX3RleHR1cmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZVBhcnNlcik7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXNoZWV0UGFyc2VyJyk7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ByaXRlc2hlZXRQYXJzZXIpO1xuXG52YXIgX2JpdG1hcEZvbnRQYXJzZXIgPSByZXF1aXJlKCcuL2JpdG1hcEZvbnRQYXJzZXInKTtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICpcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLmxvYWRlcjsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIG1vZHVsZTpyZXNvdXJjZS1sb2FkZXIuUmVzb3VyY2VMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmxvYWRlcnNcbiAqL1xudmFyIExvYWRlciA9IGZ1bmN0aW9uIChfUmVzb3VyY2VMb2FkZXIpIHtcbiAgICBfaW5oZXJpdHMoTG9hZGVyLCBfUmVzb3VyY2VMb2FkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2FkZXIoYmFzZVVybCwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1Jlc291cmNlTG9hZGVyLmNhbGwodGhpcywgYmFzZVVybCwgY29uY3VycmVuY3kpKTtcblxuICAgICAgICBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9waXhpTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgX3RoaXMudXNlKExvYWRlci5fcGl4aU1pZGRsZXdhcmVbaV0oKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXQgbGF5ZXIsIHRyYW5zbGF0ZSB0aGUgbmV3IHYyIHNpZ25hbHMgaW50byBvbGQgdjEgZXZlbnRzLlxuICAgICAgICBfdGhpcy5vblN0YXJ0LmFkZChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3N0YXJ0JywgbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vblByb2dyZXNzLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3Byb2dyZXNzJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkVycm9yLmFkZChmdW5jdGlvbiAoZSwgbCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2Vycm9yJywgZSwgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkxvYWQuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnbG9hZCcsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub25Db21wbGV0ZS5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdjb21wbGV0ZScsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBkZWZhdWx0IG1pZGRsZXdhcmUgdG8gdGhlIFBpeGlKUyBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSB0byBhZGQuXG4gICAgICovXG5cblxuICAgIExvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKGZuKSB7XG4gICAgICAgIExvYWRlci5fcGl4aU1pZGRsZXdhcmUucHVzaChmbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KF9yZXNvdXJjZUxvYWRlcjIuZGVmYXVsdCk7XG5cbi8vIENvcHkgRUUzIHByb3RvdHlwZSAobWl4aW4pXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuZm9yICh2YXIgayBpbiBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LnByb3RvdHlwZSkge1xuICAgIExvYWRlci5wcm90b3R5cGVba10gPSBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LnByb3RvdHlwZVtrXTtcbn1cblxuTG9hZGVyLl9waXhpTWlkZGxld2FyZSA9IFtcbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbl9ibG9iLmJsb2JNaWRkbGV3YXJlRmFjdG9yeSxcbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbl90ZXh0dXJlUGFyc2VyMi5kZWZhdWx0LFxuLy8gcGFyc2UgYW55IHNwcml0ZXNoZWV0IGRhdGEgaW50byBtdWx0aXBsZSB0ZXh0dXJlc1xuX3Nwcml0ZXNoZWV0UGFyc2VyMi5kZWZhdWx0LFxuLy8gcGFyc2UgYml0bWFwIGZvbnQgZGF0YSBpbnRvIG11bHRpcGxlIHRleHR1cmVzXG5fYml0bWFwRm9udFBhcnNlcjIuZGVmYXVsdF07XG5cbi8vIEFkZCBjdXN0b20gZXh0ZW50aW9uc1xudmFyIFJlc291cmNlID0gX3Jlc291cmNlTG9hZGVyMi5kZWZhdWx0LlJlc291cmNlO1xuXG5SZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWluaVNpZ25hbHMgPSByZXF1aXJlKCdtaW5pLXNpZ25hbHMnKTtcblxudmFyIF9taW5pU2lnbmFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9taW5pU2lnbmFscyk7XG5cbnZhciBfcGFyc2VVcmkgPSByZXF1aXJlKCdwYXJzZS11cmknKTtcblxudmFyIF9wYXJzZVVyaTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZVVyaSk7XG5cbnZhciBfYXN5bmMgPSByZXF1aXJlKCcuL2FzeW5jJyk7XG5cbnZhciBhc3luYyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hc3luYyk7XG5cbnZhciBfUmVzb3VyY2UgPSByZXF1aXJlKCcuL1Jlc291cmNlJyk7XG5cbnZhciBfUmVzb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVzb3VyY2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyBzb21lIGNvbnN0YW50c1xudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIG11bHRpcGxlIHJlc291cmNlcyB0byBsb2FkLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGJhc2VVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgICB2YXIgY29uY3VycmVuY3kgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2FkZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJvZ3Jlc3MgcGVyY2VudCBvZiB0aGUgbG9hZGVyIGdvaW5nIHRocm91Z2ggdGhlIHF1ZXVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byBldmVyeSBVUkwgYWRkZWQgdG8gdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgICAgICogYWxzbyAqbm90KiBlc2NhcGUgdmFsdWVzIGZvciB5b3UuIE1ha2Ugc3VyZSB0byBlc2NhcGUgeW91ciBwYXJhbWV0ZXJzIHdpdGhcbiAgICAgICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJ3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0JztcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaW1hZ2UucG5nJykubG9hZCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZyA9ICcnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhY2tzIHRoZSByZXNvdXJjZXMgd2UgYXJlIGN1cnJlbnRseSBjb21wbGV0aW5nIHBhcnNpbmcgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkIC0gVGhlIGRlcXVldWUgZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZXMgd2FpdGluZyB0byBiZSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IGFzeW5jLnF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHRoZSByZXNvdXJjZXMgZm9yIHRoaXMgbG9hZGVyIGtleWVkIGJ5IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb2FkID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByZXNvdXJjZSAob3IgbXVsdGlwbGUgcmVzb3VyY2VzKSB0byB0aGUgbG9hZGVyIHF1ZXVlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICAgKiByZXF1aXJlZCB0aGUgdXJsIHRvIGxvYWQuIEFsbCB0aGUgZm9sbG93aW5nIHdpbGwgd29yazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogbG9hZGVyXG4gICAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICAgKlxuICAgICAqICAgICAvLyBvYmplY3Qgc3ludGF4XG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTMnLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAgICogICAgIH0pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30sXG4gICAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgICAqICAgICB9KVxuICAgICAqXG4gICAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAgICogICAgIC5hZGQoW1xuICAgICAqICAgICAgICAgeyBuYW1lOiAna2V5NCcsIHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgICAqICAgICBdKVxuICAgICAqXG4gICAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG8gZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlIGJlIGxvYWRlZD9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93IHNob3VsZFxuICAgICAqICAgICAgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtvcHRpb25zLm1ldGFkYXRhLmxvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5tZXRhZGF0YS5za2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSBvZiBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFuIG9iamVjdCBpcyBwYXNzZWQgaW5zdGVhZCBvZiBwYXJhbXNcbiAgICAgICAgaWYgKCh0eXBlb2YgbmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobmFtZSkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY2IgPSB1cmwgfHwgbmFtZS5jYWxsYmFjayB8fCBuYW1lLm9uQ29tcGxldGU7XG4gICAgICAgICAgICBvcHRpb25zID0gbmFtZTtcbiAgICAgICAgICAgIHVybCA9IG5hbWUudXJsO1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUubmFtZSB8fCBuYW1lLmtleSB8fCBuYW1lLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhc2Ugd2hlcmUgbm8gbmFtZSBpcyBwYXNzZWQgc2hpZnQgYWxsIGFyZ3Mgb3ZlciBieSBvbmUuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHVybDtcbiAgICAgICAgICAgIHVybCA9IG5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3cgdGhhdCB3ZSBzaGlmdGVkIG1ha2Ugc3VyZSB3ZSBoYXZlIGEgcHJvcGVyIHVybC5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVybCBwYXNzZWQgdG8gYWRkIHJlc291cmNlIHRvIGxvYWRlci4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9wdGlvbnMgYXJlIG9wdGlvbmFsIHNvIHBlb3BsZSBtaWdodCBwYXNzIGEgZnVuY3Rpb24gYW5kIG5vIG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGxvYWRpbmcgYWxyZWFkeSB5b3UgY2FuIG9ubHkgYWRkIHJlc291cmNlcyB0aGF0IGhhdmUgYSBwYXJlbnQuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcgJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnBhcmVudFJlc291cmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIHJlc291cmNlcyB3aGlsZSB0aGUgbG9hZGVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiByZXNvdXJjZSBhbHJlYWR5IGV4aXN0cy5cbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzW25hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIG5hbWVkIFwiJyArIG5hbWUgKyAnXCIgYWxyZWFkeSBleGlzdHMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcbiAgICAgICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgc3RvcmUgdGhlIHJlc291cmNlXG4gICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IF9SZXNvdXJjZTIuZGVmYXVsdChuYW1lLCB1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICAgICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQuY2hpbGRyZW5bX2ldLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuLnB1c2gocGFyZW50LmNoaWxkcmVuW19pXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG4gICAgICAgICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICAgICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kyXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBiZWZvcmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAYWxpYXMgdXNlXG4gICAgICogQG1ldGhvZCBhZnRlclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3F1ZXVlLmtpbGwoKTtcbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICAgICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLl9vbkxvYWRCaW5kaW5nLmRldGFjaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmlkbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgICAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY2h1bmsgPSAxMDAgLyBudW1UYXNrcztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJlcGFyZWQgdXJsLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHVybCwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGFic29sdXRlIHVybCwganVzdCB1c2UgaXQgYXMgaXMuXG4gICAgICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYmFzZVVybCBkb2Vzbid0IGVuZCBpbiBzbGFzaCBhbmQgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBzbGFzaCwgdGhlbiBhZGQgYSBzbGFzaCBpbmJldHdlZW5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgJy8nICsgdXJsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcblxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyYnICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnPycgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlID0gZGVxdWV1ZTtcblxuICAgICAgICAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZShfdGhpczIuX29uTG9hZCwgX3RoaXMyKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25TdGFydCA9IGZ1bmN0aW9uIF9vblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBlYWNoIHJlc291cmNlIGhhcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgZWFjaCB0aW1lIGEgcmVzb3VyY2VzIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB3YXMgbG9hZGVkXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8vIHJlbW92ZSB0aGlzIHJlc291cmNlIGZyb20gdGhlIGFzeW5jIHF1ZXVlLCBhbmQgYWRkIGl0IHRvIG91ciBsaXN0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBiZWluZyBwYXJzZWRcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUoKTtcblxuICAgICAgICAvLyBydW4gYWxsIHRoZSBhZnRlciBtaWRkbGV3YXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcblxuICAgICAgICAgICAgX3RoaXMzLnByb2dyZXNzICs9IHJlc291cmNlLnByb2dyZXNzQ2h1bms7XG4gICAgICAgICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25Mb2FkLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuc3BsaWNlKF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5pbmRleE9mKHJlc291cmNlKSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGRvIGNvbXBsZXRpb24gY2hlY2tcbiAgICAgICAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTG9hZGVyLCBbe1xuICAgICAgICBrZXk6ICdjb25jdXJyZW5jeScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5O1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5ID0gY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2FkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zaGFyZWQgPSBleHBvcnRzLlJlc291cmNlID0gZXhwb3J0cy50ZXh0dXJlUGFyc2VyID0gZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBleHBvcnRzLnNwcml0ZXNoZWV0UGFyc2VyID0gZXhwb3J0cy5wYXJzZUJpdG1hcEZvbnREYXRhID0gZXhwb3J0cy5iaXRtYXBGb250UGFyc2VyID0gZXhwb3J0cy5Mb2FkZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2JpdG1hcEZvbnRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3BhcnNlQml0bWFwRm9udERhdGEnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9iaXRtYXBGb250UGFyc2VyLnBhcnNlO1xuICAgIH1cbn0pO1xuXG52YXIgX3Nwcml0ZXNoZWV0UGFyc2VyID0gcmVxdWlyZSgnLi9zcHJpdGVzaGVldFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Nwcml0ZXNoZWV0UGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2V0UmVzb3VyY2VQYXRoJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3ByaXRlc2hlZXRQYXJzZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgIH1cbn0pO1xuXG52YXIgX3RleHR1cmVQYXJzZXIgPSByZXF1aXJlKCcuL3RleHR1cmVQYXJzZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0ZXh0dXJlUGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVzb3VyY2UnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZTtcbiAgICB9XG59KTtcblxudmFyIF9BcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4uL2NvcmUvQXBwbGljYXRpb24nKTtcblxudmFyIF9BcHBsaWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbik7XG5cbnZhciBfbG9hZGVyID0gcmVxdWlyZSgnLi9sb2FkZXInKTtcblxudmFyIF9sb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9hZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBBUElzIHdoaWNoIGV4dGVuZHMgdGhlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyIHJlc291cmNlLWxvYWRlcn0gbW9kdWxlXG4gKiBmb3IgbG9hZGluZyBhc3NldHMsIGRhdGEsIGFuZCBvdGhlciByZXNvdXJjZXMgZHluYW1pY2FsbHkuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTtcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAvLyByZXNvdXJjZXMuYnVubnlcbiAqICAgIC8vIHJlc291cmNlcy5zcGFjZXNoaXBcbiAqIH0pO1xuICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAqL1xuZXhwb3J0cy5Mb2FkZXIgPSBfbG9hZGVyMi5kZWZhdWx0O1xuXG5cbi8qKlxuICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAqIEBuYW1lIHNoYXJlZFxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbnZhciBzaGFyZWQgPSBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuXG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwcm90ZWN0IGRlc3Ryb3lpbmcgc2hhcmVkIGxvYWRlclxufTtcblxuZXhwb3J0cy5zaGFyZWQgPSBzaGFyZWQ7XG5cbi8vIE1peGluIHRoZSBsb2FkZXIgY29uc3RydWN0aW9uXG5cbnZhciBBcHBQcm90b3R5cGUgPSBfQXBwbGljYXRpb24yLmRlZmF1bHQucHJvdG90eXBlO1xuXG5BcHBQcm90b3R5cGUuX2xvYWRlciA9IG51bGw7XG5cbi8qKlxuICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAqIEB0eXBlIHtQSVhJLmxvYWRlcnMuTG9hZGVyfVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwUHJvdG90eXBlLCAnbG9hZGVyJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlcikge1xuICAgICAgICAgICAgdmFyIHNoYXJlZExvYWRlciA9IHRoaXMuX29wdGlvbnMuc2hhcmVkTG9hZGVyO1xuXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIgPSBzaGFyZWRMb2FkZXIgPyBzaGFyZWQgOiBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlcjtcbiAgICB9XG59KTtcblxuLy8gT3ZlcnJpZGUgdGhlIGRlc3Ryb3kgZnVuY3Rpb25cbi8vIG1ha2luZyBzdXJlIHRvIGRlc3Ryb3kgdGhlIGN1cnJlbnQgTG9hZGVyXG5BcHBQcm90b3R5cGUuX3BhcmVudERlc3Ryb3kgPSBBcHBQcm90b3R5cGUuZGVzdHJveTtcbkFwcFByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgaWYgKHRoaXMuX2xvYWRlcikge1xuICAgICAgICB0aGlzLl9sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9wYXJlbnREZXN0cm95KHJlbW92ZVZpZXcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfaW50ZXJhY3RpdmVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbFxuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmVcbiAqIGlmIGl0cyBpbnRlcmFjdGl2ZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIHRydWVcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEludGVyYWN0aW9uTWFuYWdlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3Zlb3ZlciAmIG1vdXNlb3V0IGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYXRpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IF9JbnRlcmFjdGlvbkV2ZW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJpc29uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCAoc3RyaW5nfEZ1bmN0aW9ufE9iamVjdC48c3RyaW5nLCBzdHJpbmc+KT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcidcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gaGl0VGVzdChnbG9iYWxQb2ludCwgcm9vdCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZXRlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gYWRkRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpc2VkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXNlZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiByZW1vdmVFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLnRpY2tlci5zaGFyZWR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5kaWRNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiBzZXRDdXJzb3JNb2RlKG1vZGUpIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcHBlZCkge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gbWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5KSB7XG4gICAgICAgIHZhciByZWN0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IG5hdmlnYXRvci5pc0NvY29vbkpTID8gdGhpcy5yZXNvbHV0aW9uIDogMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHBvaW50LnggPSAoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZSA9IGZ1bmN0aW9uIHByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWlzZWQuIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXNhdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWlzYXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgICAgIHZhciBoaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2tcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAgICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IFBpeGlKUyB0byBjb21wbGV0ZWx5IGlnbm9yZSBhbmQgYnlwYXNzIGNoZWNraW5nIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gb25Qb2ludGVyRG93bihvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuXG4gICAgICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKSB7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBkb3duIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyRG93bihpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiBvblBvaW50ZXJDb21wbGV0ZShvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgLy8gcGVyZm9ybSBoaXQgdGVzdGluZyBmb3IgZXZlbnRzIHRhcmdldGluZyBvdXIgY2FudmFzIG9yIGNhbmNlbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiAncG9pbnRlcnVwJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgKyBldmVudEFwcGVuZCA6ICdtb3VzZXVwJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6ICd0b3VjaGVuZCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIG9uUG9pbnRlckNhbmNlbChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJDYW5jZWwoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlclVwID0gZnVuY3Rpb24gb25Qb2ludGVyVXAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyVXAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQuRkxBR1M7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG5cbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSB0cmFja2luZ0RhdGEgIT09IHVuZGVmaW5lZCAmJiB0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0O1xuXG4gICAgICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgOiAnbW91c2V1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIHRyYWNraW5nIGRhdGEgaWYgdGhlcmUgaXMgbm8gb3Zlci9kb3duIHN0YXRlIHN0aWxsIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhICYmIHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aXZlID0gZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgPyB0aGlzLm1vdmVXaGVuSW5zaWRlIDogdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgaW50ZXJhY3RpdmUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykgdGhpcy5lbWl0KCdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJNb3ZlKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSBkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nO1xuXG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1vdmVXaGVuSW5zaWRlIHx8IGhpdCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdXQgPSBmdW5jdGlvbiBvblBvaW50ZXJPdXQob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSBkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck92ZXIgPSBmdW5jdGlvbiBvblBvaW50ZXJPdmVyKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSkge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgX0ludGVyYWN0aW9uRGF0YTIuZGVmYXVsdCgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuX2NvcHlFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiByZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKHBvaW50ZXJJZCkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5fcmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQgPSBmdW5jdGlvbiBjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQoaW50ZXJhY3Rpb25FdmVudCwgcG9pbnRlckV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhID0gaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgd2F5IEludGVyYWN0aW9uTWFuYWdlciBwcm9jZXNzZWQgdG91Y2ggZXZlbnRzIGJlZm9yZSB0aGUgcmVmYWN0b3JpbmcsIHNvIEkndmUga2VwdFxuICAgICAgICAvLyBpdCBoZXJlLiBCdXQgaXQgZG9lc24ndCBtYWtlIHRoYXQgbXVjaCBzZW5zZSB0byBtZSwgc2luY2UgbWFwUG9zaXRpb25Ub1BvaW50IGFscmVhZHkgZmFjdG9yc1xuICAgICAgICAvLyBpbiB0aGlzLnJlc29sdXRpb24sIHNvIHRoaXMganVzdCBkaXZpZGVzIGJ5IHRoaXMucmVzb2x1dGlvbiB0d2ljZSBmb3IgdG91Y2ggZXZlbnRzLi4uXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUyAmJiBwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5nbG9iYWwueCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5nbG9iYWwueSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueSAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50Ll9yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm4ge1BvaW50ZXJFdmVudFtdfSBBbiBhcnJheSBjb250YWluaW5nIGEgc2luZ2xlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgaW4gdGhlIGNhc2Ugb2YgYSBwb2ludGVyXG4gICAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiBub3JtYWxpemVUb1BvaW50ZXJEYXRhKGV2ZW50KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9uID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b25zID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJykgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRYID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41O1xuICAgICAgICAgICAgICAgIHRvdWNoLnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwYXJlbnRseSBQb2ludGVyRXZlbnQgc3ViY2xhc3NlcyBNb3VzZUV2ZW50LCBzbyB5YXlcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmICghdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgfHwgIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQpKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykgZXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJykgZXZlbnQud2lkdGggPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgZXZlbnQuaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRYID09PSAndW5kZWZpbmVkJykgZXZlbnQudGlsdFggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKSBldmVudC50aWx0WSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnByZXNzdXJlID0gMC41O1xuICAgICAgICAgICAgICAgIGV2ZW50LnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuXG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgZXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEludGVyYWN0aW9uTWFuYWdlcjtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uTWFuYWdlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkRhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvbkRhdGEnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbkRhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ludGVyYWN0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25NYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25NYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25NYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpbnRlcmFjdGl2ZVRhcmdldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVyYWN0aXZlVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvblRyYWNraW5nRGF0YScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9JbnRlcmFjdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbkV2ZW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnSW50ZXJhY3Rpb25FdmVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRXZlbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBTaW1wbGVzdCBmaWx0ZXIgLSBhcHBsaWVzIGFscGhhXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQWxwaGFGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKCkge1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDEuMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWxwaGFGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUFscGhhO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICAgICAgX3RoaXMuZ2xTaGFkZXJLZXkgPSAnYWxwaGEnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQWxwaGFGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2FscGhhJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbHBoYUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBbHBoYUZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFscGhhRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBDb2xvck1hdHJpeEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQ29sb3JNYXRyaXhGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3JNYXRyaXhGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy51bmlmb3Jtcy5tID0gWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2xvYWRNYXRyaXggPSBmdW5jdGlvbiBfbG9hZE1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgdmFyIG11bHRpcGx5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICB2YXIgbmV3TWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmIChtdWx0aXBseSkge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG91dCAtIDV4NCBtYXRyaXggdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGIgLSA1eDQgbWF0cml4IHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gX211bHRpcGx5KG91dCwgYSwgYikge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSBhWzBdICogYlswXSArIGFbMV0gKiBiWzVdICsgYVsyXSAqIGJbMTBdICsgYVszXSAqIGJbMTVdO1xuICAgICAgICBvdXRbMV0gPSBhWzBdICogYlsxXSArIGFbMV0gKiBiWzZdICsgYVsyXSAqIGJbMTFdICsgYVszXSAqIGJbMTZdO1xuICAgICAgICBvdXRbMl0gPSBhWzBdICogYlsyXSArIGFbMV0gKiBiWzddICsgYVsyXSAqIGJbMTJdICsgYVszXSAqIGJbMTddO1xuICAgICAgICBvdXRbM10gPSBhWzBdICogYlszXSArIGFbMV0gKiBiWzhdICsgYVsyXSAqIGJbMTNdICsgYVszXSAqIGJbMThdO1xuICAgICAgICBvdXRbNF0gPSBhWzBdICogYls0XSArIGFbMV0gKiBiWzldICsgYVsyXSAqIGJbMTRdICsgYVszXSAqIGJbMTldICsgYVs0XTtcblxuICAgICAgICAvLyBHcmVlbiBDaGFubmVsXG4gICAgICAgIG91dFs1XSA9IGFbNV0gKiBiWzBdICsgYVs2XSAqIGJbNV0gKyBhWzddICogYlsxMF0gKyBhWzhdICogYlsxNV07XG4gICAgICAgIG91dFs2XSA9IGFbNV0gKiBiWzFdICsgYVs2XSAqIGJbNl0gKyBhWzddICogYlsxMV0gKyBhWzhdICogYlsxNl07XG4gICAgICAgIG91dFs3XSA9IGFbNV0gKiBiWzJdICsgYVs2XSAqIGJbN10gKyBhWzddICogYlsxMl0gKyBhWzhdICogYlsxN107XG4gICAgICAgIG91dFs4XSA9IGFbNV0gKiBiWzNdICsgYVs2XSAqIGJbOF0gKyBhWzddICogYlsxM10gKyBhWzhdICogYlsxOF07XG4gICAgICAgIG91dFs5XSA9IGFbNV0gKiBiWzRdICsgYVs2XSAqIGJbOV0gKyBhWzddICogYlsxNF0gKyBhWzhdICogYlsxOV0gKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gYVsxMF0gKiBiWzBdICsgYVsxMV0gKiBiWzVdICsgYVsxMl0gKiBiWzEwXSArIGFbMTNdICogYlsxNV07XG4gICAgICAgIG91dFsxMV0gPSBhWzEwXSAqIGJbMV0gKyBhWzExXSAqIGJbNl0gKyBhWzEyXSAqIGJbMTFdICsgYVsxM10gKiBiWzE2XTtcbiAgICAgICAgb3V0WzEyXSA9IGFbMTBdICogYlsyXSArIGFbMTFdICogYls3XSArIGFbMTJdICogYlsxMl0gKyBhWzEzXSAqIGJbMTddO1xuICAgICAgICBvdXRbMTNdID0gYVsxMF0gKiBiWzNdICsgYVsxMV0gKiBiWzhdICsgYVsxMl0gKiBiWzEzXSArIGFbMTNdICogYlsxOF07XG4gICAgICAgIG91dFsxNF0gPSBhWzEwXSAqIGJbNF0gKyBhWzExXSAqIGJbOV0gKyBhWzEyXSAqIGJbMTRdICsgYVsxM10gKiBiWzE5XSArIGFbMTRdO1xuXG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IGFbMTVdICogYlswXSArIGFbMTZdICogYls1XSArIGFbMTddICogYlsxMF0gKyBhWzE4XSAqIGJbMTVdO1xuICAgICAgICBvdXRbMTZdID0gYVsxNV0gKiBiWzFdICsgYVsxNl0gKiBiWzZdICsgYVsxN10gKiBiWzExXSArIGFbMThdICogYlsxNl07XG4gICAgICAgIG91dFsxN10gPSBhWzE1XSAqIGJbMl0gKyBhWzE2XSAqIGJbN10gKyBhWzE3XSAqIGJbMTJdICsgYVsxOF0gKiBiWzE3XTtcbiAgICAgICAgb3V0WzE4XSA9IGFbMTVdICogYlszXSArIGFbMTZdICogYls4XSArIGFbMTddICogYlsxM10gKyBhWzE4XSAqIGJbMThdO1xuICAgICAgICBvdXRbMTldID0gYVsxNV0gKiBiWzRdICsgYVsxNl0gKiBiWzldICsgYVsxN10gKiBiWzE0XSArIGFbMThdICogYlsxOV0gKyBhWzE5XTtcblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9jb2xvck1hdHJpeCA9IGZ1bmN0aW9uIF9jb2xvck1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAgICB2YXIgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcblxuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiBicmlnaHRuZXNzKGIsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbYiwgMCwgMCwgMCwgMCwgMCwgYiwgMCwgMCwgMCwgMCwgMCwgYiwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uIGdyZXlzY2FsZShzY2FsZSwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLCBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLCBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ibGFja0FuZFdoaXRlID0gZnVuY3Rpb24gYmxhY2tBbmRXaGl0ZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuMywgMC42LCAwLjEsIDAsIDAsIDAuMywgMC42LCAwLjEsIDAsIDAsIDAuMywgMC42LCAwLjEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gaHVlKHJvdGF0aW9uLCBtdWx0aXBseSkge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcbiAgICAgICAgICBUaGlzIG5ldyBtYXRyaXggaXMgYmFzZWQgb24gcmdiIGN1YmUgcm90YXRpb24gaW4gc3BhY2UuIExvb2sgaGVyZSBmb3IgYSBtb3JlIGRlc2NyaXB0aXZlXG4gICAgICAgICBpbXBsZW1lbnRhdGlvbiBhcyBhIHNoYWRlciBub3QgYSBnZW5lcmFsIG1hdHJpeDpcbiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvNTg4NDFjMjM5MTliZDU5Nzg3ZWZmYzAzMzNhNDg5N2I0MzgzNTQxMi9zcmMvZmlsdGVycy9hZGp1c3QvaHVlc2F0dXJhdGlvbi5qc1xuICAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciB3ID0gMSAvIDM7XG4gICAgICAgIHZhciBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG5cbiAgICAgICAgdmFyIGEwMCA9IGNvc1IgKyAoMS4wIC0gY29zUikgKiB3O1xuICAgICAgICB2YXIgYTAxID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTAyID0gdyAqICgxLjAgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuXG4gICAgICAgIHZhciBhMTAgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMTEgPSBjb3NSICsgdyAqICgxLjAgLSBjb3NSKTtcbiAgICAgICAgdmFyIGExMiA9IHcgKiAoMS4wIC0gY29zUikgLSBzcXJXICogc2luUjtcblxuICAgICAgICB2YXIgYTIwID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTIxID0gdyAqICgxLjAgLSBjb3NSKSArIHNxclcgKiBzaW5SO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArIHcgKiAoMS4wIC0gY29zUik7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFthMDAsIGEwMSwgYTAyLCAwLCAwLCBhMTAsIGExMSwgYTEyLCAwLCAwLCBhMjAsIGEyMSwgYTIyLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRyYXN0IG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBkYXJrIGFuZCBicmlnaHRcbiAgICAgKiBJbmNyZWFzZSBjb250cmFzdCA6IHNoYWRvd3MgZGFya2VyIGFuZCBoaWdobGlnaHRzIGJyaWdodGVyXG4gICAgICogRGVjcmVhc2UgY29udHJhc3QgOiBicmluZyB0aGUgc2hhZG93cyB1cCBhbmQgdGhlIGhpZ2hsaWdodHMgZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHZhbHVlIG9mIHRoZSBjb250cmFzdCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiBjb250cmFzdChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciB2ID0gKGFtb3VudCB8fCAwKSArIDE7XG4gICAgICAgIHZhciBvID0gLTAuNSAqICh2IC0gMSk7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFt2LCAwLCAwLCAwLCBvLCAwLCB2LCAwLCAwLCBvLCAwLCAwLCB2LCAwLCBvLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiBzYXR1cmF0ZSgpIHtcbiAgICAgICAgdmFyIGFtb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIG11bHRpcGx5ID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIHZhciB4ID0gYW1vdW50ICogMiAvIDMgKyAxO1xuICAgICAgICB2YXIgeSA9ICh4IC0gMSkgKiAtMC41O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbeCwgeSwgeSwgMCwgMCwgeSwgeCwgeSwgMCwgMCwgeSwgeSwgeCwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uIGRlc2F0dXJhdGUoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIG5lZ2F0aXZlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMCwgMSwgMSwgMCwgMCwgMSwgMCwgMSwgMCwgMCwgMSwgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2VwaWEgPSBmdW5jdGlvbiBzZXBpYShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudGVjaG5pY29sb3IgPSBmdW5jdGlvbiB0ZWNobmljb2xvcihtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNywgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LCAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIHBvbGFyb2lkKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS40MzgsIC0wLjA2MiwgLTAuMDYyLCAwLCAwLCAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRvQkdSID0gZnVuY3Rpb24gdG9CR1IobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLCAwLCAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUua29kYWNocm9tZSA9IGZ1bmN0aW9uIGtvZGFjaHJvbWUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMiwgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMywgLTAuMTY3ODYwMTA3MDYxNTU3NjMsIC0wLjU2MDM0MTYyNzc2OTUyNDgsIDEuNjAxNDg1MDc2MTk2NDk0MywgMCwgMzUuNjI5ODI4MDc0NjA5NDYsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiBicm93bmkobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjU5OTcwMjM0OTgxNTk3MTUsIDAuMzQ1NTMyNDMwNDgzOTEyNjMsIC0wLjI3MDgyOTg2NzQ1MzgwNDIsIDAsIDQ3LjQzMTkyODU1NjAwODczLCAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LCAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudmludGFnZSA9IGZ1bmN0aW9uIHZpbnRhZ2UobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLCAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLCAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbG9yVG9uZSA9IGZ1bmN0aW9uIGNvbG9yVG9uZShkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KSB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcblxuICAgICAgICB2YXIgbFIgPSAobGlnaHRDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAobGlnaHRDb2xvciA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsQiA9IChsaWdodENvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIGRSID0gKGRhcmtDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEcgPSAoZGFya0NvbG9yID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zLCAwLjU5LCAwLjExLCAwLCAwLCBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsIGRSLCBkRywgZEIsIHRvbmVkLCAwLCBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uaWdodCA9IGZ1bmN0aW9uIG5pZ2h0KGludGVuc2l0eSwgbXVsdGlwbHkpIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtpbnRlbnNpdHkgKiAtMi4wLCAtaW50ZW5zaXR5LCAwLCAwLCAwLCAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsIDAsIGludGVuc2l0eSwgaW50ZW5zaXR5ICogMi4wLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiBwcmVkYXRvcihhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgIC8vIHJvdyAxXG4gICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCwgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LCAtMi44NzQ2MTE4NTQ1NTMyMjI3ICogYW1vdW50LCAwICogYW1vdW50LCAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAvLyByb3cgMlxuICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LCA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCwgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LCAwICogYW1vdW50LCAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyAzXG4gICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LCAwICogYW1vdW50LCAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyA0XG4gICAgICAgIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5sc2QgPSBmdW5jdGlvbiBsc2QobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsyLCAtMC40LCAwLjUsIDAsIDAsIC0wLjUsIDIsIC0wLjQsIDAsIDAsIC0wLjQsIC0wLjUsIDMsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIHRoZSBkZWZhdWx0IG9uZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sb3JNYXRyaXhGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ21hdHJpeCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSB2YWx1ZSB0byB1c2Ugd2hlbiBtaXhpbmcgdGhlIG9yaWdpbmFsIGFuZCByZXN1bHRhbnQgY29sb3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMSwgdGhlIHJlc3VsdCBjb2xvciBpcyB1c2VkLlxuICAgICAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FscGhhJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcblxuXG5leHBvcnRzLmRlZmF1bHQgPSBDb2xvck1hdHJpeEZpbHRlcjtcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3JNYXRyaXhGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0JsdXJYRmlsdGVyID0gcmVxdWlyZSgnLi9CbHVyWEZpbHRlcicpO1xuXG52YXIgX0JsdXJYRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJYRmlsdGVyKTtcblxudmFyIF9CbHVyWUZpbHRlciA9IHJlcXVpcmUoJy4vQmx1cllGaWx0ZXInKTtcblxudmFyIF9CbHVyWUZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWUZpbHRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlciBhcHBsaWVzIGEgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgY2FuIGJlIHNldCBmb3IgeC0gYW5kIHktYXhpcyBzZXBhcmF0ZWx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEJsdXJGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBfQmx1clhGaWx0ZXIyLmRlZmF1bHQoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICBfdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBfQmx1cllGaWx0ZXIyLmRlZmF1bHQoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuXG4gICAgICAgIF90aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBjb3JlLnNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIF90aGlzLmJsdXIgPSBzdHJlbmd0aCB8fCA4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCByZW5kZXJUYXJnZXQsIG91dHB1dCwgZmFsc2UpO1xuXG4gICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1ckZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYmx1cicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmx1clgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsZW5kTW9kZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LiBZb3UgY2FuXG4gKiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy4gQ3VycmVudGx5IHRoZSByXG4gKiBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgeCBhbmQgdGhlIGcgcHJvcGVydHkgb2YgdGhlIHRleHR1cmVcbiAqIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIERpc3BsYWNlbWVudEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRGlzcGxhY2VtZW50RmlsdGVyLCBfY29yZSRGaWx0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSBUaGUgc2NhbGUgb2YgdGhlIGRpc3BsYWNlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXNwbGFjZW1lbnRGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59JyxcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcbnVuaWZvcm0gdmVjNCBmaWx0ZXJDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG5cXG4gIG1hcCAtPSAwLjU7XFxuICBtYXAueHkgKj0gc2NhbGUgLyBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGZpbHRlckNsYW1wLnh5LCBmaWx0ZXJDbGFtcC56dykpO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG5cbiAgICAgICAgX3RoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgX3RoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICAgICAgX3RoaXMudW5pZm9ybXMuc2NhbGUgPSB7IHg6IDEsIHk6IDEgfTtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNjYWxlID0gbmV3IGNvcmUuUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqL1xuXG5cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiBNdXN0IGJlIHBvd2VyIG9mIDIgc2l6ZWQgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERpc3BsYWNlbWVudEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbWFwJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEaXNwbGFjZW1lbnRGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwbGFjZW1lbnRGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIFZpY28gQHZpY29jb3RlYVxuICogb3JpZ2luYWwgZmlsdGVyOiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iL21hc3Rlci9zcmMvZmlsdGVycy9hZGp1c3Qvbm9pc2UuanNcbiAqL1xuXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoTm9pc2VGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbm9pc2UgLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgLSBBIHJhbmRvbSBzZWVkIGZvciB0aGUgbm9pc2UgZ2VuZXJhdGlvbi4gRGVmYXVsdCBpcyBgTWF0aC5yYW5kb20oKWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBub2lzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMC41O1xuICAgICAgICB2YXIgc2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9pc2VGaWx0ZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoTm9pc2VGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ25vaXNlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2VlZCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5vaXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm9pc2VGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKlxuICogQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxuICogbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCdzXG4gKiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xudmFyIEZYQUFGaWx0ZXIgPSBmdW5jdGlvbiAoX2NvcmUkRmlsdGVyKSB7XG4gICAgX2luaGVyaXRzKEZYQUFGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZYQUFGaWx0ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGWEFBRmlsdGVyKTtcblxuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52ZWMyIG1hcENvb3JkKCB2ZWMyIGNvb3JkIClcXG57XFxuICAgIGNvb3JkICo9IGZpbHRlckFyZWEueHk7XFxuICAgIGNvb3JkICs9IGZpbHRlckFyZWEuenc7XFxuXFxuICAgIHJldHVybiBjb29yZDtcXG59XFxuXFxudmVjMiB1bm1hcENvb3JkKCB2ZWMyIGNvb3JkIClcXG57XFxuICAgIGNvb3JkIC09IGZpbHRlckFyZWEuenc7XFxuICAgIGNvb3JkIC89IGZpbHRlckFyZWEueHk7XFxuXFxuICAgIHJldHVybiBjb29yZDtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgcmVzb2x1dGlvbixcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzIgaW52ZXJzZVZQID0gMS4wIC8gcmVzb2x1dGlvbi54eTtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuXFxuICAgdmVjMiBmcmFnQ29vcmQgPSB2VGV4dHVyZUNvb3JkICogZmlsdGVyQXJlYS54eTtcXG5cXG4gICB0ZXhjb29yZHMoZnJhZ0Nvb3JkLCBmaWx0ZXJBcmVhLnh5LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxuXFxuLyoqXFxuIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcXG4gbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdFxcJ3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuIFxcbiAtLVxcbiBcXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG4gXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG4gXFxuIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxcbiBcXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcbiBcXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuIFxcbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcXG4gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxuIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cXG4gXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG4gXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgcmVzb2x1dGlvbixcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICBtZWRpdW1wIHZlYzIgaW52ZXJzZVZQID0gdmVjMigxLjAgLyByZXNvbHV0aW9uLngsIDEuMCAvIHJlc29sdXRpb24ueSk7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBcXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuICAgIFxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcbiAgICBcXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG4gICAgXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuICAgIFxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIHRleENvbG9yLmEpO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAgIHZlYzIgZnJhZ0Nvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHk7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgY29sb3IgPSBmeGFhKHVTYW1wbGVyLCBmcmFnQ29vcmQsIGZpbHRlckFyZWEueHksIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcbicpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRlhBQUZpbHRlcjtcbn0oY29yZS5GaWx0ZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBGWEFBRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RlhBQUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfRlhBQUZpbHRlciA9IHJlcXVpcmUoJy4vZnhhYS9GWEFBRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRlhBQUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZYQUFGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX05vaXNlRmlsdGVyID0gcmVxdWlyZSgnLi9ub2lzZS9Ob2lzZUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ05vaXNlRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTm9pc2VGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Rpc3BsYWNlbWVudEZpbHRlciA9IHJlcXVpcmUoJy4vZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Rpc3BsYWNlbWVudEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYWNlbWVudEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1ckZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1ckZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0JsdXJYRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJYRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmx1clhGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbHVyWEZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1cllGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1cllGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyWUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Db2xvck1hdHJpeEZpbHRlciA9IHJlcXVpcmUoJy4vY29sb3JtYXRyaXgvQ29sb3JNYXRyaXhGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDb2xvck1hdHJpeEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbG9yTWF0cml4RmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9BbHBoYUZpbHRlciA9IHJlcXVpcmUoJy4vYWxwaGEvQWxwaGFGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbHBoYUZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FscGhhRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by4gSWYgbnVsbCBhIG5ldyBwb2ludCB3aWxsIGJlIHJldHVybmVkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBVcGRhdGUgLSBzZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0XG4gKiBAcmV0dXJuIHtQb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnRcbiAqL1xuY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKCkge1xuICAgIHZhciBwb2ludCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbmV3IGNvcmUuUG9pbnQoKTtcbiAgICB2YXIgc2tpcFVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEdsb2JhbFBvc2l0aW9uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBpbnN0YW5jZSBuYW1lXG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuY29yZS5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldENoaWxkQnlOYW1lLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4uL2NvcmUvdGV4dHVyZXMvQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi9jb3JlL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBEaXNwbGF5T2JqZWN0ID0gY29yZS5EaXNwbGF5T2JqZWN0O1xudmFyIF90ZW1wTWF0cml4ID0gbmV3IGNvcmUuTWF0cml4KCk7XG5cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwID0gZmFsc2U7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVEYXRhID0gZmFsc2U7XG5cbi8vIGZpZ3VyZWQgdGhlcmVzIG5vIHBvaW50IGFkZGluZyBBTEwgdGhlIGV4dHJhIHZhcmlhYmxlcyB0byBwcm90b3R5cGUuXG4vLyB0aGlzIG1vZGVsIGNhbiBob2xkIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQuIFRoaXMgY2FuIGFsc28gYmUgZ2VuZXJhdGVkIG9uIGRlbWFuZCBhc1xuLy8gbW9zdCBvYmplY3RzIGFyZSBub3QgY2FjaGVkIGFzIGJpdG1hcHMuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG5cbnZhciBDYWNoZURhdGEgPVxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBDYWNoZURhdGEoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhY2hlRGF0YSk7XG5cbiAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcblxuICAgIHRoaXMub3JpZ2luYWxSZW5kZXJXZWJHTCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcblxuICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxIaXRUZXN0ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgdGhpcyBkaXNwbGF5IG9iamVjdCB0byBiZSBjYWNoZWQgYXMgYSBiaXRtYXAuXG4gICAgICogVGhpcyBiYXNpY2FsbHkgdGFrZXMgYSBzbmFwIHNob3Qgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IGFzIGl0IGlzIGF0IHRoYXQgbW9tZW50LiBJdCBjYW5cbiAgICAgKiBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYmVuZWZpdCBmb3IgY29tcGxleCBzdGF0aWMgZGlzcGxheU9iamVjdHMuXG4gICAgICogVG8gcmVtb3ZlIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byAnZmFsc2UnXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQgR09UQ0hBIC0gbWFrZSBzdXJlIHRoYXQgYWxsIHlvdXIgdGV4dHVyZXMgYXJlIHByZWxvYWRlZCBCRUZPUkUgc2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIHRydWVcbiAgICAgKiBhcyBpdCB3aWxsIHRha2UgYSBzbmFwc2hvdCBvZiB3aGF0IGlzIGN1cnJlbnRseSB0aGVyZS4gSWYgdGhlIHRleHR1cmVzIGhhdmUgbm90IGxvYWRlZCB0aGVuIHRoZXkgd2lsbCBub3QgYXBwZWFyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUFzQml0bWFwID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHZvaWQgMDtcblxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyV2ViR0wgPSB0aGlzLnJlbmRlcldlYkdMO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJXZWJHTCA9IHRoaXMuX3JlbmRlckNhY2hlZFdlYkdMO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcldlYkdMID0gZGF0YS5vcmlnaW5hbFJlbmRlcldlYkdMO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sgPSBkYXRhLm9yaWdpbmFsTWFzaztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkV2ViR0wocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG59O1xuXG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgYWxwaGEgaXMgc2V0IHRvIDEgb3RoZXJ3aXNlIGl0IHdpbGwgZ2V0IHJlbmRlcmVkIGFzIGludmlzaWJsZSFcbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIC8vIGZpcnN0IHdlIGZsdXNoIGFueXRoaW5nIGxlZnQgaW4gdGhlIHJlbmRlcmVyIChvdGhlcndpc2UgaXQgd291bGQgZ2V0IHJlbmRlcmVkIHRvIHRoZSBjYWNoZWQgdGV4dHVyZSlcbiAgICByZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuXG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtcblxuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuX2ZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLl9maWx0ZXJzWzBdLnBhZGRpbmc7XG5cbiAgICAgICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgICB9XG5cbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSB3ZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdlbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgdmFyIHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcblxuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IGNvcmUuUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoIHwgMCwgYm91bmRzLmhlaWdodCB8IDApO1xuXG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gJ2NhY2hlQXNCaXRtYXBfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlcldlYkdMID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyV2ViR0w7XG5cbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgdHJ1ZSk7XG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG5cbiAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KGNhY2hlZFJlbmRlclRhcmdldCk7XG5cbiAgICByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrID0gc3RhY2s7XG5cbiAgICB0aGlzLnJlbmRlcldlYkdMID0gdGhpcy5fcmVuZGVyQ2FjaGVkV2ViR0w7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBjb3JlLlNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIC8vIGVhc3kgYm91bmRzLi5cbiAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIGNhbnZhc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcblxuLy8gVE9ETyB0aGlzIGNhbiBiZSB0aGUgc2FtZSBhcyB0aGUgd2ViR0wgdmVyaXNvbi4uIHdpbGwgbmVlZCB0byBkbyBhIGxpdHRsZSB0d2Vha2luZyBmaXJzdCB0aG91Z2guLlxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgQ2FudmFzIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBjb3JlLlJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCB8IDAsIGJvdW5kcy5oZWlnaHQgfCAwKTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9ICdjYWNoZUFzQml0bWFwXycgKyAoMCwgX3V0aWxzLnVpZCkoKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weShtKTtcbiAgICBtLmludmVydCgpO1xuXG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuXG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuXG4gICAgLy8gcmVuZGVyVGV4dHVyZS5yZW5kZXIodGhpcywgbSwgdHJ1ZSk7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG5cbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBjb3JlLlNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcblxuICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMoKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCkge1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWNoZUFzQml0bWFwLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9PYnNlcnZhYmxlUG9pbnQgPSByZXF1aXJlKCcuLi9jb3JlL21hdGgvT2JzZXJ2YWJsZVBvaW50Jyk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09ic2VydmFibGVQb2ludCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi9jb3JlL3V0aWxzJyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9jb3JlL3NldHRpbmdzJyk7XG5cbnZhciBfc2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0dGluZ3MpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC4gVG9cbiAqIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuIFlvdSBjYW4gZ2VuZXJhdGUgdGhlIGZudCBmaWxlcyB1c2luZzpcbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZFxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3Igd2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIG1hYy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqL1xudmFyIEJpdG1hcFRleHQgPSBmdW5jdGlvbiAoX2NvcmUkQ29udGFpbmVyKSB7XG4gICAgX2luaGVyaXRzKEJpdG1hcFRleHQsIF9jb3JlJENvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBjb3B5IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBzdHlsZS5mb250IC0gVGhlIGZvbnQgZGVzY3JpcHRvciBmb3IgdGhlIG9iamVjdCwgY2FuIGJlIHBhc3NlZCBhcyBhIHN0cmluZyBvZiBmb3JtXG4gICAgICogICAgICBcIjI0cHggRm9udE5hbWVcIiBvciBcIkZvbnROYW1lXCIgb3IgYXMgYW4gb2JqZWN0IHdpdGggZXhwbGljaXQgbmFtZS9zaXplIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250Lm5hbWVdIC0gVGhlIGJpdG1hcCBmb250IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250LnNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0XG4gICAgICogICAgICBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS50aW50PTB4RkZGRkZGXSAtIFRoZSB0aW50IGNvbG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJpdG1hcFRleHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJENvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5fdGV4dFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBsZXR0ZXIgc3ByaXRlIHBvb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZ2x5cGhzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0ge1xuICAgICAgICAgICAgdGludDogc3R5bGUudGludCAhPT0gdW5kZWZpbmVkID8gc3R5bGUudGludCA6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxpZ246IHN0eWxlLmFsaWduIHx8ICdsZWZ0JyxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBzaXplOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9udCA9IHN0eWxlLmZvbnQ7IC8vIHJ1biBmb250IHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IF9PYnNlcnZhYmxlUG9pbnQyLmRlZmF1bHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dCgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV07XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2ZvbnQuc2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBjb3JlLlBvaW50KCk7XG4gICAgICAgIHZhciBjaGFycyA9IFtdO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IFtdO1xuXG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0U3BhY2UgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RTcGFjZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRoaXMudGV4dC5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoLyhcXHMpLy50ZXN0KHRoaXMudGV4dC5jaGFyQXQoaSkpKSB7XG4gICAgICAgICAgICAgICAgbGFzdFNwYWNlID0gaTtcbiAgICAgICAgICAgICAgICBsYXN0U3BhY2VXaWR0aCA9IGxhc3RMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgvKD86XFxyXFxufFxccnxcXG4pLy50ZXN0KHRoaXMudGV4dC5jaGFyQXQoaSkpKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGFzdFNwYWNlICE9PSAtMSAmJiB0aGlzLl9tYXhXaWR0aCA+IDAgJiYgcG9zLnggKiBzY2FsZSA+IHRoaXMuX21heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgY29yZS51dGlscy5yZW1vdmVJdGVtcyhjaGFycywgbGFzdFNwYWNlIC0gc3BhY2VzUmVtb3ZlZCwgaSAtIGxhc3RTcGFjZSk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RTcGFjZTtcbiAgICAgICAgICAgICAgICBsYXN0U3BhY2UgPSAtMTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG5cbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdFNwYWNlV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdFNwYWNlV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG5cbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBjb3JlLlBvaW50KHBvcy54ICsgY2hhckRhdGEueE9mZnNldCwgcG9zLnkgKyBjaGFyRGF0YS55T2Zmc2V0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLnggKyAoY2hhckRhdGEudGV4dHVyZS53aWR0aCArIGNoYXJEYXRhLnhPZmZzZXQpO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2U7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuXG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8PSBsaW5lOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxpZ25PZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2ZvbnQuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tfaV0pIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuQ2hhcnM7IF9pMisrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuX2dseXBoc1tfaTJdOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgYy50ZXh0dXJlID0gY2hhcnNbX2kyXS50ZXh0dXJlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjID0gbmV3IGNvcmUuU3ByaXRlKGNoYXJzW19pMl0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IChjaGFyc1tfaTJdLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXJzW19pMl0ubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICBjLnBvc2l0aW9uLnkgPSBjaGFyc1tfaTJdLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMuc2NhbGUueCA9IGMuc2NhbGUueSA9IHNjYWxlO1xuICAgICAgICAgICAgYy50aW50ID0gdGludDtcblxuICAgICAgICAgICAgaWYgKCFjLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIF9pMyA9IGxlbkNoYXJzOyBfaTMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK19pMykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbX2kzXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgbGVuQ2hhcnM7IF9pNCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW19pNF0ueCAtPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tfaTRdLnkgLT0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB3aXRoIGFsbCBzeW1ib2xzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiByZWdpc3RlckZvbnQoeG1sLCB0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF07XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpWzBdO1xuICAgICAgICB2YXIgZmlsZU5hbWUgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKVswXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcbiAgICAgICAgdmFyIHJlcyA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShmaWxlTmFtZSwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT04pO1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIHZhciBsZXR0ZXJzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZXR0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gbGV0dGVyc1tpXTtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKTtcblxuICAgICAgICAgICAgdmFyIHRleHR1cmVSZWN0ID0gbmV3IGNvcmUuUmVjdGFuZ2xlKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApIC8gcmVzICsgdGV4dHVyZS5mcmFtZS54IC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSAvIHJlcyArIHRleHR1cmUuZnJhbWUueSAvIHJlcywgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSwgMTApIC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzKTtcblxuICAgICAgICAgICAgZGF0YS5jaGFyc1tjaGFyQ29kZV0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgY29yZS5UZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KVxuXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgdmFyIGtlcm5pbmdzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG5cbiAgICAgICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwga2VybmluZ3MubGVuZ3RoOyBfaTUrKykge1xuICAgICAgICAgICAgdmFyIGtlcm5pbmcgPSBrZXJuaW5nc1tfaTVdO1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBzZWNvbmQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnc2Vjb25kJyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSAvIHJlcztcblxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICAgICAgICAgIGRhdGEuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEknbSBsZWF2aW5nIHRoaXMgYXMgYSB0ZW1wb3JhcnkgZml4IHNvIHdlIGNhbiB0ZXN0IHRoZSBiaXRtYXAgZm9udHMgaW4gdjNcbiAgICAgICAgLy8gYnV0IGl0J3MgdmVyeSBsaWtlbHkgdG8gY2hhbmdlXG4gICAgICAgIEJpdG1hcFRleHQuZm9udHNbZGF0YS5mb250XSA9IGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhCaXRtYXBUZXh0LCBbe1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udC50aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQudGludCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPj0gMCA/IHZhbHVlIDogMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbGlnbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC5hbGlnbiA9IHZhbHVlIHx8ICdsZWZ0JztcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIDAsMCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMC41LDAuNSBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZFxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYW5jaG9yJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBkZXNjcmlwdG9yIG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8b2JqZWN0fVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5sZW5ndGggPT09IDEgPyB2YWx1ZVswXSA6IHZhbHVlLnNsaWNlKDEpLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB2YWx1ZS5sZW5ndGggPj0gMiA/IHBhcnNlSW50KHZhbHVlWzBdLCAxMCkgOiBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV0uc2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgPyB2YWx1ZS5zaXplIDogcGFyc2VJbnQodmFsdWUuc2l6ZSwgMTApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpIHx8ICcgJztcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21heFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtYXhMaW5lSGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oY29yZS5Db250YWluZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCaXRtYXBUZXh0O1xuXG5cbkJpdG1hcFRleHQuZm9udHMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdG1hcFRleHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29yZS9jb25zdCcpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBNYXQgPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuXG52YXIgVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoX2NvcmUkT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoVGlsaW5nU3ByaXRlUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIGNvbnN0cnVjdG9yIGZvciByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmVyfSByZW5kZXJlciBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIF90aGlzLnNpbXBsZVNoYWRlciA9IG51bGw7XG4gICAgICAgIF90aGlzLnF1YWQgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbmV3IGNvcmUuU2hhZGVyKGdsLCAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuJywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSBtb2QodlRleHR1cmVDb29yZCAtIHVDbGFtcE9mZnNldCwgdmVjMigxLjAsIDEuMCkpICsgdUNsYW1wT2Zmc2V0O1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG4nKTtcbiAgICAgICAgdGhpcy5zaW1wbGVTaGFkZXIgPSBuZXcgY29yZS5TaGFkZXIoZ2wsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG4nKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBjb3JlLlF1YWQoZ2wsIHRoaXMucmVuZGVyZXIuc3RhdGUuYXR0cmliU3RhdGUpO1xuICAgICAgICB0aGlzLnF1YWQuaW5pdFZhbyh0aGlzLnNoYWRlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IHRzIHRpbGluZ1Nwcml0ZSB0byBiZSByZW5kZXJlZFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHRzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBxdWFkID0gdGhpcy5xdWFkO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRWYW8ocXVhZC52YW8pO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHF1YWQudmVydGljZXM7XG5cbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IHRzLl93aWR0aCAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IHRzLl93aWR0aCAqICgxLjAgLSB0cy5hbmNob3IueCk7XG4gICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEuMCAtIHRzLmFuY2hvci55KTtcblxuICAgICAgICBpZiAodHMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHF1YWQudXZzO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gLXRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC10cy5hbmNob3IueTtcblxuICAgICAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IDEuMCAtIHRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIHRzLmFuY2hvci55O1xuICAgICAgICB9XG5cbiAgICAgICAgcXVhZC51cGxvYWQoKTtcblxuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dlRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd28gJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuXG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZVRleC53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IF9jb25zdC5XUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhZGVyID0gaXNTaW1wbGUgPyB0aGlzLnNpbXBsZVNoYWRlciA6IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICB2YXIgdyA9IHRleC53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0ZXguaGVpZ2h0O1xuICAgICAgICB2YXIgVyA9IHRzLl93aWR0aDtcbiAgICAgICAgdmFyIEggPSB0cy5faGVpZ2h0O1xuXG4gICAgICAgIHRlbXBNYXQuc2V0KGx0LmEgKiB3IC8gVywgbHQuYiAqIHcgLyBILCBsdC5jICogaCAvIFcsIGx0LmQgKiBoIC8gSCwgbHQudHggLyBXLCBsdC50eSAvIEgpO1xuXG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcblxuICAgICAgICB0ZW1wTWF0LmludmVydCgpO1xuICAgICAgICBpZiAoaXNTaW1wbGUpIHtcbiAgICAgICAgICAgIHRlbXBNYXQucHJlcGVuZCh1di5tYXBDb29yZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudU1hcENvb3JkID0gdXYubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHV2LnVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcE9mZnNldCA9IHV2LnVDbGFtcE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gdGVtcE1hdC50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yID0gY29yZS51dGlscy5wcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSwgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSByZW5kZXJlci5iaW5kVGV4dHVyZSh0ZXgpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShjb3JlLnV0aWxzLmNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LnByZW11bHRpcGxpZWRBbHBoYSkpO1xuXG4gICAgICAgIHF1YWQudmFvLmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGluZ1Nwcml0ZVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuLi9jb3JlL3Nwcml0ZXMvY2FudmFzL0NhbnZhc1RpbnRlcicpO1xuXG52YXIgX0NhbnZhc1RpbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4vKipcbiAqIEEgdGlsaW5nIHNwcml0ZSBpcyBhIGZhc3Qgd2F5IG9mIHJlbmRlcmluZyBhIHRpbGluZyBpbWFnZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICovXG5cbnZhciBUaWxpbmdTcHJpdGUgPSBmdW5jdGlvbiAoX2NvcmUkU3ByaXRlKSB7XG4gICAgX2luaGVyaXRzKFRpbGluZ1Nwcml0ZSwgX2NvcmUkU3ByaXRlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbGluZ1Nwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtU3RhdGljfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLnRpbGVUcmFuc2Zvcm0gPSBuZXcgY29yZS5UcmFuc2Zvcm1TdGF0aWMoKTtcblxuICAgICAgICAvLyAvLy8gcHJpdmF0ZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2l0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgcGF0dGVyblxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jYW52YXNQYXR0ZXJuID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdHJhbnNmb3JtIHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIHRleHR1cmUgY29vcmRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2VHJhbnNmb3JtID0gdGV4dHVyZS50cmFuc2Zvcm0gfHwgbmV3IGNvcmUuVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcldlYkdMJyBtZXRob2QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3RpbGluZ1Nwcml0ZSdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAndGlsaW5nU3ByaXRlJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgYW5jaG9yIGFmZmVjdHMgdXZzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nIGluIGNvcnJlc3BvbmRpbmcgdGV4dHVyZVRyYW5zZm9ybSwgc2hvcnRjdXRcbiAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy51dlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy51dlRyYW5zZm9ybS50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdHdlYWsgb3VyIHRleHR1cmUgdGVtcG9yYXJpbHkuLlxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlIHx8ICF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0udXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy51dlRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gYSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZVJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgbW9kWCA9IHRoaXMudGlsZVBvc2l0aW9uLnggLyB0aGlzLnRpbGVTY2FsZS54ICUgdGV4dHVyZS5fZnJhbWUud2lkdGggKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG4gICAgICAgIHZhciBtb2RZID0gdGhpcy50aWxlUG9zaXRpb24ueSAvIHRoaXMudGlsZVNjYWxlLnkgJSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgKiBiYXNlVGV4dHVyZVJlc29sdXRpb247XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgbmljZSBzaGlueSBwYXR0ZXJuIVxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCB8fCB0aGlzLmNhY2hlZFRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAvLyBjdXQgYW4gb2JqZWN0IGZyb20gYSBzcHJpdGVzaGVldC4uXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IG5ldyBjb3JlLkNhbnZhc1JlbmRlclRhcmdldCh0ZXh0dXJlLl9mcmFtZS53aWR0aCwgdGV4dHVyZS5fZnJhbWUuaGVpZ2h0LCBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuXG4gICAgICAgICAgICAvLyBUaW50IHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAgICBpZiAodGhpcy50aW50ICE9PSAweEZGRkZGRikge1xuICAgICAgICAgICAgICAgIHRoaXMudGludGVkVGV4dHVyZSA9IF9DYW52YXNUaW50ZXIyLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZSh0aGlzLCB0aGlzLnRpbnQpO1xuICAgICAgICAgICAgICAgIHRlbXBDYW52YXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy50aW50ZWRUZXh0dXJlLCAwLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVtcENhbnZhcy5jb250ZXh0LmRyYXdJbWFnZShiYXNlVGV4dHVyZS5zb3VyY2UsIC10ZXh0dXJlLl9mcmFtZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uLCAtdGV4dHVyZS5fZnJhbWUueSAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXNQYXR0ZXJuID0gdGVtcENhbnZhcy5jb250ZXh0LmNyZWF0ZVBhdHRlcm4odGVtcENhbnZhcy5jYW52YXMsICdyZXBlYXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBjb250ZXh0IHN0YXRlLi5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYiAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5jICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmQgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHggKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHkgKiByZXNvbHV0aW9uKTtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIC8vIGZpbGwgdGhlIHBhdHRlcm4hXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fY2FudmFzUGF0dGVybjtcblxuICAgICAgICAvLyBUT0RPIC0gdGhpcyBzaG91bGQgYmUgcm9sbGVkIGludG8gdGhlIHNldFRyYW5zZm9ybSBhYm92ZS4uXG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy50aWxlU2NhbGUueCAvIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiwgdGhpcy50aWxlU2NhbGUueSAvIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG5cbiAgICAgICAgdmFyIGFuY2hvclggPSB0aGlzLmFuY2hvci54ICogLXRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgYW5jaG9yWSA9IHRoaXMuYW5jaG9yLnkgKiAtdGhpcy5faGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUobW9kWCwgbW9kWSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLW1vZFggKyBhbmNob3JYLCAtbW9kWSArIGFuY2hvclksIHRoaXMuX3dpZHRoIC8gdGhpcy50aWxlU2NhbGUueCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiwgdGhpcy5faGVpZ2h0IC8gdGhpcy50aWxlU2NhbGUueSAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShtb2RYICsgYW5jaG9yWCwgbW9kWSArIGFuY2hvclkpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KC1tb2RYLCAtbW9kWSwgdGhpcy5fd2lkdGggLyB0aGlzLnRpbGVTY2FsZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLl9oZWlnaHQgLyB0aGlzLnRpbGVTY2FsZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuXG4gICAgICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgY29yZS5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfY29yZSRTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHZhciB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci5feTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZUcmFuc2Zvcm0gPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHRpbGluZyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShjb3JlLlRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHRpbGluZyBzcHJpdGUgdGhhdCB3aWxsIHVzZSBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gQSBuZXcgVGlsaW5nU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBmcmFtZUlkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUoZnJhbWVJZCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGNvcmUudXRpbHMuVGV4dHVyZUNhY2hlW2ZyYW1lSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicgKyBmcmFtZUlkICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlICcgKyB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBiYXNlZCBvbiBhbiBpbWFnZSB1cmxcbiAgICAgKiBJZiB0aGUgaW1hZ2UgaXMgbm90IGluIHRoZSB0ZXh0dXJlIGNhY2hlIGl0IHdpbGwgYmUgbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlSWQgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbl0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBjcm9zcy1vcmlnaW4gcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHNjYWxlIG1vZGUsXG4gICAgICogIHNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gQSBuZXcgVGlsaW5nU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBpbWFnZSBpZFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIHdpZHRoLCBoZWlnaHQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoY29yZS5UZXh0dXJlLmZyb21JbWFnZShpbWFnZUlkLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVGlsaW5nU3ByaXRlLCBbe1xuICAgICAgICBrZXk6ICdjbGFtcE1hcmdpbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXZUcmFuc2Zvcm0uY2xhbXBNYXJnaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51dlRyYW5zZm9ybS51cGRhdGUodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxpbmcgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0aWxlU2NhbGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0aWxlUG9zaXRpb24nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGlsaW5nU3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlO1xufShjb3JlLlNwcml0ZSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpbGluZ1Nwcml0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGluZ1Nwcml0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAdHlwZWRlZiBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX5GcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IG1jID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICovXG52YXIgQW5pbWF0ZWRTcHJpdGUgPSBmdW5jdGlvbiAoX2NvcmUkU3ByaXRlKSB7XG4gICAgX2luaGVyaXRzKEFuaW1hdGVkU3ByaXRlLCBfY29yZSRTcHJpdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIGFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvVXBkYXRlPXRydWVdIC0gV2hldGhlciB0byB1c2UgUElYSS50aWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzLCBhdXRvVXBkYXRlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRlZFNwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlc1swXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLl90ZXh0dXJlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcblxuICAgICAgICBfdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdXNlcyBQSVhJLnRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvb3AgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBBbmltYXRlZFNwcml0ZSBmaW5pc2hlcyBwbGF5aW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Db21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiAnbG9vcCcgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Mb29wID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgY29yZS50aWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgY29yZS5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIGZyYW1lIGluZGV4IHRvIHN0b3AgYXRcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24gZ290b0FuZFN0b3AoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIGZyYW1lIGluZGV4IHRvIHN0YXJ0IGF0XG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIGdvdG9BbmRQbGF5KGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGRlbHRhVGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG5cbiAgICAgICAgICAgIGxhZyArPSBlbGFwc2VkIC8gNjAgKiAxMDAwO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50VGltZSA+PSB0aGlzLl90ZXh0dXJlcy5sZW5ndGggJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCh0aGlzLl90ZXh0dXJlcy5sZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA8IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPiBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgaWYgKHRoaXMub25GcmFtZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGRlc3Ryb3lzIGl0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgbW92aWVjbGlwIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIG1vdmllY2xpcCB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXNcbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUZyYW1lcyA9IGZ1bmN0aW9uIGZyb21GcmFtZXMoZnJhbWVzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKGNvcmUuVGV4dHVyZS5mcm9tRnJhbWUoZnJhbWVzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIG1vdmllY2xpcCBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGltYWdlcyAtIHRoZSBhcnJheSBvZiBpbWFnZSB1cmxzIHRoZSBtb3ZpZWNsaXAgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21JbWFnZXMgPSBmdW5jdGlvbiBmcm9tSW1hZ2VzKGltYWdlcykge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChjb3JlLlRleHR1cmUuZnJvbUltYWdlKGltYWdlc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHRvdGFsRnJhbWVzIGlzIHRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBBbmltYXRlZFNwcml0ZS4gVGhpcyBpcyB0aGUgc2FtZSBhcyBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQW5pbWF0ZWRTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ3RvdGFsRnJhbWVzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dHVyZXMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBjb3JlLlRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2godmFsdWVbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleFxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjdXJyZW50RnJhbWUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFuaW1hdGVkU3ByaXRlO1xufShjb3JlLlNwcml0ZSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFuaW1hdGVkU3ByaXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5pbWF0ZWRTcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVEVNUF9SRUNUID0gbmV3IGNvcmUuUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG5cbnZhciBDYW52YXNFeHRyYWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc0V4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0V4dHJhY3QpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlcmVyLmV4dHJhY3QgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gICAgICogIGBDYW52YXNFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5iYXNlNjQgPSBmdW5jdGlvbiBiYXNlNjQodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNFeHRyYWN0LnByb3RvdHlwZS5jYW52YXMgPSBmdW5jdGlvbiBjYW52YXModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgY29yZS5SZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY29udGV4dDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSByZW5kZXJlci5yb290Q29udGV4dDtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBjb3JlLkNhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdmFyIGNhbnZhc0RhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgICAgICAvLyBzZW5kIHRoZSBjYW52YXMgYmFjay4uXG4gICAgICAgIHJldHVybiBjYW52YXNCdWZmZXIuY2FudmFzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlcmVyLnJvb3RDb250ZXh0O1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgZnJhbWUud2lkdGggKiByZXNvbHV0aW9uLCBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKS5kYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc0V4dHJhY3Q7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0V4dHJhY3Q7XG5cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIENhbnZhc0V4dHJhY3QpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzRXh0cmFjdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgY29yZS5SZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuXG4vKipcbiAqIFRoZSBleHRyYWN0IG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBleHBvcnQgY29udGVudCBmcm9tIHRoZSByZW5kZXJlcnMuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhY3RcbiAqL1xuXG52YXIgV2ViR0xFeHRyYWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gV2ViR0xFeHRyYWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTEV4dHJhY3QpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5leHRyYWN0LldlYkdMRXh0cmFjdH0gZXh0cmFjdFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5XZWJHTFJlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlcmVyLmV4dHJhY3QgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0KTtcblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYFdlYkdMRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5iYXNlNjQgPSBmdW5jdGlvbiBiYXNlNjQodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uIGNhbnZhcyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBmbGlwWSA9IGZhbHNlO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGV4dHVyZUJ1ZmZlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIgPSB0aGlzLnJlbmRlcmVyLnJvb3RSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGV4dHVyZUJ1ZmZlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZmxpcFkgPSB0cnVlO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGV4dHVyZUJ1ZmZlci5zaXplLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGV4dHVyZUJ1ZmZlci5zaXplLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBjb3JlLkNhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBpZiAodGV4dHVyZUJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHRleHR1cmVCdWZmZXIpO1xuXG4gICAgICAgICAgICAvLyBzZXQgdXAgYW4gYXJyYXkgb2YgcGl4ZWxzXG4gICAgICAgICAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgcGl4ZWxzIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICBjYW52YXNEYXRhLmRhdGEuc2V0KHdlYmdsUGl4ZWxzKTtcblxuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICAgICAgaWYgKGZsaXBZKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LmRyYXdJbWFnZShjYW52YXNCdWZmZXIuY2FudmFzLCAwLCAtaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZW5kIHRoZSBjYW52YXMgYmFjay4uXG5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlIGluIFJHQkFcbiAgICAgKiBvcmRlciwgd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVkZWQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5waXhlbHMgPSBmdW5jdGlvbiBwaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0ZXh0dXJlQnVmZmVyID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZyYW1lID0gdm9pZCAwO1xuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGV4dHVyZUJ1ZmZlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHRoaXMucmVuZGVyZXIucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0ZXh0dXJlQnVmZmVyLnNpemUud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0ZXh0dXJlQnVmZmVyLnNpemUuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRleHR1cmVCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldCh0ZXh0dXJlQnVmZmVyKTtcbiAgICAgICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VuZXJhdGVkKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWJHTEV4dHJhY3Q7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMRXh0cmFjdDtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBXZWJHTEV4dHJhY3QpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xFeHRyYWN0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTEV4dHJhY3QgPSByZXF1aXJlKCcuL3dlYmdsL1dlYkdMRXh0cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3dlYmdsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xFeHRyYWN0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNFeHRyYWN0ID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzRXh0cmFjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NhbnZhcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc0V4dHJhY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBfaXNtb2JpbGVqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc21vYmlsZWpzKTtcblxudmFyIF9hY2Nlc3NpYmxlVGFyZ2V0ID0gcmVxdWlyZSgnLi9hY2Nlc3NpYmxlVGFyZ2V0Jyk7XG5cbnZhciBfYWNjZXNzaWJsZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hY2Nlc3NpYmxlVGFyZ2V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gYWRkIHNvbWUgZXh0cmEgdmFyaWFibGVzIHRvIHRoZSBjb250YWluZXIuLlxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfYWNjZXNzaWJsZVRhcmdldDIuZGVmYXVsdCk7XG5cbnZhciBLRVlfQ09ERV9UQUIgPSA5O1xuXG52YXIgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG52YXIgRElWX1RPVUNIX1BPU19YID0gMDtcbnZhciBESVZfVE9VQ0hfUE9TX1kgPSAwO1xudmFyIERJVl9UT1VDSF9aSU5ERVggPSAyO1xuXG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG5cbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW5cbiAqIHJlYWRlcnMuIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBwaXhpXG4gKiBjb250ZW50LlxuICpcbiAqIE11Y2ggbGlrZSBpbnRlcmFjdGlvbiBhbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgbWFkZSBhY2Nlc3NpYmxlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKi9cblxudmFyIEFjY2Vzc2liaWxpdHlNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBY2Nlc3NpYmlsaXR5TWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuXG4gICAgICAgIGlmICgoX2lzbW9iaWxlanMyLmRlZmF1bHQudGFibGV0IHx8IF9pc21vYmlsZWpzMi5kZWZhdWx0LnBob25lKSAmJiAhbmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCB3ZSBjcmVhdGUgYSBkaXYgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3lzdGVtUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjdXJyZW50bHkgYWN0aXZlIGFjY2Vzc2libGUgaXRlbXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgdGhlIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLiBJZiB0aGVyZSBhcmUgbm8gYWNjZXNzaWJsZSBvYmplY3RzIG9yIHRoZSBtb3VzZSBpcyBtb3ZpbmcsIHRoaXMgd2lsbCBiZSBmYWxzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGxldCBsaXN0ZW4gZm9yIHRhYi4uIG9uY2UgcHJlc3NlZCB3ZSBjYW4gZmlyZSB1cCBhbmQgc2hvdyB0aGUgYWNjZXNzaWJpbGl0eSBsYXllclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVUb3VjaEhvb2sgPSBmdW5jdGlvbiBjcmVhdGVUb3VjaEhvb2soKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICBob29rRGl2LnN0eWxlLndpZHRoID0gRElWX0hPT0tfU0laRSArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5sZWZ0ID0gRElWX0hPT0tfUE9TX1kgKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnSE9PSyBESVYnO1xuXG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGhvb2tEaXYpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhvb2tEaXYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgc2hvd24uIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyXG4gICAgICogcHJlc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgaGlkZGVuLiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3Zlc1xuICAgICAqIHRoZSBtb3VzZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8IHRoaXMuaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiB1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZm9yZSBlYWNoIHJlbmRlciB0aGlzIGZ1bmN0aW9uIHdpbGwgZW5zdXJlIHRoYXQgYWxsIGRpdnMgYXJlIG1hcHBlZCBjb3JyZWN0bHkgdG8gdGhlaXIgRGlzcGxheU9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG5cbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBzeCA9IHJlY3Qud2lkdGggLyB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICB2YXIgc3kgPSByZWN0LmhlaWdodCAvIHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBkaXYgPSB0aGlzLmRpdjtcblxuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSByZWN0LnRvcCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggKyAncHgnO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgKyAncHgnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNvcmUudXRpbHMucmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpLS07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgICAgIHZhciBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gKHd0LnR4ICsgaGl0QXJlYS54ICogd3QuYSkgKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAod3QudHkgKyBoaXRBcmVhLnkgKiB3dC5kKSAqIHN5ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5ICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXRBcmVhID0gY2hpbGQuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gaGl0QXJlYS54ICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gaGl0QXJlYS55ICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHN5ICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgICAgIHRoaXMucmVuZGVySWQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVE9ETzogZG9jcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBoaXRBcmVhIC0gVE9ETyBkb2NzXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gY2FwSGl0QXJlYShoaXRBcmVhKSB7XG4gICAgICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aCkge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG5cbiAgICAgICAgaWYgKCFkaXYpIHtcbiAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyAncHgnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMCwwLDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdub25lJztcblxuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgfSBlbHNlIGlmICghZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9ICdkaXNwbGF5T2JqZWN0ICcgKyB0aGlzLnRhYkluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiBfb25DbGljayhlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1cyA9IGZ1bmN0aW9uIF9vbkZvY3VzKGUpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gX29uRm9jdXNPdXQoZSkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIF9vbktleURvd24oZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIF9vbk1vdXNlTW92ZSgpIHtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGl2ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY2Vzc2liaWxpdHlNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9hY2Nlc3NpYmxlVGFyZ2V0ID0gcmVxdWlyZSgnLi9hY2Nlc3NpYmxlVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYWNjZXNzaWJsZVRhcmdldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FjY2Vzc2libGVUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FjY2Vzc2liaWxpdHlNYW5hZ2VyID0gcmVxdWlyZSgnLi9BY2Nlc3NpYmlsaXR5TWFuYWdlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FjY2Vzc2liaWxpdHlNYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWNjZXNzaWJpbGl0eU1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVwcmVjYXRpb247XG4vLyBwcm92aWRlIG1ldGhvZCB0byBnaXZlIGEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzXG4vLyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmUgZGVwcmVjYXRlZCBtZXRob2RzL3Byb3BlcnRpZXMvY2xhc3Nlc1xuLy8gYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIC8vIEBpZiBERUJVR1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblxuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtc2cpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNob3Agb2ZmIHRoZSBzdGFjayB0cmFjZSB3aGljaCBpbmNsdWRlcyBwaXhpLmpzIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZSgzKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZCkge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnJWNEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJywgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsIG1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBtc2cpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAvLyBAZW5kaWZcbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRpb24oY29yZSkge1xuICAgIHZhciBtZXNoID0gY29yZS5tZXNoLFxuICAgICAgICBwYXJ0aWNsZXMgPSBjb3JlLnBhcnRpY2xlcyxcbiAgICAgICAgZXh0cmFzID0gY29yZS5leHRyYXMsXG4gICAgICAgIGZpbHRlcnMgPSBjb3JlLmZpbHRlcnMsXG4gICAgICAgIHByZXBhcmUgPSBjb3JlLnByZXBhcmUsXG4gICAgICAgIGxvYWRlcnMgPSBjb3JlLmxvYWRlcnMsXG4gICAgICAgIGludGVyYWN0aW9uID0gY29yZS5pbnRlcmFjdGlvbjtcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZSwge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3ByaXRlQmF0Y2hcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBTcHJpdGVCYXRjaCBkb2VzIG5vdCBleGlzdCBhbnkgbW9yZSwgcGxlYXNlIHVzZSB0aGUgbmV3IFBhcnRpY2xlQ29udGFpbmVyIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNwcml0ZUJhdGNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ1Nwcml0ZUJhdGNoIGRvZXMgbm90IGV4aXN0IGFueSBtb3JlLCAnICsgJ3BsZWFzZSB1c2UgdGhlIG5ldyBQYXJ0aWNsZUNvbnRhaW5lciBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQXNzZXRMb2FkZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEB0aHJvd3Mge1JlZmVyZW5jZUVycm9yfSBUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsXG4gICAgICAgICAqIHBsZWFzZSBzZWUgdGhlIG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBc3NldExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdUaGUgbG9hZGVyIHN5c3RlbSB3YXMgb3ZlcmhhdWxlZCBpbiBQaXhpSlMgdjMsICcgKyAncGxlYXNlIHNlZSB0aGUgbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTdGFnZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFN0YWdlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdZb3UgZG8gbm90IG5lZWQgdG8gdXNlIGEgUElYSSBTdGFnZSBhbnkgbW9yZSwgeW91IGNhbiBzaW1wbHkgcmVuZGVyIGFueSBjb250YWluZXIuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5Db250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBEaXNwbGF5T2JqZWN0Q29udGFpbmVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5Db250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRGlzcGxheU9iamVjdENvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignRGlzcGxheU9iamVjdENvbnRhaW5lciBoYXMgYmVlbiBzaG9ydGVuZWQgdG8gQ29udGFpbmVyLCBwbGVhc2UgdXNlIENvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFN0cmlwXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgU3RyaXA6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBTdHJpcCBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIE1lc2ggYW5kIG1vdmVkIHRvIG1lc2guTWVzaCwgcGxlYXNlIHVzZSBtZXNoLk1lc2ggZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5NZXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUm9wZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBSb3BlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIG1lc2guUm9wZSwgcGxlYXNlIHVzZSBtZXNoLlJvcGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzaC5Sb3BlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciwgJyArICdwbGVhc2UgdXNlIHBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBNb3ZpZUNsaXBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5Nb3ZpZUNsaXBcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5BbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBleHRyYXMuQW5pbWF0ZWRTcHJpdGUuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRpbGluZ1Nwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIFRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuVGlsaW5nU3ByaXRlLCAnICsgJ3BsZWFzZSB1c2UgZXh0cmFzLlRpbGluZ1Nwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuVGlsaW5nU3ByaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQml0bWFwVGV4dFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIEJpdG1hcFRleHQgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLkJpdG1hcFRleHQsICcgKyAncGxlYXNlIHVzZSBleHRyYXMuQml0bWFwVGV4dCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBleHRyYXMuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIGJsZW5kTW9kZXNcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJsZW5kTW9kZXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBibGVuZE1vZGVzIGhhcyBiZWVuIG1vdmVkIHRvIEJMRU5EX01PREVTLCBwbGVhc2UgdXNlIEJMRU5EX01PREVTIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQkxFTkRfTU9ERVM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBzY2FsZU1vZGVzXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzY2FsZU1vZGVzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgc2NhbGVNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBTQ0FMRV9NT0RFUywgcGxlYXNlIHVzZSBTQ0FMRV9NT0RFUyBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlNDQUxFX01PREVTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgQmFzZVRleHR1cmVDYWNoZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byB1dGlscy5CYXNlVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuQmFzZVRleHR1cmVDYWNoZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUZXh0dXJlQ2FjaGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBUZXh0dXJlQ2FjaGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gdXRpbHMuVGV4dHVyZUNhY2hlLCAnICsgJ3BsZWFzZSB1c2UgdXRpbHMuVGV4dHVyZUNhY2hlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUudXRpbHMuVGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIG1hdGhcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIG1hdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBtYXRoIG5hbWVzcGFjZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgYWNjZXNzIG1lbWJlcnMgYWxyZWFkeSBhY2Nlc3NpYmxlIG9uIFBJWEkuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBBYnN0cmFjdEZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignQXN0cmFjdEZpbHRlciBoYXMgYmVlbiByZW5hbWVkIHRvIEZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLkZpbHRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5UcmFuc2Zvcm1NYW51YWxcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtTWFudWFsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUcmFuc2Zvcm1NYW51YWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUcmFuc2Zvcm1CYXNlLCBwbGVhc2UgdXBkYXRlIHlvdXIgcGl4aS1zcGluZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVHJhbnNmb3JtQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5UQVJHRVRfRlBNU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgVEFSR0VUX0ZQTVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVEFSR0VUX0ZQTVMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlRBUkdFVF9GUE1TID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuRklMVEVSX1JFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIEZJTFRFUl9SRVNPTFVUSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZJTFRFUl9SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJFU09MVVRJT05cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgUkVTT0xVVElPTjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SRVNPTFVUSU9OIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlJFU09MVVRJT04gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBNSVBNQVBfVEVYVFVSRVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuTUlQTUFQX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVMnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFNQUklURV9CQVRDSF9TSVpFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlNQUklURV9CQVRDSF9TSVpFIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgU1BSSVRFX01BWF9URVhUVVJFUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFJFVElOQV9QUkVGSVg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVUSU5BX1BSRUZJWCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCcpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OU1xuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVOREVSX09QVElPTlNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgREVGQVVMVF9SRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ERUZBVUxUX1JFTkRFUl9PUFRJT05TJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5SRU5ERVJfT1BUSU9OUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTW92ZSB0aGUgZGVmYXVsdCBwcm9wZXJ0aWVzIHRvIHNldHRpbmdzXG4gICAgdmFyIGRlZmF1bHRzID0gW3sgcGFyZW50OiAnVFJBTlNGT1JNX01PREUnLCB0YXJnZXQ6ICdUUkFOU0ZPUk1fTU9ERScgfSwgeyBwYXJlbnQ6ICdHQ19NT0RFUycsIHRhcmdldDogJ0dDX01PREUnIH0sIHsgcGFyZW50OiAnV1JBUF9NT0RFUycsIHRhcmdldDogJ1dSQVBfTU9ERScgfSwgeyBwYXJlbnQ6ICdTQ0FMRV9NT0RFUycsIHRhcmdldDogJ1NDQUxFX01PREUnIH0sIHsgcGFyZW50OiAnUFJFQ0lTSU9OJywgdGFyZ2V0OiAnUFJFQ0lTSU9OX0ZSQUdNRU5UJyB9XTtcblxuICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHtcbiAgICAgICAgdmFyIGRlcHJlY2F0aW9uID0gZGVmYXVsdHNbaV07XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcmVbZGVwcmVjYXRpb24ucGFyZW50XSwgJ0RFRkFVTFQnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzW2RlcHJlY2F0aW9uLnRhcmdldF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLicgKyBkZXByZWNhdGlvbi5wYXJlbnQgKyAnLkRFRkFVTFQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICgncGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLicgKyBkZXByZWNhdGlvbi50YXJnZXQpKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3NbZGVwcmVjYXRpb24udGFyZ2V0XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWZhdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBfbG9vcChpKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLnNldHRpbmdzLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQG5hbWUgUFJFQ0lTSU9OXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEBzZWUgUElYSS5QUkVDSVNJT05cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjQuMFxuICAgICAgICAgKi9cbiAgICAgICAgUFJFQ0lTSU9OOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlBSRUNJU0lPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZXh0cmFzLkFuaW1hdGVkU3ByaXRlKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4dHJhcywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgICAgICogQG5hbWUgTW92aWVDbGlwXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgTW92aWVDbGlwOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBNb3ZpZUNsaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBBbmltYXRlZFNwcml0ZSwgcGxlYXNlIHVzZSBBbmltYXRlZFNwcml0ZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV4dHJhcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhleHRyYXMsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAgICAgKiBAbmFtZSBUZXh0dXJlVHJhbnNmb3JtXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5leHRyYXNcbiAgICAgICAgICAgICAqIEBzZWUgUElYSS5UZXh0dXJlTWF0cml4XG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIFRleHR1cmVUcmFuc2Zvcm06IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIFRleHR1cmVUcmFuc2Zvcm0gY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBUZXh0dXJlTWF0cml4LCAnICsgJ3BsZWFzZSB1c2UgUElYSS5UZXh0dXJlTWF0cml4IGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHR1cmVNYXRyaXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShyZW5kZXJlciwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHdhcm4oJ2dlbmVyYXRlVGV4dHVyZSBoYXMgbW92ZWQgdG8gdGhlIHJlbmRlcmVyLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0KScpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGhpcywgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgY29yZS5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlKHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICB3YXJuKCdncmFwaGljcyBnZW5lcmF0ZSB0ZXh0dXJlIGhhcyBtb3ZlZCB0byB0aGUgcmVuZGVyZXIuICcgKyAnT3IgdG8gcmVuZGVyIGEgZ3JhcGhpY3MgdG8gYSB0ZXh0dXJlIHVzaW5nIGNhbnZhcyBwbGVhc2UgdXNlIGdlbmVyYXRlQ2FudmFzVGV4dHVyZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0XG4gICAgICogQHNlZSBQSVhJLkdyb3VwRDguaXNWZXJ0aWNhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNi4wXG4gICAgICovXG4gICAgY29yZS5Hcm91cEQ4LmlzU3dhcFdpZHRoSGVpZ2h0ID0gZnVuY3Rpb24gaXNTd2FwV2lkdGhIZWlnaHQocm90YXRpb24pIHtcbiAgICAgICAgd2FybignR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodCB3YXMgcmVuYW1lZCB0byBHcm91cEQ4LmlzVmVydGljYWwnKTtcblxuICAgICAgICByZXR1cm4gY29yZS5Hcm91cEQ4LmlzVmVydGljYWwocm90YXRpb24pO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCBtYXRyaXgsIGNsZWFyLCB1cGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5sZWdhY3lSZW5kZXJlci5yZW5kZXIoZGlzcGxheU9iamVjdCwgdGhpcywgY2xlYXIsIG1hdHJpeCwgIXVwZGF0ZVRyYW5zZm9ybSk7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUucmVuZGVyIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlKScpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gZ2V0SW1hZ2UodGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0SW1hZ2UgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5pbWFnZSh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEJhc2U2NCA9IGZ1bmN0aW9uIGdldEJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRCYXNlNjQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQodGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzID0gZnVuY3Rpb24gZ2V0Q2FudmFzKHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldENhbnZhcyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbiBnZXRQaXhlbHModGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0UGl4ZWxzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5waXhlbHModGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgUElYSS5TcHJpdGUjc2V0VGV4dHVyZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUjdGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBjb3JlLlNwcml0ZS5wcm90b3R5cGUuc2V0VGV4dHVyZSA9IGZ1bmN0aW9uIHNldFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICB3YXJuKCdzZXRUZXh0dXJlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0dXJlIHByb3BlcnR5LCBlLmcgOiBzcHJpdGUudGV4dHVyZSA9IHRleHR1cmU7Jyk7XG4gICAgfTtcblxuICAgIGlmIChleHRyYXMuQml0bWFwVGV4dCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3NldFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0I3RleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIHNldCB0by5cbiAgICAgICAgICovXG4gICAgICAgIGV4dHJhcy5CaXRtYXBUZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgd2Fybignc2V0VGV4dCBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dCBwcm9wZXJ0eSwgZS5nIDogbXlCaXRtYXBUZXh0LnRleHQgPSBcXCdteSB0ZXh0XFwnOycpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjc2V0VGV4dFxuICAgICAqIEBzZWUgUElYSS5UZXh0I3RleHRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHdhcm4oJ3NldFRleHQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHQgcHJvcGVydHksIGUuZyA6IG15VGV4dC50ZXh0ID0gXFwnbXkgdGV4dFxcJzsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnRTdHlsZVxuICAgICAqXG4gICAgICogQG5hbWUgUElYSS5UZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzXG4gICAgICogQHNlZSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBjb3JlLlRleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVGb250UHJvcGVydGllcyhmb250KSB7XG4gICAgICAgIHdhcm4oJ1RleHQuY2FsY3VsYXRlRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIFRleHRNZXRyaWNzLm1lYXN1cmVGb250Jyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dCwge1xuICAgICAgICBmb250UHJvcGVydGllc0NhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ2FjaGUgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2ZvbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NhbnZhczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NhbnZhcyBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmb250UHJvcGVydGllc0NvbnRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDb250ZXh0IGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9jb250ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I3NldFN0eWxlXG4gICAgICogQHNlZSBQSVhJLlRleHQjc3R5bGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHsqfSBzdHlsZSAtIFRoZSBzdHlsZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5UZXh0LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgd2Fybignc2V0U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHN0eWxlIHByb3BlcnR5LCBlLmcgOiBteVRleHQuc3R5bGUgPSBzdHlsZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNkZXRlcm1pbmVGb250UHJvcGVydGllc1xuICAgICAqIEBzZWUgUElYSS5UZXh0I21lYXN1cmVGb250UHJvcGVydGllc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5wcm90b3R5cGUuZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZXRlcm1pbmVGb250UHJvcGVydGllcyhmb250U3R5bGUpIHtcbiAgICAgICAgd2FybignZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgbWV0aG9kJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dC5nZXRGb250U3R5bGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dE1ldHJpY3MuZ2V0Rm9udFN0eWxlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3RyaW5nXG4gICAgICovXG4gICAgY29yZS5UZXh0LmdldEZvbnRTdHlsZSA9IGZ1bmN0aW9uIGdldEZvbnRTdHlsZShzdHlsZSkge1xuICAgICAgICB3YXJuKCdnZXRGb250U3R5bGUgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVGV4dFN0eWxlLnRvRm9udFN0cmluZygpIGluc3RlYWQnKTtcblxuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHN0eWxlIGluc3RhbmNlb2YgY29yZS5UZXh0U3R5bGUpKSB7XG4gICAgICAgICAgICBzdHlsZSA9IG5ldyBjb3JlLlRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUuVGV4dFN0eWxlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFsbCBwcm9wZXJ0aWVzIG9mIGEgZm9udCBhcyBhIHNpbmdsZSBzdHJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5UZXh0U3R5bGUjZm9udFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBmb250OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCd0ZXh0IHN0eWxlIHByb3BlcnR5IFxcJ2ZvbnRcXCcgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlICcgKyAnXFwnZm9udEZhbWlseVxcJywgXFwnZm9udFNpemVcXCcsIFxcJ2ZvbnRTdHlsZVxcJywgXFwnZm9udFZhcmlhbnRcXCcgYW5kIFxcJ2ZvbnRXZWlnaHRcXCcgcHJvcGVydGllcyBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuX2ZvbnRTaXplID09PSAnbnVtYmVyJyA/IHRoaXMuX2ZvbnRTaXplICsgJ3B4JyA6IHRoaXMuX2ZvbnRTaXplO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZSArICcgJyArIHRoaXMuX2ZvbnRWYXJpYW50ICsgJyAnICsgdGhpcy5fZm9udFdlaWdodCArICcgJyArIGZvbnRTaXplU3RyaW5nICsgJyAnICsgdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250KSB7XG4gICAgICAgICAgICAgICAgd2FybigndGV4dCBzdHlsZSBwcm9wZXJ0eSBcXCdmb250XFwnIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSAnICsgJ1xcJ2ZvbnRGYW1pbHlcXCcsXFwnZm9udFNpemVcXCcsZm9udFN0eWxlXFwnLFxcJ2ZvbnRWYXJpYW50XFwnIGFuZCBcXCdmb250V2VpZ2h0XFwnIHByb3BlcnRpZXMgZnJvbSBub3cgb24nKTtcblxuICAgICAgICAgICAgICAgIC8vIGNhbiB3b3JrIG91dCBmb250U3R5bGUgZnJvbSBzZWFyY2ggb2Ygd2hvbGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGZvbnQuaW5kZXhPZignaXRhbGljJykgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdpdGFsaWMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9udC5pbmRleE9mKCdvYmxpcXVlJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnb2JsaXF1ZSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FuIHdvcmsgb3V0IGZvbnRWYXJpYW50IGZyb20gc2VhcmNoIG9mIHdob2xlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChmb250LmluZGV4T2YoJ3NtYWxsLWNhcHMnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ3NtYWxsLWNhcHMnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZm9udFdlaWdodCBhbmQgZm9udEZhbWlseSBhcmUgdHJpY2tlciB0byBmaW5kLCBidXQgaXQncyBlYXNpZXIgdG8gZmluZCB0aGUgZm9udFNpemUgZHVlIHRvIGl0J3MgdW5pdHNcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXRzID0gZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgIHZhciBmb250U2l6ZUluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IDI2O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHNbaV0ubWF0Y2goLyhweHxwdHxlbXwlKS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3BsaXRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gbm93IHNlYXJjaCBmb3IgZm9udFdlaWdodCBhcyB3ZSBrbm93IGl0IG11c3Qgb2NjdXIgYmVmb3JlIHRoZSBmb250U2l6ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZm9udFNpemVJbmRleDsgKytfaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRzW19pXS5tYXRjaCgvKGJvbGR8Ym9sZGVyfGxpZ2h0ZXJ8MTAwfDIwMHwzMDB8NDAwfDUwMHw2MDB8NzAwfDgwMHw5MDApLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBzcGxpdHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhbmQgZmluYWxseSBqb2luIGV2ZXJ5dGhpbmcgdG9nZXRoZXIgYWZ0ZXIgdGhlIGZvbnRTaXplIGluIGNhc2UgdGhlIGZvbnQgZmFtaWx5IGhhcyBtdWx0aXBsZSB3b3Jkc1xuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUluZGV4ID4gLTEgJiYgZm9udFNpemVJbmRleCA8IHNwbGl0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gZm9udFNpemVJbmRleCArIDE7IF9pMiA8IHNwbGl0cy5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ICs9IHNwbGl0c1tfaTJdICsgJyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IHRoaXMuX2ZvbnRGYW1pbHkuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSAnQXJpYWwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0dXJlI3NldEZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUjc2V0RnJhbWVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgdG8gc2V0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5wcm90b3R5cGUuc2V0RnJhbWUgPSBmdW5jdGlvbiBzZXRGcmFtZShmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIHdhcm4oJ3NldEZyYW1lIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBmcmFtZSBwcm9wZXJ0eSwgZS5nOiBteVRleHR1cmUuZnJhbWUgPSBmcmFtZTsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmFkZFRvQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjUuMFxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgdGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSA9IGZ1bmN0aW9uIGFkZFRleHR1cmVUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGNvcmUuVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGlkKTtcbiAgICAgICAgd2FybignVGV4dHVyZS5hZGRUZXh0dXJlVG9DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUuYWRkVG9DYWNoZSBmcm9tIG5vdyBvbi4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUucmVtb3ZlRnJvbUNhY2hlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC41LjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIHRleHR1cmUgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgdGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgY29yZS5UZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVUZXh0dXJlRnJvbUNhY2hlKGlkKSB7XG4gICAgICAgIHdhcm4oJ1RleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlIGZyb20gbm93IG9uLiAnICsgJ0JlIGF3YXJlIHRoYXQgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgZG9lcyBub3QgYXV0b21hdGljYWxseSBpdHMgQmFzZVRleHR1cmUgZnJvbSB0aGUgQmFzZVRleHR1cmVDYWNoZS4gJyArICdGb3IgdGhhdCwgdXNlIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZScpO1xuXG4gICAgICAgIGNvcmUuQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKGlkKTtcblxuICAgICAgICByZXR1cm4gY29yZS5UZXh0dXJlLnJlbW92ZUZyb21DYWNoZShpZCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZpbHRlcnMsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5BYnN0cmFjdEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgQWJzdHJhY3RGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0FzdHJhY3RGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5GaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkFic3RyYWN0RmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgUElYSS5maWx0ZXJzLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZU1hc2tGaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgU3ByaXRlTWFza0ZpbHRlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignZmlsdGVycy5TcHJpdGVNYXNrRmlsdGVyIGlzIGFuIHVuZG9jdW1lbnRlZCBhbGlhcywgcGxlYXNlIHVzZSBTcHJpdGVNYXNrRmlsdGVyIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuU3ByaXRlTWFza0ZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5Wb2lkRmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC41LjdcbiAgICAgICAgICovXG4gICAgICAgIFZvaWRGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1ZvaWRGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBBbHBoYUZpbHRlciwgcGxlYXNlIHVzZSBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLkFscGhhRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy51dWlkXG4gICAgICogQHNlZSBQSVhJLnV0aWxzLnVpZFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB1aWRcbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLnV1aWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLnV1aWQoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHV0aWxzLnVpZCgpIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLnV0aWxzLnVpZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS51dGlscy5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzXG4gICAgICogQHNlZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gQ2FuIHVzZSBibGVuZCBtb2Rlcy5cbiAgICAgKi9cbiAgICBjb3JlLnV0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdhcm4oJ3V0aWxzLmNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIENhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseSBmcm9tIG5vdyBvbicpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLkNhbnZhc1RpbnRlci5jYW5Vc2VNdWx0aXBseTtcbiAgICB9O1xuXG4gICAgdmFyIHNhaWRIZWxsbyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBQSVhJLnV0aWxzLl9zYWlkSGVsbG9cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAc2VlIFBJWEkudXRpbHMuc2tpcEhlbGxvXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4xLjBcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29yZS51dGlscywgJ19zYWlkSGVsbG8nLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS51dGlscy5fc2FpZEhlbGxvIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS51dGlscy5za2lwSGVsbG8oKScpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcEhlbGxvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYWlkSGVsbG8gPSBib29sO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzYWlkSGVsbG87XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChwcmVwYXJlLkJhc2VQcmVwYXJlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlclxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZSNyZWdpc3RlckZpbmRIb29rXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC40LjJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2FkZEhvb2tdIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt1cGxvYWRIb29rXSAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAgICAgICAgICogICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlLkJhc2VQcmVwYXJlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGFkZEhvb2ssIHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHdhcm4oJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlciBpcyBub3cgZGVwcmVjYXRlZCwgJyArICdwbGVhc2UgdXNlIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlckZpbmRIb29rICYgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnJlZ2lzdGVyVXBsb2FkSG9vaycpO1xuXG4gICAgICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhhZGRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByZXBhcmUuY2FudmFzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUuY2FudmFzLlVQTE9BRFNfUEVSX0ZSQU1FXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUubGltaXRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByZXBhcmUuY2FudmFzLCAnVVBMT0FEU19QRVJfRlJBTUUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkNhbnZhc1ByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuQ2FudmFzUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwcmVwYXJlLndlYmdsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGdyYXBoaWNzIG9yIHRleHR1cmVzIHRvIHVwbG9hZCB0byB0aGUgR1BVLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUud2ViZ2wuVVBMT0FEU19QRVJfRlJBTUVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZS5saW1pdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJlcGFyZS53ZWJnbCwgJ1VQTE9BRFNfUEVSX0ZSQU1FJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHNldCAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyLm1heEl0ZW1zUGVyRnJhbWUgb24geW91ciByZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIsIHdlIGNhbid0IGFjdHVhbGx5IHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1cGxvYWRzIHBlciBmcmFtZSwgc28gd2UnbGwgaGF2ZSB0byBzdGljayB3aXRoIHRoZSB3YXJuaW5nLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuV2ViR0xQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSB1c2UgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxvYWRlcnMuTG9hZGVyKSB7XG4gICAgICAgIHZhciBSZXNvdXJjZSA9IGxvYWRlcnMuUmVzb3VyY2U7XG4gICAgICAgIHZhciBMb2FkZXIgPSBsb2FkZXJzLkxvYWRlcjtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGlzSnNvbjoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNKc29uIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSlNPTmAuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5KU09OO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1htbDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNYbWwgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5YTUxgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0ltYWdlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0ltYWdlIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0VgLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQXVkaW86IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzQXVkaW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJT2AuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNWaWRlbzoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNWaWRlbyBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTG9hZGVyLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgYmVmb3JlOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBiZWZvcmUoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBwcmUoKS4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBhZnRlcigpIG1ldGhvZCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHVzZSgpLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCNkZWZhdWx0Q3Vyc29yXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0I2N1cnNvclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0LCAnZGVmYXVsdEN1cnNvcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclxcJy4gJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yXFwnLiAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZGVmYXVsdEN1cnNvclN0eWxlXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJzb3JTdHlsZXNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4zLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIsICdkZWZhdWx0Q3Vyc29yU3R5bGUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclN0eWxlcy5kZWZhdWx0XFwnLiAnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclN0eWxlcy5kZWZhdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXFwnY3Vyc29yU3R5bGVzLmRlZmF1bHRcXCcuICcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yU3R5bGVzLmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJyZW50Q3Vyc29yU3R5bGVcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAc2VlIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2N1cnNvclN0eWxlc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjMuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciwgJ2N1cnJlbnRDdXJzb3JTdHlsZScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgY3VycmVudEN1cnNvclN0eWxlIGhhcyBiZWVuIHJlbW92ZWQuJyArICdTZWUgdGhlIGN1cnJlbnRDdXJzb3JNb2RlIHByb3BlcnR5LCB3aGljaCB3b3JrcyBkaWZmZXJlbnRseS4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGlvbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfID0gcmVxdWlyZSgnLi4vJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGVzaGVldCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnQkFUQ0hfU0laRScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBUZXh0dXJlcyB0byBidWlsZCBwZXIgcHJvY2Vzcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTAwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byB0aGUgc291cmNlIEJhc2VUZXh0dXJlIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAgICAgKiAgICAgICAgdGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LiBJZiBub3QgcHJvdmlkZWQsIHRoZSBpbWFnZVVybCB3aWxsXG4gICAgICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgICAgICovXG5cbiAgICB9XSk7XG5cbiAgICBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbkZpbGVuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVzaGVldCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmVcbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCB0ZXh0dXJlcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCB0aGlzLmJhc2VUZXh0dXJlLmltYWdlVXJsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZnJhbWUgbmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgYmF0Y2ggaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAgICAgKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gICAgICogICAgICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIF91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmRhdGEubWV0YS5zY2FsZTtcblxuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiBfcHJvY2Vzc0ZyYW1lcyhpbml0aWFsRnJhbWVJbmRleCkge1xuICAgICAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgICAgICB2YXIgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcbiAgICAgICAgdmFyIHNvdXJjZVNjYWxlID0gdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2VTY2FsZTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemUgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgXy5SZWN0YW5nbGUoMCwgMCwgTWF0aC5mbG9vcihzb3VyY2VTaXplLncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgXy5SZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBfLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIGRhdGEucm90YXRlZCA/IDIgOiAwKTtcblxuICAgICAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yIGZyb21GcmFtZSBhbmQgZnJvbUltYWdlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIF8uVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3BhcnNlQ29tcGxldGUgPSBmdW5jdGlvbiBfcGFyc2VDb21wbGV0ZSgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uIF9uZXh0QmF0Y2goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXgrKztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgX3RoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGRlc3Ryb3lCYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSBudWxsO1xuICAgICAgICBpZiAoZGVzdHJveUJhc2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlc2hlZXQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZXNoZWV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlc2hlZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5XG4gKiBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvMS4wLjAvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2dsdXRpbHMvU2hhcGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgZ3JhcGhpY3Mgb2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2FudmFzR3JhcGhpY3NSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGN1cnJlbnQgUElYSSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNHcmFwaGljc1JlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNHcmFwaGljc1JlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIEdyYXBoaWNzIG9iamVjdCB0byBhIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSB0aGUgYWN0dWFsIGdyYXBoaWNzIG9iamVjdCB0byByZW5kZXJcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSBncmFwaGljcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRpbnQgaGFzIGNoYW5nZWQsIHNldCB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRpcnR5LlxuICAgICAgICBpZiAodGhpcy5fcHJldlRpbnQgIT09IHRoaXMudGludCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGlmIChncmFwaGljcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljc1RpbnQoZ3JhcGhpY3MpO1xuICAgICAgICAgICAgZ3JhcGhpY3MuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLl9maWxsVGludDtcbiAgICAgICAgICAgIHZhciBsaW5lQ29sb3IgPSBkYXRhLl9saW5lVGludDtcblxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9seWdvbihzaGFwZS5wb2ludHMsIHNoYXBlLmNsb3NlZCwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuaG9sZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb2x5Z29uKGRhdGEuaG9sZXNbal0ucG9pbnRzLCB0cnVlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxDb2xvciB8fCBkYXRhLmZpbGxDb2xvciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdChzaGFwZS54LCBzaGFwZS55LCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIG5lZWQgdG8gYmUgVW5kZWZpbmVkIVxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEubGluZUFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGxpbmVDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxsaXBzZSBjb2RlIHRha2VuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjE3Mjc5OC9ob3ctdG8tZHJhdy1hbi1vdmFsLWluLWh0bWw1LWNhbnZhc1xuXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBzaGFwZS53aWR0aCAqIDI7XG4gICAgICAgICAgICAgICAgdmFyIGggPSBzaGFwZS5oZWlnaHQgKiAyO1xuXG4gICAgICAgICAgICAgICAgdmFyIHggPSBzaGFwZS54IC0gdyAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBzaGFwZS55IC0gaCAvIDI7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGthcHBhID0gMC41NTIyODQ4O1xuICAgICAgICAgICAgICAgIHZhciBveCA9IHcgLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcbiAgICAgICAgICAgICAgICB2YXIgb3kgPSBoIC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIHZhciB4ZSA9IHggKyB3OyAvLyB4LWVuZFxuICAgICAgICAgICAgICAgIHZhciB5ZSA9IHkgKyBoOyAvLyB5LWVuZFxuICAgICAgICAgICAgICAgIHZhciB4bSA9IHggKyB3IC8gMjsgLy8geC1taWRkbGVcbiAgICAgICAgICAgICAgICB2YXIgeW0gPSB5ICsgaCAvIDI7IC8vIHktbWlkZGxlXG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHgsIHltIC0gb3ksIHhtIC0gb3gsIHksIHhtLCB5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gKyBveCwgeSwgeGUsIHltIC0gb3ksIHhlLCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhlLCB5bSArIG95LCB4bSArIG94LCB5ZSwgeG0sIHllKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeG0gLSBveCwgeWUsIHgsIHltICsgb3ksIHgsIHltKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgIHZhciByeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgdmFyIHJ5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzaGFwZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMgPSBzaGFwZS5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF4UmFkaXVzID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyIHwgMDtcblxuICAgICAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyA+IG1heFJhZGl1cyA/IG1heFJhZGl1cyA6IHJhZGl1cztcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnkgKyBoZWlnaHQsIHJ4ICsgcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCAtIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSArIGhlaWdodCwgcnggKyB3aWR0aCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnksIHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnksIHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxDb2xvciB8fCBkYXRhLmZpbGxDb2xvciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRpbnQgb2YgYSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIHRoZSBncmFwaGljcyB0aGF0IHdpbGwgaGF2ZSBpdHMgdGludCB1cGRhdGVkXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzVGludCA9IGZ1bmN0aW9uIHVwZGF0ZUdyYXBoaWNzVGludChncmFwaGljcykge1xuICAgICAgICBncmFwaGljcy5fcHJldlRpbnQgPSBncmFwaGljcy50aW50O1xuXG4gICAgICAgIHZhciB0aW50UiA9IChncmFwaGljcy50aW50ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciB0aW50RyA9IChncmFwaGljcy50aW50ID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIHRpbnRCID0gKGdyYXBoaWNzLnRpbnQgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIHZhciBmaWxsQ29sb3IgPSBkYXRhLmZpbGxDb2xvciB8IDA7XG4gICAgICAgICAgICB2YXIgbGluZUNvbG9yID0gZGF0YS5saW5lQ29sb3IgfCAwO1xuXG4gICAgICAgICAgICAvLyBzdXBlciBpbmxpbmUgY29zIGltIGFuIG9wdGltaXphdGlvbiBOQVpJIDopXG4gICAgICAgICAgICBkYXRhLl9maWxsVGludCA9ICgoZmlsbENvbG9yID4+IDE2ICYgMHhGRikgLyAyNTUgKiB0aW50UiAqIDI1NSA8PCAxNikgKyAoKGZpbGxDb2xvciA+PiA4ICYgMHhGRikgLyAyNTUgKiB0aW50RyAqIDI1NSA8PCA4KSArIChmaWxsQ29sb3IgJiAweEZGKSAvIDI1NSAqIHRpbnRCICogMjU1O1xuXG4gICAgICAgICAgICBkYXRhLl9saW5lVGludCA9ICgobGluZUNvbG9yID4+IDE2ICYgMHhGRikgLyAyNTUgKiB0aW50UiAqIDI1NSA8PCAxNikgKyAoKGxpbmVDb2xvciA+PiA4ICYgMHhGRikgLyAyNTUgKiB0aW50RyAqIDI1NSA8PCA4KSArIChsaW5lQ29sb3IgJiAweEZGKSAvIDI1NSAqIHRpbnRCICogMjU1O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBwb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIFRoZSBwb2ludHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbG9zZSAtIFNob3VsZCB0aGUgcG9seWdvbiBiZSBjbG9zZWRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSByZW5kZXJpbmcgY29udGV4dCB0byB1c2VcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyUG9seWdvbiA9IGZ1bmN0aW9uIHJlbmRlclBvbHlnb24ocG9pbnRzLCBjbG9zZSwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0sIHBvaW50c1sxXSk7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgKytqKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbaiAqIDJdLCBwb2ludHNbaiAqIDIgKyAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xvc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNHcmFwaGljc1JlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNHcmFwaGljc1JlbmRlcmVyO1xuXG5cbl9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignZ3JhcGhpY3MnLCBDYW52YXNHcmFwaGljc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc0dyYXBoaWNzUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRDaXJjbGU7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRDaXJjbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgdmFyIGNpcmNsZURhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSBjaXJjbGVEYXRhLng7XG4gICAgdmFyIHkgPSBjaXJjbGVEYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gdm9pZCAwO1xuICAgIHZhciBoZWlnaHQgPSB2b2lkIDA7XG5cbiAgICAvLyBUT0RPIC0gYml0IGhhY2t5Pz9cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEud2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEuaGVpZ2h0O1xuICAgIH1cblxuICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSkgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydChjaXJjbGVEYXRhLndpZHRoICsgY2lyY2xlRGF0YS5oZWlnaHQpKTtcblxuICAgIHZhciBzZWcgPSBNYXRoLlBJICogMiAvIHRvdGFsU2VncztcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCkge1xuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuXG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICBpbmRpY2VzLnB1c2godmVjUG9zKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU2VncyArIDE7IGkrKykge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4LCB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCArIE1hdGguc2luKHNlZyAqIGkpICogd2lkdGgsIHkgKyBNYXRoLmNvcyhzZWcgKiBpKSAqIGhlaWdodCwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmVjUG9zKyssIHZlY1BvcysrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MgLSAxKTtcbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICB2YXIgdGVtcFBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0b3RhbFNlZ3MgKyAxOyBfaSsrKSB7XG4gICAgICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzLnB1c2goeCArIE1hdGguc2luKHNlZyAqIF9pKSAqIHdpZHRoLCB5ICsgTWF0aC5jb3Moc2VnICogX2kpICogaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkQ2lyY2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSByb3VuZGVkIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFJvdW5kZWRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IHJyZWN0RGF0YS54O1xuICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgdmFyIHJhZGl1cyA9IHJyZWN0RGF0YS5yYWRpdXM7XG5cbiAgICB2YXIgcmVjUG9pbnRzID0gW107XG5cbiAgICByZWNQb2ludHMucHVzaCh4LCB5ICsgcmFkaXVzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCB4LCB5ICsgaGVpZ2h0LCB4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0LCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgcmFkaXVzLCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCAtIHJhZGl1cywgeSwgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgcmFkaXVzLCB5LCB4LCB5LCB4LCB5ICsgcmFkaXVzICsgMC4wMDAwMDAwMDAxLCByZWNQb2ludHMpO1xuXG4gICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCkge1xuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuXG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICB2YXIgdHJpYW5nbGVzID0gKDAsIF9lYXJjdXQyLmRlZmF1bHQpKHJlY1BvaW50cywgbnVsbCwgMik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0cmlhbmdsZXMubGVuZ3RoOyBpIDwgajsgaSArPSAzKSB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfaiA9IHJlY1BvaW50cy5sZW5ndGg7IF9pIDwgX2o7IF9pKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocmVjUG9pbnRzW19pXSwgcmVjUG9pbnRzWysrX2ldLCByLCBnLCBiLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICB2YXIgdGVtcFBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHJlY1BvaW50cztcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuXG4gICAgcmV0dXJuIG4xICsgZGlmZiAqIHBlcmM7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS4gKGhlbHBlciBmdW5jdGlvbi4uKVxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBwb2ludHNcbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljQmV6aWVyQ3VydmUoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICB2YXIgb3V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgYXJndW1lbnRzWzZdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNl0gOiBbXTtcblxuICAgIHZhciBuID0gMjA7XG4gICAgdmFyIHBvaW50cyA9IG91dDtcblxuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcbiAgICB2YXIgeGIgPSAwO1xuICAgIHZhciB5YiA9IDA7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIC8vIFRoZSBHcmVlbiBMaW5lXG4gICAgICAgIHhhID0gZ2V0UHQoZnJvbVgsIGNwWCwgaik7XG4gICAgICAgIHlhID0gZ2V0UHQoZnJvbVksIGNwWSwgaik7XG4gICAgICAgIHhiID0gZ2V0UHQoY3BYLCB0b1gsIGopO1xuICAgICAgICB5YiA9IGdldFB0KGNwWSwgdG9ZLCBqKTtcblxuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUmVjdGFuZ2xlO1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFJlY3RhbmdsZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICAvLyAtLS0gLy9cbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAvL1xuICAgIHZhciByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgICAgIC8vIHN0YXJ0XG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaCh4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAvLyBpbnNlcnQgMiBkZWFkIHRyaWFuZ2xlcy4uXG4gICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzLCB2ZXJ0UG9zICsgMyk7XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQsIHgsIHldO1xuXG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSB0ZW1wUG9pbnRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUmVjdGFuZ2xlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkUG9seTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxudmFyIF9lYXJjdXQgPSByZXF1aXJlKCdlYXJjdXQnKTtcblxudmFyIF9lYXJjdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFyY3V0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUG9seShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpIHtcbiAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwgJiYgcG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgIHZhciBob2xlQXJyYXkgPSBbXTtcbiAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoaG9sZS5wb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG4gICAgICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgICAgICB2YXIgYiA9IGNvbG9yWzJdICogYWxwaGE7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9ICgwLCBfZWFyY3V0Mi5kZWZhdWx0KShwb2ludHMsIGhvbGVBcnJheSwgMik7XG5cbiAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdHJpYW5nbGVzLmxlbmd0aDsgX2kgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tfaTIgKiAyXSwgcG9pbnRzW19pMiAqIDIgKyAxXSwgciwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGggPiAwKSB7XG4gICAgICAgICgwLCBfYnVpbGRMaW5lMi5kZWZhdWx0KShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUG9seS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfU2hhZGVyMiA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoaXMgc2hhZGVyIGlzIHVzZWQgdG8gZHJhdyBzaW1wbGUgcHJpbWl0aXZlIHNoYXBlcyBmb3Ige0BsaW5rIFBJWEkuR3JhcGhpY3N9LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBQcmltaXRpdmVTaGFkZXIgPSBmdW5jdGlvbiAoX1NoYWRlcikge1xuICAgIF9pbmhlcml0cyhQcmltaXRpdmVTaGFkZXIsIF9TaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHNoYWRlciBtYW5hZ2VyIHRoaXMgc2hhZGVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVTaGFkZXIoZ2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaW1pdGl2ZVNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TaGFkZXIuY2FsbCh0aGlzLCBnbCxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzQgYUNvbG9yOycsICd1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIGZsb2F0IGFscGhhOycsICd1bmlmb3JtIHZlYzMgdGludDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApOycsICcgICB2Q29sb3IgPSBhQ29sb3IgKiB2ZWM0KHRpbnQgKiBhbHBoYSwgYWxwaGEpOycsICd9J10uam9pbignXFxuJyksXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICBbJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yOycsICd9J10uam9pbignXFxuJykpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJpbWl0aXZlU2hhZGVyO1xufShfU2hhZGVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUHJpbWl0aXZlU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJpbWl0aXZlU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBbiBvYmplY3QgY29udGFpbmluZyBXZWJHTCBzcGVjaWZpYyBwcm9wZXJ0aWVzIHRvIGJlIHVzZWQgYnkgdGhlIFdlYkdMIHJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFdlYkdMR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIFRoZSBzaGFkZXJcbiAgICogQHBhcmFtIHtvYmplY3R9IGF0dHJpYnNTdGF0ZSAtIFRoZSBzdGF0ZSBmb3IgdGhlIFZBT1xuICAgKi9cbiAgZnVuY3Rpb24gV2ViR0xHcmFwaGljc0RhdGEoZ2wsIHNoYWRlciwgYXR0cmlic1N0YXRlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMR3JhcGhpY3NEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIFRPRE8gZG9lcyB0aGlzIG5lZWQgdG8gYmUgc3BsaXQgYmVmb3JlIHVwbG9hZGluZz8/XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY29sb3IgY29tcG9uZW50cyAocixnLGIpXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9IFswLCAwLCAwXTsgLy8gY29sb3Igc3BsaXQhXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5pbmRpY2VzID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1haW4gYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IGJ1ZmZlclxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZ3JhcGhpY3MgaXMgZGlydHkgb3Igbm90XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBncmFwaGljcyBpcyBuYXRpdmVMaW5lcyBvciBub3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmF0aXZlTGluZXMgPSBmYWxzZTtcblxuICAgIHRoaXMuZ2xQb2ludHMgPSBudWxsO1xuICAgIHRoaXMuZ2xJbmRpY2VzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICB0aGlzLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCwgYXR0cmlic1N0YXRlKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodGhpcy5idWZmZXIsIHNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCA0ICogNiwgMCkuYWRkQXR0cmlidXRlKHRoaXMuYnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hQ29sb3IsIGdsLkZMT0FULCBmYWxzZSwgNCAqIDYsIDIgKiA0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHZlcnRpY2VzIGFuZCB0aGUgaW5kaWNlc1xuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICB0aGlzLmdsUG9pbnRzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnBvaW50cyk7XG4gICAgdGhpcy5idWZmZXIudXBsb2FkKHRoaXMuZ2xQb2ludHMpO1xuXG4gICAgdGhpcy5nbEluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLnVwbG9hZCh0aGlzLmdsSW5kaWNlcyk7XG5cbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVtcHRpZXMgYWxsIHRoZSBkYXRhXG4gICAqL1xuXG5cbiAgV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY29sb3IgPSBudWxsO1xuICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuXG4gICAgdGhpcy52YW8uZGVzdHJveSgpO1xuICAgIHRoaXMuYnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy5nbFBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5nbEluZGljZXMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBXZWJHTEdyYXBoaWNzRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xHcmFwaGljc0RhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTEdyYXBoaWNzRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcjIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xHcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL1dlYkdMR3JhcGhpY3NEYXRhJyk7XG5cbnZhciBfV2ViR0xHcmFwaGljc0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xHcmFwaGljc0RhdGEpO1xuXG52YXIgX1ByaW1pdGl2ZVNoYWRlciA9IHJlcXVpcmUoJy4vc2hhZGVycy9QcmltaXRpdmVTaGFkZXInKTtcblxudmFyIF9QcmltaXRpdmVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJpbWl0aXZlU2hhZGVyKTtcblxudmFyIF9idWlsZFBvbHkgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUG9seScpO1xuXG52YXIgX2J1aWxkUG9seTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFBvbHkpO1xuXG52YXIgX2J1aWxkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFJlY3RhbmdsZScpO1xuXG52YXIgX2J1aWxkUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkUmVjdGFuZ2xlKTtcblxudmFyIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUgPSByZXF1aXJlKCcuL3V0aWxzL2J1aWxkUm91bmRlZFJlY3RhbmdsZScpO1xuXG52YXIgX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFJvdW5kZWRSZWN0YW5nbGUpO1xuXG52YXIgX2J1aWxkQ2lyY2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZENpcmNsZScpO1xuXG52YXIgX2J1aWxkQ2lyY2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkQ2lyY2xlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBHcmFwaGljc1JlbmRlcmVyID0gZnVuY3Rpb24gKF9PYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhHcmFwaGljc1JlbmRlcmVyLCBfT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgb2JqZWN0IHJlbmRlcmVyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmFwaGljc1JlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljc1JlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICBfdGhpcy5wcmltaXRpdmVTaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLy8gZWFzeSBhY2Nlc3MhXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMucHJpbWl0aXZlU2hhZGVyID0gbmV3IF9QcmltaXRpdmVTaGFkZXIyLmRlZmF1bHQodGhpcy5nbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGFQb29sLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2xbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXdlYkdMIHx8IGdyYXBoaWNzLmRpcnR5ICE9PSB3ZWJHTC5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljcyhncmFwaGljcyk7XG5cbiAgICAgICAgICAgIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhpcyAgY291bGQgYmUgc3BlZWRlZCB1cCBmb3Igc3VyZSFcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMucHJpbWl0aXZlU2hhZGVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGdyYXBoaWNzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB3ZWJHTC5kYXRhLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgd2ViR0xEYXRhID0gd2ViR0wuZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFkZXJUZW1wID0gd2ViR0xEYXRhLnNoYWRlcjtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXJUZW1wKTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSBncmFwaGljcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlclRlbXAudW5pZm9ybXMudGludCA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3MudGludCk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLmFscGhhID0gZ3JhcGhpY3Mud29ybGRBbHBoYTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyh3ZWJHTERhdGEudmFvKTtcblxuICAgICAgICAgICAgaWYgKHdlYkdMRGF0YS5uYXRpdmVMaW5lcykge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORVMsIDAsIHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoIC8gNik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YS52YW8uZHJhdyhnbC5UUklBTkdMRV9TVFJJUCwgd2ViR0xEYXRhLmluZGljZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gdXBkYXRlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzID0gZnVuY3Rpb24gdXBkYXRlR3JhcGhpY3MoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAvLyBnZXQgdGhlIGNvbnRleHRzIGdyYXBoaWNzIG9iamVjdFxuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgd2ViR0wgY29udGV4dCB0aW1lIHRvIGNyZWF0ZSBpdCFcbiAgICAgICAgaWYgKCF3ZWJHTCkge1xuICAgICAgICAgICAgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF0gPSB7IGxhc3RJbmRleDogMCwgZGF0YTogW10sIGdsOiBnbCwgY2xlYXJEaXJ0eTogLTEsIGRpcnR5OiAtMSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxhZyB0aGUgZ3JhcGhpY3MgYXMgbm90IGRpcnR5IGFzIHdlIGFyZSBhYm91dCB0byB1cGRhdGUgaXQuLi5cbiAgICAgICAgd2ViR0wuZGlydHkgPSBncmFwaGljcy5kaXJ0eTtcblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBjbGVhcmVkIHRoZSBncmFwaGljcyBvYmplY3Qgd2Ugd2lsbCBuZWVkIHRvIGNsZWFyIGV2ZXJ5IG9iamVjdFxuICAgICAgICBpZiAoZ3JhcGhpY3MuY2xlYXJEaXJ0eSAhPT0gd2ViR0wuY2xlYXJEaXJ0eSkge1xuICAgICAgICAgICAgd2ViR0wuY2xlYXJEaXJ0eSA9IGdyYXBoaWNzLmNsZWFyRGlydHk7XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbmQgcmV0dXJuIGFsbCB0aGUgd2ViR0xEYXRhcyB0byB0aGUgb2JqZWN0IHBvb2wgc28gdGhhbiBjYW4gYmUgcmV1c2VkIGxhdGVyIG9uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYkdMLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucHVzaCh3ZWJHTC5kYXRhW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIGFycmF5IGFuZCByZXNldCB0aGUgaW5kZXguLlxuICAgICAgICAgICAgd2ViR0wuZGF0YS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3ZWJHTERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB3ZWJHTERhdGFOYXRpdmVMaW5lcyA9IHZvaWQgMDtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGdyYXBoaWNzIGRhdGFzIGFuZCBjb25zdHJ1Y3QgZWFjaCBvbmUuLlxuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIGEgY29tcGxleCBmaWxsIHRoZW4gdGhlIG5ldyBzdGVuY2lsIGJ1ZmZlciB0ZWNobmlxdWUgd2lsbCBiZSB1c2VkXG4gICAgICAgIC8vIG90aGVyIHdpc2UgZ3JhcGhpY3Mgb2JqZWN0cyB3aWxsIGJlIHB1c2hlZCBpbnRvIGEgYmF0Y2guLlxuICAgICAgICBmb3IgKHZhciBfaSA9IHdlYkdMLmxhc3RJbmRleDsgX2kgPCBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtfaV07XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm5hdGl2ZUxpbmVzICYmIGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2ViR0xEYXRhTmF0aXZlTGluZXMgPSB0aGlzLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRQb2x5Mi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRSZWN0YW5nbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQyB8fCBkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRDaXJjbGUyLmRlZmF1bHQpKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgICgwLCBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGFsbCB0aGUgZGlydHkgZGF0YS4uLlxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCB3ZWJHTC5kYXRhLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHdlYkdMLmRhdGFbX2kyXTtcblxuICAgICAgICAgICAgaWYgKHdlYkdMRGF0YS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YS51cGxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gdGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgLSBUT0RPIEBBbHZpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuYXRpdmVMaW5lcyAtIGluZGljYXRlIHdoZXRoZXIgdGhlIHdlYkdMRGF0YSB1c2UgZm9yIG5hdGl2ZUxpbmVzLlxuICAgICAqIEByZXR1cm4geyp9IFRPRE9cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZ2V0V2ViR0xEYXRhID0gZnVuY3Rpb24gZ2V0V2ViR0xEYXRhKGdsLCB0eXBlLCBuYXRpdmVMaW5lcykge1xuICAgICAgICB2YXIgd2ViR0xEYXRhID0gZ2wuZGF0YVtnbC5kYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmICghd2ViR0xEYXRhIHx8IHdlYkdMRGF0YS5uYXRpdmVMaW5lcyAhPT0gbmF0aXZlTGluZXMgfHwgd2ViR0xEYXRhLnBvaW50cy5sZW5ndGggPiAzMjAwMDApIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5wb3AoKSB8fCBuZXcgX1dlYkdMR3JhcGhpY3NEYXRhMi5kZWZhdWx0KHRoaXMucmVuZGVyZXIuZ2wsIHRoaXMucHJpbWl0aXZlU2hhZGVyLCB0aGlzLnJlbmRlcmVyLnN0YXRlLmF0dHJpYnNTdGF0ZSk7XG4gICAgICAgICAgICB3ZWJHTERhdGEubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcbiAgICAgICAgICAgIHdlYkdMRGF0YS5yZXNldCh0eXBlKTtcbiAgICAgICAgICAgIGdsLmRhdGEucHVzaCh3ZWJHTERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2ViR0xEYXRhLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gd2ViR0xEYXRhO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JhcGhpY3NSZW5kZXJlcjtcbn0oX09iamVjdFJlbmRlcmVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3NSZW5kZXJlcjtcblxuXG5fV2ViR0xSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignZ3JhcGhpY3MnLCBHcmFwaGljc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzUmVuZGVyZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBiZXppZXJDdXJ2ZVRvO1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gU3RhcnRpbmcgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW3BhdGg9W11dIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQXJyYXkgb2YgcG9pbnRzIG9mIHRoZSBjdXJ2ZVxuICovXG5mdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgdmFyIHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gOCAmJiBhcmd1bWVudHNbOF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s4XSA6IFtdO1xuXG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgZHQgPSAwO1xuICAgIHZhciBkdDIgPSAwO1xuICAgIHZhciBkdDMgPSAwO1xuICAgIHZhciB0MiA9IDA7XG4gICAgdmFyIHQzID0gMDtcblxuICAgIHBhdGgucHVzaChmcm9tWCwgZnJvbVkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSkge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgZHQgPSAxIC0gajtcbiAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgcGF0aC5wdXNoKGR0MyAqIGZyb21YICsgMyAqIGR0MiAqIGogKiBjcFggKyAzICogZHQgKiB0MiAqIGNwWDIgKyB0MyAqIHRvWCwgZHQzICogZnJvbVkgKyAzICogZHQyICogaiAqIGNwWSArIDMgKiBkdCAqIHQyICogY3BZMiArIHQzICogdG9ZKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJlemllckN1cnZlVG8uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NvbnRhaW5lcjIgPSByZXF1aXJlKCcuLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG52YXIgX0NvbnRhaW5lcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250YWluZXIyKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX1JlbmRlclRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSk7XG5cbnZhciBfVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG52YXIgX0dyYXBoaWNzRGF0YSA9IHJlcXVpcmUoJy4vR3JhcGhpY3NEYXRhJyk7XG5cbnZhciBfR3JhcGhpY3NEYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzRGF0YSk7XG5cbnZhciBfU3ByaXRlID0gcmVxdWlyZSgnLi4vc3ByaXRlcy9TcHJpdGUnKTtcblxudmFyIF9TcHJpdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfQm91bmRzID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Cb3VuZHMnKTtcblxudmFyIF9Cb3VuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKTtcblxudmFyIF9iZXppZXJDdXJ2ZVRvMiA9IHJlcXVpcmUoJy4vdXRpbHMvYmV6aWVyQ3VydmVUbycpO1xuXG52YXIgX2JlemllckN1cnZlVG8zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmV6aWVyQ3VydmVUbzIpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgY2FudmFzUmVuZGVyZXIgPSB2b2lkIDA7XG52YXIgdGVtcE1hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcbnZhciB0ZW1wQ29sb3IxID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbnZhciB0ZW1wQ29sb3IyID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgR3JhcGhpY3MgPSBmdW5jdGlvbiAoX0NvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhHcmFwaGljcywgX0NvbnRhaW5lcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZUxpbmVzPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoKSB7XG4gICAgICAgIHZhciBuYXRpdmVMaW5lcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyYXBoaWNzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5maWxsQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sb3Igb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxpbmVDb2xvciA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyYXBoaWNzIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBcHBseSBhIHZhbHVlIG9mIDB4RkZGRkZGIHRvXG4gICAgICAgICAqIHJlc2V0IHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFVzZWQgdG8gY29tcGFyZSB0byB0aGUgY3VycmVudCB0aW50IGFuZFxuICAgICAgICAgKiBjaGVjayBpZiB0aGVyZXMgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJldlRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXJyYXkgY29udGFpbmluZyBzb21lIFdlYkdMLXJlbGF0ZWQgcHJvcGVydGllcyB1c2VkIGJ5IHRoZSBXZWJHTCByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIC8vIFRPRE8gLSBfd2ViZ2wgc2hvdWxkIHVzZSBhIHByb3RvdHlwZSBvYmplY3QsIG5vdCBhIHJhbmRvbSB1bmRvY3VtZW50ZWQgb2JqZWN0Li4uXG4gICAgICAgIF90aGlzLl93ZWJHTCA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2hhcGUgaXMgYmVpbmcgdXNlZCBhcyBhIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc01hc2sgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcycgcGFkZGluZyB1c2VkIGZvciBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhY2hlIG9mIHRoZSBsb2NhbCBib3VuZHMgdG8gcHJldmVudCByZWNhbGN1bGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBfQm91bmRzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuIElmIHRoaXMgaXMgc2V0IHRvIHRydWUgdGhlbiB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHdpbGwgYmUgcmVjYWxjdWxhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBuZWVkIHRvIGRvIGEgZmFzdCByZWN0IGNoZWNrIHVzaW5nIHRoZSBpZCBjb21wYXJlIG1ldGhvZFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmFzdFJlY3REaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhciB0aGUgZ3JhcGhpY3Mgd2ViR0wgZGF0YVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgbG9jYWwgYm91bmRzXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgY2FjaGVkIHNwcml0ZSBvYmplY3QgbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlZFNwcml0ZURpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgX3RoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZmFzdFJlY3QgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBHcmFwaGljcygpO1xuXG4gICAgICAgIGNsb25lLnJlbmRlcmFibGUgPSB0aGlzLnJlbmRlcmFibGU7XG4gICAgICAgIGNsb25lLmZpbGxBbHBoYSA9IHRoaXMuZmlsbEFscGhhO1xuICAgICAgICBjbG9uZS5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgY2xvbmUubGluZUNvbG9yID0gdGhpcy5saW5lQ29sb3I7XG4gICAgICAgIGNsb25lLnRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIGNsb25lLmJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICBjbG9uZS5pc01hc2sgPSB0aGlzLmlzTWFzaztcbiAgICAgICAgY2xvbmUuYm91bmRzUGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcbiAgICAgICAgY2xvbmUuZGlydHkgPSAwO1xuICAgICAgICBjbG9uZS5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRoaXMuY2FjaGVkU3ByaXRlRGlydHk7XG5cbiAgICAgICAgLy8gY29weSBncmFwaGljcyBkYXRhXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNsb25lLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvbmUuY3VycmVudFBhdGggPSBjbG9uZS5ncmFwaGljc0RhdGFbY2xvbmUuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNsb25lLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW5lV2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVTdHlsZSA9IGZ1bmN0aW9uIGxpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XG5cbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgIHRoaXMubGluZUNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMubGluZUFscGhhID0gYWxwaGE7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBoYWxmd2F5IHRocm91Z2ggYSBsaW5lPyBzdGFydCBhIG5ldyBvbmUhXG4gICAgICAgICAgICAgICAgdmFyIHNoYXBlID0gbmV3IF9tYXRoLlBvbHlnb24odGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMuc2xpY2UoLTIpKTtcblxuICAgICAgICAgICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaXRzIGVtcHR5IHNvIGxldHMganVzdCBzZXQgdGhlIGxpbmUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQ29sb3IgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYSA9IHRoaXMubGluZUFscGhhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiBtb3ZlVG8oeCwgeSkge1xuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihbeCwgeV0pO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvKHgsIHkpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbiA9IDIwO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBqID0gaSAvIG47XG5cbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoY3BYIC0gZnJvbVgpICogajtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoY3BZIC0gZnJvbVkpICogajtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoY3BYICsgKHRvWCAtIGNwWCkgKiBqIC0geGEpICogaiwgeWEgKyAoY3BZICsgKHRvWSAtIGNwWSkgKiBqIC0geWEpICogaik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICAgICAgKDAsIF9iZXppZXJDdXJ2ZVRvMy5kZWZhdWx0KShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICAgICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICAgICAgdmFyIG1tID0gTWF0aC5hYnMoYTEgKiBiMiAtIGIxICogYTIpO1xuXG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGQgPSBhMSAqIGExICsgYjEgKiBiMTtcbiAgICAgICAgICAgIHZhciBjYyA9IGEyICogYTIgKyBiMiAqIGIyO1xuICAgICAgICAgICAgdmFyIHR0ID0gYTEgKiBhMiArIGIxICogYjI7XG4gICAgICAgICAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgICAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgICAgICB2YXIgY3ggPSBrMSAqIGIyICsgazIgKiBiMTtcbiAgICAgICAgICAgIHZhciBjeSA9IGsxICogYTIgKyBrMiAqIGExO1xuICAgICAgICAgICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgICAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBxeCA9IGIyICogKGsxICsgajIpO1xuICAgICAgICAgICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgICAgICB2YXIgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuXG4gICAgICAgICAgICB0aGlzLmFyYyhjeCArIHgxLCBjeSArIHkxLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBiMSAqIGEyID4gYjIgKiBhMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiBhcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSB7XG4gICAgICAgIHZhciBhbnRpY2xvY2t3aXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IF9jb25zdC5QSV8yO1xuICAgICAgICB9IGVsc2UgaWYgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA8PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBfY29uc3QuUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgdmFyIHNlZ3MgPSBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gX2NvbnN0LlBJXzIpICogNDA7XG5cbiAgICAgICAgaWYgKHN3ZWVwID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzO1xuICAgICAgICB2YXIgc3RhcnRZID0gY3kgKyBNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cztcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHN0YXJ0WCB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSBzdGFydFkpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aGV0YSA9IHN3ZWVwIC8gKHNlZ3MgKiAyKTtcbiAgICAgICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcblxuICAgICAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICB2YXIgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuXG4gICAgICAgIHZhciBzZWdNaW51cyA9IHNlZ3MgLSAxO1xuXG4gICAgICAgIHZhciByZW1haW5kZXIgPSBzZWdNaW51cyAlIDEgLyBzZWdNaW51cztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVhbCA9IGkgKyByZW1haW5kZXIgKiBpO1xuXG4gICAgICAgICAgICB2YXIgYW5nbGUgPSB0aGV0YSArIHN0YXJ0QW5nbGUgKyB0aGV0YTIgKiByZWFsO1xuXG4gICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHZhciBzID0gLU1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goKGNUaGV0YSAqIGMgKyBzVGhldGEgKiBzKSAqIHJhZGl1cyArIGN4LCAoY1RoZXRhICogLXMgKyBzVGhldGEgKiBjKSAqIHJhZGl1cyArIGN5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkZpbGwgPSBmdW5jdGlvbiBiZWdpbkZpbGwoKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHRoaXMuZmlsbGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gYWxwaGE7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPD0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbCA9IHRoaXMuZmlsbGluZztcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmZpbGxDb2xvciA9IHRoaXMuZmlsbENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbEFscGhhID0gdGhpcy5maWxsQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiBlbmRGaWxsKCkge1xuICAgICAgICB0aGlzLmZpbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxBbHBoYSA9IDE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uIGRyYXdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLlJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uIGRyYXdSb3VuZGVkUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IF9tYXRoLlJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0NpcmNsZSA9IGZ1bmN0aW9uIGRyYXdDaXJjbGUoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5DaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiBkcmF3RWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5FbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uKHBhdGgpIHtcbiAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgYXNzaWdubWVudCBkZW9wdFxuICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjE6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICB2YXIgcG9pbnRzID0gcGF0aDtcblxuICAgICAgICB2YXIgY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgICBpZiAocG9pbnRzIGluc3RhbmNlb2YgX21hdGguUG9seWdvbikge1xuICAgICAgICAgICAgY2xvc2VkID0gcG9pbnRzLmNsb3NlZDtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSkge1xuICAgICAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgbGVhayBkZW9wdFxuICAgICAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4yOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgICAgIHBvaW50cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gPSBhcmd1bWVudHNbaV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgX21hdGguUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGNsb3NlZDtcblxuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYWJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U3RhciA9IGZ1bmN0aW9uIGRyYXdTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cykge1xuICAgICAgICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7XG5cbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuXG4gICAgICAgIHZhciBzdGFydEFuZ2xlID0gLTEgKiBNYXRoLlBJIC8gMiArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gX2NvbnN0LlBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gaSAqIGRlbHRhICsgc3RhcnRBbmdsZTtcblxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHggKyByICogTWF0aC5jb3MoYW5nbGUpLCB5ICsgciAqIE1hdGguc2luKGFuZ2xlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihwb2x5Z29uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWR0aCB8fCB0aGlzLmZpbGxpbmcgfHwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5saW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgdGhpcy5maWxsaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9zcHJpdGVSZWN0ID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuaXNGYXN0UmVjdCA9IGZ1bmN0aW9uIGlzRmFzdFJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDEgJiYgdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGUudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUICYmICF0aGlzLmdyYXBoaWNzRGF0YVswXS5saW5lV2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy5kaXJ0eSAhPT0gdGhpcy5mYXN0UmVjdERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmZhc3RSZWN0RGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgdGhpcy5fZmFzdFJlY3QgPSB0aGlzLmlzRmFzdFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gdGhpcyBjaGVjayBjYW4gYmUgbW92ZWQgdG8gZGlydHk/XG4gICAgICAgIGlmICh0aGlzLl9mYXN0UmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyU3ByaXRlUmVjdChyZW5kZXJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MucmVuZGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBzcHJpdGUgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJTcHJpdGVSZWN0ID0gZnVuY3Rpb24gX3JlbmRlclNwcml0ZVJlY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZTtcblxuICAgICAgICBpZiAoIXRoaXMuX3Nwcml0ZVJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBuZXcgX1Nwcml0ZTIuZGVmYXVsdChuZXcgX1RleHR1cmUyLmRlZmF1bHQoX1RleHR1cmUyLmRlZmF1bHQuV0hJVEUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcHJpdGUgPSB0aGlzLl9zcHJpdGVSZWN0O1xuXG4gICAgICAgIGlmICh0aGlzLnRpbnQgPT09IDB4ZmZmZmZmKSB7XG4gICAgICAgICAgICBzcHJpdGUudGludCA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxDb2xvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0MSA9IHRlbXBDb2xvcjE7XG4gICAgICAgICAgICB2YXIgdDIgPSB0ZW1wQ29sb3IyO1xuXG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxDb2xvciwgdDEpO1xuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh0aGlzLnRpbnQsIHQyKTtcblxuICAgICAgICAgICAgdDFbMF0gKj0gdDJbMF07XG4gICAgICAgICAgICB0MVsxXSAqPSB0MlsxXTtcbiAgICAgICAgICAgIHQxWzJdICo9IHQyWzJdO1xuXG4gICAgICAgICAgICBzcHJpdGUudGludCA9ICgwLCBfdXRpbHMucmdiMmhleCkodDEpO1xuICAgICAgICB9XG4gICAgICAgIHNwcml0ZS5hbHBoYSA9IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmZpbGxBbHBoYTtcbiAgICAgICAgc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBzcHJpdGUuYWxwaGE7XG4gICAgICAgIHNwcml0ZS5ibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcblxuICAgICAgICBzcHJpdGUuX3RleHR1cmUuX2ZyYW1lLndpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgICAgc3ByaXRlLl90ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSByZWN0LmhlaWdodDtcblxuICAgICAgICBzcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgc3ByaXRlLmFuY2hvci5zZXQoLXJlY3QueCAvIHJlY3Qud2lkdGgsIC1yZWN0LnkgLyByZWN0LmhlaWdodCk7XG4gICAgICAgIHNwcml0ZS5fb25BbmNob3JVcGRhdGUoKTtcblxuICAgICAgICBzcHJpdGUuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNYXNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGdyYXBoaWMgc2hhcGUgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKTtcblxuICAgICAgICAgICAgdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGIgPSB0aGlzLl9sb2NhbEJvdW5kcztcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIGxiLm1pblgsIGxiLm1pblksIGxiLm1heFgsIGxiLm1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZGF0YS5ob2xlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbX2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnVwZGF0ZUxvY2FsQm91bmRzID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIHZhciBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IDA7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBkYXRhLmxpbmVXaWR0aDtcblxuICAgICAgICAgICAgICAgIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54IC0gbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnkgLSBsaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUucmFkaXVzICsgbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLnJhZGl1cyArIGxpbmVXaWR0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBPTFlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNoYXBlLnBvaW50cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ3ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN5ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiArIDIgPCBwb2ludHMubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnRzW2ogKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gcG9pbnRzW2ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gcG9pbnRzW2ogKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeDIgLSB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gTWF0aC5hYnMoeTIgLSB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPCAxZS05KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ3ID0gKGggLyB3ICogZHkgKyBkeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmggPSAoaCAvIHcgKiBkeCArIGR5KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9ICh4MiArIHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gKHkyICsgeSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5YID0gY3ggLSBydyA8IG1pblggPyBjeCAtIHJ3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFggPSBjeCArIHJ3ID4gbWF4WCA/IGN4ICsgcncgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ZID0gY3kgLSByaCA8IG1pblkgPyBjeSAtIHJoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSBjeSArIHJoID4gbWF4WSA/IGN5ICsgcmggOiBtYXhZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluWCA9IDA7XG4gICAgICAgICAgICBtYXhYID0gMDtcbiAgICAgICAgICAgIG1pblkgPSAwO1xuICAgICAgICAgICAgbWF4WSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcblxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5YID0gbWluWCAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFggPSBtYXhYICsgcGFkZGluZztcblxuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5taW5ZID0gbWluWSAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1heFkgPSBtYXhZICsgcGFkZGluZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gVGhlIGdlbmVyYXRlZCBHcmFwaGljc0RhdGEgb2JqZWN0LlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlKHNoYXBlKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBjdXJyZW50IHBhdGghXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHZhciBkYXRhID0gbmV3IF9HcmFwaGljc0RhdGEyLmRlZmF1bHQodGhpcy5saW5lV2lkdGgsIHRoaXMubGluZUNvbG9yLCB0aGlzLmxpbmVBbHBoYSwgdGhpcy5maWxsQ29sb3IsIHRoaXMuZmlsbEFscGhhLCB0aGlzLmZpbGxpbmcsIHRoaXMubmF0aXZlTGluZXMsIHNoYXBlKTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgZGF0YS5zaGFwZS5jbG9zZWQgPSBkYXRhLnNoYXBlLmNsb3NlZCB8fCB0aGlzLmZpbGxpbmc7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgY2FudmFzIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gVGhlIHNjYWxlIG1vZGUgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZShzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gX1JlbmRlclRleHR1cmUyLmRlZmF1bHQuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgICAgICBpZiAoIWNhbnZhc1JlbmRlcmVyKSB7XG4gICAgICAgICAgICBjYW52YXNSZW5kZXJlciA9IG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHkodGVtcE1hdHJpeCk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC5pbnZlcnQoKTtcblxuICAgICAgICB0ZW1wTWF0cml4LnR4IC09IGJvdW5kcy54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5IC09IGJvdW5kcy55O1xuXG4gICAgICAgIGNhbnZhc1JlbmRlcmVyLnJlbmRlcih0aGlzLCBjYW52YXNCdWZmZXIsIHRydWUsIHRlbXBNYXRyaXgpO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXNCdWZmZXIuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jYW52YXMsIHNjYWxlTW9kZSwgJ2dyYXBoaWNzJyk7XG5cbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCgpIHtcbiAgICAgICAgLy8gb2sgc28gY2xvc2UgcGF0aCBhc3N1bWVzIG5leHQgb25lIGlzIGEgaG9sZSFcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGggJiYgY3VycmVudFBhdGguc2hhcGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNoYXBlLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGhvbGUgaW4gdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYWRkSG9sZSA9IGZ1bmN0aW9uIGFkZEhvbGUoKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgYSBob2xlIVxuICAgICAgICB2YXIgaG9sZSA9IHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmFkZEhvbGUoaG9sZS5zaGFwZSk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX0NvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIGVhY2ggd2ViZ2wgZGF0YSBlbnRyeSwgZGVzdHJveSB0aGUgV2ViR0xHcmFwaGljc0RhdGFcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5fd2ViZ2wpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fd2ViZ2xbaWRdLmRhdGEubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWJnbFtpZF0uZGF0YVtqXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc3ByaXRlUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fc3ByaXRlUmVjdC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dlYmdsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JhcGhpY3M7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmFwaGljcztcblxuXG5HcmFwaGljcy5fU1BSSVRFX1RFWFRVUkUgPSBudWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3MuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdHJpbUNhbnZhcztcbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcykge1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG5cbiAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHZhciBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbiA9IHBpeGVscy5sZW5ndGg7XG5cbiAgICB2YXIgYm91bmQgPSB7XG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgIGJvdHRvbTogbnVsbFxuICAgIH07XG4gICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgdmFyIHggPSB2b2lkIDA7XG4gICAgdmFyIHkgPSB2b2lkIDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApIHtcbiAgICAgICAgICAgIHggPSBpIC8gNCAlIHdpZHRoO1xuICAgICAgICAgICAgeSA9IH5+KGkgLyA0IC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQudG9wID0geTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLnJpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kLmJvdHRvbSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcblxuICAgIHZhciBkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoYm91bmQubGVmdCwgYm91bmQudG9wLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJpbUNhbnZhcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfU3ByaXRlMiA9IHJlcXVpcmUoJy4uL3Nwcml0ZXMvU3ByaXRlJyk7XG5cbnZhciBfU3ByaXRlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZTIpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9UZXh0U3R5bGUgPSByZXF1aXJlKCcuL1RleHRTdHlsZScpO1xuXG52YXIgX1RleHRTdHlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0U3R5bGUpO1xuXG52YXIgX1RleHRNZXRyaWNzID0gcmVxdWlyZSgnLi9UZXh0TWV0cmljcycpO1xuXG52YXIgX1RleHRNZXRyaWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRNZXRyaWNzKTtcblxudmFyIF90cmltQ2FudmFzID0gcmVxdWlyZSgnLi4vdXRpbHMvdHJpbUNhbnZhcycpO1xuXG52YXIgX3RyaW1DYW52YXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJpbUNhbnZhcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyogZXNsaW50IG1heC1kZXB0aDogWzIsIDhdICovXG5cblxudmFyIGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZVxufTtcblxuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZyxcbiAqIG9yIGFkZCBhIHdvcmRXcmFwIHByb3BlcnR5IHNldCB0byB0cnVlIGFuZCBhbmQgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eSB3aXRoIGEgdmFsdWUgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3RcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFRleHQgPSBmdW5jdGlvbiAoX1Nwcml0ZSkge1xuICAgIF9pbmhlcml0cyhUZXh0LCBfU3ByaXRlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dCk7XG5cbiAgICAgICAgY2FudmFzID0gY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUNhbnZhcyhjYW52YXMsIF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFLCAndGV4dCcpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8vIGJhc2UgdGV4dHVyZSBpcyBhbHJlYWR5IGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGNhY2hlLCBub3cgYWRkaW5nIHRoZSBhY3R1YWwgdGV4dHVyZVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF9UZXh0dXJlMi5kZWZhdWx0LmFkZFRvQ2FjaGUoX3RoaXMuX3RleHR1cmUsIF90aGlzLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1swXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jb250ZXh0ID0gX3RoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuIFRoaXMgaXMgc2V0IGF1dG9tYXRpY2FsbHkgYnkgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQocmVzcGVjdERpcnR5KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gX1RleHRNZXRyaWNzMi5kZWZhdWx0Lm1lYXN1cmVUZXh0KHRoaXMuX3RleHQsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgod2lkdGggKyBzdHlsZS5wYWRkaW5nICogMikgKiB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoKGhlaWdodCArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnJlc29sdXRpb24sIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblggPSB2b2lkIDA7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBzdHlsZS5kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3dCbHVyID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4U2hhZG93T2Zmc2V0ID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgIHZhciB5U2hhZG93T2Zmc2V0ID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNoYWRvdyBibHVyIGFuZCBhbHBoYSB0aGF0IHdhcyBzZXQgYnkgdGhlIGRyb3Agc2hhZG93LCBmb3IgdGhlIHJlZ3VsYXIgdGV4dFxuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcblxuICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGluZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgX2kgKiBsaW5lSGVpZ2h0ICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5KSB7XG4gICAgICAgIHZhciBpc1N0cm9rZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFyYWN0ZXJzID0gU3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHRleHQsICcnKTtcbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gJyc7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjaGFyYWN0ZXJzW2luZGV4KytdO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnQsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGN1cnJlbnQpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSAoMCwgX3RyaW1DYW52YXMyLmRlZmF1bHQpKGNhbnZhcyk7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnJlYWxXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgYmFzZVRleHR1cmUucmVhbEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGJhc2VUZXh0dXJlLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIHBhZGRpbmcgKiAyO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gcGFkZGluZyAqIDI7XG5cbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5lbWl0KCd1cGRhdGUnLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUucmVuZGVyV2ViR0wuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gX1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9vblN0eWxlQ2hhbmdlID0gZnVuY3Rpb24gX29uU3R5bGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZmlsbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29jb29uIG9uIGNhbnZhcysgY2Fubm90IGdlbmVyYXRlIHRleHR1cmVzLCBzbyB1c2UgdGhlIGZpcnN0IGNvbG91ciBpbnN0ZWFkXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGxbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmZpbGwuc2xpY2UoKTtcbiAgICAgICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcblxuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gX2NvbnN0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIDAsIHdpZHRoIC8gMiwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gKGZpbGwubGVuZ3RoICsgMSkgKiBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxpbmVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGggKyBfaTIgLyBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGZpbGwubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbX2kzXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW19pM107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW19pM10pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0LCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgX1RleHRTdHlsZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IF9UZXh0U3R5bGUyLmRlZmF1bHQoc3R5bGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09ICcnIHx8IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJyAnIDogdGV4dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0O1xufShfU3ByaXRlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gQnVmZmVyKHNpemUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyKTtcblxuICAgIHRoaXMudmVydGljZXMgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIEZsb2F0MzJBcnJheSBmb3IgcG9zaXRpb25zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIFVpbnQzMkFycmF5IGZvciB1dnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuICAgIHRoaXMucG9zaXRpb25zID0gbnVsbDtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoQnVmZmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnZmxvYXQgdGVzdCA9IDAuMTsnLCAnJWZvcmxvb3AlJywgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBjaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICAgIHZhciBjcmVhdGVUZW1wQ29udGV4dCA9ICFnbDtcblxuICAgIC8vIEBpZiBERUJVR1xuICAgIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuICAgIC8vIEBlbmRpZlxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIHZhciB0aW55Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgdGlueUNhbnZhcy53aWR0aCA9IDE7XG4gICAgICAgIHRpbnlDYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgICAgICBnbCA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQodGlueUNhbnZhcyk7XG4gICAgfVxuXG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgbWF4SWZzID0gbWF4SWZzIC8gMiB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIC8vIGdldCByaWQgb2YgY29udGV4dFxuICAgICAgICBpZiAoZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ2lmKHRlc3QgPT0gJyArIGkgKyAnLjApe30nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjtcblxudmFyIF9TaGFkZXIgPSByZXF1aXJlKCcuLi8uLi9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAndmVjNCBjb2xvcjsnLCAnZmxvYXQgdGV4dHVyZUlkID0gZmxvb3IodlRleHR1cmVJZCswLjUpOycsICclZm9ybG9vcCUnLCAnZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIoZ2wsIG1heFRleHR1cmVzKSB7XG4gICAgdmFyIHZlcnRleFNyYyA9ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yO1xcbn1cXG4nO1xuICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgbWF4VGV4dHVyZXMpO1xuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgdmFyIHNoYWRlciA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgIH1cblxuICAgIHNoYWRlci5iaW5kKCk7XG4gICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVycyA9IHNhbXBsZVZhbHVlcztcblxuICAgIHJldHVybiBzaGFkZXI7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSAnaWYodGV4dHVyZUlkID09ICcgKyBpICsgJy4wKSc7XG4gICAgICAgIH1cblxuICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICBzcmMgKz0gJ1xcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1snICsgaSArICddLCB2VGV4dHVyZUNvb3JkKTsnO1xuICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgIH1cblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICByZXR1cm4gc3JjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdmFsaWRhdGVDb250ZXh0O1xuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0KGdsKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGVDb250ZXh0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTERyYXdNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IFtvYmplY3Q9e31dIC0gVGhlIG9iamVjdCB0byBtYXAgaW50b1xuICogQHJldHVybiB7b2JqZWN0fSBUaGUgbWFwcGVkIGRyYXcgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpKGdsKSB7XG4gIHZhciBvYmplY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5QT0lOVFNdID0gZ2wuUE9JTlRTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORVNdID0gZ2wuTElORVM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX0xPT1BdID0gZ2wuTElORV9MT09QO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORV9TVFJJUF0gPSBnbC5MSU5FX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVTXSA9IGdsLlRSSUFOR0xFUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlRSSUFOR0xFX1NUUklQXSA9IGdsLlRSSUFOR0xFX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOXSA9IGdsLlRSSUFOR0xFX0ZBTjtcblxuICByZXR1cm4gb2JqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpIHtcbiAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5EU1RfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1JdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG5cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCBibGVuZCBtb2Rlc1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuRFNUX0FMUEhBLCBnbC5PTkUsIGdsLkRTVF9BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJMRU5EID0gMDtcbnZhciBERVBUSF9URVNUID0gMTtcbnZhciBGUk9OVF9GQUNFID0gMjtcbnZhciBDVUxMX0ZBQ0UgPSAzO1xudmFyIEJMRU5EX0ZVTkMgPSA0O1xuXG4vKipcbiAqIEEgV2ViR0wgc3RhdGUgbWFjaGluZXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKi9cblxudmFyIFdlYkdMU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFN0YXRlKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTFN0YXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBibGVuZCBtb2RlLi5cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGVbMF0gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBpbmRleCBpbiB0aGUgc3RhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFja0luZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YWNrIGhvbGRpbmcgYWxsIHRoZSBkaWZmZXJlbnQgc3RhdGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5tYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicyksXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdmFvLi5cbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIG5ldyBhY3RpdmUgc3RhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIC8vIG5leHQgc3RhdGUuLlxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF0gPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgICAgIH1cblxuICAgICAgICArK3RoaXMuc3RhY2tJbmRleDtcblxuICAgICAgICAvLyBjb3B5IHN0YXRlLi5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhdGVbaV0gPSB0aGlzLmFjdGl2ZVN0YXRlW2ldO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgYSBzdGF0ZSBvdXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrWy0tdGhpcy5zdGFja0luZGV4XTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRCbGVuZChzdGF0ZVtCTEVORF0pO1xuICAgICAgICB0aGlzLnNldERlcHRoVGVzdChzdGF0ZVtERVBUSF9URVNUXSk7XG4gICAgICAgIHRoaXMuc2V0RnJvbnRGYWNlKHN0YXRlW0ZST05UX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRDdWxsRmFjZShzdGF0ZVtDVUxMX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoc3RhdGVbQkxFTkRfRlVOQ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVkIGJsZW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGJsZW5kaW5nLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZCA9IGZ1bmN0aW9uIHNldEJsZW5kKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtCTEVORF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uIHNldERlcHRoVGVzdCh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbREVQVEhfVEVTVF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0RFUFRIX1RFU1RdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gc2V0Q3VsbEZhY2UodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uIHNldEZyb250RmFjZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbRlJPTlRfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0ZST05UX0ZBQ0VdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYWxsIHRoZSB2YW9zIGluIHVzZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnJlc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIHJlc2V0QXR0cmlidXRlcygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGVbaV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuYXR0cmliU3RhdGUuYXR0cmliU3RhdGUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlW19pXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbSBnb2luZyB0byBhc3N1bWUgb25lIGlzIGFsd2F5cyBhY3RpdmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IHRoaXMubWF4QXR0cmliczsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KF9pMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5yZXNldFRvRGVmYXVsdCA9IGZ1bmN0aW9uIHJlc2V0VG9EZWZhdWx0KCkge1xuICAgICAgICAvLyB1bmJpbmQgYW55IFZBTyBpZiB0aGV5IGV4aXN0Li5cbiAgICAgICAgaWYgKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBhbGwgYXR0cmlidXRlcy4uXG4gICAgICAgIHRoaXMucmVzZXRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtpXSA9IDMyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMU3RhdGU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMU3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFN0YXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci4gVGhpcyBjbGFzcyBtYW5hZ2VzIHRoZSBHUFUgYW5kIGVuc3VyZXMgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZFxuICogdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXhJZGxlID0gX3NldHRpbmdzMi5kZWZhdWx0LkdDX01BWF9JRExFO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICB0aGlzLm1vZGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTU9ERTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX2NvbnN0LkdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuKCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0uX21hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIC8vIG9ubHkgc3VwcG9ydHMgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlcyBhdCB0aGUgbW9tZW50IVxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbX2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uIHVubG9hZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG5cbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuX3RleHR1cmUgJiYgZGlzcGxheU9iamVjdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzKSB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZShkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZChkaXNwbGF5T2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWFuYWdlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFjayB0ZXh0dXJlcyBpbiB0aGUgcmVuZGVyZXIgc28gd2UgY2FuIG5vIGxvbmdlciBsaXN0ZW4gdG8gdGhlbSBvbiBkZXN0cnVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmdldFRleHR1cmUgPSBmdW5jdGlvbiBnZXRUZXh0dXJlKCkge31cbiAgICAvLyBlbXB0eVxuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGFuZC9vciBDcmVhdGVzIGEgV2ViR0wgdGV4dHVyZSBmb3IgdGhlIHJlbmRlcmVyJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgbG9jYXRpb24gdGhlIHRleHR1cmUgd2lsbCBiZSBib3VuZCB0by5cbiAgICAgKiBAcmV0dXJuIHtHTFRleHR1cmV9IFRoZSBnbCB0ZXh0dXJlLlxuICAgICAqL1xuICAgIDtcblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICAvLyBhc3N1bWUgaXQgZ29vZCFcbiAgICAgICAgLy8gdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIHZhciBpc1JlbmRlclRleHR1cmUgPSAhIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiBpcyB1bmRlZmluZWQgdGhlbiB0aGlzIG1heSBoYXZlIGJlZW4gY2FsbGVkIGJ5IG4gZXZlbnQuXG4gICAgICAgIC8vIHRoaXMgYmVpbmcgdGhlIGNhc2UgdGhlIHRleHR1cmUgbWF5IGFscmVhZHkgYmUgYm91bmQgdG8gYSBzbG90LiBBcyBhIHRleHR1cmUgY2FuIG9ubHkgYmUgYm91bmQgb25jZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgaXRzIGN1cnJlbnQgbG9jYXRpb24gaWYgaXQgZXhpc3RzLlxuICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgICAgICAvLyBUT0RPIG1heWJlIHdlIGNhbiB1c2UgdGV4dHVyZSBib3VuZCBpZHMgbGF0ZXIgb24uLi5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRleHR1cmUgaXMgYWxyZWFkeSBib3VuZC4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuXG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHRoaXMuZ2wsIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB0ZXh0dXJlLnNjYWxlTW9kZSwgdGV4dHVyZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRhcmdldC5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSByZW5kZXJUYXJnZXQudGV4dHVyZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlLkdMVGV4dHVyZSh0aGlzLmdsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuYmluZChsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS51cGxvYWQodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVNaXBtYXAoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwUmVwZWF0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzIHNvIHdlIG9ubHkgbmVlZCB0byB1cGRhdGUgaXQuLlxuICAgICAgICBlbHNlIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0ucmVzaXplKHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVpZCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBnbFRleHR1cmVzID0gdGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgdmFyIGdsUmVuZGVyVGFyZ2V0cyA9IHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlc1t1aWRdKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsVGV4dHVyZXNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBnbFRleHR1cmVzW3VpZF07XG5cbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5fbWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2xSZW5kZXJUYXJnZXRzICYmIGdsUmVuZGVyVGFyZ2V0c1t1aWRdKSB7XG4gICAgICAgICAgICBnbFJlbmRlclRhcmdldHNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgZ2xSZW5kZXJUYXJnZXRzW3VpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhbGwgdGhlIHRleHR1cmVzIGZyb20gV2ViR0xcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgLy8gZW1wdHkgYWxsIHRoZSBvbGQgZ2wgdGV4dHVyZXMgYXMgdGhleSBhcmUgdXNlbGVzcyBub3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgbWFuYWdlciBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgLy8gZGVzdHJveSBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX21hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcblxuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMudXBkYXRlVGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFuYWdlZFRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggPSBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeDtcbmV4cG9ydHMuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4ID0gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4O1xuZXhwb3J0cy5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBjYWxjdWxhdGVTcHJpdGVNYXRyaXg7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4XG4gKiBAcGFyYW0gZmlsdGVyQXJlYSB7UmVjdGFuZ2xlfSBUaGUgZmlsdGVyIGFyZWFcbiAqIEBwYXJhbSBzcHJpdGUge1Nwcml0ZX0gdGhlIHRhcmdldCBzcHJpdGVcbiAqIEBwYXJhbSBvdXRwdXRNYXRyaXgge01hdHJpeH0gQGFsdmluXG4gKiBAcHJpdmF0ZVxuICovXG4vLyBUT0RPIHBsYXlpbmcgYXJvdW5kIGhlcmUuLiB0aGlzIGlzIHRlbXBvcmFyeSAtICh3aWxsIGVuZCB1cCBpbiB0aGUgc2hhZGVyKVxuLy8gdGhpcyByZXR1cm5zIGEgbWF0cml4IHRoYXQgd2lsbCBub3JtYWxpc2UgbWFwIGZpbHRlciBjb3JkcyBpbiB0aGUgZmlsdGVyIHRvIHNjcmVlbiBzcGFjZVxuZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSkge1xuICAgIC8vIGxldCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5KE1hdHJpeC5URU1QX01BVFJJWCksXG4gICAgLy8gbGV0IHRleHR1cmUgPSB7d2lkdGg6MTEzNiwgaGVpZ2h0OjcwMH07Ly9zcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAvLyBUT0RPIHVud3JhcD9cbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKHRleHR1cmVTaXplLndpZHRoLCB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUpIHtcbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IHRleHR1cmVTaXplLndpZHRoIC8gZmlsdGVyQXJlYS53aWR0aDtcbiAgICB2YXIgdHJhbnNsYXRlU2NhbGVZID0gdGV4dHVyZVNpemUuaGVpZ2h0IC8gZmlsdGVyQXJlYS5oZWlnaHQ7XG5cbiAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuLy8gdGhpcyB3aWxsIG1hcCB0aGUgZmlsdGVyIGNvb3JkIHNvIHRoYXQgYSB0ZXh0dXJlIGNhbiBiZSB1c2VkIGJhc2VkIG9uIHRoZSB0cmFuc2Zvcm0gb2YgYSBzcHJpdGVcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplLCBzcHJpdGUpIHtcbiAgICB2YXIgb3JpZyA9IHNwcml0ZS5fdGV4dHVyZS5vcmlnO1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KHRleHR1cmVTaXplLndpZHRoLCAwLCAwLCB0ZXh0dXJlU2l6ZS5oZWlnaHQsIGZpbHRlckFyZWEueCwgZmlsdGVyQXJlYS55KTtcbiAgICB2YXIgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weShfbWF0aC5NYXRyaXguVEVNUF9NQVRSSVgpO1xuXG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyVHJhbnNmb3Jtcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4uL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuLi91dGlscy9RdWFkJyk7XG5cbnZhciBfUXVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX2ZpbHRlclRyYW5zZm9ybXMgPSByZXF1aXJlKCcuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMnKTtcblxudmFyIGZpbHRlclRyYW5zZm9ybXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmlsdGVyVHJhbnNmb3Jtcyk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBjbGFzc1xuICovXG52YXIgRmlsdGVyU3RhdGUgPVxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyU3RhdGUpO1xuXG4gICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICovXG5cblxudmFyIEZpbHRlck1hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhGaWx0ZXJNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlck1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlck1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIC8vIGtub3cgYWJvdXQgc3ByaXRlcyFcbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBfUXVhZDIuZGVmYXVsdChfdGhpcy5nbCwgcmVuZGVyZXIuc3RhdGUuYXR0cmliU3RhdGUpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlckNhY2hlID0ge307XG4gICAgICAgIC8vIHRvZG8gYWRkIGRlZmF1bHQhXG4gICAgICAgIF90aGlzLnBvb2wgPSB7fTtcblxuICAgICAgICBfdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5tYW5hZ2VkRmlsdGVycyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucHVzaEZpbHRlciA9IGZ1bmN0aW9uIHB1c2hGaWx0ZXIodGFyZ2V0LCBmaWx0ZXJzKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIGZpbHRlckRhdGEgPSB0aGlzLmZpbHRlckRhdGE7XG5cbiAgICAgICAgaWYgKCFmaWx0ZXJEYXRhKSB7XG4gICAgICAgICAgICBmaWx0ZXJEYXRhID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmZpbHRlclN0YWNrO1xuXG4gICAgICAgICAgICAvLyBhZGQgbmV3IHN0YWNrXG4gICAgICAgICAgICB2YXIgZmlsdGVyU3RhdGUgPSBuZXcgRmlsdGVyU3RhdGUoKTtcblxuICAgICAgICAgICAgZmlsdGVyU3RhdGUuc291cmNlRnJhbWUgPSBmaWx0ZXJTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnNpemU7XG4gICAgICAgICAgICBmaWx0ZXJTdGF0ZS5yZW5kZXJUYXJnZXQgPSByZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQuZmlsdGVyRGF0YSA9IGZpbHRlckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgc3RhY2s6IFtmaWx0ZXJTdGF0ZV1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IGZpbHRlckRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgZmlsdGVyIHN0YXRlLi5cbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbKytmaWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4XSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIG5vdyB3ZSBnbyBvZmYgdGhlIGZpbHRlciBvZiB0aGUgZmlyc3QgcmVzb2x1dGlvbi4uXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGFkZGluZyA9IGZpbHRlcnNbMF0ucGFkZGluZyB8IDA7XG4gICAgICAgIHZhciB0YXJnZXRCb3VuZHMgPSB0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB2YXIgc291cmNlRnJhbWUgPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgc291cmNlRnJhbWUueCA9ICh0YXJnZXRCb3VuZHMueCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgIHNvdXJjZUZyYW1lLnkgPSAodGFyZ2V0Qm91bmRzLnkgKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICBzb3VyY2VGcmFtZS53aWR0aCA9ICh0YXJnZXRCb3VuZHMud2lkdGggKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICBzb3VyY2VGcmFtZS5oZWlnaHQgPSAodGFyZ2V0Qm91bmRzLmhlaWdodCAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKGZpbHRlckRhdGEuc3RhY2tbMF0ucmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSkgey8vXG5cbiAgICAgICAgICAgIC8vIFRPRE8gd2Ugc2hvdWxkIGZpdCB0aGUgcmVjdCBhcm91bmQgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyc1swXS5hdXRvRml0KSB7XG4gICAgICAgICAgICBzb3VyY2VGcmFtZS5maXQoZmlsdGVyRGF0YS5zdGFja1swXS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXBwbHkgdGhlIHBhZGRpbmcgQWZ0ZXIgd2UgZml0IHRoZSBlbGVtZW50IHRvIHRoZSBzY3JlZW4uXG4gICAgICAgIC8vIHRoaXMgc2hvdWxkIHN0b3AgdGhlIHN0cmFuZ2Ugc2lkZSBlZmZlY3RzIHRoYXQgY2FuIG9jY3VyIHdoZW4gY3JvcHBpbmcgdG8gdGhlIGVkZ2VzXG4gICAgICAgIHNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcblxuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIC8vIGxldHMgcGxheSB0aGUgcGFkZGluZyBhZnRlciB3ZSBmaXQgdGhlIGVsZW1lbnQgdG8gdGhlIHNjcmVlbi5cbiAgICAgICAgLy8gdGhpcyBzaG91bGQgc3RvcCB0aGUgc3RyYW5nZSBzaWRlIGVmZmVjdHMgdGhhdCBjYW4gb2NjdXIgd2hlbiBjcm9wcGluZyB0byB0aGUgZWRnZXNcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQocmVuZGVyZXIuZ2wsIHNvdXJjZUZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIGN1cnJlbnRTdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICAgICAgY3VycmVudFN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIHJlbmRlciB0YXJnZXQgdG8gZHJhdyB0aGUgc2hhcGUgaW4gdGhlIHRvcCBjb3JuZXIuLlxuXG4gICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIHJlbmRlclRhcmdldC5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnBvcEZpbHRlciA9IGZ1bmN0aW9uIHBvcEZpbHRlcigpIHtcbiAgICAgICAgdmFyIGZpbHRlckRhdGEgPSB0aGlzLmZpbHRlckRhdGE7XG5cbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlckRhdGEuc3RhY2tbZmlsdGVyRGF0YS5pbmRleCAtIDFdO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICB0aGlzLnF1YWQubWFwKGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKS51cGxvYWQoKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IGN1cnJlbnRTdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LCBsYXN0U3RhdGUucmVuZGVyVGFyZ2V0LCBmYWxzZSwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCBjdXJyZW50U3RhdGUucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIGZsb3Auc2V0RnJhbWUoY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIGZpbmFsbHkgbGV0cyBjbGVhciB0aGUgcmVuZGVyIHRhcmdldCBiZWZvcmUgZHJhd2luZyB0byBpdC4uXG4gICAgICAgICAgICBmbG9wLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCB0cnVlLCBjdXJyZW50U3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHQgPSBmbGlwO1xuXG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRhcmdldCwgZmFsc2UsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChmbGlwKTtcbiAgICAgICAgICAgIHRoaXMuZnJlZVBvdFJlbmRlclRhcmdldChmbG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlckRhdGEuaW5kZXgtLTtcblxuICAgICAgICBpZiAoZmlsdGVyRGF0YS5pbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJ9IGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBzaGFkZXIgPSBmaWx0ZXIuZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAvLyBjYWNoZWluZy4uXG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyLmdsU2hhZGVyS2V5KSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyID0gdGhpcy5zaGFkZXJDYWNoZVtmaWx0ZXIuZ2xTaGFkZXJLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQodGhpcy5nbCwgZmlsdGVyLnZlcnRleFNyYywgZmlsdGVyLmZyYWdtZW50U3JjKTtcblxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHRoaXMuc2hhZGVyQ2FjaGVbZmlsdGVyLmdsU2hhZGVyS2V5XSA9IHNoYWRlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIgPSBmaWx0ZXIuZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wsIGZpbHRlci52ZXJ0ZXhTcmMsIGZpbHRlci5mcmFnbWVudFNyYyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgZG9uZSBvbmNlP1xuICAgICAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhudWxsKTtcblxuICAgICAgICAgICAgdGhpcy5xdWFkLmluaXRWYW8oc2hhZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRWYW8odGhpcy5xdWFkLnZhbyk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFJlbmRlclRhcmdldChvdXRwdXQpO1xuXG4gICAgICAgIGlmIChjbGVhcikge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgcmVuZGVyZXIuY2xlYXIoKTsgLy8gWzEsIDEsIDEsIDFdKTtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW4gY2FzZSB0aGUgcmVuZGVyIHRhcmdldCBpcyBiZWluZyBtYXNrZWQgdXNpbmcgYSBzY2lzc29yIHJlY3RcbiAgICAgICAgaWYgKG91dHB1dCA9PT0gcmVuZGVyZXIubWFza01hbmFnZXIuc2Npc3NvclJlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaFNjaXNzb3JNYXNrKG51bGwsIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnNjaXNzb3JEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICAvLyBmcmVlIHVuaXQgMCBmb3IgdXMsIGRvZXNuJ3QgbWF0dGVyIHdoYXQgd2FzIHRoZXJlXG4gICAgICAgIC8vIGRvbid0IHRyeSB0byByZXN0b3JlIGl0LCBiZWNhdXNlIHN5bmNVbmlmb3JtcyBjYW4gdXBsb2FkIGl0IHRvIGFub3RoZXIgc2xvdFxuICAgICAgICAvLyBhbmQgaXQnbGwgYmUgYSBwcm9ibGVtXG4gICAgICAgIHZhciB0ZXggPSB0aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbMF07XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzWzBdID0gdGV4O1xuICAgICAgICAvLyB0aGlzIHN5bmNzIHRoZSBQaXhpSlMgZmlsdGVycyAgdW5pZm9ybXMgd2l0aCBnbHNsIHVuaWZvcm1zXG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKHNoYWRlciwgZmlsdGVyKTtcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZmlsdGVyLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0LnRleHR1cmUudGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5xdWFkLnZhby5kcmF3KHRoaXMucmVuZGVyZXIuZ2wuVFJJQU5HTEVTLCA2LCAwKTtcblxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXguX2dsVGV4dHVyZXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHVuaWZvcm1zIG9mIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dMU2hhZGVyfSBzaGFkZXIgLSBUaGUgdW5kZXJseWluZyBnbCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB3ZSBhcmUgc3luY2hyb25pemluZy5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuc3luY1VuaWZvcm1zID0gZnVuY3Rpb24gc3luY1VuaWZvcm1zKHNoYWRlciwgZmlsdGVyKSB7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGZpbHRlci51bmlmb3JtRGF0YTtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZmlsdGVyLnVuaWZvcm1zO1xuXG4gICAgICAgIC8vIDAgaXMgcmVzZXJ2ZWQgZm9yIHRoZSBQaXhpSlMgdGV4dHVyZSBzbyB3ZSBzdGFydCBhdCAxIVxuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHZvaWQgMDtcblxuICAgICAgICAvLyBmaWx0ZXJBcmVhIGFuZCBmaWx0ZXJDbGFtcCB0aGF0IGFyZSBoYW5kbGVkIGJ5IEZpbHRlck1hbmFnZXIgZGlyZWN0bHlcbiAgICAgICAgLy8gdGhleSBtdXN0IG5vdCBhcHBlYXIgaW4gdW5pZm9ybURhdGFcblxuICAgICAgICBpZiAoc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IHNoYWRlci51bmlmb3Jtcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLnk7XG5cbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5maWx0ZXJBcmVhID0gZmlsdGVyQXJlYTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB0aGlzIHRvIGNsYW1wIGRpc3BsYWNlZCB0ZXh0dXJlIGNvb3JkcyBzbyB0aGV5IGJlbG9uZyB0byBmaWx0ZXJBcmVhXG4gICAgICAgIC8vIHNlZSBkaXNwbGFjZW1lbnRGaWx0ZXIgZnJhZ21lbnQgc2hhZGVyIGZvciBhbiBleGFtcGxlXG4gICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXApIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0ZSB8fCB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICAgICAgdmFyIGZpbHRlckNsYW1wID0gc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wO1xuXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFswXSA9IDA7XG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFsxXSA9IDA7XG4gICAgICAgICAgICBmaWx0ZXJDbGFtcFsyXSA9IChjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGggLSAxKSAvIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzNdID0gKGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgLSAxKSAvIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGZpbHRlckNsYW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyBDYWNoZWluZyBsYXllci4uXG4gICAgICAgIGZvciAodmFyIGkgaW4gdW5pZm9ybURhdGEpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdW5pZm9ybURhdGFbaV0udHlwZTtcblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzYW1wbGVyMmQnICYmIHVuaWZvcm1zW2ldICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVuaWZvcm1zW2ldLmJhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHRoaXMucmVuZGVyZXIuYmluZFRleHR1cmUodW5pZm9ybXNbaV0uYmFzZVRleHR1cmUsIHRleHR1cmVDb3VudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBoZWxwZnVsIGFzIHJlbmRlclRhcmdldHMgY2FuIGFsc28gYmUgc2V0LlxuICAgICAgICAgICAgICAgICAgICAvLyBBbHRob3VnaCB0aGlua2luZyBhYm91dCBpdCwgd2UgY291bGQgcHJvYmFibHlcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSB0aGUgZmlsdGVyIHRleHR1cmUgY2FjaGUgcmV0dXJuIGEgUmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhhbiBhIHJlbmRlclRhcmdldFxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlc1t0ZXh0dXJlQ291bnRdID0gdGhpcy5yZW5kZXJlci5lbXB0eVRleHR1cmVzW3RleHR1cmVDb3VudF07XG4gICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0ZXh0dXJlQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zW2ldLnRleHR1cmUuYmluZCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWF0MycpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdHMgUGl4aUpTIG1hdHJpeC4uXG4gICAgICAgICAgICAgICAgaWYgKHVuaWZvcm1zW2ldLmEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXS50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZlYzInKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgaXRzIGEgcG9pbnQuLlxuICAgICAgICAgICAgICAgIGlmICh1bmlmb3Jtc1tpXS54ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IHNoYWRlci51bmlmb3Jtc1tpXSB8fCBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhbFswXSA9IHVuaWZvcm1zW2ldLng7XG4gICAgICAgICAgICAgICAgICAgIHZhbFsxXSA9IHVuaWZvcm1zW2ldLnk7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hhZGVyLnVuaWZvcm1zLmRhdGFbaV0udmFsdWUgIT09IHVuaWZvcm1EYXRhW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJlbmRlciB0YXJnZXQgZnJvbSB0aGUgcG9vbCwgb3IgY3JlYXRlcyBhIG5ldyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHdlIGNsZWFyIHRoZSByZW5kZXIgdGV4dHVyZSB3aGVuIHdlIGdldCBpdD9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSB0YXJnZXQuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUYXJnZXR9IFRoZSBuZXcgcmVuZGVyIHRhcmdldFxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5nZXRSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiBnZXRSZW5kZXJUYXJnZXQoY2xlYXIsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRQb3RSZW5kZXJUYXJnZXQodGhpcy5yZW5kZXJlci5nbCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGN1cnJlbnRTdGF0ZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICByZW5kZXJUYXJnZXQuc2V0RnJhbWUoY3VycmVudFN0YXRlLmRlc3RpbmF0aW9uRnJhbWUsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRhcmdldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlbmRlciB0YXJnZXQgdG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgLSBUaGUgcmVuZGVyIHRhcmdldCB0byByZXR1cm4uXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnJldHVyblJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIHJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICpcbiAgICAgKiBUT0RPIHBsYXlpbmcgYXJvdW5kIGhlcmUuLiB0aGlzIGlzIHRlbXBvcmFyeSAtICh3aWxsIGVuZCB1cCBpbiB0aGUgc2hhZGVyKVxuICAgICAqIHRoaXMgcmV0dXJucyBhIG1hdHJpeCB0aGF0IHdpbGwgbm9ybWFsaXNlIG1hcCBmaWx0ZXIgY29yZHMgaW4gdGhlIGZpbHRlciB0byBzY3JlZW4gc3BhY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIHRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUcmFuc2Zvcm1zLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB2VGV4dHVyZUNvb3JkIHRvIHRoaXMgbWF0cml4IHRvIGFjaGlldmUgKDAsMCwxLDEpIGZvciBmaWx0ZXJBcmVhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUcmFuc2Zvcm1zLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSwgY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBtYXAgdGhlIGZpbHRlciBjb29yZCBzbyB0aGF0IGEgdGV4dHVyZSBjYW4gYmUgdXNlZCBiYXNlZCBvbiB0aGUgdHJhbnNmb3JtIG9mIGEgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRyYW5zZm9ybXMuY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUsIHNwcml0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIE1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gY29udGV4dCB3YXMgbG9zdCwgZG8gbm90IGZyZWUgc2hhZGVyc1xuICAgICAqXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgY29udGV4dExvc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gdGhpcy5tYW5hZ2VkRmlsdGVycztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbaV0uZ2xTaGFkZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyQ2FjaGUgPSB7fTtcbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdCkge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVBvb2woKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9vbCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBUT0RPIG1vdmUgdG8gYSBzZXBlcmF0ZSBjbGFzcyBjb3VsZCBiZSBvbiByZW5kZXJlcj9cbiAgICAgKiBhbHNvIC0gY291bGQgY2F1c2UgaXNzdWUgd2l0aCBtdWx0aXBsZSBjb250ZXh0cz9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHdlYmdsIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGFyZ2V0fSBUaGUgbmV3IHJlbmRlciB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFBvdFJlbmRlclRhcmdldChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICAvLyBUT0RPIHlvdSBjb3VsZCByZXR1cm4gYSBiaWdnZXIgdGV4dHVyZSBpZiB0aGVyZSBpcyBub3Qgb25lIGluIHRoZSBwb29sP1xuICAgICAgICBtaW5XaWR0aCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbldpZHRoICogcmVzb2x1dGlvbik7XG4gICAgICAgIG1pbkhlaWdodCA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0Lm5leHRQb3cyKG1pbkhlaWdodCAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHZhciBrZXkgPSAobWluV2lkdGggJiAweEZGRkYpIDw8IDE2IHwgbWluSGVpZ2h0ICYgMHhGRkZGO1xuXG4gICAgICAgIGlmICghdGhpcy5wb29sW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMucG9vbFtrZXldID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5wb29sW2tleV0ucG9wKCk7XG5cbiAgICAgICAgLy8gY3JlYXRpbmcgcmVuZGVyIHRhcmdldCB3aWxsIGNhdXNlIHRleHR1cmUgdG8gYmUgYm91bmQhXG4gICAgICAgIGlmICghcmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyB0ZW1wb3JhcnkgYnlwYXNzIGNhY2hlLi5cbiAgICAgICAgICAgIHZhciB0ZXggPSB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbMF07XG5cbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuXG4gICAgICAgICAgICAvLyBpbnRlcm5hbGx5IC0gdGhpcyB3aWxsIGNhdXNlIGEgdGV4dHVyZSB0byBiZSBib3VuZC4uXG4gICAgICAgICAgICByZW5kZXJUYXJnZXQgPSBuZXcgX1JlbmRlclRhcmdldDIuZGVmYXVsdChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgbnVsbCwgMSk7XG5cbiAgICAgICAgICAgIC8vIHNldCB0aGUgY3VycmVudCBvbmUgYmFja1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4Ll9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFudWFsbHkgdHdlYWsgdGhlIHJlc29sdXRpb24uLi5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG5vdCBtb2RpZnkgdGhlIHNpemUgb2YgdGhlIGZyYW1lIGJ1ZmZlciwganVzdCBpdHMgcmVzb2x1dGlvbi5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICByZW5kZXJUYXJnZXQuZGVmYXVsdEZyYW1lLndpZHRoID0gcmVuZGVyVGFyZ2V0LnNpemUud2lkdGggPSBtaW5XaWR0aCAvIHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUuaGVpZ2h0ID0gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0ID0gbWluSGVpZ2h0IC8gcmVzb2x1dGlvbjtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gZW1wdHlQb29sKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucG9vbCkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy5wb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRhcmdldCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZnJlZVBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHZhciBtaW5XaWR0aCA9IHJlbmRlclRhcmdldC5zaXplLndpZHRoICogcmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgIHZhciBtaW5IZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgKiByZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGtleSA9IChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYgfCBtaW5IZWlnaHQgJiAweEZGRkY7XG5cbiAgICAgICAgdGhpcy5wb29sW2tleV0ucHVzaChyZW5kZXJUYXJnZXQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyTWFuYWdlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpbHRlck1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RlbmNpbE1hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhTdGVuY2lsTWFuYWdlciwgX1dlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGVuY2lsTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RlbmNpbE1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzW119IHN0ZW5jaWxNYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gc2V0TWFza1N0YWNrKHN0ZW5jaWxNYXNrU3RhY2spIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gc3RlbmNpbE1hc2tTdGFjaztcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgbWFza1xuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUucHVzaFN0ZW5jaWwgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbChncmFwaGljcykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmF0dGFjaFN0ZW5jaWxCdWZmZXIoKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgcHJldk1hc2tDb3VudCA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrLnB1c2goZ3JhcGhpY3MpO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIoZ3JhcGhpY3MpO1xuXG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUucG9wU3RlbmNpbCA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWwoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIoZ3JhcGhpY3MpO1xuXG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gX3VzZUN1cnJlbnQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gX2dldEJpdHdpc2VNYXNrKCkge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCkgLSAxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2suc3RlbmNpbFN0YWNrID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0ZW5jaWxNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RlbmNpbE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGVuY2lsTWFuYWdlci5qcy5tYXAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXh0cmFjdFVuaWZvcm1zRnJvbVNyYztcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRlZmF1bHRWYWx1ZSA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LnNoYWRlci5kZWZhdWx0VmFsdWU7XG5cbmZ1bmN0aW9uIGV4dHJhY3RVbmlmb3Jtc0Zyb21TcmModmVydGV4U3JjLCBmcmFnbWVudFNyYywgbWFzaykge1xuICAgIHZhciB2ZXJ0VW5pZm9ybXMgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nKHZlcnRleFNyYywgbWFzayk7XG4gICAgdmFyIGZyYWdVbmlmb3JtcyA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcoZnJhZ21lbnRTcmMsIG1hc2spO1xuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odmVydFVuaWZvcm1zLCBmcmFnVW5pZm9ybXMpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nKHN0cmluZykge1xuICAgIHZhciBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8ZmlsdGVyQXJlYXxmaWx0ZXJDbGFtcCkkJyk7XG5cbiAgICB2YXIgdW5pZm9ybXMgPSB7fTtcbiAgICB2YXIgbmFtZVNwbGl0ID0gdm9pZCAwO1xuXG4gICAgLy8gY2xlYW4gdGhlIGxpbmVzIGEgbGl0dGxlIC0gcmVtb3ZlIGV4dHJhIHNwYWNlcyAvIHRhYnMgZXRjXG4gICAgLy8gdGhlbiBzcGxpdCBhbG9uZyAnOydcbiAgICB2YXIgbGluZXMgPSBzdHJpbmcucmVwbGFjZSgvXFxzKy9nLCAnICcpLnNwbGl0KC9cXHMqO1xccyovKTtcblxuICAgIC8vIGxvb3AgdGhyb3VnaC4uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldLnRyaW0oKTtcblxuICAgICAgICBpZiAobGluZS5pbmRleE9mKCd1bmlmb3JtJykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHNwbGl0TGluZSA9IGxpbmUuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gc3BsaXRMaW5lWzFdO1xuXG4gICAgICAgICAgICB2YXIgbmFtZSA9IHNwbGl0TGluZVsyXTtcbiAgICAgICAgICAgIHZhciBzaXplID0gMTtcblxuICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignWycpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBhcnJheSFcbiAgICAgICAgICAgICAgICBuYW1lU3BsaXQgPSBuYW1lLnNwbGl0KC9cXFt8XS8pO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lU3BsaXRbMF07XG4gICAgICAgICAgICAgICAgc2l6ZSAqPSBOdW1iZXIobmFtZVNwbGl0WzFdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuYW1lLm1hdGNoKG1hc2tSZWdleCkpIHtcbiAgICAgICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5pZm9ybXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0VW5pZm9ybXNGcm9tU3JjLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbnZhciBfU3ByaXRlTWFza0ZpbHRlciA9IHJlcXVpcmUoJy4uL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyJyk7XG5cbnZhciBfU3ByaXRlTWFza0ZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGVNYXNrRmlsdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5XZWJHTE1hbmFnZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXNrTWFuYWdlciA9IGZ1bmN0aW9uIChfV2ViR0xNYW5hZ2VyKSB7XG4gICAgX2luaGVyaXRzKE1hc2tNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIHdlIGRvbid0IG5lZWQgYm90aCFcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1dlYkdMTWFuYWdlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2Npc3NvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zY2lzc29yRGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmVuYWJsZVNjaXNzb3IgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLmFscGhhTWFza1Bvb2wgPSBbXTtcbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIC8vIFRPRE8gdGhlIHJvb3QgY2hlY2sgbWVhbnMgc2Npc3NvciByZWN0IHdpbGwgbm90XG4gICAgICAgIC8vIGJlIHVzZWQgb24gcmVuZGVyIHRleHR1cmVzIG1vcmUgaW5mbyBoZXJlOlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvcHVsbC8zNTQ1XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmICF0aGlzLnNjaXNzb3IgJiYgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnJvb3QgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggJiYgbWFza0RhdGEuaXNGYXN0UmVjdCgpKSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbWFza0RhdGEud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHZhciByb3QgPSBNYXRoLmF0YW4yKG1hdHJpeC5iLCBtYXRyaXguYSk7XG5cbiAgICAgICAgICAgIC8vIHVzZSB0aGUgbmVhcmVzdCBkZWdyZWUhXG4gICAgICAgICAgICByb3QgPSBNYXRoLnJvdW5kKHJvdCAqICgxODAgLyBNYXRoLlBJKSk7XG5cbiAgICAgICAgICAgIGlmIChyb3QgJSA5MCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIGlmIChtYXNrRGF0YS50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb3BTdGVuY2lsTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIHNwcml0ZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gbWFza0RhdGEgLSBTcHJpdGUgdG8gYmUgdXNlZCBhcyB0aGUgbWFza1xuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgX1Nwcml0ZU1hc2tGaWx0ZXIyLmRlZmF1bHQobWFza0RhdGEpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5yZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubWFza1Nwcml0ZSA9IG1hc2tEYXRhO1xuXG4gICAgICAgIC8vIFRPRE8gLSBtYXkgY2F1c2UgaXNzdWVzIVxuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tEYXRhLmdldEJvdW5kcyh0cnVlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0YXJnZXQsIGFscGhhTWFza0ZpbHRlcik7XG5cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gcG9wU3ByaXRlTWFzaygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4LS07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnB1c2hTdGVuY2lsKG1hc2tEYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwb3BTdGVuY2lsTWFzaygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWxNYW5hZ2VyLnBvcFN0ZW5jaWwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuXG5cbiAgICBNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICB2YXIgYm91bmRzID0gbWFza0RhdGEuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgYm91bmRzLmZpdChyZW5kZXJUYXJnZXQuc2l6ZSk7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmVuYWJsZSh0aGlzLnJlbmRlcmVyLmdsLlNDSVNTT1JfVEVTVCk7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKGJvdW5kcy54ICogcmVzb2x1dGlvbiwgKHJlbmRlclRhcmdldC5yb290ID8gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IDogYm91bmRzLnkpICogcmVzb2x1dGlvbiwgYm91bmRzLndpZHRoICogcmVzb2x1dGlvbiwgYm91bmRzLmhlaWdodCAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG1hc2tEYXRhO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTY2lzc29yTWFzayA9IGZ1bmN0aW9uIHBvcFNjaXNzb3JNYXNrKCkge1xuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbXVzdCBiZSBzY2lzc29yIVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1hc2tNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTWFza01hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG52YXIgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyID0gcmVxdWlyZSgnLi9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcicpO1xuXG52YXIgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyKTtcblxudmFyIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyJyk7XG5cbnZhciBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcik7XG5cbnZhciBfQmF0Y2hCdWZmZXIgPSByZXF1aXJlKCcuL0JhdGNoQnVmZmVyJyk7XG5cbnZhciBfQmF0Y2hCdWZmZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hCdWZmZXIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2JpdFR3aWRkbGUgPSByZXF1aXJlKCdiaXQtdHdpZGRsZScpO1xuXG52YXIgX2JpdFR3aWRkbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYml0VHdpZGRsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRJQ0sgPSAwO1xudmFyIFRFWFRVUkVfVElDSyA9IDA7XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuXG52YXIgU3ByaXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoX09iamVjdFJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFNwcml0ZVJlbmRlcmVyLCBfT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdmFsdWVzIHNlbnQgaW4gdGhlIHZlcnRleCBidWZmZXIuXG4gICAgICAgICAqIGFWZXJ0ZXhQb3NpdGlvbigyKSwgYVRleHR1cmVDb29yZCgxKSwgYUNvbG9yKDEpLCBhVGV4dHVyZUlkKDEpID0gNVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnZlcnRTaXplID0gNTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIHZlcnRleCBpbmZvcm1hdGlvbiBpbiBieXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydEJ5dGVTaXplID0gX3RoaXMudmVydFNpemUgKiA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGltYWdlcyBpbiB0aGUgU3ByaXRlUmVuZGVyZXIgYmVmb3JlIGl0IGZsdXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNpemUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuU1BSSVRFX0JBVENIX1NJWkU7IC8vIDIwMDAgaXMgYSBuaWNlIGJhbGFuY2UgYmV0d2VlbiBtb2JpbGUgLyBkZXNrdG9wXG5cbiAgICAgICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBieXRlcyBpbiBvdXIgYmF0Y2hcbiAgICAgICAgLy8gbGV0IG51bVZlcnRzID0gdGhpcy5zaXplICogNCAqIHRoaXMudmVydEJ5dGVTaXplO1xuXG4gICAgICAgIF90aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubmV4dFBvdzIoX3RoaXMuc2l6ZSk7IGkgKj0gMikge1xuICAgICAgICAgICAgX3RoaXMuYnVmZmVycy5wdXNoKG5ldyBfQmF0Y2hCdWZmZXIyLmRlZmF1bHQoaSAqIDQgKiBfdGhpcy52ZXJ0Qnl0ZVNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9ICgwLCBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMi5kZWZhdWx0KShfdGhpcy5zaXplKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVycyB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqIHRoZXJlIGlzIGEgc2hhZGVyIGZvciBlYWNoIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSByZW5kZXJlcmQuXG4gICAgICAgICAqIFRoZXNlIHNoYWRlcnMgd2lsbCBhbHNvIGJlIGdlbmVyYXRlZCBvbiB0aGUgZmx5IGFzIHJlcXVpcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5ncm91cHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IF90aGlzLnNpemU7IGsrKykge1xuICAgICAgICAgICAgX3RoaXMuZ3JvdXBzW2tdID0geyB0ZXh0dXJlczogW10sIHRleHR1cmVDb3VudDogMCwgaWRzOiBbXSwgc2l6ZTogMCwgc3RhcnQ6IDAsIGJsZW5kOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zcHJpdGVzID0gW107XG5cbiAgICAgICAgX3RoaXMudmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICBfdGhpcy52YW9zID0gW107XG5cbiAgICAgICAgX3RoaXMudmFvTWF4ID0gMjtcbiAgICAgICAgX3RoaXMudmVydGV4Q291bnQgPSAwO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmxlZ2FjeSkge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLCBfc2V0dGluZ3MyLmRlZmF1bHQuU1BSSVRFX01BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAoMCwgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjIuZGVmYXVsdCkodGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gKDAsIF9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjIuZGVmYXVsdCkoZ2wsIHRoaXMuTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAvLyBjcmVhdGUgYSBjb3VwbGUgb2YgYnVmZmVyc1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXIgbWF5IG9taXQgYVRleHR1cmVJZFxuICAgICAgICAvLyBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgIHZhciBhdHRycyA9IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhb01heDsgaSsrKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy52ZXJ0ZXhCdWZmZXJzW2ldID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBudWxsLCBnbC5TVFJFQU1fRFJBVyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIHZhbyBvYmplY3QgdGhhdCB3aWxsIHJlbmRlci4uXG4gICAgICAgICAgICB2YXIgdmFvID0gdGhpcy5yZW5kZXJlci5jcmVhdGVWYW8oKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVmVydGV4UG9zaXRpb24sIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDApLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlQ29vcmQsIGdsLlVOU0lHTkVEX1NIT1JULCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMiAqIDQpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFDb2xvciwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDMgKiA0KTtcblxuICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICB2YW8uYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVJZCwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgNCAqIDQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZhb3NbaV0gPSB2YW87XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZhbyA9IHRoaXMudmFvc1swXTtcbiAgICAgICAgdGhpcy5jdXJyZW50QmxlbmRNb2RlID0gOTk5OTk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzID0gbmV3IEFycmF5KHRoaXMuTUFYX1RFWFRVUkVTKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJlZm9yZSB0aGUgcmVuZGVyZXIgc3RhcnRzIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiBvblByZXJlbmRlcigpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuIHVzaW5nIHRoaXMgc3ByaXRlYmF0Y2hcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihzcHJpdGUpIHtcbiAgICAgICAgLy8gVE9ETyBzZXQgYmxlbmQgbW9kZXMuLlxuICAgICAgICAvLyBjaGVjayB0ZXh0dXJlLi5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID49IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSB1dnMgZm9yIHRoZSB0ZXh0dXJlXG5cbiAgICAgICAgLy8gaWYgdGhlIHV2cyBoYXZlIG5vdCB1cGRhdGVkIHRoZW4gbm8gcG9pbnQgcmVuZGVyaW5nIGp1c3QgeWV0IVxuICAgICAgICBpZiAoIXNwcml0ZS5fdGV4dHVyZS5fdXZzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwdXNoIGEgdGV4dHVyZS5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBiYXRjaHNpemVcbiAgICAgICAgdGhpcy5zcHJpdGVzW3RoaXMuY3VycmVudEluZGV4KytdID0gc3ByaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSB0aGlzLk1BWF9URVhUVVJFUztcblxuICAgICAgICB2YXIgbnAyID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubmV4dFBvdzIodGhpcy5jdXJyZW50SW5kZXgpO1xuICAgICAgICB2YXIgbG9nMiA9IF9iaXRUd2lkZGxlMi5kZWZhdWx0LmxvZzIobnAyKTtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1tsb2cyXTtcblxuICAgICAgICB2YXIgc3ByaXRlcyA9IHRoaXMuc3ByaXRlcztcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuXG4gICAgICAgIHZhciBmbG9hdDMyVmlldyA9IGJ1ZmZlci5mbG9hdDMyVmlldztcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBidWZmZXIudWludDMyVmlldztcblxuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHRoaXMuYm91bmRUZXh0dXJlcztcbiAgICAgICAgdmFyIHJlbmRlcmVyQm91bmRUZXh0dXJlcyA9IHRoaXMucmVuZGVyZXIuYm91bmRUZXh0dXJlcztcbiAgICAgICAgdmFyIHRvdWNoID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBncm91cENvdW50ID0gMTtcbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBncm91cHNbMF07XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgdXZzID0gdm9pZCAwO1xuICAgICAgICB2YXIgYmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW3Nwcml0ZXNbMF0uX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhID8gMSA6IDBdW3Nwcml0ZXNbMF0uYmxlbmRNb2RlXTtcblxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuXG4gICAgICAgIFRJQ0srKztcblxuICAgICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgICAvLyBjb3B5IHRleHR1cmVzLi5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IE1BWF9URVhUVVJFUzsgKytpKSB7XG4gICAgICAgICAgICB2YXIgYnQgPSByZW5kZXJlckJvdW5kVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChidC5fZW5hYmxlZCA9PT0gVElDSykge1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBidDtcbiAgICAgICAgICAgIGJ0Ll92aXJ0YWxCb3VuZElkID0gaTtcbiAgICAgICAgICAgIGJ0Ll9lbmFibGVkID0gVElDSztcbiAgICAgICAgfVxuICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY3VycmVudEluZGV4OyArK2kpIHtcbiAgICAgICAgICAgIC8vIHVwbG9hZCB0aGUgc3ByaXRlIGVsZW1ldG5zLi4uXG4gICAgICAgICAgICAvLyB0aGV5IGhhdmUgYWxsIHJlYWR5IGJlZW4gY2FsY3VsYXRlZCBzbyB3ZSBqdXN0IG5lZWQgdG8gcHVzaCB0aGVtIGludG8gdGhlIGJ1ZmZlci5cbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBzcHJpdGVzW2ldO1xuXG4gICAgICAgICAgICBuZXh0VGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgdmFyIHNwcml0ZUJsZW5kTW9kZSA9IF91dGlscy5wcmVtdWx0aXBseUJsZW5kTW9kZVtOdW1iZXIobmV4dFRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKV1bc3ByaXRlLmJsZW5kTW9kZV07XG5cbiAgICAgICAgICAgIGlmIChibGVuZE1vZGUgIT09IHNwcml0ZUJsZW5kTW9kZSkge1xuICAgICAgICAgICAgICAgIC8vIGZpbmlzaCBhIGdyb3VwLi5cbiAgICAgICAgICAgICAgICBibGVuZE1vZGUgPSBzcHJpdGVCbGVuZE1vZGU7XG5cbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB0aGUgYmF0Y2ggdG8gYnJlYWshXG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IE1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9lbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IGkgLSBjdXJyZW50R3JvdXAuc3RhcnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IGdyb3Vwc1tncm91cENvdW50KytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IHRvdWNoO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgTUFYX1RFWFRVUkVTOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdEluZGV4ID0gKGogKyBURVhUVVJFX1RJQ0spICUgTUFYX1RFWFRVUkVTO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBib3VuZFRleHR1cmVzW3RJbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5fZW5hYmxlZCAhPT0gVElDSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBURVhUVVJFX1RJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Ll92aXJ0YWxCb3VuZElkID0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQgPSB0SW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1t0SW5kZXhdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9lbmFibGVkID0gVElDSztcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5pZHNbdGV4dHVyZUNvdW50XSA9IG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZXNbdGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhID0gc3ByaXRlLnZlcnRleERhdGE7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzdW0gZG9lcyBub3QgbmVlZCB0byBiZSBzZXQgZWFjaCBmcmFtZS4uXG4gICAgICAgICAgICB1dnMgPSBzcHJpdGUuX3RleHR1cmUuX3V2cy51dnNVaW50MzI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnJvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9ICh2ZXJ0ZXhEYXRhWzBdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDFdID0gKHZlcnRleERhdGFbMV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDVdID0gKHZlcnRleERhdGFbMl0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSAodmVydGV4RGF0YVszXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTBdID0gKHZlcnRleERhdGFbNF0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTFdID0gKHZlcnRleERhdGFbNV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9ICh2ZXJ0ZXhEYXRhWzZdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE2XSA9ICh2ZXJ0ZXhEYXRhWzddICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleF0gPSB2ZXJ0ZXhEYXRhWzBdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMV0gPSB2ZXJ0ZXhEYXRhWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDVdID0gdmVydGV4RGF0YVsyXTtcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDZdID0gdmVydGV4RGF0YVszXTtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMF0gPSB2ZXJ0ZXhEYXRhWzRdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTFdID0gdmVydGV4RGF0YVs1XTtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNV0gPSB2ZXJ0ZXhEYXRhWzZdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTZdID0gdmVydGV4RGF0YVs3XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDJdID0gdXZzWzBdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDddID0gdXZzWzFdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDEyXSA9IHV2c1syXTtcbiAgICAgICAgICAgIHVpbnQzMlZpZXdbaW5kZXggKyAxN10gPSB1dnNbM107XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBNYXRoLm1pbihzcHJpdGUud29ybGRBbHBoYSwgMS4wKTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgbmV4dFRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhID8gKDAsIF91dGlscy5wcmVtdWx0aXBseVRpbnQpKHNwcml0ZS5fdGludFJHQiwgYWxwaGEpIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDNdID0gdWludDMyVmlld1tpbmRleCArIDhdID0gdWludDMyVmlld1tpbmRleCArIDEzXSA9IHVpbnQzMlZpZXdbaW5kZXggKyAxOF0gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA0XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgOV0gPSBmbG9hdDMyVmlld1tpbmRleCArIDE0XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgMTldID0gbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQ7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgaW5kZXggKz0gMjA7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IGkgLSBjdXJyZW50R3JvdXAuc3RhcnQ7XG5cbiAgICAgICAgaWYgKCFfc2V0dGluZ3MyLmRlZmF1bHQuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBzdGlsbCBuZWVkZWQgZm9yIElPUyBwZXJmb3JtYW5jZS4uXG4gICAgICAgICAgICAvLyBpdCByZWFsbHkgZG9lcyBub3QgbGlrZSB1cGxvYWRpbmcgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lIVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvTWF4IDw9IHRoaXMudmVydGV4Q291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhb01heCsrO1xuXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5zaGFkZXIuYXR0cmlidXRlcztcblxuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBudWxsLCBnbC5TVFJFQU1fRFJBVyk7XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgICAgICAvLyBidWlsZCB0aGUgdmFvIG9iamVjdCB0aGF0IHdpbGwgcmVuZGVyLi5cbiAgICAgICAgICAgICAgICB2YXIgdmFvID0gdGhpcy5yZW5kZXJlci5jcmVhdGVWYW8oKS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVmVydGV4UG9zaXRpb24sIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDApLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlQ29vcmQsIGdsLlVOU0lHTkVEX1NIT1JULCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMiAqIDQpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFDb2xvciwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDMgKiA0KTtcblxuICAgICAgICAgICAgICAgIGlmIChhdHRycy5hVGV4dHVyZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhby5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUlkLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCA0ICogNCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdID0gdmFvO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8odGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLnVwbG9hZChidWZmZXIudmVydGljZXMsIDAsIGZhbHNlKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhDb3VudCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGJ1ZmZlci52ZXJ0aWNlcywgMCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgTUFYX1RFWFRVUkVTOyArK2kpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyQm91bmRUZXh0dXJlc1tpXS5fdmlydGFsQm91bmRJZCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVuZGVyIHRoZSBncm91cHMuLlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgICAgICB2YXIgZ3JvdXBUZXh0dXJlQ291bnQgPSBncm91cC50ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBncm91cFRleHR1cmVDb3VudDsgX2orKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gZ3JvdXAudGV4dHVyZXNbX2pdO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdmlydHVhbCBpZHMuLlxuICAgICAgICAgICAgICAgIC8vIGxldHMgZG8gYSBxdWljayBjaGVjay4uXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVyQm91bmRUZXh0dXJlc1tncm91cC5pZHNbX2pdXSAhPT0gY3VycmVudFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVGV4dHVyZShjdXJyZW50VGV4dHVyZSwgZ3JvdXAuaWRzW19qXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHZpcnR1YWxJZC4uXG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBibGVuZCBtb2RlLi5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGdyb3VwLmJsZW5kKTtcblxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgZ3JvdXAuc2l6ZSAqIDYsIGdsLlVOU0lHTkVEX1NIT1JULCBncm91cC5zdGFydCAqIDYgKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGVsZW1lbnRzIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRTaGFkZXIodGhpcy5zaGFkZXIpO1xuXG4gICAgICAgIGlmIChfc2V0dGluZ3MyLmRlZmF1bHQuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8odGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdKTtcblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFNwcml0ZVJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhb01heDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy52ZXJ0ZXhCdWZmZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZhb3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuXG4gICAgICAgIF9PYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcikge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YW9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zcHJpdGVzID0gbnVsbDtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgKytfaSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzW19pXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZVJlbmRlcmVyO1xufShfT2JqZWN0UmVuZGVyZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGVSZW5kZXJlcjtcblxuXG5fV2ViR0xSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignc3ByaXRlJywgU3ByaXRlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyA9IHJlcXVpcmUoJy4vY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogTWFwcyBibGVuZCBjb21iaW5hdGlvbnMgdG8gQ2FudmFzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpKCkge1xuICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG5cbiAgICBpZiAoKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpKSB7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSAnbGlnaHRlcic7IC8vIElTIFRISVMgT0s/Pz9cbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9ICdtdWx0aXBseSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gJ3NjcmVlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5PVkVSTEFZXSA9ICdvdmVybGF5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSAnZGFya2VuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxJR0hURU5dID0gJ2xpZ2h0ZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gJ2NvbG9yLWRvZGdlJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gJ2NvbG9yLWJ1cm4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnaGFyZC1saWdodCc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9ICdzb2Z0LWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gJ2RpZmZlcmVuY2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdleGNsdXNpb24nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9ICdodWUnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSAnc2F0dXJhdGUnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JdID0gJ2NvbG9yJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxVTUlOT1NJVFldID0gJ2x1bWlub3NpdHknO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBjb29sIG5ldyBibGVuZCBtb2RlcyBpbiBjYW52YXMgJ2NvdWdoJyBpZSAnY291Z2gnXG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSAnbGlnaHRlcic7IC8vIElTIFRISVMgT0s/Pz9cbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk1VTFRJUExZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRBUktFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0JVUk5dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhBUkRfTElHSFRdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkRJRkZFUkVOQ0VdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSFVFXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnc291cmNlLW92ZXInO1xuICAgIH1cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCwgb25seSBmb3Igd2ViZ2xcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIHNldCBvZiBmdW5jdGlvbnMgdXNlZCB0byBoYW5kbGUgbWFza2luZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNNYXNrTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNNYXNrTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzTWFza01hbmFnZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0YWNrIG9mIG1hc2tzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1hc2tEYXRhIC0gdGhlIG1hc2tEYXRhIHRoYXQgd2lsbCBiZSBwdXNoZWRcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hNYXNrID0gZnVuY3Rpb24gcHVzaE1hc2sobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICByZW5kZXJlci5jb250ZXh0LnNhdmUoKTtcblxuICAgICAgICB2YXIgY2FjaGVBbHBoYSA9IG1hc2tEYXRhLmFscGhhO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gbWFza0RhdGEudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYiAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5jICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmQgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHggKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHkgKiByZXNvbHV0aW9uKTtcblxuICAgICAgICAvLyBUT0RPIHN1cG9ydCBzcHJpdGUgYWxwaGEgbWFza3M/P1xuICAgICAgICAvLyBsb3RzIG9mIGVmZm9ydCByZXF1aXJlZC4gSWYgZGVtYW5kIGlzIGdyZWF0IGVub3VnaC4uXG4gICAgICAgIGlmICghbWFza0RhdGEuX3RleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyR3JhcGhpY3NTaGFwZShtYXNrRGF0YSk7XG4gICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmNsaXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hc2tEYXRhLndvcmxkQWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgUElYSS5HcmFwaGljcyBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLnJlbmRlckdyYXBoaWNzU2hhcGUgPSBmdW5jdGlvbiByZW5kZXJHcmFwaGljc1NoYXBlKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgbGVuID0gZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDtcblxuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNoYXBlLnBvaW50cztcblxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludHNbaiAqIDJdLCBwb2ludHNbaiAqIDIgKyAxXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZpcnN0IGFuZCBsYXN0IHBvaW50IGFyZSB0aGUgc2FtZSBjbG9zZSB0aGUgcGF0aCAtIG11Y2ggbmVhdGVyIDopXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50c1swXSA9PT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAmJiBwb2ludHNbMV0gPT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWN0KHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAtIG5lZWQgdG8gYmUgVW5kZWZpbmVkIVxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLnJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5FTElQKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxsaXBzZSBjb2RlIHRha2VuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjE3Mjc5OC9ob3ctdG8tZHJhdy1hbi1vdmFsLWluLWh0bWw1LWNhbnZhc1xuXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBzaGFwZS53aWR0aCAqIDI7XG4gICAgICAgICAgICAgICAgdmFyIGggPSBzaGFwZS5oZWlnaHQgKiAyO1xuXG4gICAgICAgICAgICAgICAgdmFyIHggPSBzaGFwZS54IC0gdyAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBzaGFwZS55IC0gaCAvIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIga2FwcGEgPSAwLjU1MjI4NDg7XG4gICAgICAgICAgICAgICAgdmFyIG94ID0gdyAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgIHZhciBveSA9IGggLyAyICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgdmFyIHhlID0geCArIHc7IC8vIHgtZW5kXG4gICAgICAgICAgICAgICAgdmFyIHllID0geSArIGg7IC8vIHktZW5kXG4gICAgICAgICAgICAgICAgdmFyIHhtID0geCArIHcgLyAyOyAvLyB4LW1pZGRsZVxuICAgICAgICAgICAgICAgIHZhciB5bSA9IHkgKyBoIC8gMjsgLy8geS1taWRkbGVcblxuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeCwgeW0gLSBveSwgeG0gLSBveCwgeSwgeG0sIHkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4bSArIG94LCB5LCB4ZSwgeW0gLSBveSwgeGUsIHltKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oeGUsIHltICsgb3ksIHhtICsgb3gsIHllLCB4bSwgeWUpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4bSAtIG94LCB5ZSwgeCwgeW0gKyBveSwgeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SUkVDKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJ4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICB2YXIgcnkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNoYXBlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzaGFwZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHNoYXBlLnJhZGl1cztcblxuICAgICAgICAgICAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDIgfCAwO1xuXG4gICAgICAgICAgICAgICAgcmFkaXVzID0gcmFkaXVzID4gbWF4UmFkaXVzID8gbWF4UmFkaXVzIDogcmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnkgKyBoZWlnaHQsIHJ4ICsgcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCAtIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSArIGhlaWdodCwgcnggKyB3aWR0aCwgcnkgKyBoZWlnaHQgLSByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnksIHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCwgcnksIHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlcyB0aGUgY3VycmVudCBkcmF3aW5nIGNvbnRleHQgdG8gdGhlIHN0YXRlIGl0IHdhcyBiZWZvcmUgdGhlIG1hc2sgd2FzIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIGNvbnRleHQgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucG9wTWFzayA9IGZ1bmN0aW9uIHBvcE1hc2socmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIHJlbmRlcmVyLmludmFsaWRhdGVCbGVuZE1vZGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBjYW52YXMgbWFzayBtYW5hZ2VyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc01hc2tNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNNYXNrTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc01hc2tNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi9tYXRoJyk7XG5cbnZhciBfQ2FudmFzVGludGVyID0gcmVxdWlyZSgnLi9DYW52YXNUaW50ZXInKTtcblxudmFyIF9DYW52YXNUaW50ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIENhbnZhc1Nwcml0ZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9DYW52YXNTcHJpdGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBDYW52YXNTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLVRoZSByZW5kZXJlciBzcHJpdGUgdGhpcyBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1Nwcml0ZVJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSBzcHJpdGUgdG8gcmVuZGVyIHdoZW4gdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHNwcml0ZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB2YXIgd2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodDtcblxuICAgICAgICB2YXIgd3QgPSBzcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgZHggPSAwO1xuICAgICAgICB2YXIgZHkgPSAwO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLm9yaWcud2lkdGggPD0gMCB8fCB0ZXh0dXJlLm9yaWcuaGVpZ2h0IDw9IDAgfHwgIXRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUoc3ByaXRlLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgLy8gIElnbm9yZSBudWxsIHNvdXJjZXNcbiAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBzcHJpdGUud29ybGRBbHBoYTtcblxuICAgICAgICAgICAgLy8gSWYgc21vb3RoaW5nRW5hYmxlZCBpcyBzdXBwb3J0ZWQgYW5kIHdlIG5lZWQgdG8gY2hhbmdlIHRoZSBzbW9vdGhpbmcgcHJvcGVydHkgZm9yIHNwcml0ZSB0ZXh0dXJlXG4gICAgICAgICAgICB2YXIgc21vb3RoaW5nRW5hYmxlZCA9IHRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTElORUFSO1xuXG4gICAgICAgICAgICBpZiAocmVuZGVyZXIuc21vb3RoUHJvcGVydHkgJiYgcmVuZGVyZXIuY29udGV4dFtyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eV0gIT09IHNtb290aGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0W3JlbmRlcmVyLnNtb290aFByb3BlcnR5XSA9IHNtb290aGluZ0VuYWJsZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRyaW0pIHtcbiAgICAgICAgICAgICAgICBkeCA9IHRleHR1cmUudHJpbS53aWR0aCAvIDIgKyB0ZXh0dXJlLnRyaW0ueCAtIHNwcml0ZS5hbmNob3IueCAqIHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgICAgICBkeSA9IHRleHR1cmUudHJpbS5oZWlnaHQgLyAyICsgdGV4dHVyZS50cmltLnkgLSBzcHJpdGUuYW5jaG9yLnkgKiB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkeCA9ICgwLjUgLSBzcHJpdGUuYW5jaG9yLngpICogdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGR5ID0gKDAuNSAtIHNwcml0ZS5hbmNob3IueSkgKiB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5yb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB3dC5jb3B5KGNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB3dCA9IGNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIF9tYXRoLkdyb3VwRDgubWF0cml4QXBwZW5kUm90YXRpb25JbnYod3QsIHRleHR1cmUucm90YXRlLCBkeCwgZHkpO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBhbmNob3IgaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIGFib3ZlLCBzbyBsZXRzIHNldCBpdCB0byB6ZXJvXG4gICAgICAgICAgICAgICAgZHggPSAwO1xuICAgICAgICAgICAgICAgIGR5ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZHggLT0gd2lkdGggLyAyO1xuICAgICAgICAgICAgZHkgLT0gaGVpZ2h0IC8gMjtcblxuICAgICAgICAgICAgLy8gQWxsb3cgZm9yIHBpeGVsIHJvdW5kaW5nXG4gICAgICAgICAgICBpZiAocmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh3dC5hLCB3dC5iLCB3dC5jLCB3dC5kLCB3dC50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwLCB3dC50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwKTtcblxuICAgICAgICAgICAgICAgIGR4ID0gZHggfCAwO1xuICAgICAgICAgICAgICAgIGR5ID0gZHkgfCAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh3dC5hLCB3dC5iLCB3dC5jLCB3dC5kLCB3dC50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoc3ByaXRlLnRpbnQgIT09IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZS5jYWNoZWRUaW50ICE9PSBzcHJpdGUudGludCB8fCBzcHJpdGUudGludGVkVGV4dHVyZS50aW50SWQgIT09IHNwcml0ZS5fdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLmNhY2hlZFRpbnQgPSBzcHJpdGUudGludDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNsZWFuIHVwIGNhY2hpbmcgLSBob3cgdG8gY2xlYW4gdXAgdGhlIGNhY2hlcz9cbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnRpbnRlZFRleHR1cmUgPSBfQ2FudmFzVGludGVyMi5kZWZhdWx0LmdldFRpbnRlZFRleHR1cmUoc3ByaXRlLCBzcHJpdGUudGludCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5kcmF3SW1hZ2Uoc3ByaXRlLnRpbnRlZFRleHR1cmUsIDAsIDAsIHdpZHRoICogcmVzb2x1dGlvbiwgaGVpZ2h0ICogcmVzb2x1dGlvbiwgZHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBkeSAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHdpZHRoICogcmVuZGVyZXIucmVzb2x1dGlvbiwgaGVpZ2h0ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCB0ZXh0dXJlLl9mcmFtZS54ICogcmVzb2x1dGlvbiwgdGV4dHVyZS5fZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoICogcmVzb2x1dGlvbiwgaGVpZ2h0ICogcmVzb2x1dGlvbiwgZHggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBkeSAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHdpZHRoICogcmVuZGVyZXIucmVzb2x1dGlvbiwgaGVpZ2h0ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzU3ByaXRlUmVuZGVyZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1Nwcml0ZVJlbmRlcmVyO1xuXG5cbl9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdC5yZWdpc3RlclBsdWdpbignc3ByaXRlJywgQ2FudmFzU3ByaXRlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzU3ByaXRlUmVuZGVyZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBwcmlvcml0eSBzb3J0aW5nIG9mIHRpY2tlciBoYW5kbGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS50aWNrZXJcbiAqL1xudmFyIFRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBvbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja2VyTGlzdGVuZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBleGVjdXRlLlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxpbmcgdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBwcmlvcml0eS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIHNob3VsZCBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXh0IGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltcGxlIGNvbXBhcmUgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBpZiBhIGZ1bmN0aW9uIGFuZCBjb250ZXh0IG1hdGNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb250ZXh0IC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gbWF0Y2goZm4sIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5mbiA9PT0gZm4gJiYgdGhpcy5jb250ZXh0ID09PSBjb250ZXh0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGRlbHRhVGltZSkge1xuICAgICAgICBpZiAodGhpcy5mbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4oZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcblxuICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbmV4dCByZWZlcmVuY2VcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gICAgICovXG5cblxuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gY29ubmVjdChwcmV2aW91cykge1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cy5uZXh0KSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgICAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFyZCA9IGZhbHNlXSBgdHJ1ZWAgdG8gcmVtb3ZlIHRoZSBgbmV4dGAgcmVmZXJlbmNlLCB0aGlzXG4gICAgICogICAgICAgIGlzIGNvbnNpZGVyZWQgYSBoYXJkIGRlc3Ryb3kuIFNvZnQgZGVzdHJveSBtYWludGFpbnMgdGhlIG5leHQgcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG5cblxuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIGhhcmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIC8vIERpc2Nvbm5lY3QsIGhvb2sgdXAgbmV4dCBhbmQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMubmV4dCA9IHRoaXMubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMucHJldmlvdXM7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG5cbiAgICByZXR1cm4gVGlja2VyTGlzdGVuZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpY2tlckxpc3RlbmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyTGlzdGVuZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX1RpY2tlckxpc3RlbmVyID0gcmVxdWlyZSgnLi9UaWNrZXJMaXN0ZW5lcicpO1xuXG52YXIgX1RpY2tlckxpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlckxpc3RlbmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIFRpY2tlciBjbGFzcyB0aGF0IHJ1bnMgYW4gdXBkYXRlIGxvb3AgdGhhdCBvdGhlciBvYmplY3RzIGxpc3RlbiB0by5cbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVyc1xuICogbWVhbnQgZm9yIGV4ZWN1dGlvbiBvbiB0aGUgbmV4dCByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lLlxuICogQW5pbWF0aW9uIGZyYW1lcyBhcmUgcmVxdWVzdGVkIG9ubHkgd2hlbiBuZWNlc3NhcnksXG4gKiBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudGlja2VyXG4gKi9cbnZhciBUaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpY2tlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjdXJyZW50IGZyYW1lIHJlcXVlc3QgSURcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3RhcnR9IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogd2hlbiBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvU3RhcnQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGFyIHRpbWUgdmFsdWUgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX1cbiAgICAgICAgICogaXMgYmFzZWQsIHRoaXMgdmFsdWUgaXMgbmVpdGhlciBjYXBwZWQgbm9yIHNjYWxlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBfc2V0dGluZ3MyLmRlZmF1bHQuVEFSR0VUX0ZQTVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTY2FsZXMgdGlja2VyLmRlbHRhVGltZSB0byB3aGF0IHdvdWxkIGJlXG4gICAgICAgICAqIC8vIHRoZSBlcXVpdmFsZW50IG9mIGFwcHJveGltYXRlbHkgMTIwIEZQU1xuICAgICAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAgICAgKiBgdHJ1ZWAgaWYge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2F1dG9TdGFydH0gYmVpbmcgYHRydWVgXG4gICAgICAgICAqIGFuZCBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHRpY2sgbWV0aG9kIGJvdW5kIHRvIHRpY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgICAgICogQWxzbyBzZXBhcmF0aW5nIGZyYW1lIHJlcXVlc3RzIGZyb20gdXBkYXRlIG1ldGhvZFxuICAgICAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgc2lkZSBlZmZlY3RzIG1heSBoYXZlIG1vZGlmaWVkIHRpY2tlciBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCAmJiBfdGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIF90aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShfdGhpcy5fdGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gICAgICogZW1pdHRlciBoYXMgbGlzdGVuZXJzLCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiBfcmVxdWVzdElmTmVlZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgY2FuY2VscyBhIHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQgPSBmdW5jdGlvbiBfY2FuY2VsSWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlcXVlc3RJZCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIHRoZSB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZCBpdCBjaGVja3MgaWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHlcbiAgICAgKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gICAgICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICAgICAqIGJlZW4gc3RhcnRlZCwgYnV0IGF1dG9TdGFydCBpcyBgdHJ1ZWAsIHRoZW4gdGhlIHRpY2tlciBzdGFydHMgbm93LFxuICAgICAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fc3RhcnRJZlBvc3NpYmxlID0gZnVuY3Rpb24gX3N0YXJ0SWZQb3NzaWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRpY2sgZXZlbnRzLiBDYWxscyBjb250aW51b3VzbHkgdW5sZXNzXG4gICAgICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtcblxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIGEgaGFuZGxlciBmb3IgdGhlIHRpY2sgZXZlbnQgd2hpY2ggaXMgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5hZGRPbmNlID0gZnVuY3Rpb24gYWRkT25jZShmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbGx5IGFkZHMgdGhlIGV2ZW50IGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gYmUgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgICAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gICAgICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gX2FkZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIEZvciBhdHRhY2hpbmcgdG8gaGVhZFxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5faGVhZDtcblxuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIGxpc3RlbmVyc1xuICAgICAqIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgdGlja2VyIGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy4gQ2FsbGluZ1xuICAgICAqIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIHVwZGF0ZS4gQW4gdXBkYXRlIGVudGFpbHMgc2V0dGluZyB0aGVcbiAgICAgKiBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2xhc3RUaW1lfVxuICAgICAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgYW5pbWF0aW9uXG4gICAgICogZnJhbWUgY2FsbGJhY2tzIGlmIHRoZSB0aWNrZXIgaW5zdGFuY2UgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICB2YXIgZWxhcHNlZE1TID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSBlbGFwc2VkTVMgKiBfc2V0dGluZ3MyLmRlZmF1bHQuVEFSR0VUX0ZQTVMgKiB0aGlzLnNwZWVkO1xuXG4gICAgICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuXG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICoge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICogdG8gc2NhbGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUaWNrZXIsIFt7XG4gICAgICAgIGtleTogJ0ZQUycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3VwZGF0ZX0uXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgdXNlZCB0byBjYXAge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIFdoZW4gc2V0dGluZyB0aGlzIHByb3BlcnR5IGl0IGlzIGNsYW1wZWQgdG8gYSB2YWx1ZSBiZXR3ZWVuXG4gICAgICAgICAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWluRlBTJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZnBzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2xhbXA6IDAgdG8gVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZnBzKSAvIDEwMDAsIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUyk7XG5cbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRpY2tlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlja2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlja2VyLmpzLm1hcCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXM7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXJbXT59IFthcnJheV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpIHtcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cblxuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLkFERDtcbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOO1xuXG4gICAgbnBtW19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW19jb25zdC5CTEVORF9NT0RFUy5BRERdID0gX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE07XG4gICAgbnBtW19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dID0gX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl9OUE07XG5cbiAgICB2YXIgYXJyYXkgPSBbXTtcblxuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzLmpzLm1hcCIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIFJlbW92ZSBhIHJhbmdlIG9mIGl0ZW1zIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgdGFyZ2V0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggVGhlIGluZGV4IHRvIGJlZ2luIHJlbW92aW5nIGZyb20gKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBIb3cgbWFueSBpdGVtcyB0byByZW1vdmVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudClcbntcbiAgdmFyIGksIGxlbmd0aCA9IGFyci5sZW5ndGhcblxuICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudClcblxuICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnRcblxuICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKSB7XG4gICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF1cbiAgfVxuXG4gIGFyci5sZW5ndGggPSBsZW5cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5taXhpbiA9IG1peGluO1xuZXhwb3J0cy5kZWxheU1peGluID0gZGVsYXlNaXhpbjtcbmV4cG9ydHMucGVyZm9ybU1peGlucyA9IHBlcmZvcm1NaXhpbnM7XG4vKipcbiAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gYSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIG1peGluXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gbWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAoIXRhcmdldCB8fCAhc291cmNlKSByZXR1cm47XG4gICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuXG4gICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG5cbiAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgfVxufVxuXG52YXIgbWl4aW5zID0gW107XG5cbi8qKlxuICogUXVldWVzIGEgbWl4aW4gdG8gYmUgaGFuZGxlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGluaXRpYWxpemF0aW9uIG9mIFBJWEksIHNvIHRoYXQgZGVwcmVjYXRpb25cbiAqIGNhbiB0YWtlIGVmZmVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCBUaGUgcHJvdG90eXBlIG9yIGluc3RhbmNlIHRoYXQgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBzaG91bGQgYmUgYWRkZWQgdG8uXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gKi9cbmZ1bmN0aW9uIGRlbGF5TWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBtaXhpbnMucHVzaCh0YXJnZXQsIHNvdXJjZSk7XG59XG5cbi8qKlxuICogSGFuZGxlcyBhbGwgbWl4aW5zIHF1ZXVlZCB2aWEgZGVsYXlNaXhpbigpLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIHBlcmZvcm1NaXhpbnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBlcmZvcm1NaXhpbnMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbWl4aW4obWl4aW5zW2ldLCBtaXhpbnNbaSArIDFdKTtcbiAgICB9XG4gICAgbWl4aW5zLmxlbmd0aCA9IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogTWl4aW5zIGZ1bmN0aW9uYWxpdHkgdG8gbWFrZSBhbiBvYmplY3QgaGF2ZSBcInBsdWdpbnNcIi5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBwbHVnaW5UYXJnZXQubWl4aW4oTXlPYmplY3QpO1xuICpcbiAqIEBtaXhpblxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBUaGUgb2JqZWN0IHRvIG1peCBpbnRvLlxuICovXG5mdW5jdGlvbiBwbHVnaW5UYXJnZXQob2JqKSB7XG4gICAgb2JqLl9fcGx1Z2lucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byBhbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIGV2ZW50cyB0aGF0IHNob3VsZCBiZSBsaXN0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBvYmoucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihwbHVnaW5OYW1lLCBjdG9yKSB7XG4gICAgICAgIG9iai5fX3BsdWdpbnNbcGx1Z2luTmFtZV0gPSBjdG9yO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYWxsIHRoZSBwbHVnaW5zIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBvYmoucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMoKSB7XG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHRoaXMucGx1Z2lucyB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBvIGluIG9iai5fX3BsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyBvYmouX19wbHVnaW5zW29dKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBwbHVnaW5zIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBvYmoucHJvdG90eXBlLmRlc3Ryb3lQbHVnaW5zID0gZnVuY3Rpb24gZGVzdHJveVBsdWdpbnMoKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG4gICAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIC8qKlxuICAgICAqIE1peGVzIGluIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBwbHVnaW5UYXJnZXQgaW50byBhbm90aGVyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmogdG8gbWl4IGludG9cbiAgICAgKi9cbiAgICBtaXhpbjogZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gICAgICAgIHBsdWdpblRhcmdldChvYmopO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW5UYXJnZXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjYW5VcGxvYWRTYW1lQnVmZmVyO1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpIHtcblx0Ly8gVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZiBpc3N1ZXMuXG5cdC8vIEFwcGFyZW50IG9uIElPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcblx0Ly8gdGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuXHR2YXIgaW9zID0gISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuXHRyZXR1cm4gIWlvcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVwbG9hZFNhbWVCdWZmZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWF4UmVjb21tZW5kZWRUZXh0dXJlcztcblxudmFyIF9pc21vYmlsZWpzID0gcmVxdWlyZSgnaXNtb2JpbGVqcycpO1xuXG52YXIgX2lzbW9iaWxlanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNtb2JpbGVqcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gICAgaWYgKF9pc21vYmlsZWpzMi5kZWZhdWx0LnRhYmxldCB8fCBfaXNtb2JpbGVqczIuZGVmYXVsdC5waG9uZSkge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgcmVzIGlzIGlwaG9uZSA2IG9yIGhpZ2hlci4uXG4gICAgICAgIHJldHVybiA0O1xuICAgIH1cblxuICAgIC8vIGRlc2t0b3Agc2hvdWxkIGJlIG9rXG4gICAgcmV0dXJuIG1heDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1heFJlY29tbWVuZGVkVGV4dHVyZXMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY29tcGlsZVByb2dyYW06IHJlcXVpcmUoJy4vY29tcGlsZVByb2dyYW0nKSxcbiAgICBkZWZhdWx0VmFsdWU6IHJlcXVpcmUoJy4vZGVmYXVsdFZhbHVlJyksXG4gICAgZXh0cmFjdEF0dHJpYnV0ZXM6IHJlcXVpcmUoJy4vZXh0cmFjdEF0dHJpYnV0ZXMnKSxcbiAgICBleHRyYWN0VW5pZm9ybXM6IHJlcXVpcmUoJy4vZXh0cmFjdFVuaWZvcm1zJyksXG4gICAgZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0OiByZXF1aXJlKCcuL2dlbmVyYXRlVW5pZm9ybUFjY2Vzc09iamVjdCcpLFxuICAgIHNldFByZWNpc2lvbjogcmVxdWlyZSgnLi9zZXRQcmVjaXNpb24nKSxcbiAgICBtYXBTaXplOiByZXF1aXJlKCcuL21hcFNpemUnKSxcbiAgICBtYXBUeXBlOiByZXF1aXJlKCcuL21hcFR5cGUnKVxufTsiLCJcbi8vIHN0YXRlIG9iamVjdC8vXG52YXIgc2V0VmVydGV4QXR0cmliQXJyYXlzID0gcmVxdWlyZSggJy4vc2V0VmVydGV4QXR0cmliQXJyYXlzJyApO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byB3b3JrIHdpdGggV2ViR0wgVmVydGV4QXJyYXlPYmplY3RzICh2YW9zKVxuICogT25seSB3b3JrcyBpZiBXZWJHTCBleHRlbnNpb25zIGFyZSBlbmFibGVkICh0aGV5IHVzdWFsbHkgYXJlKVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKVxue1xuICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcblxuICAgIGlmKCFWZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUpXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgIGlmKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW8gPSB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuXG4gICAgICAgIHZhciBtYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgLy8gVkFPIC0gb3ZlcndyaXRlIHRoZSBzdGF0ZS4uXG4gICAgICAgIHRoaXMubmF0aXZlU3RhdGUgPSB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGU6IG5ldyBBcnJheShtYXhBdHRyaWJzKSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlOiBuZXcgQXJyYXkobWF4QXR0cmlicylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGF0dHJpYnV0ZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIGJvb2xlYW4gZmxhZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG59XG5cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZlcnRleEFycmF5T2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBWZXJ0ZXhBcnJheU9iamVjdDtcblxuLyoqXG4qIFNvbWUgZGV2aWNlcyBiZWhhdmUgYSBiaXQgZnVubnkgd2hlbiB1c2luZyB0aGUgbmV3ZXIgZXh0ZW5zaW9ucyAoaW0gbG9va2luZyBhdCB5b3UgaXBhZCAyISlcbiogSWYgeW91IGZpbmQgb24gb2xkZXIgZGV2aWNlcyB0aGF0IHRoaW5ncyBoYXZlIGdvbmUgYSBiaXQgd2VpcmQgdGhlbiBzZXQgdGhpcyB0byB0cnVlLlxuKi9cbi8qKlxuICogTGV0cyB0aGUgVkFPIGtub3cgaWYgeW91IHNob3VsZCB1c2UgdGhlIFdlYkdMIGV4dGVuc2lvbiBvciB0aGUgbmF0aXZlIG1ldGhvZHMuXG4gKiBTb21lIGRldmljZXMgYmVoYXZlIGEgYml0IGZ1bm55IHdoZW4gdXNpbmcgdGhlIG5ld2VyIGV4dGVuc2lvbnMgKGltIGxvb2tpbmcgYXQgeW91IGlwYWQgMiEpXG4gKiBJZiB5b3UgZmluZCBvbiBvbGRlciBkZXZpY2VzIHRoYXQgdGhpbmdzIGhhdmUgZ29uZSBhIGJpdCB3ZWlyZCB0aGVuIHNldCB0aGlzIHRvIHRydWUuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IEZPUkNFX05BVElWRVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSBmYWxzZTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVyXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcblxuICAgICAgICBpZih0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSBidWZmZXJcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVXNlcyB0aGlzIHZhb1xuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbigpXG57XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIHZhciBsYXN0QnVmZmVyID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICBpZihsYXN0QnVmZmVyICE9PSBhdHRyaWIuYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWIuYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBhdHRyaWIuYnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyaWIuYXR0cmlidXRlLmxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5hdHRyaWJ1dGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIubm9ybWFsaXplZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuc3RyaWRlIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLnN0YXJ0IHx8IDApO1xuICAgIH1cblxuICAgIHNldFZlcnRleEF0dHJpYkFycmF5cyhnbCwgdGhpcy5hdHRyaWJ1dGVzLCB0aGlzLm5hdGl2ZVN0YXRlKTtcblxuICAgIGlmKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBidWZmZXIgICAgIHtQSVhJLmdsLkdMQnVmZmVyfVxuICogQHBhcmFtIGF0dHJpYnV0ZSAgeyp9XG4gKiBAcGFyYW0gdHlwZSAgICAgICB7U3RyaW5nfVxuICogQHBhcmFtIG5vcm1hbGl6ZWQge0Jvb2xlYW59XG4gKiBAcGFyYW0gc3RyaWRlICAgICB7TnVtYmVyfVxuICogQHBhcmFtIHN0YXJ0ICAgICAge051bWJlcn1cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGJ1ZmZlciwgYXR0cmlidXRlLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIHN0YXJ0KVxue1xuICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgYnVmZmVyOiAgICAgYnVmZmVyLFxuICAgICAgICBhdHRyaWJ1dGU6ICBhdHRyaWJ1dGUsXG5cbiAgICAgICAgbG9jYXRpb246ICAgYXR0cmlidXRlLmxvY2F0aW9uLFxuICAgICAgICB0eXBlOiAgICAgICB0eXBlIHx8IHRoaXMuZ2wuRkxPQVQsXG4gICAgICAgIG5vcm1hbGl6ZWQ6IG5vcm1hbGl6ZWQgfHwgZmFsc2UsXG4gICAgICAgIHN0cmlkZTogICAgIHN0cmlkZSB8fCAwLFxuICAgICAgICBzdGFydDogICAgICBzdGFydCB8fCAwXG4gICAgfSk7XG5cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAgIHtQSVhJLmdsLkdMQnVmZmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbihidWZmZXIvKiwgb3B0aW9ucyovKVxue1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoaXMgdmFvIGFuZCBkaXNhYmxlcyBpdFxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpXG57XG4gICAgLy8gdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIC8vIFRPRE8gLSBzaG91bGQgdGhpcyBmdW5jdGlvbiB1bmJpbmQgYWZ0ZXIgY2xlYXI/XG4gICAgLy8gZm9yIG5vdywgbm8gYnV0IGxldHMgc2VlIHdoYXQgaGFwcGVucyBpbiB0aGUgcmVhbCB3b3JsZCFcbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzLm5hdGl2ZVZhbyk7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQHBhcmFtIHR5cGUgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc2l6ZSAge051bWJlcn1cbiAqIEBwYXJhbSBzdGFydCB7TnVtYmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKHR5cGUsIHNpemUsIHN0YXJ0KVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBpZih0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgdGhpcy5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIChzdGFydCB8fCAwKSAqIDIgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgdGhpcy5nZXRTaXplKCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IHRoaXMgdmFvXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuICAgIC8vIGxvc2UgcmVmZXJlbmNlc1xuICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVTdGF0ZSA9IG51bGw7XG5cbiAgICBpZih0aGlzLm5hdGl2ZVZhbylcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVWYW8gPSBudWxsO1xufTtcblxuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1swXTtcbiAgICByZXR1cm4gYXR0cmliLmJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoIGF0dHJpYi5zdHJpZGUvNCApIHx8IGF0dHJpYi5hdHRyaWJ1dGUuc2l6ZSk7XG59O1xuIiwiXG52YXIgY29tcGlsZVByb2dyYW0gPSByZXF1aXJlKCcuL3NoYWRlci9jb21waWxlUHJvZ3JhbScpLFxuXHRleHRyYWN0QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4vc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzJyksXG5cdGV4dHJhY3RVbmlmb3JtcyA9IHJlcXVpcmUoJy4vc2hhZGVyL2V4dHJhY3RVbmlmb3JtcycpLFxuXHRzZXRQcmVjaXNpb24gPSByZXF1aXJlKCcuL3NoYWRlci9zZXRQcmVjaXNpb24nKSxcblx0Z2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0ID0gcmVxdWlyZSgnLi9zaGFkZXIvZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0Jyk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFNoYWRlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBwcmVjaXNpb24ge3N0cmluZ30gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7b2JqZWN0fSBBIGtleSB2YWx1ZSBwYWlyIHNob3dpbmcgd2hpY2ggbG9jYXRpb24gZWFjdCBhdHRyaWJ1dGUgc2hvdWxkIHNpdCBlZyB7cG9zaXRpb246MCwgdXZzOjF9XG4gKi9cbnZhciBTaGFkZXIgPSBmdW5jdGlvbihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgcHJlY2lzaW9uLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG5cdCAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblx0aWYocHJlY2lzaW9uKVxuXHR7XG5cdFx0dmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHZlcnRleFNyYywgcHJlY2lzaW9uKTtcblx0XHRmcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbihmcmFnbWVudFNyYywgcHJlY2lzaW9uKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgc2hhZGVyIHByb2dyYW1cblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuXHQgKi9cblx0Ly8gRmlyc3QgY29tcGlsZSB0aGUgcHJvZ3JhbS4uXG5cdHRoaXMucHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpO1xuXG5cdC8qKlxuXHQgKiBUaGUgYXR0cmlidXRlcyBvZiB0aGUgc2hhZGVyIGFzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuXHQgKiB7XG5cdCAqIFx0dHlwZSxcblx0ICogXHRzaXplLFxuXHQgKiBcdGxvY2F0aW9uLFxuXHQgKiBcdHBvaW50ZXJcblx0ICogfVxuXHQgKiBAbWVtYmVyIHtPYmplY3R9XG5cdCAqL1xuXHQvLyBuZXh0IGV4dHJhY3QgdGhlIGF0dHJpYnV0ZXNcblx0dGhpcy5hdHRyaWJ1dGVzID0gZXh0cmFjdEF0dHJpYnV0ZXMoZ2wsIHRoaXMucHJvZ3JhbSk7XG5cbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gZXh0cmFjdFVuaWZvcm1zKGdsLCB0aGlzLnByb2dyYW0pO1xuXG5cdC8qKlxuXHQgKiBUaGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBhcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXNcblx0ICoge1xuXHQgKiBcdGdsLFxuXHQgKiBcdGRhdGFcblx0ICogfVxuXHQgKiBAbWVtYmVyIHtPYmplY3R9XG5cdCAqL1xuXHR0aGlzLnVuaWZvcm1zID0gZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0KCBnbCwgdGhpcy51bmlmb3JtRGF0YSApO1xuXG59O1xuLyoqXG4gKiBVc2VzIHRoaXMgc2hhZGVyXG4gKiBcbiAqIEByZXR1cm4ge1BJWEkuZ2xDb3JlLkdMU2hhZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuU2hhZGVyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgc2hhZGVyXG4gKiBUT0RPXG4gKi9cblNoYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcblx0dGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG5cdHRoaXMudW5pZm9ybXMgPSBudWxsO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBTaGFkZXI7XG4iLCJcbnZhciBUZXh0dXJlID0gcmVxdWlyZSgnLi9HTFRleHR1cmUnKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgRnJhbWVidWZmZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICovXG52YXIgRnJhbWVidWZmZXIgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodClcbntcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyYnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAxMDA7XG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAxMDA7XG59O1xuXG4vKipcbiAqIEFkZHMgYSB0ZXh0dXJlIHRvIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSB0ZXh0dXJlIHtQSVhJLmdsQ29yZS5HTFRleHR1cmV9XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVUZXh0dXJlID0gZnVuY3Rpb24odGV4dHVyZSlcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgVGV4dHVyZShnbCk7XG5cbiAgICB0aGlzLnRleHR1cmUuYmluZCgpO1xuXG4gICAgLy9nbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsICB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICB0aGlzLmJpbmQoKTtcblxuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlLnRleHR1cmUsIDApO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXNlcyB0aGUgc3RlbmNpbCBidWZmZXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVN0ZW5jaWwgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5zdGVuY2lsKXJldHVybjtcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuXG4gICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCAgdGhpcy53aWR0aCAgLCB0aGlzLmhlaWdodCApO1xuXG5cbn07XG5cbi8qKlxuICogRXJhc2VzIHRoZSBkcmF3aW5nIGFyZWEgYW5kIGZpbGxzIGl0IHdpdGggYSBjb2xvdXJcbiAqIEBwYXJhbSAgciB7TnVtYmVyfSB0aGUgcmVkIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgZyB7TnVtYmVyfSB0aGUgZ3JlZW4gdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBiIHtOdW1iZXJ9IHRoZSBibHVlIHZhbHVlIG9mIHRoZSBjbGVhcmluZyBjb2xvdXJcbiAqIEBwYXJhbSAgYSB7TnVtYmVyfSB0aGUgYWxwaGEgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiggciwgZywgYiwgYSApXG57XG4gICAgdGhpcy5iaW5kKCk7XG5cbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG59O1xuXG4vKipcbiAqIEJpbmRzIHRoZSBmcmFtZSBidWZmZXIgdG8gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIgKTtcbn07XG5cbi8qKlxuICogVW5iaW5kcyB0aGUgZnJhbWUgYnVmZmVyIHRvIHRoZSBXZWJHTCBjb250ZXh0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwgKTtcbn07XG4vKipcbiAqIFJlc2l6ZXMgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyIHRvIHRoZSBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0XG4gKiBAcGFyYW0gIHdpZHRoICB7TnVtYmVyfSB0aGUgbmV3IHdpZHRoXG4gKiBAcGFyYW0gIGhlaWdodCB7TnVtYmVyfSB0aGUgbmV3IGhlaWdodFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgaWYgKCB0aGlzLnRleHR1cmUgKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLnVwbG9hZERhdGEobnVsbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKCB0aGlzLnN0ZW5jaWwgKVxuICAgIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGVuY2lsIGJ1ZmZlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLnN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy9UT0RPXG4gICAgaWYodGhpcy50ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTtcblxuICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnJhbWUgYnVmZmVyIHdpdGggYSB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGRhdGFcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKi9cbkZyYW1lYnVmZmVyLmNyZWF0ZVJHQkEgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZGF0YSlcbntcbiAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbURhdGEoZ2wsIG51bGwsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICB0ZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuXG4gICAgLy9ub3cgY3JlYXRlIHRoZSBmcmFtZWJ1ZmZlciBvYmplY3QgYW5kIGF0dGFjaCB0aGUgdGV4dHVyZSB0byBpdC5cbiAgICB2YXIgZmJvID0gbmV3IEZyYW1lYnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmYm8uZW5hYmxlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAvL2Ziby5lbmFibGVTdGVuY2lsKCk7IC8vIGdldCB0aGlzIGJhY2sgb24gc29vbiFcblxuICAgIC8vZmJvLmVuYWJsZVN0ZW5jaWwoKTsgLy8gZ2V0IHRoaXMgYmFjayBvbiBzb29uIVxuXG4gICAgZmJvLnVuYmluZCgpO1xuXG4gICAgcmV0dXJuIGZibztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lIGJ1ZmZlciB3aXRoIGEgdGV4dHVyZSBjb250YWluaW5nIHRoZSBnaXZlbiBkYXRhXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICovXG5GcmFtZWJ1ZmZlci5jcmVhdGVGbG9hdDMyID0gZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIGRhdGEpXG57XG4gICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUuLlxuICAgIHZhciB0ZXh0dXJlID0gbmV3IFRleHR1cmUuZnJvbURhdGEoZ2wsIGRhdGEsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRleHR1cmUuZW5hYmxlTmVhcmVzdFNjYWxpbmcoKTtcbiAgICB0ZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuXG4gICAgLy9ub3cgY3JlYXRlIHRoZSBmcmFtZWJ1ZmZlciBvYmplY3QgYW5kIGF0dGFjaCB0aGUgdGV4dHVyZSB0byBpdC5cbiAgICB2YXIgZmJvID0gbmV3IEZyYW1lYnVmZmVyKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBmYm8uZW5hYmxlVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgIGZiby51bmJpbmQoKTtcblxuICAgIHJldHVybiBmYm87XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZyYW1lYnVmZmVyO1xuIiwidmFyIEVNUFRZX0FSUkFZX0JVRkZFUiA9IG5ldyBBcnJheUJ1ZmZlcigwKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgYnVmZmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHR5cGUge2dsLkFSUkFZX0JVRkZFUiB8IGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSfSBAbWF0XG4gKiBAcGFyYW0gZGF0YSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gYW4gYXJyYXkgb2YgZGF0YVxuICogQHBhcmFtIGRyYXdUeXBlIHtnbC5TVEFUSUNfRFJBV3xnbC5EWU5BTUlDX0RSQVd8Z2wuU1RSRUFNX0RSQVd9XG4gKi9cbnZhciBCdWZmZXIgPSBmdW5jdGlvbihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpXG57XG5cblx0LyoqXG4gICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cblx0dGhpcy5nbCA9IGdsO1xuXG5cdC8qKlxuICAgICAqIFRoZSBXZWJHTCBidWZmZXIsIGNyZWF0ZWQgdXBvbiBpbnN0YW50aWF0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cblx0dGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblxuXHQvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbC5BUlJBWV9CVUZGRVJ8Z2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJ9XG4gICAgICovXG5cdHRoaXMudHlwZSA9IHR5cGUgfHwgZ2wuQVJSQVlfQlVGRkVSO1xuXG5cdC8qKlxuICAgICAqIFRoZSBkcmF3IHR5cGUgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2wuU1RBVElDX0RSQVd8Z2wuRFlOQU1JQ19EUkFXfGdsLlNUUkVBTV9EUkFXfVxuICAgICAqL1xuXHR0aGlzLmRyYXdUeXBlID0gZHJhd1R5cGUgfHwgZ2wuU1RBVElDX0RSQVc7XG5cblx0LyoqXG4gICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld31cbiAgICAgKi9cblx0dGhpcy5kYXRhID0gRU1QVFlfQVJSQVlfQlVGRkVSO1xuXG5cdGlmKGRhdGEpXG5cdHtcblx0XHR0aGlzLnVwbG9hZChkYXRhKTtcblx0fVxuXG5cdHRoaXMuX3VwZGF0ZUlEID0gMDtcbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgYnVmZmVyIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhIHRvIHVwbG9hZFxuICogQHBhcmFtIG9mZnNldCB7TnVtYmVyfSBpZiBvbmx5IGEgc3Vic2V0IG9mIHRoZSBkYXRhIHNob3VsZCBiZSB1cGxvYWRlZCwgdGhpcyBpcyB0aGUgYW1vdW50IG9mIGRhdGEgdG8gc3VidHJhY3RcbiAqIEBwYXJhbSBkb250QmluZCB7Qm9vbGVhbn0gd2hldGhlciB0byBiaW5kIHRoZSBidWZmZXIgYmVmb3JlIHVwbG9hZGluZyBpdFxuICovXG5CdWZmZXIucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uKGRhdGEsIG9mZnNldCwgZG9udEJpbmQpXG57XG5cdC8vIHRvZG8gLSBuZWVkZWQ/XG5cdGlmKCFkb250QmluZCkgdGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHRkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XG5cdG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG5cdGlmKHRoaXMuZGF0YS5ieXRlTGVuZ3RoID49IGRhdGEuYnl0ZUxlbmd0aClcblx0e1xuXHRcdGdsLmJ1ZmZlclN1YkRhdGEodGhpcy50eXBlLCBvZmZzZXQsIGRhdGEpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLmJ1ZmZlckRhdGEodGhpcy50eXBlLCBkYXRhLCB0aGlzLmRyYXdUeXBlKTtcblx0fVxuXG5cdHRoaXMuZGF0YSA9IGRhdGE7XG59O1xuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVyXG4gKlxuICovXG5CdWZmZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmJpbmRCdWZmZXIodGhpcy50eXBlLCB0aGlzLmJ1ZmZlcik7XG59O1xuXG5CdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyID0gZnVuY3Rpb24oZ2wsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG5CdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIgPSBmdW5jdGlvbihnbCwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuQnVmZmVyLmNyZWF0ZSA9IGZ1bmN0aW9uKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICpcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKXtcblx0dGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXI7XG4iLCJcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIENvbnRleHRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAqIEBwYXJhbSBvcHRpb25zIHtPYmplY3R9IEFuIG9wdGlvbnMgb2JqZWN0IHRoYXQgZ2V0cyBwYXNzZWQgaW4gdG8gdGhlIGNhbnZhcyBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvbnRleHQgYXR0cmlidXRlcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dCBmb3IgdGhlIG9wdGlvbnMgYXZhaWxhYmxlXG4gKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gKi9cbnZhciBjcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24oY2FudmFzLCBvcHRpb25zKVxue1xuICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpIHx8IFxuICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuXG4gICAgaWYgKCFnbClcbiAgICB7XG4gICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB3ZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2w7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUNvbnRleHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJvdW5kZWRSZWN0YW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MjBdIC0gQ29udHJvbHMgdGhlIHJhZGl1cyBvZiB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm91bmRlZFJlY3RhbmdsZSgpIHtcbiAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG4gICAgICAgIHZhciByYWRpdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDIwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3VuZGVkUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SUkVDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuUlJFQztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuXG5cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMgfHwgeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUm91bmRlZFJlY3RhbmdsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUm91bmRlZFJlY3RhbmdsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdW5kZWRSZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi4vUG9pbnQnKTtcblxudmFyIF9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvbHlnb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W118bnVtYmVyW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwb2ludHMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2x5Z29uKTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwb2ludHNbMF0pKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHNbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAocG9pbnRzWzBdIGluc3RhbmNlb2YgX1BvaW50Mi5kZWZhdWx0KSB7XG4gICAgICAgICAgICB2YXIgcCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHAucHVzaChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludHMgPSBwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlBPTFlcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5QT0xZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9seWdvbih0aGlzLnBvaW50cy5zbGljZSgpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBwb2x5Z29uLCBhZGRpbmcgcG9pbnRzIGlmIG5lY2Vzc2FyeS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIHBvbHkgaWYgdGhlIHZhbHVlIGlzIHRydWUhXG4gICAgICAgIGlmIChwb2ludHNbMF0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gfHwgcG9pbnRzWzFdICE9PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzW2kgKiAyICsgMV07XG4gICAgICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1tqICogMiArIDFdO1xuICAgICAgICAgICAgdmFyIGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpICsgeGk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBvbHlnb247XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBvbHlnb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2x5Z29uLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9SZWN0YW5nbGUgPSByZXF1aXJlKCcuL1JlY3RhbmdsZScpO1xuXG52YXIgX1JlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZWN0YW5nbGUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGlzIGVsbGlwc2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhpcyBlbGxpcHNlXG4gICAqL1xuICBmdW5jdGlvbiBFbGxpcHNlKCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVsbGlwc2UpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5FTElQO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5FbGxpcHNlfSBhIGNvcHkgb2YgdGhlIGVsbGlwc2VcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICB2YXIgbm9ybXggPSAoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoO1xuICAgIHZhciBub3JteSA9ICh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0O1xuXG4gICAgbm9ybXggKj0gbm9ybXg7XG4gICAgbm9ybXkgKj0gbm9ybXk7XG5cbiAgICByZXR1cm4gbm9ybXggKyBub3JteSA8PSAxO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgZWxsaXBzZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcygpIHtcbiAgICByZXR1cm4gbmV3IF9SZWN0YW5nbGUyLmRlZmF1bHQodGhpcy54IC0gdGhpcy53aWR0aCwgdGhpcy55IC0gdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfTtcblxuICByZXR1cm4gRWxsaXBzZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRWxsaXBzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVsbGlwc2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgY2lyY2xlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTBdIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAqL1xuICBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHJhZGl1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaXJjbGUpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IF9jb25zdC5TSEFQRVMuQ0lSQztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAqL1xuXG5cbiAgQ2lyY2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgIGlmICh0aGlzLnJhZGl1cyA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICB2YXIgZHggPSB0aGlzLnggLSB4O1xuICAgIHZhciBkeSA9IHRoaXMueSAtIHk7XG5cbiAgICBkeCAqPSBkeDtcbiAgICBkeSAqPSBkeTtcblxuICAgIHJldHVybiBkeCArIGR5IDw9IHIyO1xuICB9O1xuXG4gIC8qKlxuICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBjaXJjbGUgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICpcbiAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcygpIHtcbiAgICByZXR1cm4gbmV3IF9SZWN0YW5nbGUyLmRlZmF1bHQodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG4gIH07XG5cbiAgcmV0dXJuIENpcmNsZTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2lyY2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2lyY2xlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5cbmlmICghTWF0aC5zaWduKSB7XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeCkge1xuICAgICAgICB4ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0aC5zaWduLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcblxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSkge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShnbG9iYWwucGVyZm9ybWFuY2UgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghZ2xvYmFsLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIH07XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGdsb2JhbFtwICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgZ2xvYmFsW3AgKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG59XG5cbmlmICghZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihjYWxsYmFjayArICdpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCFnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3RBbmltYXRpb25GcmFtZS5qcy5tYXAiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IF9vYmplY3RBc3NpZ24yLmRlZmF1bHQ7XG59IC8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29iamVjdC1hc3NpZ25cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdC5hc3NpZ24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcblxucmVxdWlyZSgnLi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKTtcblxucmVxdWlyZSgnLi9NYXRoLnNpZ24nKTtcblxuaWYgKCF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KSB7XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MTZBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2FkZXIgPSBleHBvcnRzLnByZXBhcmUgPSBleHBvcnRzLnBhcnRpY2xlcyA9IGV4cG9ydHMubWVzaCA9IGV4cG9ydHMubG9hZGVycyA9IGV4cG9ydHMuaW50ZXJhY3Rpb24gPSBleHBvcnRzLmZpbHRlcnMgPSBleHBvcnRzLmV4dHJhcyA9IGV4cG9ydHMuZXh0cmFjdCA9IGV4cG9ydHMuYWNjZXNzaWJpbGl0eSA9IHVuZGVmaW5lZDtcblxudmFyIF9wb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcblxuT2JqZWN0LmtleXMoX3BvbHlmaWxsKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcG9seWZpbGxba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG5PYmplY3Qua2V5cyhfY29yZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvcmVba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBfZGVwcmVjYXRpb24gPSByZXF1aXJlKCcuL2RlcHJlY2F0aW9uJyk7XG5cbnZhciBfZGVwcmVjYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRpb24pO1xuXG52YXIgX2FjY2Vzc2liaWxpdHkgPSByZXF1aXJlKCcuL2FjY2Vzc2liaWxpdHknKTtcblxudmFyIGFjY2Vzc2liaWxpdHkgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWNjZXNzaWJpbGl0eSk7XG5cbnZhciBfZXh0cmFjdCA9IHJlcXVpcmUoJy4vZXh0cmFjdCcpO1xuXG52YXIgZXh0cmFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9leHRyYWN0KTtcblxudmFyIF9leHRyYXMgPSByZXF1aXJlKCcuL2V4dHJhcycpO1xuXG52YXIgZXh0cmFzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2V4dHJhcyk7XG5cbnZhciBfZmlsdGVycyA9IHJlcXVpcmUoJy4vZmlsdGVycycpO1xuXG52YXIgZmlsdGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9maWx0ZXJzKTtcblxudmFyIF9pbnRlcmFjdGlvbiA9IHJlcXVpcmUoJy4vaW50ZXJhY3Rpb24nKTtcblxudmFyIGludGVyYWN0aW9uID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2ludGVyYWN0aW9uKTtcblxudmFyIF9sb2FkZXJzID0gcmVxdWlyZSgnLi9sb2FkZXJzJyk7XG5cbnZhciBsb2FkZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2xvYWRlcnMpO1xuXG52YXIgX21lc2ggPSByZXF1aXJlKCcuL21lc2gnKTtcblxudmFyIG1lc2ggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWVzaCk7XG5cbnZhciBfcGFydGljbGVzID0gcmVxdWlyZSgnLi9wYXJ0aWNsZXMnKTtcblxudmFyIHBhcnRpY2xlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXJ0aWNsZXMpO1xuXG52YXIgX3ByZXBhcmUgPSByZXF1aXJlKCcuL3ByZXBhcmUnKTtcblxudmFyIHByZXBhcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcHJlcGFyZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGV4cG9ydCBjb3JlXG5fY29yZS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucygpO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5sb2FkZXJzLnNoYXJlZH0uXG4gKiBAbmFtZSBsb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UElYSS5sb2FkZXIuTG9hZGVyfVxuICovXG5cblxuLy8gaGFuZGxlIG1peGlucyBub3csIGFmdGVyIGFsbCBjb2RlIGhhcyBiZWVuIGFkZGVkLCBpbmNsdWRpbmcgZGVwcmVjYXRpb25cblxuXG4vLyBleHBvcnQgbGlic1xuLy8gaW1wb3J0IHBvbHlmaWxscy4gRG9uZSBhcyBhbiBleHBvcnQgdG8gbWFrZSBzdXJlIHBvbHlmaWxscyBhcmUgaW1wb3J0ZWQgZmlyc3RcbnZhciBsb2FkZXIgPSBsb2FkZXJzLnNoYXJlZCB8fCBudWxsO1xuXG5leHBvcnRzLmFjY2Vzc2liaWxpdHkgPSBhY2Nlc3NpYmlsaXR5O1xuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMuZXh0cmFzID0gZXh0cmFzO1xuZXhwb3J0cy5maWx0ZXJzID0gZmlsdGVycztcbmV4cG9ydHMuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvbjtcbmV4cG9ydHMubG9hZGVycyA9IGxvYWRlcnM7XG5leHBvcnRzLm1lc2ggPSBtZXNoO1xuZXhwb3J0cy5wYXJ0aWNsZXMgPSBwYXJ0aWNsZXM7XG5leHBvcnRzLnByZXBhcmUgPSBwcmVwYXJlO1xuZXhwb3J0cy5sb2FkZXIgPSBsb2FkZXI7XG5cbi8vIEFwcGx5IHRoZSBkZXByZWNhdGlvbnNcblxuaWYgKHR5cGVvZiBfZGVwcmVjYXRpb24yLmRlZmF1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAoMCwgX2RlcHJlY2F0aW9uMi5kZWZhdWx0KShleHBvcnRzKTtcbn1cblxuLy8gQWx3YXlzIGV4cG9ydCBQaXhpSlMgZ2xvYmFsbHkuXG5nbG9iYWwuUElYSSA9IGV4cG9ydHM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImltcG9ydCAnLi9zdHlsZXMuY3NzJztcclxuaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJ1xyXG5pbXBvcnQgU0tVTEwgZnJvbSAnLi9za3VsbC5wbmcnO1xyXG5pbXBvcnQgTE9MUElYRUxTIGZyb20gJy4vbG9scGl4ZWxzLnBuZyc7XHJcbmltcG9ydCBDb25maWcgZnJvbSAnLi9jb25maWcnO1xyXG5pbXBvcnQgQ29tcG9uZW50cyBmcm9tICcuL2NvbXBvbmVudHMnO1xyXG5cclxuZnVuY3Rpb24gbG9hZFJlc291cmNlcygpIHtcclxuICBQSVhJLmxvYWRlci5hZGQoJ2xvbHBpeGVscycsIExPTFBJWEVMUylcclxuICAuYWRkKCdza3VsbCcsIFNLVUxMKVxyXG4gIC5vbihcInByb2dyZXNzXCIsIGxvYWRQcm9ncmVzc0hhbmRsZXIpXHJcbiAgLmxvYWQoYWZ0ZXJSZXNvdXJjZXNMb2FkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZFByb2dyZXNzSGFuZGxlcihsb2FkZXIsIHJlc291cmNlKSB7XHJcbiAgY29uc29sZS5sb2coXCJsb2FkaW5nOiBcIiArIHJlc291cmNlLnVybCk7XHJcbiAgY29uc29sZS5sb2coXCJwcm9ncmVzczogXCIgKyBsb2FkZXIucHJvZ3Jlc3MgKyBcIiVcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFmdGVyUmVzb3VyY2VzTG9hZCgpIHtcclxuICBjb25zdCByZW5kZXJlcl9vcHRpb25zID0ge1xyXG4gICAgd2lkdGg6IENvbmZpZy5XT1JMRF9XSURUSCxcclxuICAgIGhlaWdodDogQ29uZmlnLldPUkxEX0hFSUdIVCxcclxuICAgIGJhY2tncm91bmRDb2xvcjogQ29uZmlnLkJHX0NPTE9SLFxyXG4gIH07XHJcbiAgY29uc3QgYm9keV9jb21wb25lbnRzID0gQ29tcG9uZW50cy5ib2RpZXM7XHJcbiAgY29uc3QgcG9zaXRpb25fY29tcG9uZW50cyA9IENvbXBvbmVudHMucG9zaXRpb25zO1xyXG5cclxuICBsZXQgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24ocmVuZGVyZXJfb3B0aW9ucyk7XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lX2NvbnRhaW5lcicpLmFwcGVuZENoaWxkKGFwcC52aWV3KTtcclxuXHJcbiAgT2JqZWN0LmtleXMoYm9keV9jb21wb25lbnRzKS5mb3JFYWNoKGlkID0+IHtcclxuICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLmxvYWRlci5yZXNvdXJjZXMubG9scGl4ZWxzLnRleHR1cmUpO1xyXG4gICAgc3ByaXRlLnggPSBwb3NpdGlvbl9jb21wb25lbnRzW2lkXS54O1xyXG4gICAgc3ByaXRlLnkgPSBwb3NpdGlvbl9jb21wb25lbnRzW2lkXS55O1xyXG4gICAgc3ByaXRlLndpZHRoID0gYm9keV9jb21wb25lbnRzW2lkXS53aWR0aDtcclxuICAgIHNwcml0ZS5oZWlnaHQgPSBib2R5X2NvbXBvbmVudHNbaWRdLmhlaWdodDtcclxuICAgIHNwcml0ZS5hbmNob3IgPSBuZXcgUElYSS5PYnNlcnZhYmxlUG9pbnQobnVsbCwgbnVsbCwgMC41LCAwLjUpO1xyXG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHNrdWxsID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkubG9hZGVyLnJlc291cmNlcy5za3VsbC50ZXh0dXJlKTtcclxuICBza3VsbC54ID0gMTUwO1xyXG4gIHNrdWxsLnkgPSAxNTA7XHJcbiAgc2t1bGwudGludCA9IDB4YWFmZmVlO1xyXG4gIHNrdWxsLmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMC41KTtcclxuICAvLyBza3VsbC5jYWNoZUFzQml0bWFwID0gdHJ1ZTtcclxuICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc2t1bGwpO1xyXG5cclxuICBhcHAudGlja2VyLmFkZCgoKSA9PiB7XHJcbiAgICBza3VsbC5yb3RhdGlvbiArPSAwLjAxO1xyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuY2xhc3MgR2FtZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ib2R5X2NvbXBvbmVudHMgPSBDb21wb25lbnRzLmJvZGllcztcclxuICAgIHRoaXMucG9zaXRpb25fY29tcG9uZW50cyA9IENvbXBvbmVudHMucG9zaXRpb25zO1xyXG4gICAgdGhpcy5hcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih7d2lkdGg6IDQwMCwgaGVpZ2h0OiA0MDB9KTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5hcHAudmlldyk7XHJcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnNrdWxsID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoU0tVTEwpKTtcclxuICAgIHRoaXMuc2t1bGwueCA9IDE1MDtcclxuICAgIHRoaXMuc2t1bGwueSA9IDE1MDtcclxuICAgIHRoaXMuc2t1bGwudGludCA9IDB4ZmYwMGVlO1xyXG4gICAgdGhpcy5za3VsbC5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcbiAgICB0aGlzLnNwcml0ZXMgPSB7fTtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuYm9keV9jb21wb25lbnRzKS5mb3JFYWNoKGlkID0+IHtcclxuICAgICAgY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoTE9MUElYRUxTKSk7XHJcbiAgICAgIHNwcml0ZS54ID0gdGhpcy5wb3NpdGlvbl9jb21wb25lbnRzW2lkXS54O1xyXG4gICAgICBzcHJpdGUueSA9IHRoaXMucG9zaXRpb25fY29tcG9uZW50c1tpZF0ueTtcclxuICAgICAgc3ByaXRlLndpZHRoID0gdGhpcy5ib2R5X2NvbXBvbmVudHNbaWRdLndpZHRoO1xyXG4gICAgICBzcHJpdGUuaGVpZ2h0ID0gdGhpcy5ib2R5X2NvbXBvbmVudHNbaWRdLmhlaWdodDtcclxuICAgICAgc3ByaXRlLmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMC41KTtcclxuICAgICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcclxuICAgICAgdGhpcy5zcHJpdGVzW2lkXSA9IHNwcml0ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHNrdWxsLmNhY2hlQXNCaXRtYXAgPSB0cnVlO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5za3VsbCk7XHJcbiAgICB0aGlzLmFwcC50aWNrZXIuYWRkKHRoaXMudXBkYXRlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIHRoaXMuc2t1bGwucm90YXRpb24gKz0gMC4wMTtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuc3ByaXRlcykuZm9yRWFjaChpZCA9PiB7XHJcbiAgICAgIHRoaXMuc3ByaXRlc1tpZF0ueCA9IHRoaXMucG9zaXRpb25fY29tcG9uZW50c1tpZF0ueDtcclxuICAgICAgdGhpcy5zcHJpdGVzW2lkXS55ID0gdGhpcy5wb3NpdGlvbl9jb21wb25lbnRzW2lkXS55O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbG9sKCkge1xyXG4gIGxldCBnYW1lID0gbmV3IEdhbWUoKTtcclxuICBjb25zb2xlLmxvZyhcImxvbGxvbG9sb2xvbG9sb29cIik7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIGNhc2UgMzc6IC8vbGVmdFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTEVGVFwiKTtcclxuICAgICAgICBDb21wb25lbnRzLnBvc2l0aW9uc1syXS54IC09IDU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDM5OiAvL3JpZ2h0XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSSUdIVFwiKTtcclxuICAgICAgICBDb21wb25lbnRzLnBvc2l0aW9uc1syXS54ICs9IDU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2wpO1xyXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxvYWRSZXNvdXJjZXMpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9